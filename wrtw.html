<!DOCTYPE html>
<!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension -->
<!-- saved from url=(0021)http://tiddlywiki.com -->
<html><head><style>
.sidebar-header {
	text-shadow: 0 1px 0 rgba(255,255,255, 0.8);
}

.tw-tiddler-info {
	`
  -webkit-box-shadow: inset 1px 2px 3px rgba(0,0,0,0.1);
     -moz-box-shadow: inset 1px 2px 3px rgba(0,0,0,0.1);
          box-shadow: inset 1px 2px 3px rgba(0,0,0,0.1);

}

@media screen {
	.tw-tiddler-frame {
		`
  -webkit-box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1);
     -moz-box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1);
          box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1);

	}
}

@media (max-width: 770px) {
	.tw-tiddler-frame {
		`
  -webkit-box-shadow: none;
     -moz-box-shadow: none;
          box-shadow: none;

	}
}

.tw-page-controls button svg, .tw-tiddler-controls button svg, .tw-topbar button svg {
	`
  -webkit-transition: fill 150ms ease-in-out;
     -moz-transition: fill 150ms ease-in-out;
          transition: fill 150ms ease-in-out;

}

.tw-tiddler-controls button.tw-selected svg {
	`
  -webkit-filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));
     -moz-filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));
          filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));

}

.tw-tiddler-frame input.tw-edit-texteditor {
	`
  -webkit-box-shadow: inset 0 1px 8px rgba(0, 0, 0, 0.15);
     -moz-box-shadow: inset 0 1px 8px rgba(0, 0, 0, 0.15);
          box-shadow: inset 0 1px 8px rgba(0, 0, 0, 0.15);

}

.tw-edit-tags {
	`
  -webkit-box-shadow: inset 0 1px 8px rgba(0, 0, 0, 0.15);
     -moz-box-shadow: inset 0 1px 8px rgba(0, 0, 0, 0.15);
          box-shadow: inset 0 1px 8px rgba(0, 0, 0, 0.15);

}

.tw-tiddler-frame .tw-edit-tags input.tw-edit-texteditor {
	`
  -webkit-box-shadow: none;
     -moz-box-shadow: none;
          box-shadow: none;

	border: none;
	outline: none;
}

canvas.tw-edit-bitmapeditor  {
	`
  -webkit-box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
     -moz-box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
          box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);

}

.tw-drop-down {
	border-radius: 4px;
	`
  -webkit-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
     -moz-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
          box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);

}

.tw-block-dropdown {
	border-radius: 4px;
	`
  -webkit-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
     -moz-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
          box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);

}

.tw-modal-displayed {
	-webkit-filter: blur(4px);
}

.modal {
	border-radius: 6px;
	`
  -webkit-box-shadow: 0 3px 7px rgba(0,0,0,0.3);
     -moz-box-shadow: 0 3px 7px rgba(0,0,0,0.3);
          box-shadow: 0 3px 7px rgba(0,0,0,0.3);

}

.modal-footer {
	border-radius: 0 0 6px 6px;
	`
  -webkit-box-shadow: inset 0 1px 0 #fff;
     -moz-box-shadow: inset 0 1px 0 #fff;
          box-shadow: inset 0 1px 0 #fff;
;
}


.tw-alert {
	border-radius: 6px;
	`
  -webkit-box-shadow: 0 3px 7px rgba(0,0,0,0.6);
     -moz-box-shadow: 0 3px 7px rgba(0,0,0,0.6);
          box-shadow: 0 3px 7px rgba(0,0,0,0.6);

}

.tw-notification {
	border-radius: 6px;
	`
  -webkit-box-shadow: 0 3px 7px rgba(0,0,0,0.3);
     -moz-box-shadow: 0 3px 7px rgba(0,0,0,0.3);
          box-shadow: 0 3px 7px rgba(0,0,0,0.3);

	text-shadow: 0 1px 0 rgba(255,255,255, 0.8);
}

.tw-sidebar-lists .tw-tab-divider {
	`
background-image: linear-gradient(left, rgb(216,216,216) 0%, rgb(236,236,236) 250px);
background-image: -o-linear-gradient(left, rgb(216,216,216) 0%, rgb(236,236,236) 250px);
background-image: -moz-linear-gradient(left, rgb(216,216,216) 0%, rgb(236,236,236) 250px);
background-image: -webkit-linear-gradient(left, rgb(216,216,216) 0%, rgb(236,236,236) 250px);
background-image: -ms-linear-gradient(left, rgb(216,216,216) 0%, rgb(236,236,236) 250px);

}

.tw-more-sidebar .tw-tab-buttons button {
	`
background-image: linear-gradient(left, rgb(236,236,236) 0%, rgb(224,224,224) 100%);
background-image: -o-linear-gradient(left, rgb(236,236,236) 0%, rgb(224,224,224) 100%);
background-image: -moz-linear-gradient(left, rgb(236,236,236) 0%, rgb(224,224,224) 100%);
background-image: -webkit-linear-gradient(left, rgb(236,236,236) 0%, rgb(224,224,224) 100%);
background-image: -ms-linear-gradient(left, rgb(236,236,236) 0%, rgb(224,224,224) 100%);

}

.tw-more-sidebar .tw-tab-buttons button.tw-tab-selected {
	`
background-image: linear-gradient(left, rgb(236,236,236) 0%, rgb(248,248,248) 100%);
background-image: -o-linear-gradient(left, rgb(236,236,236) 0%, rgb(248,248,248) 100%);
background-image: -moz-linear-gradient(left, rgb(236,236,236) 0%, rgb(248,248,248) 100%);
background-image: -webkit-linear-gradient(left, rgb(236,236,236) 0%, rgb(248,248,248) 100%);
background-image: -ms-linear-gradient(left, rgb(236,236,236) 0%, rgb(248,248,248) 100%);

}

.tw-message-box img {
	`
  -webkit-box-shadow: 1px 1px 3px rgba(0,0,0,0.5);
     -moz-box-shadow: 1px 1px 3px rgba(0,0,0,0.5);
          box-shadow: 1px 1px 3px rgba(0,0,0,0.5);

}


/*
** Start with the normalize CSS reset, and then belay some of its effects
*/

/*! normalize.css v3.0.0 | MIT License | git.io/normalize */

/**
 * 1. Set default font family to sans-serif.
 * 2. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}

/**
 * Remove default margin.
 */

body {
  margin: 0;
}

/* HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 8/9.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
  display: block;
}

/**
 * 1. Correct `inline-block` display not defined in IE 8/9.
 * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.
 */

audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
  display: none;
  height: 0;
}

/**
 * Address `[hidden]` styling not present in IE 8/9.
 * Hide the `template` element in IE, Safari, and Firefox < 22.
 */

[hidden],
template {
  display: none;
}

/* Links
   ========================================================================== */

/**
 * Remove the gray background color from active links in IE 10.
 */

a {
  background: transparent;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
  outline: 0;
}

/* Text-level semantics
   ========================================================================== */

/**
 * Address styling not present in IE 8/9, Safari 5, and Chrome.
 */

abbr[title] {
  border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.
 */

b,
strong {
  font-weight: bold;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
  font-style: italic;
}

/**
 * Address variable `h1` font-size and margin within `section` and `article`
 * contexts in Firefox 4+, Safari 5, and Chrome.
 */

h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

/**
 * Address styling not present in IE 8/9.
 */

mark {
  background: #ff0;
  color: #000;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
  font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

/* Embedded content
   ========================================================================== */

/**
 * Remove border when inside `a` element in IE 8/9.
 */

img {
  border: 0;
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
  overflow: hidden;
}

/* Grouping content
   ========================================================================== */

/**
 * Address margin not present in IE 8/9 and Safari 5.
 */

figure {
  margin: 1em 40px;
}

/**
 * Address differences between Firefox and other browsers.
 */

hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

/**
 * Contain overflow in all browsers.
 */

pre {
  overflow: auto;
}

/**
 * Address odd `em`-unit font size rendering in all browsers.
 */

code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

/* Forms
   ========================================================================== */

/**
 * Known limitation: by default, Chrome and Safari on OS X allow very limited
 * styling of `select`, unless a `border` property is set.
 */

/**
 * 1. Correct color not being inherited.
 *    Known issue: affects color of disabled elements.
 * 2. Correct font properties not being inherited.
 * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.
 */

button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}

/**
 * Address `overflow` set to `hidden` in IE 8/9/10.
 */

button {
  overflow: visible;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Firefox, IE 8+, and Opera
 * Correct `select` style inheritance in Firefox.
 */

button,
select {
  text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
  cursor: default;
}

/**
 * Remove inner padding and border in Firefox 4+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

/**
 * Address Firefox 4+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

input {
  line-height: normal;
}

/**
 * It's recommended that you don't attempt to style these elements.
 * Firefox's implementation doesn't respect box-sizing, padding, or width.
 *
 * 1. Address box sizing set to `content-box` in IE 8/9/10.
 * 2. Remove excess padding in IE 8/9/10.
 */

input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Fix the cursor style for Chrome's increment/decrement buttons. For certain
 * `font-size` values of the `input`, it causes the cursor style of the
 * decrement button to change from `default` to `text`.
 */

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari and Chrome on OS X.
 * Safari (but not Chrome) clips the cancel button when the search input has
 * padding (and `textfield` appearance).
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct `color` not being inherited in IE 8/9.
 * 2. Remove padding so people aren't caught out if they zero out fieldsets.
 */

legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Remove default vertical scrollbar in IE 8/9.
 */

textarea {
  overflow: auto;
}

/**
 * Don't inherit the `font-weight` (applied by a rule above).
 * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.
 */

optgroup {
  font-weight: bold;
}

/* Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
  border-collapse: collapse;
  border-spacing: 0;
}

td,
th {
  padding: 0;
}


*, input[type="search"] {
	box-sizing: border-box;
	-moz-box-sizing: border-box;
	-webkit-box-sizing: border-box;
}

html button {
	line-height: 1.2;
}

/*
** Basic element styles
*/

html {
	font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
	text-rendering: optimizeLegibility; /* Enables kerning and ligatures etc. */	
}

html:-webkit-full-screen {
	background-color: #ececec;
}

body.tw-body {
	font-size: 14px;
	line-height: 20px;
	color: #333333;
	background-color: #ececec;
	word-wrap: break-word;
}

h1, h2, h3, h4, h5, h6 {
	line-height: 1.2;
	font-weight: 300;
}

pre {
	display: block;
	padding: 14px;
	margin-top: 1em;
	margin-bottom: 1em;
	word-break: normal;
	word-wrap: break-word;
	white-space: pre;
	white-space: pre-wrap;
	background-color: #f5f5f5;
	border: 1px solid #cccccc;
	padding: 0 3px 2px;
	border-radius: 3px;
}

code {
	color: #dd1144;
	background-color: #f7f7f9;
	border: 1px solid #e1e1e8;
    white-space: pre-wrap;
	padding: 0 3px 2px;
	border-radius: 3px;
}

blockquote {
	border-left: 5px solid #bbb;
	margin-left: 25px;
	padding-left: 10px;
}

dl dt {
	font-weight: bold;
	margin-top: 6px;
}

/*
Markdown likes putting code elements inside pre elements
*/
pre > code {
	padding: 0;
	border: none;
	background-color: inherit;
	color: inherit;
}

table {
	border: 1px solid #dddddd;
	width: auto;
	max-width: 100%;
	caption-side: bottom;
	margin-top: 1em;
	margin-bottom: 1em;
}

table th, table td {
	padding: 0 7px 0 7px;
	border-top: 1px solid #dddddd;
	border-left: 1px solid #dddddd;
}

table thead tr td, table th {
	background-color: #f0f0f0;
	font-weight: bold;
}

table tfoot tr td {
	background-color: #a8a8a8;
}

.tw-csv-table {
	white-space: nowrap;
}

.tw-tiddler-frame img,
.tw-tiddler-frame svg,
.tw-tiddler-frame canvas,
.tw-tiddler-frame embed,
.tw-tiddler-frame iframe {
	max-width: 100%;
}

.tw-tiddler-frame embed,
.tw-tiddler-frame iframe {
	width: 100%;
	height: 600px;
}

/*
** Links
*/

a.tw-tiddlylink {
	text-decoration: none;
	font-weight: normal;
	color: #5778d8;
	-webkit-user-select: inherit; /* Otherwise the draggable attribute makes links impossible to select */
}

.tw-sidebar-lists a.tw-tiddlylink {
	color: #999999;
}

.tw-sidebar-lists a.tw-tiddlylink:hover {
	color: #444444;
}

a.tw-tiddlylink:hover {
	text-decoration: underline;
}

a.tw-tiddlylink-resolves {
}

a.tw-tiddlylink-shadow {
	font-weight: bold;
}

a.tw-tiddlylink-shadow.tw-tiddlylink-resolves {
	font-weight: normal;
}

a.tw-tiddlylink-missing {
	font-style: italic;
}

a.tw-tiddlylink-external {
	text-decoration: underline;
	color: #0000ee;
	background-color: ;
}

a.tw-tiddlylink-external:visited {
	color: #0000aa;
	background-color: ;
}

a.tw-tiddlylink-external:hover {
	color: ;
	background-color: ;
}

/*
** Drag and drop styles
*/

.tw-tiddler-dragger {
	position: relative;
	z-index: -10000;
}

.tw-tiddler-dragger-inner {
	position: absolute;
	display: inline-block;
	padding: 8px 20px;
	font-size: 16.9px;
	font-weight: bold;
	line-height: 20px;
	color: #ffffff;
	text-shadow: 0 1px 0 rgba(0, 0, 0, 1);
	white-space: nowrap;
	vertical-align: baseline;
	background-color: #333333;
	border-radius: 20px;
}

.tw-tiddler-dragger-cover {
	position: absolute;
	background-color: #ececec;
}

.tw-dropzone {
	position: relative;
}

.tw-dropzone.tw-dragover:before {
	z-index: 10000;
	display: block;
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	background: rgba(0,200,0,0.7);
	text-align: center;
	content: "Drop here";
}

/*
** Buttons
*/

.btn-invisible {
	padding: 0;
	margin: 0;
	background: none;
	border: none;
}

.btn-icon svg {
	height: 1em;
	width: 1em;
	fill: #bbb;
}

.btn-big-green {
	padding: 8px;
	margin: 4px 8px 4px 8px;
	background: #34c734;
	color: #ffffff;
	fill: #ffffff;
	border: none;
	font-size: 1.2em;
	line-height: 1.4em;
}

.tw-sidebar-lists input {
	color: #333333;
}

.tw-sidebar-lists button.btn {
	color: #333333;
}

.tw-sidebar-lists button.btn-mini {
	color: #c0c0c0;
}

.tw-sidebar-lists button.btn-mini:hover {
	color: #444444;
}

.tw-image-button {
	height: 1em;
}

/*
** Tags and missing tiddlers
*/

.tw-tag-list-item {
	position: relative;
	display: inline-block;
	margin-right: 7px;
}

.tw-tags-wrapper {
	margin: 4px 0 14px 0;
}

.tw-missing-tiddler-label {
	font-style: italic;
	font-weight: normal;
	display: inline-block;
	font-size: 11.844px;
	line-height: 14px;
	white-space: nowrap;
	vertical-align: baseline;
}

.tw-tag-label {
	display: inline-block;
	padding: 2px 9px;
	font-size: 0.9em;
	font-weight: 300;
	line-height: 1.2em;
	color: #ffffff;
	white-space: nowrap;
	vertical-align: baseline;
	background-color: #d5ad34;
	border-radius: 8px;
}

.tw-untagged-label {
	background-color: #999999;
}

.tw-tag-label svg, .tw-tag-label img {
	height: 1em;
	width: 1em;
	fill: #ffffff;
}

/*
** Page layout
*/

.tw-topbar {
	position: fixed;
	z-index: 1200;
}

.tw-topbar-left {
	left: 29px;
	top: 5px;
}

.tw-topbar-right {
	top: 5px;
	right: 29px;
}

.tw-topbar button {
	padding: 8px;
}

.tw-topbar svg {
	fill: #bbb;
}

.tw-topbar button:hover svg {
	fill: #333333;
}

.sidebar-header {
	color: #acacac;
	fill: #acacac;
}

.sidebar-header .title a.tw-tiddlylink-resolves {
	font-weight: 300;
}

.sidebar-header .tw-sidebar-lists p {
	margin-top: 3px;
	margin-bottom: 3px;
}

.sidebar-header .tw-missing-tiddler-label {
	color: #acacac;
}

.tw-advanced-search input {
	width: 60%;
}

.tw-search {
	padding-top: 14px;
}

.tw-search a svg {
	height: 0.75em;
}

.tw-search-results {
	padding-top: 14px;
}

.tw-page-controls {
	margin-top: 14px;
}

.tw-page-controls a.tw-tiddlylink:hover {
	text-decoration: none;
}

.tw-page-controls svg {
	height: 1.75em;
	min-width: 1px;
	padding-right: 0.5em;
	fill: #ffffff;
}

.tw-page-controls button:hover svg, .tw-page-controls a:hover svg {
	fill: #000000;
}

.tw-menu-list-item {
	white-space: nowrap;
}

.tw-menu-list-count {
	font-weight: bold;
}

.tw-open-tiddler-list {
	`
  -webkit-transform-origin: 0% 0%;
     -moz-transform-origin: 0% 0%;
          transform-origin: 0% 0%;

}

.tw-menu-list-subitem {
	padding-left: 7px;
}

.story-river {
	position: relative;
}

.tw-story-spacer {
	position: absolute;
	min-height: 100%;
}

@media (max-width: 770px) {

	.sidebar-header {
		padding: 14px;
		min-height: 32px;
	}

	.story-river {
		position: relative;
		padding: 0;
	}
}

@media (min-width: 770px) {

	.tw-message-box {
		margin: 21px -21px 21px -21px;
	}

	.tw-sidebar-scrollable {
		position: fixed;
		top: 0px;
		left: 770px;
		bottom: 0;
		right: 0;
		overflow-y: auto;
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;
		margin: 0 0 0 -42px;
		padding: 71px 0 28px 42px;
	}

	.story-river {
		position: relative;
		left: 0px;
		top: 0px;
		width: 770px;
		padding: 42px 42px 42px 42px;
	}



}

@media print {
	.sidebar-header, .tw-topbar {
		display: none;
	}

	.story-river {
		margin-left: 14px;
	}
}

/*
** Tiddler styles
*/

.tw-tiddler-frame {
	margin-bottom: 28px;
	background-color: #ffffff;
	border: 1px solid #ffffff;
}


@media print {
	.tw-tiddler-frame {
		border: none;
	}
}

.tw-tiddler-info {
	padding: 14px 42px 14px 42px;
	background-color: #f8f8f8;
	border-top: 1px solid #dddddd;
	border-bottom: 1px solid #dddddd;
}

.tw-tiddler-info .tw-tab-buttons button.tw-tab-selected {
	background-color: #f8f8f8;
	border-bottom: 1px solid #f8f8f8;
}

.tw-view-field-table {
	width: 100%;
}

.tw-view-field-name {
	width: 1%; /* Makes this column be as narrow as possible */
	text-align: right;
	font-style: italic;
	font-weight: 200;
}

.tw-view-field-value {
}

@media (max-width: 770px) {
	.tw-tiddler-frame {
		padding: 14px 14px 14px 14px;
	}

	.tw-tiddler-info {
		margin: 0 -14px 0 -14px;
	}
}

@media (min-width: 770px) {
	.tw-tiddler-frame {
		padding: 28px 42px 42px 42px;
		width: 686px;
	}



	.tw-tiddler-info {
		margin: 0 -42px 0 -42px;
	}
}

.tw-site-title,
.titlebar {
	font-weight: 300;
	font-size: 2.35em;
	line-height: 1.2em;
	color: #182955;
	margin: 0;
}

.tw-system-title-prefix {
	color: #bbb;
}

.titlebar img {
	height: 1em;
}

.tw-subtitle {
	font-size: 0.9em;
	color: #c0c0c0;
	font-weight: 300;
}

.tw-tiddler-missing .title {
  font-style: italic;
  font-weight: normal;
}

.tw-tiddler-frame .tw-tiddler-controls {
	float: right;
}

.tw-tiddler-controls button {
	margin: 0 0 0 5px;
	vertical-align: baseline;
}

.tw-tiddler-controls button svg {
	height: 0.75em;
	fill: #cccccc;
}

.tw-tiddler-controls button.tw-selected svg {
	fill: #444444;
}

.tw-tiddler-controls button.btn-invisible:hover svg {
	fill: #888888;
}

@media print {
	.tw-tiddler-controls {
		display: none;
	}
}

.tw-tiddler-help { /* Help prompts within tiddler template */
	color: #bbb;
	margin-top: 14px;
}

.tw-tiddler-help a.tw-tiddlylink {
	color: #888888;
}

.tw-tiddler-frame input.tw-edit-texteditor, .tw-tiddler-frame textarea.tw-edit-texteditor {
	width: 100%;
	padding: 3px 3px 3px 3px;
	border: 1px solid #cccccc;
	line-height: 1.3em;
	-webkit-appearance: none;
	margin: 4px 0 4px 0;
}

.tw-tiddler-frame .tw-binary-warning {
	width: 100%;
	height: 5em;
	text-align: center;
	padding: 3em 3em 6em 3em;
	background: #ffe476;
	border: 1px solid #b99e2f;
}

.tw-tiddler-frame input.tw-edit-texteditor {
	background-color: #f8f8f8;
}

canvas.tw-edit-bitmapeditor  {
	border: 6px solid #ffffff;
	cursor: crosshair;
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	margin-top: 6px;
	margin-bottom: 6px;
}

.tw-edit-bitmapeditor-width {
	display: block;
}

.tw-edit-bitmapeditor-height {
	display: block;
}

/*
** Toolbar buttons
*/

.tw-page-controls svg.tw-image-new-button {
  fill: ;
}

.tw-page-controls svg.tw-image-options-button {
  fill: ;
}

.tw-page-controls svg.tw-image-save-button {
  fill: ;
}

.tw-tiddler-controls button svg.tw-image-info-button {
  fill: ;
}

.tw-tiddler-controls button svg.tw-image-edit-button {
  fill: ;
}

.tw-tiddler-controls button svg.tw-image-close-button {
  fill: ;
}

.tw-tiddler-controls button svg.tw-image-delete-button {
  fill: ;
}

.tw-tiddler-controls button svg.tw-image-cancel-button {
  fill: ;
}

.tw-tiddler-controls button svg.tw-image-done-button {
  fill: ;
}

/*
** Tiddler edit mode
*/

.tw-tiddler-edit-frame em.tw-edit {
	color: #bbb;
	font-style: normal;
}

.tw-edit-type-dropdown a.tw-tiddlylink-missing {
	font-style: normal;
}

.tw-edit-tags {
	border: 1px solid #cccccc;
	padding: 4px 8px 4px 8px;
}

.tw-edit-add-tag {
	display: inline-block;
}

.tw-edit-add-tag .tw-add-tag-name input {
	width: 50%;
}

.tw-edit-tags .tw-tag-label {
	display: inline-block;
}

.tw-edit-tags-list {
	margin: 14px 0 14px 0;
}

.tw-tag-editor-label {
	display: inline-block;
	margin-right: 7px;
}

.tw-remove-tag-button {
	padding-left: 4px;
}

.tw-tiddler-preview {
	overflow: auto;
}

.tw-tiddler-preview-preview {
	float: right;
	width: 48%;
	border: 1px solid #cccccc;
	margin: 4px 3px 3px 3px;
	padding: 3px 3px 3px 3px;
}

.tw-tiddler-preview-edit {
	width: 48%;
}

.tw-edit-fields {
	width: 100%;
}


.tw-edit-fields table, .tw-edit-fields tr, .tw-edit-fields td {
	border: none;
	padding: 4px;
}

.tw-edit-fields > tbody > .tw-edit-field:nth-child(odd) {
	background-color: #f0f4f0;
}

.tw-edit-fields > tbody > .tw-edit-field:nth-child(even) {
	background-color: #e0e8e0;
}

.tw-edit-field-name {
	text-align: right;
}

.tw-edit-field-value input {
	width: 100%;
}

.tw-edit-field-remove {
}

.tw-edit-field-remove svg {
	height: 1em;
	width: 1em;
	fill: #bbb;
	vertical-align: middle;
}

.tw-edit-field-add-name {
	display: inline-block;
	width: 15%;
}

.tw-edit-field-add-button {
	display: inline-block;
	width: 10%;
}

/*
** Dropdowns
*/

.btn-dropdown svg {
	height: 1em;
	width: 1em;
	fill: #bbb;
}

.tw-drop-down {
	min-width: 280px;
	border: 1px solid #bbb;
	background-color: #ffffff;
	padding: 7px 0 7px 0;
	margin: 4px 0 0 0;
	white-space: nowrap;
}

.tw-drop-down p {
	padding: 0 14px 0 14px;
}

.tw-drop-down a {
	display: block;
	padding: 0 14px 0 14px;
}

.tw-drop-down a:hover {
	color: #ffffff;
	background-color: #5778d8;
	text-decoration: none;
}

.tw-drop-down .tw-tab-buttons button {
	background-color: #ececec;
}

.tw-drop-down .tw-tab-buttons button.tw-tab-selected {
	background-color: #fff;
	border-bottom: 1px solid #fff;
}

.tw-drop-down .tw-tab-contents a {
	padding: 0 0.5em 0 0.5em;
}

.tw-block-dropdown-wrapper {
	position: relative;
}

.tw-block-dropdown {
	position: absolute;
	min-width: 280px;
	border: 1px solid #bbb;
	background-color: #ffffff;
	padding: 0 0 0 0;
	margin: 4px 0 0 0;
	white-space: nowrap;
	z-index: 1000;
}

.tw-block-dropdown a {
	display: block;
	padding: 4px 14px 4px 14px;
}

.tw-block-dropdown .tw-dropdown-item {
	padding: 4px 14px 4px 7px;
	color: #bbb;
}

.tw-block-dropdown a:hover {
	color: #ffffff;
	background-color: #5778d8;
	text-decoration: none;
}

/*
** Modals
*/

.modal-wrapper {
	position: fixed;
	overflow: auto;
	overflow-y: scroll;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
}

.modal-backdrop {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: 1000;
	background-color: #333333;
}

.modal {
	z-index: 1100;
	background-color: #ffffff;
	border: 1px solid #999999;
}

@media (max-width: 55em) {
	.modal {
		position: fixed;
		top: 1em;
		left: 1em;
		right: 1em;
	}

	.modal-body {
		overflow-y: auto;
		max-height: 400px;
	}
}

@media (min-width: 55em) {
	.modal {
		position: relative;
		width: 50%;
		margin: 30px auto;
	}
}

.modal-header {
	padding: 9px 15px;
	border-bottom: 1px solid #eeeeee;
}

.modal-header h3 {
	margin: 0;
	line-height: 30px;
}

.modal-body {
	padding: 15px;
}

.modal-footer {
	padding: 14px 15px 15px;
	margin-bottom: 0;
	text-align: right;
	background-color: #f5f5f5;
	border-top: 1px solid #dddddd;
}

/*
** Notifications
*/

.tw-notification {
	position: fixed;
	top: 14px;
	right: 42px;
	z-index: 1000;
	max-width: 280px;
	padding: 0 14px 0 14px;
	background-color: #ffffdd;
	border: 1px solid #999999;
}

/*
** Tabs
*/

.tw-tab-set.tw-vertical {
	display: -webkit-flex;
	display: flex;
}

.tw-tab-buttons {
	font-size: 0.85em;
	padding-top: 1em;
	margin-bottom: -1px;
}

.tw-tab-buttons.tw-vertical  {
	z-index: 100;
	display: block;
	padding-top: 14px;
	vertical-align: top;
	text-align: right;
	margin-bottom: inherit;
	margin-right: -1px;
	max-width: 33%;
	-webkit-flex: 0 0 auto;
	flex: 0 0 auto;
}

.tw-tab-buttons button.tw-tab-selected {
	color: #666666;
	background-color: #ffffff;
	border-left: 1px solid #d8d8d8;
	border-top: 1px solid #d8d8d8;
	border-right: 1px solid #d8d8d8;
}

.tw-tab-buttons button {
	color: #666666;
	padding: 3px 5px 3px 5px;
	font-weight: 300;
	border: none;
	background: inherit;
	background-color: #d8d8d8;
	border-left: 1px solid #cccccc;
	border-top: 1px solid #cccccc;
	border-right: 1px solid #cccccc;
}

.tw-tab-buttons.tw-vertical button {
	display: block;
	width: 100%;
	margin-top: 3px;
	text-align: right;
	background-color: #d8d8d8;
	border-left: 1px solid #cccccc;
	border-bottom: 1px solid #cccccc;
	border-right: none;
}

.tw-tab-buttons.tw-vertical button.tw-tab-selected {
	background-color: #ffffff;
	border-right: 1px solid #ffffff;
}

.tw-tab-divider {
	border-top: 1px solid #d8d8d8;
}

.tw-tab-divider.tw-vertical  {
	display: none;
}

.tw-tab-content {
	margin-top: 14px;
}

.tw-tab-content.tw-vertical  {
	display: inline-block;
	vertical-align: top;
	padding-top: 0;
	padding-left: 14px;
	border-left: 1px solid #cccccc;
	-webkit-flex: 0 0 70%;
	flex: 0 0 70%;
}

.tw-sidebar-lists .tw-tab-buttons button.tw-tab-selected {
	background-color: #ececec;
	color: ;
	border-left: 1px solid #d8d8d8;
	border-top: 1px solid #d8d8d8;
	border-right: 1px solid #d8d8d8;
}

.tw-sidebar-lists .tw-tab-buttons button {
	background-color: #d8d8d8;
	color: #666666;
	border-left: 1px solid #cccccc;
	border-top: 1px solid #cccccc;
	border-right: 1px solid #cccccc;
}

.tw-sidebar-lists .tw-tab-divider {
	border-top: 1px solid #e4e4e4;
}

.tw-more-sidebar .tw-tab-buttons button {
	background-color: #d8d8d8;
	border-top: none;
	border-left: none;
	border-bottom: none;
	border-right: 1px solid #ccc;
	margin-bottom: inherit;
}

.tw-more-sidebar .tw-tab-buttons button.tw-tab-selected {
	background-color: #ececec;
	border: none;
}

/*
** Alerts
*/

.tw-alerts {
	position: fixed;
	top: 0;
	left: 0;
	max-width: 500px;
	z-index: 20000;
}

.tw-alert {
	position: relative;
	margin: 28px;
	padding: 14px 14px 14px 14px;
	border: 2px solid #b99e2f;
	background-color: #ffe476;
}

.tw-alert-toolbar {
	position: absolute;
	top: 14px;
	right: 14px;
}

.tw-alert-toolbar svg {
	fill: #b99e2f;
}

.tw-alert-subtitle {
	color: #b99e2f;
	font-weight: bold;
}

.tw-alert-highlight {
	color: #881122;	
}

.tw-static-alert {
	position: relative;
}

.tw-static-alert-inner {
	padding: 0 2px 2px 42px;
	color: #aaaaaa;
	position: absolute;
}

/*
** Grids
*/

.tw-grid-frame td {
	width: 1em;
	height: 1em;
}

/*
** Control panel
*/

.tw-control-panel td {
	padding: 4px;
}

.tw-control-panel table, .tw-control-panel table input, .tw-control-panel table textarea {
	width: 100%;
}

/*
** Message boxes
*/

.tw-message-box {
	border: 1px solid #cfd6e6;
	background: #ecf2ff;
	padding: 0px 21px 0px 21px;
	font-size: 12px;
	line-height: 18px;
	color: #547599;
}

.tw-message-box img {
	float: right;
	width: 150px;
	margin: 0px 0px 12px 12px;
}

/*
** Chooser
*/

.tw-chooser {
	border: 1px solid #dddddd;
}

.tw-chooser-item {
	border: 8px;
}

.tw-chooser-item a.tw-tiddlylink {
	display: block;
	text-decoration: none;
	color: #5778d8;
	background-color: #ffffff;
	margin: 4px;
}

.tw-chooser-item a.tw-tiddlylink:hover {
	text-decoration: none;
	color: #ffffff;
	background-color: #5778d8;
}

/*
** Palette swatches
*/

.tw-swatches-horiz {
}

.tw-swatches-horiz .tw-swatch {
	display: inline-block;
}

.tw-swatch {
	width: 2em;
	height: 2em;
	margin: 4px;
	border: 1px solid #000;
}

/*
** Table of contents
*/

.tw-sidebar-lists .tw-table-of-contents {
	white-space: nowrap;
}

.tw-table-of-contents svg {
	width: 0.7em;
	height: 0.7em;
	vertical-align: middle;
}

.tw-table-of-contents ol {
	list-style-type: none;
	padding-left: 0;
}

.tw-table-of-contents ol ol {
	padding-left: 1em;
}

.tw-table-of-contents li {
	font-size: 1.0em;
	font-weight: bold;
}

.tw-table-of-contents li a {
	font-weight: bold;
}

.tw-table-of-contents li li {
	font-size: 0.95em;
	font-weight: normal;
	line-height: 1.4;
}

.tw-table-of-contents li li a {
	font-weight: normal;
}

.tw-table-of-contents li li li {
	font-size: 0.95em;
	font-weight: 200;
	line-height: 1.5;
}

.tw-table-of-contents li li li a {
	font-weight: bold;
}

.tw-table-of-contents li li li li {
	font-size: 0.95em;
	font-weight: 200;
}


</style>
<meta http-equiv="X-UA-Compatible" content="IE=edge">		<!-- Force IE standards mode for Intranet and HTA - should be the first meta -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="application-name" content="TiddlyWiki">
<meta name="generator" content="TiddlyWiki">
<meta name="tiddlywiki-version" content="5.0.13-beta">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="format-detection" content="telephone=no">
<meta name="copyright" content="TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)

Copyright © Jeremy Ruston 2004-2007
Copyright © UnaMesa Association 2007-2014

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
">
<link id="faviconLink" rel="shortcut icon" href="file:///home/will/code/willrogers.github.io/favicon.ico">
<title>Will Rogers — Miscellaneous notes</title>
<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--><!--~~ Raw markup ~~-->

</head>
<body class="tw-body"><div class=" tw-page-container-wrapper"><div class="tw-page-container tw-page-view-classic tw-language-"><div class="tw-dropzone"><div class="tw-sidebar-scrollable" style="overflow: auto;"><div><div class="sidebar-header"><div class=" tw-reveal"><h1 class="tw-site-title">Will Rogers</h1><div class="tw-site-subtitle">Miscellaneous notes</div><div class="tw-page-controls"><button aria-label="new tiddler" title="Create a new tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="83 81 50 50" class="tw-image-new-button tw-image-button"><path d="M 101.25 112.5 L 101.25 127.5 C 101.25 127.5 101.25 127.5 101.25 127.5 L 101.25 127.5 C 101.25 129.156855 102.593146 130.5 104.25 130.5 L 111.75 130.5 C 113.406854 130.5 114.75 129.156854 114.75 127.5 L 114.75 112.5 L 129.75 112.5 C 131.406854 112.5 132.75 111.156854 132.75 109.5 L 132.75 102 C 132.75 100.343146 131.406854 99 129.75 99 L 114.75 99 L 114.75 84 C 114.75 82.343146 113.406854 81 111.75 81 L 104.25 81 C 104.25 81 104.25 81 104.25 81 C 102.593146 81 101.25 82.343146 101.25 84 L 101.25 99 L 86.25 99 C 86.25 99 86.25 99 86.25 99 C 84.593146 99 83.25 100.343146 83.25 102 L 83.25 109.5 C 83.25 109.5 83.25 109.5 83.25 109.5 L 83.25 109.5 C 83.25 111.156855 84.593146 112.5 86.25 112.5 Z"></path></svg>
</button><button aria-label="control panel" title="Open control panel" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="434 218 68 68" class="tw-image-options-button tw-image-button"><path d="M 478.39696 232.53705 L 478.39696 232.53705 C 477.11453 231.85132 475.77877 231.30146 474.4106 230.88735 L 474.4106 218.24993 L 461.58944 218.24993 L 461.58944 230.88735 C 460.22126 231.30146 458.8855 231.85132 457.60308 232.53705 L 448.66825 223.60214 L 439.6022 232.66814 L 448.53716 241.60304 C 447.8515 242.88541 447.30158 244.22116 446.88747 245.58935 L 434.25 245.58935 L 434.25 258.41052 L 446.88747 258.41052 C 447.30158 259.7787 447.8515 261.11446 448.53716 262.39689 L 439.6022 271.33173 L 448.66825 280.39779 L 457.60308 271.46281 C 458.8855 272.14862 460.22126 272.69847 461.58944 273.11251 L 461.58944 285.74986 L 474.4106 285.74986 L 474.4106 273.11251 C 475.77877 272.69847 477.11453 272.14862 478.39696 271.46281 L 487.3318 280.39779 L 496.3977 271.33173 L 487.46287 262.39689 C 488.14854 261.11446 488.6984 259.7787 489.11257 258.41052 L 501.7499 258.41052 L 501.7499 245.58935 L 489.11257 245.58935 C 488.6984 244.22116 488.14854 242.88541 487.46287 241.60304 L 496.3977 232.66814 L 487.3318 223.60214 Z M 475.3328 244.66714 C 479.38253 248.71698 479.38253 255.2829 475.3328 259.33273 C 471.28297 263.3826 464.71706 263.3826 460.66723 259.33273 C 456.61737 255.2829 456.61737 248.71698 460.66723 244.66714 C 464.71706 240.61734 471.28297 240.61734 475.3328 244.66714"></path></svg>
</button><button aria-label="save changes" title="Save changes" class="btn-invisible"><svg height="21pt" width="22pt" viewBox="4 512 64 60" class="tw-image-save-button tw-image-button"><path d="M 13.5 537.75 L 11.5 537.75 C 11.5 537.75 11.5 537.75 11.5 537.75 C 7.6340064 537.75 4.4999994 540.884 4.5 544.75 L 4.5 564.5 L 4.5 564.5 C 4.5 564.5 4.5 564.5 4.5 564.5 L 4.5 564.5 C 4.5000006 568.366 7.634007 571.5 11.5 571.5 L 60.5 571.5 C 64.365993 571.5 67.5 568.366 67.5 564.5 L 67.5 544.75 C 67.5 540.884 64.365993 537.75 60.5 537.75 L 58.5 537.75 L 49.5 546.75 L 50 546.75 C 52.20914 546.75 54 548.54086 54 550.75 L 54 556.25 C 54 558.45914 52.20914 560.25 50 560.25 L 36 560.25 L 22 560.25 C 19.790861 560.25 18 558.45914 18 556.25 L 18 556.25 C 18 556.25 18 556.25 18 556.25 L 18 550.75 C 18 548.54086 19.790861 546.75 22 546.75 C 22 546.75 22 546.75 22 546.75 L 22.5 546.75 Z"></path><path d="M 16.37132 533.87132 L 33.87868 551.37868 C 35.050253 552.55025 36.949747 552.55025 38.12132 551.37868 L 55.62868 533.87132 C 56.800252 532.69975 56.800252 530.80025 55.62868 529.62868 C 55.06607 529.06607 54.30301 528.75 53.50736 528.75 L 48 528.75 C 46.343146 528.75 45 527.40685 45 525.75 L 45 516 C 45 514.34315 43.656854 513 42 513 L 30 513 C 28.343146 513 27 514.34315 27 516 L 27 525.75 C 27 527.40685 25.656854 528.75 24 528.75 L 18.492641 528.75 C 16.835786 528.75 15.492641 530.09315 15.492641 531.75 C 15.492641 532.54565 15.808711 533.3087 16.37132 533.87132 Z"></path></svg>
</button></div><div class="tw-sidebar-lists"><p><div class="tw-search">
<input type="search">
<span class=" tw-reveal" hidden="true"></span>
<span class=" tw-reveal">&nbsp;<a aria-label="advanced search" title="Advanced search" href="#%24%3A%2FAdvancedSearch" class="tw-tiddlylink tw-tiddlylink-shadow">…</a>
</span>
</div></p><div class=" tw-reveal" hidden="true"></div><div class=" tw-reveal"><p><div class="tw-tab-set ">
<div class="tw-tab-buttons ">

<button class="">
Open
</button>

<button class=" tw-tab-selected">
Recent
</button>

<button class="">
Tools
</button>

<button class="">
More
</button>

</div><div class="tw-tab-divider "></div><div class="tw-tab-content ">
<div class=" tw-reveal" hidden="true"></div><div class=" tw-reveal"><p>
<div class="tw-menu-list-item">
19th August 2014

<div class="tw-menu-list-subitem">
<a href="#PythonSetupTools" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonSetupTools
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#PythonPackaging" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonPackaging
</a>
</div>

</div>

<div class="tw-menu-list-item">
18th August 2014

<div class="tw-menu-list-subitem">
<a href="#PythonNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonNotes
</a>
</div>

</div>

<div class="tw-menu-list-item">
17th August 2014

<div class="tw-menu-list-subitem">
<a href="#GitDirectory" class="tw-tiddlylink tw-tiddlylink-resolves">
GitDirectory
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#GitNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
GitNotes
</a>
</div>

</div>

<div class="tw-menu-list-item">
13th August 2014

<div class="tw-menu-list-subitem">
<a href="#GitPush" class="tw-tiddlylink tw-tiddlylink-resolves">
GitPush
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#GitBranch" class="tw-tiddlylink tw-tiddlylink-resolves">
GitBranch
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#GitTag" class="tw-tiddlylink tw-tiddlylink-resolves">
GitTag
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#GitShow" class="tw-tiddlylink tw-tiddlylink-resolves">
GitShow
</a>
</div>

</div>

<div class="tw-menu-list-item">
12th August 2014

<div class="tw-menu-list-subitem">
<a href="#EffectiveJava" class="tw-tiddlylink tw-tiddlylink-resolves">
EffectiveJava
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#JavaKeywords" class="tw-tiddlylink tw-tiddlylink-resolves">
JavaKeywords
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#JavaGenerics" class="tw-tiddlylink tw-tiddlylink-resolves">
JavaGenerics
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#JavaNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
JavaNotes
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EpicsDiirt" class="tw-tiddlylink tw-tiddlylink-resolves">
EpicsDiirt
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#HaskellTypes" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellTypes
</a>
</div>

</div>

<div class="tw-menu-list-item">
11th August 2014

<div class="tw-menu-list-subitem">
<a href="#CsStudio" class="tw-tiddlylink tw-tiddlylink-resolves">
CsStudio
</a>
</div>

</div>

<div class="tw-menu-list-item">
8th August 2014

<div class="tw-menu-list-subitem">
<a href="#DiamondPython" class="tw-tiddlylink tw-tiddlylink-resolves">
DiamondPython
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#ControlsAde" class="tw-tiddlylink tw-tiddlylink-resolves">
ControlsAde
</a>
</div>

</div>

<div class="tw-menu-list-item">
6th August 2014

<div class="tw-menu-list-subitem">
<a href="#FastArchiver" class="tw-tiddlylink tw-tiddlylink-resolves">
FastArchiver
</a>
</div>

</div>

<div class="tw-menu-list-item">
4th August 2014

<div class="tw-menu-list-subitem">
<a href="#FindLocate" class="tw-tiddlylink tw-tiddlylink-resolves">
FindLocate
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#LinuxCommands" class="tw-tiddlylink tw-tiddlylink-resolves">
LinuxCommands
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#ComputingNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
ComputingNotes
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#Home" class="tw-tiddlylink tw-tiddlylink-resolves">
Home
</a>
</div>

</div>

<div class="tw-menu-list-item">
3rd August 2014

<div class="tw-menu-list-subitem">
<a href="#SpotiPi" class="tw-tiddlylink tw-tiddlylink-resolves">
SpotiPi
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#RaspberryPi" class="tw-tiddlylink tw-tiddlylink-resolves">
RaspberryPi
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#Python3" class="tw-tiddlylink tw-tiddlylink-resolves">
Python3
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#LinuxTerminal" class="tw-tiddlylink tw-tiddlylink-resolves">
LinuxTerminal
</a>
</div>

</div>

<div class="tw-menu-list-item">
2nd August 2014

<div class="tw-menu-list-subitem">
<a href="#DiamondNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
DiamondNotes
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#HomeComputer" class="tw-tiddlylink tw-tiddlylink-resolves">
HomeComputer
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#PhysicsSoftware" class="tw-tiddlylink tw-tiddlylink-resolves">
PhysicsSoftware
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#MetaTiddly" class="tw-tiddlylink tw-tiddlylink-resolves">
MetaTiddly
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#HomeNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
HomeNotes
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#New%20Tiddler" class="tw-tiddlylink tw-tiddlylink-resolves">
New Tiddler
</a>
</div>

</div>

<div class="tw-menu-list-item">
26th July 2014

<div class="tw-menu-list-subitem">
<a href="#HaskellTypeConversions" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellTypeConversions
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#HaskellBuiltins" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellBuiltins
</a>
</div>

</div>

<div class="tw-menu-list-item">
25th July 2014

<div class="tw-menu-list-subitem">
<a href="#BashSpecialCharacters" class="tw-tiddlylink tw-tiddlylink-resolves">
BashSpecialCharacters
</a>
</div>

</div>

<div class="tw-menu-list-item">
24th July 2014

<div class="tw-menu-list-subitem">
<a href="#HaskellBasics" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellBasics
</a>
</div>

</div>

<div class="tw-menu-list-item">
22nd July 2014

<div class="tw-menu-list-subitem">
<a href="#PythonGarbage" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonGarbage
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#PythonFunctions" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonFunctions
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#PythonClasses" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonClasses
</a>
</div>

</div>

<div class="tw-menu-list-item">
14th July 2014

<div class="tw-menu-list-subitem">
<a href="#JavaMaven" class="tw-tiddlylink tw-tiddlylink-resolves">
JavaMaven
</a>
</div>

</div>

<div class="tw-menu-list-item">
13th July 2014

<div class="tw-menu-list-subitem">
<a href="#CStdFunctions" class="tw-tiddlylink tw-tiddlylink-resolves">
CStdFunctions
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#CBasics" class="tw-tiddlylink tw-tiddlylink-resolves">
CBasics
</a>
</div>

</div>

<div class="tw-menu-list-item">
12th July 2014

<div class="tw-menu-list-subitem">
<a href="#HaskellImports" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellImports
</a>
</div>

</div>

<div class="tw-menu-list-item">
9th July 2014

<div class="tw-menu-list-subitem">
<a href="#EpicsSource" class="tw-tiddlylink tw-tiddlylink-resolves">
EpicsSource
</a>
</div>

</div>

<div class="tw-menu-list-item">
6th July 2014

<div class="tw-menu-list-subitem">
<a href="#HaskellIO" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellIO
</a>
</div>

</div>

<div class="tw-menu-list-item">
5th July 2014

<div class="tw-menu-list-subitem">
<a href="#HaskellLists" class="tw-tiddlylink tw-tiddlylink-resolves">
HaskellLists
</a>
</div>

</div>

<div class="tw-menu-list-item">
19th June 2014

<div class="tw-menu-list-subitem">
<a href="#DiamondMagnets" class="tw-tiddlylink tw-tiddlylink-resolves">
DiamondMagnets
</a>
</div>

</div>

<div class="tw-menu-list-item">
18th June 2014

<div class="tw-menu-list-subitem">
<a href="#ParticleAccelerators" class="tw-tiddlylink tw-tiddlylink-resolves">
ParticleAccelerators
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#DiamondMachine" class="tw-tiddlylink tw-tiddlylink-resolves">
DiamondMachine
</a>
</div>

</div>

<div class="tw-menu-list-item">
13th June 2014

<div class="tw-menu-list-subitem">
<a href="#BashStrings" class="tw-tiddlylink tw-tiddlylink-resolves">
BashStrings
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#BashFunctions" class="tw-tiddlylink tw-tiddlylink-resolves">
BashFunctions
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EpicsExtensions" class="tw-tiddlylink tw-tiddlylink-resolves">
EpicsExtensions
</a>
</div>

</div>

<div class="tw-menu-list-item">
10th June 2014

<div class="tw-menu-list-subitem">
<a href="#OrthoticInsoles" class="tw-tiddlylink tw-tiddlylink-resolves">
OrthoticInsoles
</a>
</div>

</div>

<div class="tw-menu-list-item">
9th June 2014

<div class="tw-menu-list-subitem">
<a href="#NumPy" class="tw-tiddlylink tw-tiddlylink-resolves">
NumPy
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#MatlabLicenses" class="tw-tiddlylink tw-tiddlylink-resolves">
MatlabLicenses
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#MatlabNotes" class="tw-tiddlylink tw-tiddlylink-resolves">
MatlabNotes
</a>
</div>

</div>

<div class="tw-menu-list-item">
5th June 2014

<div class="tw-menu-list-subitem">
<a href="#EclipsePlatform4" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipsePlatform4
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#OSGi" class="tw-tiddlylink tw-tiddlylink-resolves">
OSGi
</a>
</div>

</div>

<div class="tw-menu-list-item">
2nd June 2014

<div class="tw-menu-list-subitem">
<a href="#EclipsePerspectives" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipsePerspectives
</a>
</div>

</div>

<div class="tw-menu-list-item">
31st May 2014

<div class="tw-menu-list-subitem">
<a href="#EclipsePackages" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipsePackages
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipsePlatform" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipsePlatform
</a>
</div>

</div>

<div class="tw-menu-list-item">
29th May 2014

<div class="tw-menu-list-subitem">
<a href="#CssWorkspaces" class="tw-tiddlylink tw-tiddlylink-resolves">
CssWorkspaces
</a>
</div>

</div>

<div class="tw-menu-list-item">
26th May 2014

<div class="tw-menu-list-subitem">
<a href="#NikonLenses" class="tw-tiddlylink tw-tiddlylink-resolves">
NikonLenses
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#NikonCamera" class="tw-tiddlylink tw-tiddlylink-resolves">
NikonCamera
</a>
</div>

</div>

<div class="tw-menu-list-item">
16th May 2014

<div class="tw-menu-list-subitem">
<a href="#TeachingPython" class="tw-tiddlylink tw-tiddlylink-resolves">
TeachingPython
</a>
</div>

</div>

<div class="tw-menu-list-item">
10th May 2014

<div class="tw-menu-list-subitem">
<a href="#StfcVpn" class="tw-tiddlylink tw-tiddlylink-resolves">
StfcVpn
</a>
</div>

</div>

<div class="tw-menu-list-item">
8th May 2014

<div class="tw-menu-list-subitem">
<a href="#MatlabBuiltins" class="tw-tiddlylink tw-tiddlylink-resolves">
MatlabBuiltins
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#DiamondModules" class="tw-tiddlylink tw-tiddlylink-resolves">
DiamondModules
</a>
</div>

</div>

<div class="tw-menu-list-item">
6th May 2014

<div class="tw-menu-list-subitem">
<a href="#EdmConverter" class="tw-tiddlylink tw-tiddlylink-resolves">
EdmConverter
</a>
</div>

</div>

<div class="tw-menu-list-item">
5th May 2014

<div class="tw-menu-list-subitem">
<a href="#WindowsLicences" class="tw-tiddlylink tw-tiddlylink-resolves">
WindowsLicences
</a>
</div>

</div>

<div class="tw-menu-list-item">
4th May 2014

<div class="tw-menu-list-subitem">
<a href="#PhotoOrganisation" class="tw-tiddlylink tw-tiddlylink-resolves">
PhotoOrganisation
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#UbuntuFourteenFour" class="tw-tiddlylink tw-tiddlylink-resolves">
UbuntuFourteenFour
</a>
</div>

</div>

<div class="tw-menu-list-item">
26th April 2014

<div class="tw-menu-list-subitem">
<a href="#BankAccounts" class="tw-tiddlylink tw-tiddlylink-resolves">
BankAccounts
</a>
</div>

</div>

<div class="tw-menu-list-item">
25th April 2014

<div class="tw-menu-list-subitem">
<a href="#LauncherProgram" class="tw-tiddlylink tw-tiddlylink-resolves">
LauncherProgram
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#PyGtk" class="tw-tiddlylink tw-tiddlylink-resolves">
PyGtk
</a>
</div>

</div>

<div class="tw-menu-list-item">
24th April 2014

<div class="tw-menu-list-subitem">
<a href="#OpiBuilderRunmode" class="tw-tiddlylink tw-tiddlylink-resolves">
OpiBuilderRunmode
</a>
</div>

</div>

<div class="tw-menu-list-item">
22nd April 2014

<div class="tw-menu-list-subitem">
<a href="#DisappearingBug" class="tw-tiddlylink tw-tiddlylink-resolves">
DisappearingBug
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EpicsEdm" class="tw-tiddlylink tw-tiddlylink-resolves">
EpicsEdm
</a>
</div>

</div>

<div class="tw-menu-list-item">
18th April 2014

<div class="tw-menu-list-subitem">
<a href="#PythonDocumentation" class="tw-tiddlylink tw-tiddlylink-resolves">
PythonDocumentation
</a>
</div>

</div>

<div class="tw-menu-list-item">
16th April 2014

<div class="tw-menu-list-subitem">
<a href="#CPrintf" class="tw-tiddlylink tw-tiddlylink-resolves">
CPrintf
</a>
</div>

</div>

<div class="tw-menu-list-item">
14th April 2014

<div class="tw-menu-list-subitem">
<a href="#CssBoy" class="tw-tiddlylink tw-tiddlylink-resolves">
CssBoy
</a>
</div>

</div>

<div class="tw-menu-list-item">
9th April 2014

<div class="tw-menu-list-subitem">
<a href="#EclipseSwt" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseSwt
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipseDisplay" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseDisplay
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipseShell" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseShell
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipseCommands" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseCommands
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#ExtensionPoints" class="tw-tiddlylink tw-tiddlylink-resolves">
ExtensionPoints
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipsePlugins" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipsePlugins
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipseProduct" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseProduct
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipseEditorsAndViews" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseEditorsAndViews
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#EclipsePlatformUI" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipsePlatformUI
</a>
</div>

</div>

<div class="tw-menu-list-item">
8th April 2014

<div class="tw-menu-list-subitem">
<a href="#EclipseWorkbench" class="tw-tiddlylink tw-tiddlylink-resolves">
EclipseWorkbench
</a>
</div>

</div>

<div class="tw-menu-list-item">
7th April 2014

<div class="tw-menu-list-subitem">
<a href="#DiamondLauncher" class="tw-tiddlylink tw-tiddlylink-resolves">
DiamondLauncher
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#LinuxProfiles" class="tw-tiddlylink tw-tiddlylink-resolves">
LinuxProfiles
</a>
</div>

</div>

<div class="tw-menu-list-item">
6th April 2014

<div class="tw-menu-list-subitem">
<a href="#BashConditions" class="tw-tiddlylink tw-tiddlylink-resolves">
BashConditions
</a>
</div>

</div>

<div class="tw-menu-list-item">
4th April 2014

<div class="tw-menu-list-subitem">
<a href="#OpiBuilderWidgetsPlugin" class="tw-tiddlylink tw-tiddlylink-resolves">
OpiBuilderWidgetsPlugin
</a>
</div>

<div class="tw-menu-list-subitem">
<a href="#OpiBuilderPlugin" class="tw-tiddlylink tw-tiddlylink-resolves">
OpiBuilderPlugin
</a>
</div>

</div>

<div class="tw-menu-list-item">
3rd April 2014

<div class="tw-menu-list-subitem">
<a href="#CssCore" class="tw-tiddlylink tw-tiddlylink-resolves">
CssCore
</a>
</div>

</div>

<div class="tw-menu-list-item">
30th March 2014

<div class="tw-menu-list-subitem">
<a href="#UbuntuThirteenTen" class="tw-tiddlylink tw-tiddlylink-resolves">
UbuntuThirteenTen
</a>
</div>

</div>

<div class="tw-menu-list-item">
26th March 2014

<div class="tw-menu-list-subitem">
<a href="#OpiBuilderScripts" class="tw-tiddlylink tw-tiddlylink-resolves">
OpiBuilderScripts
</a>
</div>

</div>

</p></div><div class=" tw-reveal" hidden="true"></div><div class=" tw-reveal" hidden="true"></div>
</div>
</div></p></div></div>
</div></div></div></div><section class="story-river"><div class="tw-tiddler-frame tw-tiddler-view-frame tw-tiddler-exists  "><div class="tw-tiddler-title">
<h2 class="titlebar">
<span class="tw-tiddler-controls">
<button aria-label="info" title="Show information for this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="294 150 58 58" class="tw-image-info-button tw-image-button"><path d="M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z"></path></svg>
</button><button aria-label="edit" title="Edit this tiddler" class="btn-invisible"><svg height="22pt" width="20pt" viewBox="244 193 20 22" class="tw-image-edit-button tw-image-button"><path d="M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z"></path></svg>
</button><button aria-label="close" title="Close this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="222 150 56 56" class="tw-image-close-button tw-image-button"><path d="M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z"></path></svg>
</button>
</span>

<span style="fill:;">

</span>



<span class="title">
Home
</span>

</h2>

<div class="tw-tiddler-info tw-popup tw-reveal" hidden="true"></div>
</div><div class="tw-subtitle">
<a href="#WillRogers" class="tw-tiddlylink tw-tiddlylink-missing">
WillRogers
</a> 14 days ago
</div>
<div class="tw-tags-wrapper"></div>

<div class="body"><p>This is a TiddlySpace wiki.</p><ul><li><a href="#HomeNotes" class="tw-tiddlylink tw-tiddlylink-resolves">HomeNotes</a></li><li><a href="#ComputingNotes" class="tw-tiddlylink tw-tiddlylink-resolves">ComputingNotes</a></li><li><a href="#DiamondNotes" class="tw-tiddlylink tw-tiddlylink-resolves">DiamondNotes</a></li><li><a href="#RaspberryPi" class="tw-tiddlylink tw-tiddlylink-resolves">RaspberryPi</a></li><li><a href="#MetaTiddly" class="tw-tiddlylink tw-tiddlylink-resolves">MetaTiddly</a></li><li><a href="#MiscLinks" class="tw-tiddlylink tw-tiddlylink-resolves">MiscLinks</a></li></ul></div>

</div>

<div style="transition: none 0s ease 0s ; opacity: 1;" class="tw-tiddler-frame tw-tiddler-view-frame tw-tiddler-exists  "><div class="tw-tiddler-title">
<h2 class="titlebar">
<span class="tw-tiddler-controls">
<button aria-label="info" title="Show information for this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="294 150 58 58" class="tw-image-info-button tw-image-button"><path d="M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z"></path></svg>
</button><button aria-label="edit" title="Edit this tiddler" class="btn-invisible"><svg height="22pt" width="20pt" viewBox="244 193 20 22" class="tw-image-edit-button tw-image-button"><path d="M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z"></path></svg>
</button><button aria-label="close" title="Close this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="222 150 56 56" class="tw-image-close-button tw-image-button"><path d="M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z"></path></svg>
</button>
</span>

<span style="fill:;">

</span>



<span class="title">
ComputingNotes
</span>

</h2>

<div class="tw-tiddler-info tw-popup tw-reveal" hidden="true"></div>
</div><div class="tw-subtitle">
<a href="#WillRogers" class="tw-tiddlylink tw-tiddlylink-missing">
WillRogers
</a> 14 days ago
</div>
<div class="tw-tags-wrapper"></div>

<div class="body"><p><a href="#FutureWork" class="tw-tiddlylink tw-tiddlylink-resolves">FutureWork</a>
<a href="#HomeComputer" class="tw-tiddlylink tw-tiddlylink-resolves">HomeComputer</a>
<a href="#TechnicolorRouter" class="tw-tiddlylink tw-tiddlylink-resolves">TechnicolorRouter</a></p><h2 class="">Programming</h2><ul><li><a href="#PythonNotes" class="tw-tiddlylink tw-tiddlylink-resolves">PythonNotes</a></li><li>CBasics</li><li>CPPBasics</li><li><a href="#AndroidDevelopment" class="tw-tiddlylink tw-tiddlylink-resolves">AndroidDevelopment</a></li><li><a href="#ProgrammingTypes" class="tw-tiddlylink tw-tiddlylink-resolves">ProgrammingTypes</a></li><li><a href="#JavaNotes" class="tw-tiddlylink tw-tiddlylink-resolves">JavaNotes</a></li><li><a href="#QtBasics" class="tw-tiddlylink tw-tiddlylink-resolves">QtBasics</a></li></ul><h2 class="">Linux</h2><ul><li><a href="#LinuxCommands" class="tw-tiddlylink tw-tiddlylink-resolves">LinuxCommands</a> - will be subdivided when necessary</li><li><a href="#LinuxFilesystem" class="tw-tiddlylink tw-tiddlylink-resolves">LinuxFilesystem</a></li><li><a href="#LinuxLocations" class="tw-tiddlylink tw-tiddlylink-resolves">LinuxLocations</a></li><li><a href="#LinuxProfiles" class="tw-tiddlylink tw-tiddlylink-resolves">LinuxProfiles</a></li><li><a href="#LinuxTerminal" class="tw-tiddlylink tw-tiddlylink-resolves">LinuxTerminal</a></li><li><a href="#BashScripting" class="tw-tiddlylink tw-tiddlylink-resolves">BashScripting</a></li><li><a href="#VimNotes" class="tw-tiddlylink tw-tiddlylink-resolves">VimNotes</a></li><li><a href="#VirtualBox" class="tw-tiddlylink tw-tiddlylink-resolves">VirtualBox</a></li><li><a href="#VirtualUbuntu" class="tw-tiddlylink tw-tiddlylink-resolves">VirtualUbuntu</a></li><li><a href="#VirtualDebian" class="tw-tiddlylink tw-tiddlylink-resolves">VirtualDebian</a></li><li><a href="#VirtualMint" class="tw-tiddlylink tw-tiddlylink-resolves">VirtualMint</a></li><li><a href="#VirtualSL6" class="tw-tiddlylink tw-tiddlylink-resolves">VirtualSL6</a></li><li><a href="#CloudUbuntu" class="tw-tiddlylink tw-tiddlylink-resolves">CloudUbuntu</a></li><li><a href="#SvnUbuntu" class="tw-tiddlylink tw-tiddlylink-resolves">SvnUbuntu</a></li><li><a href="#LocateCygwin" class="tw-tiddlylink tw-tiddlylink-resolves">LocateCygwin</a></li><li><a href="#StickyBit" class="tw-tiddlylink tw-tiddlylink-resolves">StickyBit</a></li><li><a href="#TtyWtf" class="tw-tiddlylink tw-tiddlylink-resolves">TtyWtf</a></li><li>POSIX!</li><li><a href="#RpmBuild" class="tw-tiddlylink tw-tiddlylink-resolves">RpmBuild</a></li><li><a href="#GnuMake" class="tw-tiddlylink tw-tiddlylink-resolves">GnuMake</a></li><li><a href="#GnuDebugger" class="tw-tiddlylink tw-tiddlylink-resolves">GnuDebugger</a></li></ul><h2 class="">Web</h2><ul><li><a href="#HtmlBasics" class="tw-tiddlylink tw-tiddlylink-resolves">HtmlBasics</a></li><li><a href="#JavaScript" class="tw-tiddlylink tw-tiddlylink-resolves">JavaScript</a></li></ul><h2 class="">Computer Science</h2><ul><li><a href="#BasicCompSci" class="tw-tiddlylink tw-tiddlylink-resolves">BasicCompSci</a></li><li><a href="#MetaLang" class="tw-tiddlylink tw-tiddlylink-resolves">MetaLang</a></li><li><a href="#HaskellBasics" class="tw-tiddlylink tw-tiddlylink-resolves">HaskellBasics</a></li><li><a href="#MatlabNotes" class="tw-tiddlylink tw-tiddlylink-resolves">MatlabNotes</a></li><li><a href="#CryptographyNotes" class="tw-tiddlylink tw-tiddlylink-resolves">CryptographyNotes</a></li></ul><h2 class="">Version control</h2><ul><li><a href="#CvsNotes" class="tw-tiddlylink tw-tiddlylink-resolves">CvsNotes</a></li><li><a href="#SvnNotes" class="tw-tiddlylink tw-tiddlylink-resolves">SvnNotes</a></li><li><a href="#GitNotes" class="tw-tiddlylink tw-tiddlylink-resolves">GitNotes</a></li></ul><h2 class="">Other</h2><ul><li><a href="#UnixDos" class="tw-tiddlylink tw-tiddlylink-resolves">UnixDos</a></li><li><a href="#FileSystems" class="tw-tiddlylink tw-tiddlylink-resolves">FileSystems</a></li><li><a href="#DatabaseTheory" class="tw-tiddlylink tw-tiddlylink-resolves">DatabaseTheory</a></li><li><a href="#NewComputer" class="tw-tiddlylink tw-tiddlylink-resolves">NewComputer</a></li><li><a href="#SpotifyProxy" class="tw-tiddlylink tw-tiddlylink-resolves">SpotifyProxy</a></li><li><a href="#EclipseNotes" class="tw-tiddlylink tw-tiddlylink-resolves">EclipseNotes</a></li><li><a href="#RegexNotes" class="tw-tiddlylink tw-tiddlylink-resolves">RegexNotes</a></li><li><a href="#WindowsNotes" class="tw-tiddlylink tw-tiddlylink-resolves">WindowsNotes</a></li><li><a href="#MysqlNotes" class="tw-tiddlylink tw-tiddlylink-resolves">MysqlNotes</a></li><li><a href="#SqlSyntax" class="tw-tiddlylink tw-tiddlylink-resolves">SqlSyntax</a></li><li><a href="#WorkAccounts" class="tw-tiddlylink tw-tiddlylink-resolves">WorkAccounts</a></li><li><a href="#MessagingPatterns" class="tw-tiddlylink tw-tiddlylink-resolves">MessagingPatterns</a></li><li><a href="#BitwiseOperators" class="tw-tiddlylink tw-tiddlylink-resolves">BitwiseOperators</a></li><li>MPI!</li><li><a href="#GoogleContacts" class="tw-tiddlylink tw-tiddlylink-resolves">GoogleContacts</a></li></ul><p>Google contacts API: <a target="_blank" class="tw-tiddlylink-external" href="http://code.google.com/apis/contacts/docs/3.0/developers_guide.html">http://code.google.com/apis/contacts/docs/3.0/developers_guide.html</a>
This looks interesting: <a target="_blank" class="tw-tiddlylink-external" href="http://www.20thingsilearned.com/en-GB/home">http://www.20thingsilearned.com/en-GB/home</a>
Scrobble any song: <a target="_blank" class="tw-tiddlylink-external" href="http://universalscrobbler.invitationstation.org/">http://universalscrobbler.invitationstation.org/</a></p></div>

</div>

<div style="transition: none 0s ease 0s ; opacity: 1;" class="tw-tiddler-frame tw-tiddler-view-frame tw-tiddler-exists  "><div class="tw-tiddler-title">
<h2 class="titlebar">
<span class="tw-tiddler-controls">
<button aria-label="info" title="Show information for this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="294 150 58 58" class="tw-image-info-button tw-image-button"><path d="M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z"></path></svg>
</button><button aria-label="edit" title="Edit this tiddler" class="btn-invisible"><svg height="22pt" width="20pt" viewBox="244 193 20 22" class="tw-image-edit-button tw-image-button"><path d="M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z"></path></svg>
</button><button aria-label="close" title="Close this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="222 150 56 56" class="tw-image-close-button tw-image-button"><path d="M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z"></path></svg>
</button>
</span>

<span style="fill:;">

</span>



<span class="title">
PythonNotes
</span>

</h2>

<div class="tw-tiddler-info tw-popup tw-reveal" hidden="true"></div>
</div><div class="tw-subtitle">
<a href="#WillRogers" class="tw-tiddlylink tw-tiddlylink-missing">
WillRogers
</a> 1 second ago
</div>
<div class="tw-tags-wrapper"><span class="tw-tag-list-item">

<button style="background-color:;" class="btn-invisible tw-tag-label">
 python
</button>

<span class=" tw-reveal" hidden="true"></span>
</span>
</div>

<div class="body"><p>I am up to section 10 in Dive Into Python (I skipped the HTML chapter): <a target="_blank" class="tw-tiddlylink-external" href="http://www.diveintopython.net/regular_expressions/index.html">http://www.diveintopython.net/regular_expressions/index.html</a></p><p>Python is a strongly and dynamically typed language - see <a href="#ProgrammingTypes" class="tw-tiddlylink tw-tiddlylink-resolves">ProgrammingTypes</a>.  Basically this means that the types are determined on execution, but once they're determined they stay that way.</p><p>Everything
 in python is an object, so you can assign it to a variable.  A useful 
example of this is assigning functions to variables, including anonymous
 lambda functions.</p><ul><li><a href="#PythonSyntax" class="tw-tiddlylink tw-tiddlylink-resolves">PythonSyntax</a></li><li><a href="#Python3" class="tw-tiddlylink tw-tiddlylink-resolves">Python3</a></li><li><a href="#PythonFunctions" class="tw-tiddlylink tw-tiddlylink-resolves">PythonFunctions</a></li><li><a href="#PythonDocumentation" class="tw-tiddlylink tw-tiddlylink-resolves">PythonDocumentation</a></li><li><a href="#PythonExceptions" class="tw-tiddlylink tw-tiddlylink-resolves">PythonExceptions</a></li><li><a href="#PythonPackages" class="tw-tiddlylink tw-tiddlylink-resolves">PythonPackages</a></li><li><a href="#PythonPackaging" class="tw-tiddlylink tw-tiddlylink-resolves">PythonPackaging</a></li><li><a href="#PythonSetupTools" class="tw-tiddlylink tw-tiddlylink-resolves">PythonSetupTools</a></li><li><a href="#PythonDocstrings" class="tw-tiddlylink tw-tiddlylink-resolves">PythonDocstrings</a></li><li><a href="#PythonRegex" class="tw-tiddlylink tw-tiddlylink-resolves">PythonRegex</a></li><li><a href="#PythonThreading" class="tw-tiddlylink tw-tiddlylink-resolves">PythonThreading</a></li><li><a href="#PythonClasses" class="tw-tiddlylink tw-tiddlylink-resolves">PythonClasses</a></li><li><a href="#PythonDecorators" class="tw-tiddlylink tw-tiddlylink-resolves">PythonDecorators</a></li><li><a href="#PythonGarbage" class="tw-tiddlylink tw-tiddlylink-resolves">PythonGarbage</a></li><li><a href="#PythonProfiler" class="tw-tiddlylink tw-tiddlylink-resolves">PythonProfiler</a></li><li><a href="#PythonDaemon" class="tw-tiddlylink tw-tiddlylink-resolves">PythonDaemon</a></li><li><a href="#PythonMock" class="tw-tiddlylink tw-tiddlylink-resolves">PythonMock</a></li><li>SWIG!</li><li><a href="#MatPlotLib" class="tw-tiddlylink tw-tiddlylink-resolves">MatPlotLib</a></li><li><a href="#NumPy" class="tw-tiddlylink tw-tiddlylink-resolves">NumPy</a></li></ul></div>

</div>

<div style="transition: none 0s ease 0s ; opacity: 1;" class="tw-tiddler-frame tw-tiddler-view-frame tw-tiddler-exists  "><div class="tw-tiddler-title">
<h2 class="titlebar">
<span class="tw-tiddler-controls">
<button aria-label="info" title="Show information for this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="294 150 58 58" class="tw-image-info-button tw-image-button"><path d="M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z"></path></svg>
</button><button aria-label="edit" title="Edit this tiddler" class="btn-invisible"><svg height="22pt" width="20pt" viewBox="244 193 20 22" class="tw-image-edit-button tw-image-button"><path d="M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z"></path></svg>
</button><button aria-label="close" title="Close this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="222 150 56 56" class="tw-image-close-button tw-image-button"><path d="M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z"></path></svg>
</button>
</span>

<span style="fill:;">

</span>



<span class="title">
PythonPackaging
</span>

</h2>

<div class="tw-tiddler-info tw-popup tw-reveal" hidden="true"></div>
</div><div class="tw-subtitle">
<a href="#WillRogers" class="tw-tiddlylink tw-tiddlylink-missing">
WillRogers
</a> 1 second ago
</div>
<div class="tw-tags-wrapper"></div>

<div class="body"><p>Python packaging has long been a tricky aspect of the language.  It appears that it is getting a bit clearer now.</p><p><a target="_blank" class="tw-tiddlylink-external" href="http://python-packaging-user-guide.readthedocs.org/en/latest/">The Python Packaging Authority</a> appears to have the latest information on Python packaging:</p><ul><li>use <code>pip</code> to install packages (or 'distributions') from PyPI</li><li>use <code>virtualenv</code> where necessary</li><li>use <a href="#PythonSetupTools" class="tw-tiddlylink tw-tiddlylink-resolves">PythonSetupTools</a> to build packages<ul><li>Distribute was forked from and merged back into setuptools, so setuptools is still the best choice</li><li>use <code>bdist_wheel</code> to build wheels</li></ul></li><li>wheels have replaced eggs as the package file of choice</li></ul></div>

</div>

<div style="transition: none 0s ease 0s ; opacity: 1;" class="tw-tiddler-frame tw-tiddler-view-frame tw-tiddler-exists  "><div class="tw-tiddler-title">
<h2 class="titlebar">
<span class="tw-tiddler-controls">
<button aria-label="info" title="Show information for this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="294 150 58 58" class="tw-image-info-button tw-image-button"><path d="M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z"></path></svg>
</button><button aria-label="edit" title="Edit this tiddler" class="btn-invisible"><svg height="22pt" width="20pt" viewBox="244 193 20 22" class="tw-image-edit-button tw-image-button"><path d="M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z"></path></svg>
</button><button aria-label="close" title="Close this tiddler" class="btn-invisible"><svg height="22pt" width="22pt" viewBox="222 150 56 56" class="tw-image-close-button tw-image-button"><path d="M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z"></path></svg>
</button>
</span>

<span style="fill:;">

</span>



<span class="title">
PythonSetupTools
</span>

</h2>

<div class="tw-tiddler-info tw-popup tw-reveal" hidden="true"></div>
</div><div class="tw-subtitle">
<a href="#WillRogers" class="tw-tiddlylink tw-tiddlylink-missing">
WillRogers
</a> 1 second ago
</div>
<div class="tw-tags-wrapper"></div>

<div class="body"><p>Setuptools is one of the many ways of distributing python packages.  Its documentation is <a target="_blank" class="tw-tiddlylink-external" href="http://pythonhosted.org/setuptools/">here</a>.</p><p>There has been much discussion about <a href="#PythonPackaging" class="tw-tiddlylink tw-tiddlylink-resolves">PythonPackaging</a>, but setuptools has won as the best way to package Python libraries.  </p><p>The basic usage is as follows; in particular, it mirrors distutils to make it fairly easy to convert:</p><pre><code>from setuptools import setup

setup(
    name = 'dls_packages',
    version = '0.1',
    description = 'Module',
    author = 'Will Rogers',
    author_email = 'will.rogers@diamond.ac.uk',
    packages = ['dls_packages']
    )   </code></pre></div>

</div>

</section><div class="tw-alerts"></div><span class="tw-topbar tw-topbar-left"></span><span class="tw-topbar tw-topbar-right"><span class=" tw-reveal">
<button aria-label="hide sidebar" title="Hide sidebar" class="btn-invisible"><svg viewBox="0 0 128 128" height="22pt" width="22pt" class="tw-image-chevron-right tw-image-button">
    <g>
        <path transform="translate(91.000000, 63.999491) rotate(-90.000000) translate(-91.000000, -63.999491) " d="M97.7982405,98.1688105 L152.184015,43.4979042 C155.938662,39.7236635 155.938662,33.6043964 152.184015,29.8301557 C148.429583,26.0559364 142.342116,26.0559364 138.587684,29.8301557 L91.0000107,77.667222 L43.4123803,29.8301557 C39.6578195,26.0559364 33.5704813,26.0559364 29.8159206,29.8301557 C26.0613598,33.6043964 26.0613598,39.7236635 29.8159206,43.4979042 L84.2017595,98.1688105 C87.9563202,101.943051 94.0436798,101.943051 97.7982405,98.1688126 L97.7982405,98.1688105 Z"></path>
        <path transform="translate(37.000000, 63.999491) rotate(-90.000000) translate(-37.000000, -63.999491) " d="M43.7982405,98.1688105 L98.1840153,43.4979042 C101.938662,39.7236635 101.938662,33.6043964 98.1840153,29.8301557 C94.4295828,26.0559364 88.3421164,26.0559364 84.5876838,29.8301557 L37.0000107,77.667222 L-10.5876197,29.8301557 C-14.3421805,26.0559364 -20.4295187,26.0559364 -24.1840794,29.8301557 C-27.9386402,33.6043964 -27.9386402,39.7236635 -24.1840794,43.4979042 L30.2017595,98.1688105 C33.9563202,101.943051 40.0436798,101.943051 43.7982405,98.1688126 L43.7982405,98.1688105 Z"></path>
    </g>
</svg></button>
</span>
<span class=" tw-reveal" hidden="true"></span>
</span></div></div></div>
<!--~~ Static styles ~~-->
<div id="styleArea">
<style data-tiddler-title="$:/boot/boot.css" data-tiddler-type="text/css" type="text/css">/*
Basic styles used before we boot up the parsing engine
*/

/*
Error message and password prompt
*/

.tw-password-wrapper, .tw-error-form {
    font-family: sans-serif;
	z-index: 20000;
	position: fixed;
	text-align: center;
	width: 200px;
	top: 4em;
    left: 50%;
    margin-left: -144px; /* - width/2 - paddingHorz/2 - border */
	padding: 16px 16px 16px 16px;
	border-radius: 8px;
}

.tw-error-form {
	color: #fff;
	text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5);
	background-color: rgb(255, 75, 75);
	border: 8px solid rgb(255, 0, 0);
	width: 480px;
    margin-left: -244px; /* - width/2 - paddingHorz/2 - border */
}

.tw-error-form div {
	padding-bottom: 1em;
}

.tw-error-prompt {
	color: #000;
	text-shadow: none;
}

.tw-password-wrapper {
	color: #000;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	background-color: rgb(197, 235, 183);
	border: 8px solid rgb(164, 197, 152);
}

.tw-password-wrapper form {
	text-align: left;
}

.tw-password-wrapper h1 {
	font-size: 16px;
	line-height: 20px;
	padding-bottom: 16px;
}

.tw-password-wrapper input {
	width: 100%;
}
</style>
</div>
<!--~~ Static content for Google and browsers without JavaScript ~~-->
<noscript>
<div id="splashArea">

<p>This <a class='tw-tiddlylink-external' href='http://tiddlywiki.com' target='_blank'>TiddlyWiki</a> contains the following tiddlers:</p><p><ul>

<li>_account</li>

<li>_reply</li>

<li>_space</li>

<li>.bashrc</li>

<li>.vimrc</li>

<li>$:/core</li>

<li>$:/DefaultTiddlers</li>

<li>$:/HistoryList</li>

<li>$:/isEncrypted</li>

<li>$:/plugins/tiddlywiki/fullscreen</li>

<li>$:/SiteSubtitle</li>

<li>$:/SiteTitle</li>

<li>$:/state/showeditpreview</li>

<li>$:/state/sidebar</li>

<li>$:/state/tab-{-1887685055}</li>

<li>$:/state/tab/sidebar-{312696086}</li>

<li>$:/status/UserName</li>

<li>$:/StoryList</li>

<li>$:/temp/ImportReport</li>

<li>$:/temp/search</li>

<li>$:/themes/tiddlywiki/snowwhite</li>

<li>$:/themes/tiddlywiki/vanilla</li>

<li>ABSLight</li>

<li>AccountingConsolidation</li>

<li>AddPrinters</li>

<li>AddressChanges</li>

<li>AlbumsWanted</li>

<li>AllCosts</li>

<li>AndroidApiGuides</li>

<li>AndroidAppBasics</li>

<li>AndroidAppFiles</li>

<li>AndroidDesign</li>

<li>AndroidDevelop</li>

<li>AndroidDevelopment</li>

<li>AndroidDistribute</li>

<li>AndroidDocumentation</li>

<li>AndroidManifest</li>

<li>AndroidUIs</li>

<li>ApelNotes</li>

<li>ApelWarnings</li>

<li>apps</li>

<li>AustenEmail</li>

<li>B18</li>

<li>Backstage</li>

<li>backstage.svg</li>

<li>BankAccounts</li>

<li>BashConditions</li>

<li>BashControlFlow</li>

<li>BashFunctions</li>

<li>BashNumbers</li>

<li>BashScripting</li>

<li>BashScriptingBasics</li>

<li>BashSpecialCharacters</li>

<li>BashStrings</li>

<li>BashSubScripts</li>

<li>BashSyntax</li>

<li>BasicCompSci</li>

<li>BatchSystems</li>

<li>BerkeleyDB</li>

<li>BigONotation</li>

<li>BinaryTiddlersPlugin</li>

<li>BinaryUploadPlugin</li>

<li>BitwiseOperators</li>

<li>BuildingAndroid</li>

<li>BuildingCss</li>

<li>BuyingACar</li>

<li>CampingFrance</li>

<li>cancelTiddler</li>

<li>CarThings</li>

<li>CaTools</li>

<li>CaToolsImplementation</li>

<li>CBasicIO</li>

<li>CBasics</li>

<li>CDocumentation</li>

<li>CEnums</li>

<li>CEscapeChars</li>

<li>CFunctionPointers</li>

<li>ChristmasPresents</li>

<li>chrjs</li>

<li>CKeywords</li>

<li>CLinking</li>

<li>close.svg</li>

<li>closeTiddler</li>

<li>CloudUbuntu</li>

<li>CMemory</li>

<li>CNumbers</li>

<li>CodePython</li>

<li>CollaborationBoard</li>

<li>ColorPalette</li>

<li>colorScheme</li>

<li>CompilingEdm</li>

<li>ComputeAccounting</li>

<li>ComputeSummary</li>

<li>ComputingNotes</li>

<li>ConcludingRemarks</li>

<li>ConfigureScripts</li>

<li>ContactLenses</li>

<li>ControlsAde</li>

<li>ControlsGit</li>

<li>CoThread</li>

<li>CPointers</li>

<li>CPointersAndArrays</li>

<li>CPPBasics</li>

<li>CPPClasses</li>

<li>CPPDataTypes</li>

<li>CPPFunctions</li>

<li>CPPSyntax</li>

<li>CPrimitiveTypes</li>

<li>CPrintf</li>

<li>CryptographyNotes</li>

<li>CssBasics</li>

<li>CssBoy</li>

<li>CssClassesIds</li>

<li>CssCore</li>

<li>CsscStuff</li>

<li>CssPositioning</li>

<li>CssProblems</li>

<li>CssStartup</li>

<li>CsStudio</li>

<li>CssWorkspaces</li>

<li>CStdFunctions</li>

<li>CStrings</li>

<li>CStructs</li>

<li>CTypedef</li>

<li>CvsNotes</li>

<li>CyanogenMod</li>

<li>DatabaseTheory</li>

<li>DataSummary</li>

<li>DefaultTiddlers</li>

<li>deleteTiddler</li>

<li>DiamondBeamlines</li>

<li>DiamondLauncher</li>

<li>DiamondMachine</li>

<li>DiamondMagnets</li>

<li>DiamondModules</li>

<li>DiamondNotes</li>

<li>DiamondPython</li>

<li>DiamondRedirector</li>

<li>DiamondScripts</li>

<li>DiamondSetup</li>

<li>DiffFormatter</li>

<li>DifficultSpellings</li>

<li>DigitalMusic</li>

<li>DisappearingBug</li>

<li>DlsEnvironment</li>

<li>DlsRelease</li>

<li>DlsScripts</li>

<li>DpmTalk</li>

<li>DvdRipping</li>

<li>DynamicDns</li>

<li>EclipseCommands</li>

<li>EclipseDiamond</li>

<li>EclipseDisplay</li>

<li>EclipseEditorsAndViews</li>

<li>EclipseNotes</li>

<li>EclipsePackages</li>

<li>EclipsePerspectives</li>

<li>EclipsePlatform</li>

<li>EclipsePlatform4</li>

<li>EclipsePlatformUI</li>

<li>EclipsePlugins</li>

<li>EclipseProduct</li>

<li>EclipseShell</li>

<li>EclipseSwt</li>

<li>EclipseWorkbench</li>

<li>EditTemplate</li>

<li>editTiddler</li>

<li>editTiddlerReadOnly</li>

<li>EdmBug</li>

<li>EdmConverter</li>

<li>EffectiveJava</li>

<li>EgiCfMunich</li>

<li>EgiSummary</li>

<li>EgiTfPrague</li>

<li>EmiAhmBudapest</li>

<li>EmiAhmHamburg</li>

<li>EmiAhmPadova</li>

<li>EmiCanl</li>

<li>EmiCollaborations</li>

<li>EmiConsolidation</li>

<li>EmiDevelopment</li>

<li>EmiJRA1</li>

<li>EmiMessaging</li>

<li>EmiNA1</li>

<li>EmiNA2</li>

<li>EmiNA3</li>

<li>EmiOutlook</li>

<li>EmiQA</li>

<li>EmiQualityControl</li>

<li>EmiReleases</li>

<li>EmiSA1</li>

<li>EmiSA2</li>

<li>EmiSoftwareTools</li>

<li>EmiStandards</li>

<li>EmiSummary</li>

<li>EmiUserSupport</li>

<li>EmiWorkPackages</li>

<li>EpelPackaging</li>

<li>EpicsArchiver</li>

<li>EpicsDiirt</li>

<li>EpicsEdm</li>

<li>EpicsExtensions</li>

<li>EpicsPython</li>

<li>EpicsQt</li>

<li>EpicsSource</li>

<li>ErrorHandler</li>

<li>Euro2012Sweepstake</li>

<li>EuropeanFunding</li>

<li>EuropeanMiddlewareInitiative</li>

<li>ExtensionPoints</li>

<li>ExternalConnection</li>

<li>FakenhamFair</li>

<li>FastArchiver</li>

<li>FastFeedback</li>

<li>FastFeedbackExcite</li>

<li>FastFeedbackOpi</li>

<li>FastFeedbackSrc</li>

<li>FastFeedbackVariables</li>

<li>favicon.ico</li>

<li>FileSystems</li>

<li>FindLocate</li>

<li>FofbConfig</li>

<li>FollowTiddlersBlackList</li>

<li>ForwardingAddress</li>

<li>FranceFlights</li>

<li>FreeXperia</li>

<li>FutureWork</li>

<li>GchqPuzzles</li>

<li>GenericDevice</li>

<li>GettingStarted</li>

<li>GitBranch</li>

<li>GitCommit</li>

<li>GitDirectory</li>

<li>GitNotes</li>

<li>GitPush</li>

<li>GitRemote</li>

<li>GitReset</li>

<li>GitShow</li>

<li>GitStash</li>

<li>GitSvn</li>

<li>GitTag</li>

<li>GnuDebugger</li>

<li>GnuMake</li>

<li>GoogleContacts</li>

<li>GotoPlugin</li>

<li>GroupByPlugin</li>

<li>GuitarDrills</li>

<li>GuitarTabs</li>

<li>HaskellBasics</li>

<li>HaskellBuiltins</li>

<li>HaskellFunctions</li>

<li>HaskellImports</li>

<li>HaskellIO</li>

<li>HaskellLists</li>

<li>HaskellTypeConversions</li>

<li>HaskellTypes</li>

<li>Home</li>

<li>HomeComputer</li>

<li>HomeNotes</li>

<li>How to socialise</li>

<li>HtmlBasics</li>

<li>I03</li>

<li>I04</li>

<li>I06</li>

<li>I10</li>

<li>I10ChicaneMagnets</li>

<li>I10Switching</li>

<li>I13L</li>

<li>I14</li>

<li>I24</li>

<li>IfcfgEth0</li>

<li>ImageMacroPlugin</li>

<li>InfrastructureSummary</li>

<li>JavaAnt</li>

<li>JavaClasspath</li>

<li>JavaGenerics</li>

<li>JavaKeywords</li>

<li>JavaMaven</li>

<li>JavaNotes</li>

<li>JavaScript</li>

<li>JFace</li>

<li>JGApelTalk</li>

<li>JobSources</li>

<li>LaptopProcessors</li>

<li>LauncherProgram</li>

<li>LauncherScripts</li>

<li>LdapBdii</li>

<li>LinuxCommands</li>

<li>LinuxFilesystem</li>

<li>LinuxLinks</li>

<li>LinuxLocations</li>

<li>LinuxPartitions</li>

<li>LinuxProfiles</li>

<li>LinuxTerminal</li>

<li>LizPresents</li>

<li>LizSize</li>

<li>LocalInstallations</li>

<li>LocateCygwin</li>

<li>MainMenu</li>

<li>MarkupPreHead</li>

<li>MatlabArrays</li>

<li>MatlabBasics</li>

<li>MatlabBuiltins</li>

<li>MatlabFunctions</li>

<li>MatlabLicenses</li>

<li>MatlabLoco</li>

<li>MatlabNotes</li>

<li>MatPlotLib</li>

<li>MessageChannel</li>

<li>MessageHashes</li>

<li>MessagingPatterns</li>

<li>MessagingQuestions</li>

<li>MetaLang</li>

<li>MetaLangRecursion</li>

<li>MetaLangSyntax</li>

<li>MetaTiddly</li>

<li>MiddleLayer</li>

<li>MiniCosts</li>

<li>MiscLinks</li>

<li>missingIcon</li>

<li>MobileProblems</li>

<li>moreCommand</li>

<li>MoreOnPorting</li>

<li>MpiAccounting</li>

<li>MySQLFiles</li>

<li>MySQLIndices</li>

<li>MysqlNotes</li>

<li>NagiosNotes</li>

<li>NetworkDrive</li>

<li>New Tiddler</li>

<li>NewComputer</li>

<li>NewFlatCosts</li>

<li>NewLaptop</li>

<li>NewYorkGirls</li>

<li>NikonCamera</li>

<li>NikonLenses</li>

<li>NorthernLights</li>

<li>NumPy</li>

<li>OgfUrTalk</li>

<li>OpiBuilderPlugin</li>

<li>OpiBuilderRunmode</li>

<li>OpiBuilderScripts</li>

<li>OpiBuilderUtil</li>

<li>OpiBuilderWidgetsPlugin</li>

<li>OrthoticInsoles</li>

<li>OSGi</li>

<li>OtherAccountingServices</li>

<li>PageTemplate</li>

<li>ParticleAccelerators</li>

<li>PastAddresses</li>

<li>PhotoOrganisation</li>

<li>PhysicsSoftware</li>

<li>PiCam</li>

<li>PlusNet</li>

<li>PoloCosts</li>

<li>PoloForSale</li>

<li>PoloToDo</li>

<li>PortingToSL6</li>

<li>PossibleFlats</li>

<li>PossibleJobs</li>

<li>PossibleLaptops</li>

<li>PossibleRequirements</li>

<li>privateAndPublicIcon</li>

<li>privateIcon</li>

<li>privateNotPublicIcon</li>

<li>ProgrammingTypes</li>

<li>ProjectEuler</li>

<li>PThreads</li>

<li>publicIcon</li>

<li>PyGtk</li>

<li>PylintProfile</li>

<li>PyQt</li>

<li>Python3</li>

<li>PythonBoolean</li>

<li>PythonBuiltins</li>

<li>PythonClasses</li>

<li>PythonDaemon</li>

<li>PythonDecorators</li>

<li>PythonDistutils</li>

<li>PythonDocstrings</li>

<li>PythonDocumentation</li>

<li>PythonExceptions</li>

<li>PythonFunctions</li>

<li>PythonGarbage</li>

<li>PythonLists</li>

<li>PythonMachine</li>

<li>PythonMock</li>

<li>PythonNone</li>

<li>PythonNotes</li>

<li>PythonPackages</li>

<li>PythonProfiler</li>

<li>PythonRegex</li>

<li>PythonSelf</li>

<li>PythonSetupTools</li>

<li>PythonSoftIoc</li>

<li>PythonStructs</li>

<li>PythonSyntax</li>

<li>PythonThreading</li>

<li>QtBasics</li>

<li>RandomColorPalettePlugin</li>

<li>RaspberryPi</li>

<li>RaspBian</li>

<li>RaspBMC</li>

<li>RawFiles</li>

<li>ReadingFlats</li>

<li>RecordNotes</li>

<li>RecurrenceRelations</li>

<li>RefreshTiddlerCommand</li>

<li>RegexNotes</li>

<li>RepeaterBeater</li>

<li>RevisionsCommandPlugin</li>

<li>RevisionTemplate</li>

<li>robots</li>

<li>RpmBuild</li>

<li>SamsungLaptop</li>

<li>saveDraft</li>

<li>saveTiddler</li>

<li>SaxPython</li>

<li>ScienceSoft</li>

<li>SearchOptionsPlugin</li>

<li>SedAndAwk</li>

<li>SelfSignedCert</li>

<li>ServerSideSavingPlugin</li>

<li>setDefaultTiddlers</li>

<li>shadowIcon</li>

<li>SideBarOptions</li>

<li>SideBarTabs</li>

<li>SiteIcon</li>

<li>SiteInfo</li>

<li>SiteSubtitle</li>

<li>SiteSubtitle [draft]</li>

<li>SiteTitle</li>

<li>SkiingCosts</li>

<li>SlowFeedback</li>

<li>SlurmTalk</li>

<li>spaceIcon</li>

<li>SpaceSettings</li>

<li>spaceTitle</li>

<li>SpotifyProxy</li>

<li>SpotiPi</li>

<li>SqlFunctions</li>

<li>SqlNull</li>

<li>SqlSyntax</li>

<li>SshKeyAuthentication</li>

<li>SsmException</li>

<li>Start writing</li>

<li>StfcVpn</li>

<li>StickyBit</li>

<li>StomProtocol</li>

<li>StorageAccounting</li>

<li>StructuredMarkup</li>

<li>StyleSheet</li>

<li>StyleSheetTiddler</li>

<li>StyleSheetTiddlySpace</li>

<li>SudokuPython</li>

<li>SvnNotes</li>

<li>SvnUbuntu</li>

<li>SystemSettings</li>

<li>TabletComputer</li>

<li>TeachingPython</li>

<li>TechnicolorRouter</li>

<li>TenerifeFlights</li>

<li>ThingsIdLike</li>

<li>TiddlyFileImporter</li>

<li>TiddlySpaceBackstage</li>

<li>TiddlySpaceCloneCommand</li>

<li>TiddlySpaceConfig</li>

<li>TiddlySpaceCSRF</li>

<li>TiddlySpaceFilters</li>

<li>TiddlySpaceFollowingPlugin</li>

<li>TiddlySpaceInit</li>

<li>TiddlySpaceLinkPlugin</li>

<li>TiddlySpacePublishingCommands</li>

<li>TiddlySpaceRevertRevision</li>

<li>TiddlySpaceRevisionView</li>

<li>TiddlySpaceSanitizer</li>

<li>TiddlySpaceSearcher</li>

<li>TiddlySpaceTabs</li>

<li>TiddlySpaceTiddlerIconsPlugin</li>

<li>TiddlySpaceToolbar</li>

<li>TiddlySpaceViewTypes</li>

<li>TiddlyWebAdaptor</li>

<li>TiddlyWebConfig</li>

<li>ToggleTiddlerPrivacyPlugin</li>

<li>ToolbarCommands</li>

<li>ToothIssue</li>

<li>Topup</li>

<li>TopupTesting</li>

<li>TopupUnitTests</li>

<li>TStoRM</li>

<li>TtyWtf</li>

<li>TvHeadEnd</li>

<li>UbuntuElevenFour</li>

<li>UbuntuElevenTen</li>

<li>UbuntuFourteenFour</li>

<li>UbuntuGrub</li>

<li>UbuntuHashes</li>

<li>UbuntuThirteenTen</li>

<li>UbuntuTwelveTen</li>

<li>UnixDos</li>

<li>unsyncedIcon</li>

<li>ViewTemplate</li>

<li>VimNotes</li>

<li>VirtualBox</li>

<li>VirtualDebian</li>

<li>VirtualMachines</li>

<li>VirtualMint</li>

<li>VirtualSL6</li>

<li>VirtualUbuntu</li>

<li>willrogersSetupFlag</li>

<li>WindowsLicences</li>

<li>WindowsNotes</li>

<li>WindowsPrograms</li>

<li>WorkAccounts</li>

</ul>
</p>



</div>
</noscript>
<!--~~ Ordinary tiddlers ~~-->

<div id="storeArea" style="display:none;">
<div _hash="96201fdb51bfa585c117321c84d64d2fb9a3df71" created="20131111192332000" creator="None" modified="20131111192332000" modifier="None" server.bag="tiddlyspace" server.content-type="text/html" server.etag="&quot;tiddlyspace/_account/1521899:fbc9d9929da5ff7a2da5b1b4d766763df4e5ce18&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521899" server.permissions="read" server.recipe="willrogers_private" server.title="_account" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeMissing excludeSearch" title="_account" type="text/x-tiddlywiki">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8"&gt;
	&lt;title&gt;Account&lt;/title&gt;
	&lt;link href="/bags/common/tiddlers/profile.css" type='text/css' rel='stylesheet' &gt;
	&lt;link href="/bags/common/tiddlers/admin.css" type='text/css' rel='stylesheet' &gt;
	&lt;link href="/bags/common/tiddlers/jquery-ui.custom.css" type='text/css' rel='stylesheet' &gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div id="container"&gt;
	&lt;div class="main section"&gt;
		&lt;a class="app" href="/"&gt;home&lt;/a&gt;
		&lt;div class="left"&gt;
		&lt;div id="siteiconArea"&gt;
		&lt;h2&gt;User Icon&lt;/h2&gt;
		&lt;div&gt;
			&lt;img id="siteicon" class="siteicon"&gt;
			&lt;form id="upload" method="POST" enctype="multipart/form-data"&gt;
				&lt;input type="hidden" name="title" value="SiteIcon" /&gt;
				&lt;input type="hidden" name="tags" value="excludeLists"&gt;
				&lt;input type="hidden" name="csrf_token" class="csrf" /&gt;
				&lt;input type="file" name="file" accept="image/*" /&gt;
				&lt;input type="submit" value="upload" /&gt;
			&lt;/form&gt;
			&lt;div id="dropzone"&gt;Drop file here
				&lt;img class="notloading" src="/bags/common/tiddlers/ajax-loader.gif" alt="submitting SiteIcon" /&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;h2&gt;Find Space&lt;/h2&gt;
		&lt;form class="spaceSearch"&gt;
			&lt;input class="inputBox" type="text" placeholder="find space" /&gt;
			&lt;a href="http://docs.tiddlyspace.com/What%20is%20a%20Space%3F" class="help"
				title="What is a space?"&gt;What is a space?&lt;/a&gt;
			&lt;button&gt;view all&lt;/button&gt;
		&lt;/form&gt;
		&lt;div class='list-container'&gt;
			You are a member of the following spaces:
			&lt;ul class='ts-space-search'&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;h2&gt;Create New Space&lt;/h2&gt;
		&lt;form class="ts-spaces"&gt;
			&lt;input class="inputBox" type="text" name="spacename" placeholder="space name"&gt;&lt;span class="hostSuffix"&gt;.tiddlyspace.com&lt;/span&gt;
			&lt;input type="submit" value="Create Space" /&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;div class="right"&gt;
		&lt;h2&gt;Change Password&lt;/h2&gt;
		&lt;form class="ts-password"&gt;
			&lt;input class="inputBox" placeholder="existing password" type="password" name="password"&gt;
			&lt;input class="inputBox" placeholder="new password" type="password" name="new_password"&gt;
			&lt;input class="inputBox" placeholder="new password"	type="password" name="new_password_confirm"&gt;
			&lt;input type="submit" value="Change password"&gt;
		&lt;/form&gt;
		&lt;h2&gt;OpenID&lt;/h2&gt;
		&lt;h3&gt;Why OpenID?&lt;/h3&gt;
		&lt;a href="http://openid.net/"&gt;&lt;img src="/bags/common/tiddlers/openid.png" alt="openid" &gt;&lt;/a&gt;&lt;br /&gt;
		Use just one username and password across hundreds of OpenID-enabled sites.&lt;br /&gt;
		It's an open standard.&lt;br /&gt;
		&lt;a href="http://openid.net/what/"&gt;learn more&lt;/a&gt;
		&lt;ul class="ts-identities"&gt;&lt;/ul&gt;
		&lt;form class="ts-openid" target="_top"&gt;
			&lt;div&gt;
				Add an openid:
			&lt;/div&gt;
			&lt;input class="inputBox" type="text" name="openid" placeholder="your openid" /&gt;
			&lt;input type="submit" value="Register" /&gt;
			&lt;a href="http://openid.net/get-an-openid/" class="help"
			title="What is an open id?"&gt;What is an open id?&lt;/a&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;div class="clear"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script src="/bags/common/tiddlers/backstage.js"&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.space'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.users'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.identities'&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/jquery-ui.custom.js"&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery-form.js'&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/siteiconupload.js"&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/ts.js'&gt;&lt;/script&gt;
&lt;script src="/status.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
/*
 * jQuery UI Autocomplete HTML Extension
 *
 * Copyright 2010, Scott González (http://scottgonzalez.com)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * http://github.com/scottgonzalez/jquery-ui-extensions
 */
(function( $ ) {

var proto = $.ui.autocomplete.prototype,
	initSource = proto._initSource;

function filter( array, term ) {
	var matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), "i" );
	return $.grep( array, function(value) {
		return matcher.test( $( "&lt;div&gt;" ).html( value.label || value.value || value ).text() );
	});
}

$.extend( proto, {
	_initSource: function() {
		if ( this.options.html &amp;&amp; $.isArray(this.options.source) ) {
			this.source = function( request, response ) {
				response( filter( this.options.source, request.term ) );
			};
		} else {
			initSource.call( this );
		}
	},

	_renderItem: function( ul, item) {
		return $( "&lt;li&gt;&lt;/li&gt;" )
			.data( "item.autocomplete", item )
			.append( $( "&lt;a&gt;&lt;/a&gt;" )[ this.options.html ? "html" : "text" ]( item.label ) )
			.appendTo( ul );
	}
});

})( jQuery );

/***
_accounts application specific javascript
***/
var link;
ts.init(function(ts) {
	if(ts.user.anon) { // redirect to homepage when user not logged in
		window.location = ts.getHost();
	} else if(ts.user.name === ts.currentSpace){
		initSiteIconUpload(ts.user.name);
	} else {
		link = $("&lt;a /&gt;").attr("href", ts.getHost(ts.user.name) + "/_account").text("Change User Icon");
		$("#siteiconArea div").empty().append(link);
	}
	$(".hostSuffix").text("." + ts.getHost("").split("//")[1]);
	ts.getSpaces(function(spaces) {
		$("&lt;div class='info' /&gt;").text("You have " + spaces.length + " spaces.").insertBefore($(".spaceSearch")[0]);
		$("form.spaceSearch input").autocomplete({
			html: true,
			source: function(req, response) {
				ts.getSpaces(function(spaces) {
					var selected = [];
					for(var i = 0; i &lt; spaces.length; i++) {
						var space = spaces[i];
						if(space.name.indexOf(req.term) &gt; -1) {
							var host = ts.getHost(space.name) ;
							var img = host + "/SiteIcon";
							selected.push({
								value: space.name,
								label: '&lt;a href="' + host + '" target="_parent" class="autocompleteLink"&gt;&lt;img src="' + img + '" style="height:24px;width:auto;max-height:24px;max-width:24px;"/&gt;' + space.name + '&lt;/a&gt;'
							});
						}
					}
					response(selected);
				});
			},
			select: function(event, ui) {
				window.top.location = ts.getHost(ui.item.value);
			}
		});

		var $ul = $('.ts-space-search');
		$.each(spaces, function(i, space) {
			$ul.append($('&lt;li/&gt;').html($('&lt;a/&gt;').attr('href', space.uri)
				.text(space.name)));
		});

		$('form.spaceSearch button').click(function(ev) {
			$('.list-container').slideToggle('fast');
			ev.preventDefault();
			return false;
		});
	});
});

if(window != window.top) {
	$("html").addClass("iframeMode");
	$("a").live("click",function(ev) {
		$(ev.target).attr("target", "_parent");
	});
}
&lt;/script&gt;
&lt;!--[if lt IE 8]&gt;
&lt;script type="text/javascript" src="/bags/common/tiddlers/json2.js"&gt;&lt;/script&gt;
&lt;![endif]--&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div _hash="01c7fff74dd8fd746394153d7c586fee665e4ce6" created="20131111192332000" creator="bengillies" modified="20131111192332000" modifier="bengillies" server.bag="tiddlyspace" server.content-type="text/html" server.etag="&quot;tiddlyspace/_reply/1521889:3b3e67dcbe2725711533d0829b534ccb096cd0a6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521889" server.permissions="read" server.recipe="willrogers_private" server.title="_reply" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeMissing excludeSearch" title="_reply" type="text/x-tiddlywiki">
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;
	&lt;title&gt;Reply&lt;/title&gt;
	&lt;link rel="stylesheet" href="//tiddlyspace.com/bags/benspa_public/tiddlers/bootvelcro.css"&gt;
	&lt;style&gt;
		html,
		body {
			overflow: hidden;
			background-color: transparent;
		}

		#container {
			/* prevent a fouc if no images present */
			display: none;
		}

		.modal-header {
			border-bottom: none;
			padding: 5px 0 0;
			position: absolute;
			width: 100%;
			background-color: #e0e0e0;
			-webkit-border-radius: 6px 6px 0 0;
			-moz-border-radius: 6px 6px 0 0;
			border-radius: 6px 6px 0 0;
			cursor: move;
		}

		.form-actions {
			position: absolute;
			bottom: 0;
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			width: 100%;
			margin: 0;
			border-radius: 0 0 6px 6px;
			background-color: #e0e0e0;
			border-top: 1px solid gray;
		}

		.form-actions input.btn {
			width: auto;
			float: right;
			margin: 0 0.2em;
		}

		.closeBtn {
			background-color: #DCE7F1 !important;
		}

		.primary {
			background-color: #09F !important;
		}

		h1 {
			margin-bottom: 9px;
			margin-top: 9px;
		}

		body {
			width: 100%;
			height: 100%;
			position: absolute;
		}

		.modal {
			margin: 10px;
			top: 0;
			left: 0;
			bottom: 0;
			width: 510px;
			position: absolute;
			box-shadow: #444 0px 0px 10px 2px;
			border-radius: 6px;
			background-color: white;
			border: 1px solid gray;
			background-color: #F0F4F8;
		}

		label em {
			cursor: pointer;
		}

		.modal-body {
			overflow: auto;
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			margin: 65px 20px 67px;
			background-color: transparent;
		}

		.nav-tabs {
			padding-left: 1%;
			margin: 0;
			width: 99%;
			border-color: gray;
		}

		.nav-tabs &gt; li {
			cursor: pointer;
		}

		.nav-tabs &gt; li &gt; a {
			line-height: 2.4em;
			font-weight: bold;
			font-size: 100%;
		}

		.nav-tabs &gt; li.active &gt; a{
			background-color: #F0F4F8;
			border-color: gray;
			border-bottom-color: #F0F4F8;
		}

		.active {
			display: block;
		}

		input,
		textarea,
		select,
		.uneditable-input {
			color: #606060;
		}

		.imagePicker {
			-moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			-webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
			border: 1px solid #CCC;
			height: 110px;
			overflow: auto;
			-webkit-border-radius: 3px;
			-moz-border-radius: 3px;
			border-radius: 3px;
			margin-left: 0;
		}

		.imagePicker img {
			margin: 5px;
			border: 2px solid transparent;
		}

		.imagePicker .current {
			border: 2px dotted #555;
		}

		label {
			font-weight: bold;
		}

		.form-actions label {
			float: left;
			margin-top: 0.75em;
		}

		fieldset input,
		fieldset textarea {
			width: 90%;
			border-color: gray;
		}

		@media all and (max-width: 550px) {
			.modal {
				width: 95%;
			}
		}

		#help {
			position: absolute;
			border: 0;
			right: 4px;
			top: 5px;
			text-indent: -9999px;
			color: transparent;
			height: 16px;
			width: 16px;
			background: none;
			background-image: url(/bags/common/tiddlers/help.png);
			background-repeat: no-repeat;
			background-color: white;
			z-index: 2;
			border-radius: 10px;
		}

		#help-info {
			padding: 0;
			border: 1px solid gray;
			width: 60%;
			height: 50px;
			color: #404040;
			background-color: white;
			position: absolute;
			top: 5px;
			right: 5px;
			z-index: 1;
			cursor: auto;
			border-radius: 5px;

		}

		#help-info p {
			padding: 10px 25px;
			margin-bottom: 0;
		}
	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div id="container"&gt;
		&lt;form action="#" class="modal"&gt;
			&lt;div class="modal-header"&gt;
				&lt;button id="help"&gt;help&lt;/button&gt;
				&lt;div id="help-info" style="display:none;"&gt;&lt;p&gt;
				Found something interesting? Write about it in your own space. &lt;a href="//docs.tiddlyspace.com/Reply to this Tiddler" target="_blank"&gt;Find out more&lt;/a&gt;
				&lt;/p&gt;&lt;/div&gt;
				&lt;ul class="nav nav-tabs" data-tabs="tabs"&gt;
					&lt;li class="active" data-tab-name="post"&gt;&lt;a href="#postForm"&gt;Reply&lt;/a&gt;&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;


			&lt;fieldset id="postForm" class="modal-body"&gt;
				&lt;label&gt;Title
					&lt;input type="text" name="title"&gt;
				&lt;/label&gt;
				&lt;input type="hidden" name="url"&gt;
				&lt;label&gt;Post
					&lt;textarea name="text" rows="8"&gt;&lt;/textarea&gt;
				&lt;/label&gt;
				&lt;label&gt;Tags
					&lt;input type="text" name="tags" value=""&gt;
				&lt;/label&gt;
			&lt;/fieldset&gt;


			&lt;div class="form-actions"&gt;
				&lt;label class="checkbox"&gt;
					&lt;input type="checkbox" name="private" val="private"&gt;
					keep private
				&lt;/label&gt;
				&lt;input type="submit" class="btn primary btn-large" value="Done"&gt;
				&lt;input type="button" class="btn btn-large closeBtn" value="Cancel"&gt;
			&lt;/div&gt;
		&lt;/form&gt;
	&lt;/div&gt;

	&lt;script type="text/javascript"
            src="/bags/common/tiddlers/jquery.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/tiddlyspace/tiddlers/chrjs"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/_reply.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div _hash="8c535528a72c980d5c68cc9ca28ef21cb040b270" created="20131111192332000" creator="None" modified="20131111192332000" modifier="None" server.bag="tiddlyspace" server.content-type="text/html" server.etag="&quot;tiddlyspace/_space/1521890:c1e3276ece15f4abffaf44c8106e354b65d73106&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521890" server.permissions="read" server.recipe="willrogers_private" server.title="_space" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeMissing excludeSearch" title="_space" type="text/x-tiddlywiki">
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8"&gt;
	&lt;title&gt;This Space&lt;/title&gt;
	&lt;link href="/bags/common/tiddlers/profile.css" type='text/css' rel='stylesheet' &gt;
	&lt;link href="/bags/common/tiddlers/admin.css" type='text/css' rel='stylesheet' &gt;
	&lt;!--[if lte IE 8]&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/json2.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/es5-shim.min.js"&gt;&lt;/script&gt;
	&lt;![endif]--&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="container"&gt;
	&lt;div id="text-html" class="main section"&gt;
		&lt;a class="app" href="/"&gt;home&lt;/a&gt;
		&lt;div class="left"&gt;
		&lt;h2&gt;About this space &lt;button class='toggleNext'&gt;&lt;/button&gt;&lt;/h2&gt;
		&lt;div id="siteinfo"&gt;&lt;/div&gt;
		&lt;h2&gt;Site Icon&lt;/h2&gt;
		&lt;div&gt;
			&lt;img id="siteicon" class="siteicon"&gt;
			&lt;form id="upload" method="POST" enctype="multipart/form-data"&gt;
				&lt;input type="hidden" name="title" value="SiteIcon" /&gt;
				&lt;input type="hidden" name="tags" value="excludeLists"&gt;
				&lt;input type="hidden" name="csrf_token" class="csrf" /&gt;
				&lt;input type="file" name="file" accept="image/*" /&gt;
				&lt;input class="btn" type="submit" value="upload" /&gt;
			&lt;/form&gt;
			&lt;div id="dropzone"&gt;Drop file here
				&lt;img class="notloading" src="/bags/common/tiddlers/ajax-loader.gif" alt="submitting SiteIcon" /&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;h2&gt;Vital Statistics&lt;/h2&gt;
		&lt;div id="info"&gt;please wait while information is loaded about this space...&lt;/div&gt;
		&lt;button class="spacereset"&gt;Reset Space&lt;/button&gt;
		&lt;div class="reset-confirm-wrap messageArea"&gt;
			&lt;button class="close-btn" title="cancel reset"&gt;×&lt;/button&gt;
			&lt;p&gt;Are you sure you want to reset the space? You can't go back! This will remove all the content from the space!&lt;/p&gt;
			&lt;form class="cf"&gt;
				&lt;label for="reset-confirm"&gt;Enter the space name to confirm.&lt;/label&gt;
				&lt;input type="text" name="reset-confirm" class="reset-confirm-input inputBox" /&gt;
				&lt;button type="submit"&gt;Reset Now&lt;/button&gt;
			&lt;/form&gt;
			&lt;div class="reset-message-area"&gt;
				&lt;p class="performing"&gt;Resetting...&lt;/p&gt;
				&lt;p class="finished"&gt;Reset Done!&lt;/p&gt;
				&lt;p class="recipe-error-msg"&gt;Error removing includes. Please remove manually.&lt;/p&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class="right"&gt;
		&lt;div class="ts-membership"&gt;
			&lt;h2&gt;
				Add Member
				&lt;a href="http://docs.tiddlyspace.com/What%20is%20a%20member%3F" title="What is a Member?" class="help"&gt;What is a Member?&lt;/a&gt;
			&lt;/h2&gt;
			&lt;div&gt;
				&lt;p&gt;Add a new member to your space by entering their name below. Enter a space name instead and prefix with @ to add everyone who is already a member of that space.&lt;/p&gt;
				&lt;form class="ts-members"&gt;
					&lt;input class="inputBox" type="text" name="username"&gt;
					&lt;input type="submit" value="Add Member" class="btn" /&gt;
				&lt;/form&gt;
			&lt;/div&gt;
			&lt;h2&gt;
				Existing Members &lt;button class='toggleNext'&gt;&lt;/button&gt;
			&lt;/h2&gt;
			&lt;div&gt;
				Your space currently has the following members: 
				&lt;ul class="ts-members"&gt;&lt;/ul&gt;
			&lt;/div&gt;
			&lt;h2&gt;
				Include Space
				&lt;a class="help" href="http://docs.tiddlyspace.com/What%20is%20space%20inclusion%3F" title="What is inclusion?"&gt;What is Inclusion?&lt;/a&gt;
			&lt;/h2&gt;
			&lt;form class="ts-includes"&gt;
				&lt;input class="inputBox" type="text" name="spacename"&gt;
				&lt;input type="submit" value="Include Space" class="btn" /&gt;
			&lt;/form&gt;
		&lt;/div&gt;
		&lt;div&gt;
			&lt;h2&gt;Included Spaces &lt;button class='toggleNext'&gt;&lt;/button&gt;&lt;/h2&gt;
			&lt;div&gt;
			This space includes the following spaces:
			&lt;ul class="ts-includes"&gt;&lt;/ul&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class="clear"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script src='/bags/common/tiddlers/backstage.js'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery.js'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/chrjs'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.space'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.users'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/chrjs.identities'&gt;&lt;/script&gt;
&lt;script src='/bags/tiddlyspace/tiddlers/TiddlySpaceCSRF'&gt;&lt;/script&gt;
&lt;script src='/bags/common/tiddlers/jquery-form.js'&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/siteiconupload.js"&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/ts.js"&gt;&lt;/script&gt;
&lt;script src="/status.js"&gt;&lt;/script&gt;
&lt;script src="/bags/common/tiddlers/space.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div _hash="90f0b31421ec5233dc60d928817da5ce35de891f" created="20110505103001000" creator="willrogers" modified="20120307094707000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/.bashrc/363640:26747c7de14b5fdeaf0d61fe52bc9451e61f579b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363640" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title=".bashrc" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title=".bashrc" type="text/x-tiddlywiki">
<pre>Custom bash profile.

* For ssh-agent, see SshKeyAuthentication
* {{{alias ls='ls --color=tty'}}} - colour highlighting
* {{{alias ll='ls -al'}}}

You can set ~PS1 here, which controls what your prompt looks like.  ~PS2 is the secondary prompt, which shows up when a command isn't completed (mis-matching quotes).  Variables available include:
* {{{\w}}} - current working directory
* {{{\u@\h}}} - username and hostname
* {{{ \d@\t}}} - date and time
* {{{\s-\v}}} - shell and version</pre>
</div>
<div _hash="f623c93a912b56b3f2f1193c16119ae71353f947" created="20110505103349000" creator="willrogers" modified="20130723081557000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/.vimrc/1319029:4235de0e2db4b4ef3409490fad47ed71c80e9cd2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1319029" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title=".vimrc" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="cygwin linux vim" title=".vimrc" type="text/x-tiddlywiki">
<pre>Custom vim profile.

{{{
set nocompatible
set tabstop=4
set expandtab
set backspace=2
set shiftwidth=4
map \ :noh&lt;cr&gt;
}}}
These will set:
* If you search in lower-case, the search is not case-sensitive
* If you put an upper-case character in the search, the search IS case-sensitive.
{{{
set ignorecase
set smartcase
}}}</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="TiddlyWiki5 core plugin" plugin-priority="0" plugin-type="plugin" title="$:/core" type="application/json" version="5.0.13-beta">
<pre>{
    "tiddlers": {
        "$:/config/EditorTypeMappings/image/gif": {
            "title": "$:/config/EditorTypeMappings/image/gif",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/jpeg": {
            "title": "$:/config/EditorTypeMappings/image/jpeg",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/jpg": {
            "title": "$:/config/EditorTypeMappings/image/jpg",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/png": {
            "title": "$:/config/EditorTypeMappings/image/png",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/image/x-icon": {
            "title": "$:/config/EditorTypeMappings/image/x-icon",
            "text": "bitmap"
        },
        "$:/config/EditorTypeMappings/text/vnd.tiddlywiki": {
            "title": "$:/config/EditorTypeMappings/text/vnd.tiddlywiki",
            "text": "text"
        },
        "$:/core/copyright.txt": {
            "title": "$:/core/copyright.txt",
            "type": "text/plain",
            "text": "TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007\nCopyright © UnaMesa Association 2007-2014\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\nRedistributions of source code must retain the above copyright notice, this\nlist of conditions and the following disclaimer.\n\nRedistributions in binary form must reproduce the above copyright notice, this\nlist of conditions and the following disclaimer in the documentation and/or other\nmaterials provided with the distribution.\n\nNeither the name of the UnaMesa Association nor the names of its contributors may be\nused to endorse or promote products derived from this software without specific\nprior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY\nEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\nOF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT\nSHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\nINCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\nTO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\nBUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\nANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGE.\n"
        },
        "$:/core/images/cancel-button": {
            "title": "$:/core/images/cancel-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-cancel-button tw-image-button\" viewBox=\"366 150 58 58\" width=\"22pt\" height=\"22pt\"&gt;&lt;path d=\"M 414.76236 158.98764 C 403.77887 148.0041 385.97113 148.0041 374.98764 158.98764 C 364.0041 169.97113 364.0041 187.77887 374.98764 198.76236 C 385.97113 209.7459 403.77887 209.7459 414.76236 198.76236 C 425.7459 187.77887 425.7459 169.97113 414.76236 158.98764 M 385.3967 165.32954 L 385.3967 165.32954 L 394.77674 174.7096 L 404.3533 165.13303 C 405.53068 163.95566 407.4396 163.95566 408.61697 165.13303 C 409.79434 166.31041 409.79434 168.21932 408.61697 169.39669 L 399.0404 178.97325 L 408.42046 188.35331 C 409.59783 189.53068 409.59783 191.43959 408.42046 192.61697 L 408.42046 192.61697 C 407.24308 193.79434 405.33417 193.79434 404.1568 192.61697 L 394.77675 183.23692 L 385.5932 192.42046 C 384.41583 193.59783 382.50692 193.59783 381.32954 192.42046 L 381.32954 192.42046 C 380.15217 191.24308 380.15217 189.33417 381.32954 188.1568 C 381.32954 188.1568 381.32954 188.1568 381.32954 188.1568 L 381.32954 188.1568 L 381.32954 188.1568 L 390.51309 178.97326 L 381.13303 169.5932 C 379.95566 168.41583 379.95566 166.50692 381.13303 165.32954 L 381.13303 165.32954 C 382.3104 164.15217 384.21932 164.15217 385.3967 165.32954 C 385.3967 165.32954 385.3967 165.32954 385.3967 165.32954 Z\"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/chevron-left": {
            "title": "$:/core/images/chevron-left",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-chevron-left tw-image-button\" width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" version=\"1.1\"&gt;\n    &lt;g&gt;\n        &lt;path d=\"M97.7982405,98.1688105 L152.184015,43.4979042 C155.938662,39.7236635 155.938662,33.6043964 152.184015,29.8301557 C148.429583,26.0559364 142.342116,26.0559364 138.587684,29.8301557 L91.0000107,77.667222 L43.4123803,29.8301557 C39.6578195,26.0559364 33.5704813,26.0559364 29.8159206,29.8301557 C26.0613598,33.6043964 26.0613598,39.7236635 29.8159206,43.4979042 L84.2017595,98.1688105 C87.9563202,101.943051 94.0436798,101.943051 97.7982405,98.1688126 L97.7982405,98.1688105 Z\" transform=\"translate(91.000000, 63.999491) rotate(-270.000000) translate(-91.000000, -63.999491) \"&gt;&lt;/path&gt;\n        &lt;path d=\"M43.7982405,98.1688105 L98.1840153,43.4979042 C101.938662,39.7236635 101.938662,33.6043964 98.1840153,29.8301557 C94.4295828,26.0559364 88.3421164,26.0559364 84.5876838,29.8301557 L37.0000107,77.667222 L-10.5876197,29.8301557 C-14.3421805,26.0559364 -20.4295187,26.0559364 -24.1840794,29.8301557 C-27.9386402,33.6043964 -27.9386402,39.7236635 -24.1840794,43.4979042 L30.2017595,98.1688105 C33.9563202,101.943051 40.0436798,101.943051 43.7982405,98.1688126 L43.7982405,98.1688105 Z\" transform=\"translate(37.000000, 63.999491) rotate(-270.000000) translate(-37.000000, -63.999491) \"&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;"
        },
        "$:/core/images/chevron-right": {
            "title": "$:/core/images/chevron-right",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-chevron-right tw-image-button\" width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\"&gt;\n    &lt;g&gt;\n        &lt;path d=\"M97.7982405,98.1688105 L152.184015,43.4979042 C155.938662,39.7236635 155.938662,33.6043964 152.184015,29.8301557 C148.429583,26.0559364 142.342116,26.0559364 138.587684,29.8301557 L91.0000107,77.667222 L43.4123803,29.8301557 C39.6578195,26.0559364 33.5704813,26.0559364 29.8159206,29.8301557 C26.0613598,33.6043964 26.0613598,39.7236635 29.8159206,43.4979042 L84.2017595,98.1688105 C87.9563202,101.943051 94.0436798,101.943051 97.7982405,98.1688126 L97.7982405,98.1688105 Z\" transform=\"translate(91.000000, 63.999491) rotate(-90.000000) translate(-91.000000, -63.999491) \"&gt;&lt;/path&gt;\n        &lt;path d=\"M43.7982405,98.1688105 L98.1840153,43.4979042 C101.938662,39.7236635 101.938662,33.6043964 98.1840153,29.8301557 C94.4295828,26.0559364 88.3421164,26.0559364 84.5876838,29.8301557 L37.0000107,77.667222 L-10.5876197,29.8301557 C-14.3421805,26.0559364 -20.4295187,26.0559364 -24.1840794,29.8301557 C-27.9386402,33.6043964 -27.9386402,39.7236635 -24.1840794,43.4979042 L30.2017595,98.1688105 C33.9563202,101.943051 40.0436798,101.943051 43.7982405,98.1688126 L43.7982405,98.1688105 Z\" transform=\"translate(37.000000, 63.999491) rotate(-90.000000) translate(-37.000000, -63.999491) \"&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;"
        },
        "$:/core/images/close-button": {
            "title": "$:/core/images/close-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-close-button tw-image-button\" viewBox=\"222 150 56 56\" width=\"22pt\" height=\"22pt\"&gt;&lt;path d=\"M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/delete-button": {
            "title": "$:/core/images/delete-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-delete-button tw-image-button\" viewBox=\"303 155 39 50\" width=\"17pt\" height=\"22pt\"&gt;&lt;path d=\"M 333 164.25 L 333 157.25 C 333 156.14543 332.10457 155.25 331 155.25 L 314.75 155.25 C 314.75 155.25 314.75 155.25 314.75 155.25 C 313.64543 155.25 312.75 156.14543 312.75 157.25 L 312.75 164.25 L 303.75 164.25 L 303.75 168.75 L 306 168.75 L 306 201.75 L 306 201.75 L 306 201.75 C 306 203.40685 307.34315 204.75 309 204.75 L 336.75 204.75 C 338.40685 204.75 339.75 203.40685 339.75 201.75 L 339.75 168.75 L 342 168.75 L 342 164.25 Z M 317.25 160.75 L 317.25 160.75 C 317.25 160.19772 317.69772 159.75 318.25 159.75 C 318.25 159.75 318.25 159.75 318.25 159.75 L 327.5 159.75 C 328.05228 159.75 328.5 160.19772 328.5 160.75 L 328.5 164.25 L 317.25 164.25 L 317.25 160.75 Z M 310.5 168.75 L 312.75 168.75 L 312.75 200.25 L 310.5 200.25 Z M 317.25 168.75 L 319.5 168.75 L 319.5 200.25 L 317.25 200.25 Z M 324 168.75 L 326.25 168.75 L 326.25 200.25 L 324 200.25 Z M 330.75 168.75 L 333 168.75 L 333 200.25 L 330.75 200.25 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/done-button": {
            "title": "$:/core/images/done-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-done-button tw-image-button\" viewBox=\"434 150 68 55\" width=\"22pt\" height=\"18pt\"&gt;&lt;path d=\"M 438.49266 178.00797 L 439.00744 177.49319 C 441.35054 175.15008 445.14946 175.15004 447.49262 177.49309 L 452.50734 182.50757 C 454.8505 184.85063 458.6494 184.85058 460.99252 182.50748 L 488.50747 154.99255 C 490.85058 152.64944 494.6495 152.6494 496.99266 154.99246 L 497.50722 155.506995 C 499.8504 157.85009 499.8505 161.64908 497.5074 163.99228 C 497.50738 163.99229 497.50736 163.99231 497.50734 163.99233 L 460.9926 200.5077 C 458.64947 202.85087 454.85048 202.8509 452.50732 200.50778 C 452.5073 200.50777 452.5073 200.50777 452.5073 200.50776 L 438.49268 186.49327 C 436.14952 184.15013 436.1495 180.35114 438.49264 178.00799 C 438.49265 178.00798 438.49265 178.00797 438.49266 178.00797 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/down-arrow": {
            "title": "$:/core/images/down-arrow",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-down-arrow tw-image-button\" viewBox=\"63 152 64 64\" width=\"22pt\" height=\"22pt\"&gt;&lt;path d=\"M 98.001786 212.81802 L 123.45763 187.36218 C 125.21499 185.60482 125.21499 182.75557 123.45763 180.99821 C 121.70027 179.24086 118.85103 179.24086 117.09367 180.99821 L 94.819805 203.27208 L 72.54594 180.99821 C 70.788582 179.24086 67.93934 179.24086 66.18198 180.99821 C 64.42462 182.75557 64.42462 185.60482 66.18198 187.36218 L 91.637825 212.81802 C 93.395184 214.57538 96.244426 214.57538 98.001786 212.81802 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/edit-button": {
            "title": "$:/core/images/edit-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-edit-button tw-image-button\" viewBox=\"244 193 20 22\" width=\"20pt\" height=\"22pt\"&gt;&lt;path d=\"M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/home-button": {
            "title": "$:/core/images/home-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-home-button tw-image-button\" viewBox=\"81 513 64 54\" width=\"22pt\" height=\"22pt\"&gt;&lt;g&gt;&lt;path d=\"M 97.04536 522.62083 L 81.364685 531.49067 L 87.85863 531.49067 L 87.85863 566.9699 L 107.49902 566.9699 L 107.49902 552.99265 L 117.95268 552.99265 L 117.95268 566.9699 L 137.59307 566.9699 L 137.59307 531.49067 L 144.086885 531.49067 L 112.72591 513.751 L 107.49902 516.70758 L 107.49902 513.751 L 97.04536 513.751 Z M 94.669443 534.17844 L 103.222493 534.17844 L 103.222493 545.19854 L 94.669443 545.19854 Z M 108.449266 534.17844 L 117.002435 534.17844 L 117.002435 545.19854 L 108.449266 545.19854 Z M 122.387575 534.17844 L 130.9405 534.17844 L 130.9405 545.19854 L 122.387575 545.19854 Z\"/&gt;&lt;/g&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/info-button": {
            "title": "$:/core/images/info-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-info-button tw-image-button\" viewBox=\"294 150 58 58\" width=\"22pt\" height=\"22pt\"&gt;&lt;path d=\"M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/menu-button": {
            "title": "$:/core/images/menu-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-menu-button tw-image-button\" viewBox=\"216 585 63 45\" width=\"22pt\" height=\"22pt\"&gt;&lt;g&gt;&lt;path d=\"M 274.5 585 L 229.5 585 C 227.01472 585 225 587.01472 225 589.5 L 225 589.5 C 225 591.98528 227.01472 594 229.5 594 L 274.5 594 C 276.98528 594 279 591.98528 279 589.5 L 279 589.5 C 279 587.01472 276.98528 585 274.5 585 Z\"/&gt;&lt;path d=\"M 274.5 603 L 229.5 603 C 227.01472 603 225 605.01472 225 607.5 L 225 607.5 C 225 609.98528 227.01472 612 229.5 612 L 274.5 612 C 276.98528 612 279 609.98528 279 607.5 L 279 607.5 C 279 605.01472 276.98528 603 274.5 603 Z\"/&gt;&lt;path d=\"M 274.5 621 L 229.5 621 C 227.01472 621 225 623.01472 225 625.5 L 225 625.5 C 225 627.9853 227.01472 630 229.5 630 L 274.5 630 C 276.98528 630 279 627.9853 279 625.5 L 279 625.5 C 279 623.01472 276.98528 621 274.5 621 Z\"/&gt;&lt;/g&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/new-button": {
            "title": "$:/core/images/new-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-new-button tw-image-button\" viewBox=\"83 81 50 50\" width=\"22pt\" height=\"22pt\"&gt;&lt;path d=\"M 101.25 112.5 L 101.25 127.5 C 101.25 127.5 101.25 127.5 101.25 127.5 L 101.25 127.5 C 101.25 129.156855 102.593146 130.5 104.25 130.5 L 111.75 130.5 C 113.406854 130.5 114.75 129.156854 114.75 127.5 L 114.75 112.5 L 129.75 112.5 C 131.406854 112.5 132.75 111.156854 132.75 109.5 L 132.75 102 C 132.75 100.343146 131.406854 99 129.75 99 L 114.75 99 L 114.75 84 C 114.75 82.343146 113.406854 81 111.75 81 L 104.25 81 C 104.25 81 104.25 81 104.25 81 C 102.593146 81 101.25 82.343146 101.25 84 L 101.25 99 L 86.25 99 C 86.25 99 86.25 99 86.25 99 C 84.593146 99 83.25 100.343146 83.25 102 L 83.25 109.5 C 83.25 109.5 83.25 109.5 83.25 109.5 L 83.25 109.5 C 83.25 111.156855 84.593146 112.5 86.25 112.5 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/options-button": {
            "title": "$:/core/images/options-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-options-button tw-image-button\" viewBox=\"434 218 68 68\" width=\"22pt\" height=\"22pt\"&gt;&lt;path d=\"M 478.39696 232.53705 L 478.39696 232.53705 C 477.11453 231.85132 475.77877 231.30146 474.4106 230.88735 L 474.4106 218.24993 L 461.58944 218.24993 L 461.58944 230.88735 C 460.22126 231.30146 458.8855 231.85132 457.60308 232.53705 L 448.66825 223.60214 L 439.6022 232.66814 L 448.53716 241.60304 C 447.8515 242.88541 447.30158 244.22116 446.88747 245.58935 L 434.25 245.58935 L 434.25 258.41052 L 446.88747 258.41052 C 447.30158 259.7787 447.8515 261.11446 448.53716 262.39689 L 439.6022 271.33173 L 448.66825 280.39779 L 457.60308 271.46281 C 458.8855 272.14862 460.22126 272.69847 461.58944 273.11251 L 461.58944 285.74986 L 474.4106 285.74986 L 474.4106 273.11251 C 475.77877 272.69847 477.11453 272.14862 478.39696 271.46281 L 487.3318 280.39779 L 496.3977 271.33173 L 487.46287 262.39689 C 488.14854 261.11446 488.6984 259.7787 489.11257 258.41052 L 501.7499 258.41052 L 501.7499 245.58935 L 489.11257 245.58935 C 488.6984 244.22116 488.14854 242.88541 487.46287 241.60304 L 496.3977 232.66814 L 487.3318 223.60214 Z M 475.3328 244.66714 C 479.38253 248.71698 479.38253 255.2829 475.3328 259.33273 C 471.28297 263.3826 464.71706 263.3826 460.66723 259.33273 C 456.61737 255.2829 456.61737 248.71698 460.66723 244.66714 C 464.71706 240.61734 471.28297 240.61734 475.3328 244.66714\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/core/images/right-arrow": {
            "title": "$:/core/images/right-arrow",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-right-arrow tw-image-button\" width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\"&gt;&lt;path d=\"M72.7982405,98.6541105 L127.184015,43.9832042 C130.938662,40.2089635 130.938662,34.0896964 127.184015,30.3154557 C123.429583,26.5412364 117.342116,26.5412364 113.587684,30.3154557 L66.0000107,78.152522 L18.4123803,30.3154557 C14.6578195,26.5412364 8.57048132,26.5412364 4.81592057,30.3154557 C1.06135981,34.0896964 1.06135981,40.2089635 4.81592057,43.9832042 L59.2017595,98.6541105 C62.9563202,102.428351 69.0436798,102.428351 72.7982405,98.6541126 L72.7982405,98.6541105 Z\" transform=\"translate(66.000000, 64.484791) rotate(-90.000000) translate(-66.000000, -64.484791) \"/&gt;&lt;/svg&gt;"
        },
        "$:/core/images/save-button": {
            "title": "$:/core/images/save-button",
            "tags": "$:/tags/Image",
            "text": "&lt;svg class=\"tw-image-save-button tw-image-button\" viewBox=\"4 512 64 60\" width=\"22pt\" height=\"21pt\"&gt;&lt;path d=\"M 13.5 537.75 L 11.5 537.75 C 11.5 537.75 11.5 537.75 11.5 537.75 C 7.6340064 537.75 4.4999994 540.884 4.5 544.75 L 4.5 564.5 L 4.5 564.5 C 4.5 564.5 4.5 564.5 4.5 564.5 L 4.5 564.5 C 4.5000006 568.366 7.634007 571.5 11.5 571.5 L 60.5 571.5 C 64.365993 571.5 67.5 568.366 67.5 564.5 L 67.5 544.75 C 67.5 540.884 64.365993 537.75 60.5 537.75 L 58.5 537.75 L 49.5 546.75 L 50 546.75 C 52.20914 546.75 54 548.54086 54 550.75 L 54 556.25 C 54 558.45914 52.20914 560.25 50 560.25 L 36 560.25 L 22 560.25 C 19.790861 560.25 18 558.45914 18 556.25 L 18 556.25 C 18 556.25 18 556.25 18 556.25 L 18 550.75 C 18 548.54086 19.790861 546.75 22 546.75 C 22 546.75 22 546.75 22 546.75 L 22.5 546.75 Z\"/&gt;&lt;path d=\"M 16.37132 533.87132 L 33.87868 551.37868 C 35.050253 552.55025 36.949747 552.55025 38.12132 551.37868 L 55.62868 533.87132 C 56.800252 532.69975 56.800252 530.80025 55.62868 529.62868 C 55.06607 529.06607 54.30301 528.75 53.50736 528.75 L 48 528.75 C 46.343146 528.75 45 527.40685 45 525.75 L 45 516 C 45 514.34315 43.656854 513 42 513 L 30 513 C 28.343146 513 27 514.34315 27 516 L 27 525.75 C 27 527.40685 25.656854 528.75 24 528.75 L 18.492641 528.75 C 16.835786 528.75 15.492641 530.09315 15.492641 531.75 C 15.492641 532.54565 15.808711 533.3087 16.37132 533.87132 Z\"/&gt;&lt;/svg&gt;\n"
        },
        "$:/language/Buttons/AdvancedSearch/Caption": {
            "title": "$:/language/Buttons/AdvancedSearch/Caption",
            "text": "advanced search"
        },
        "$:/language/Buttons/AdvancedSearch/Hint": {
            "title": "$:/language/Buttons/AdvancedSearch/Hint",
            "text": "Advanced search"
        },
        "$:/language/Buttons/Cancel/Caption": {
            "title": "$:/language/Buttons/Cancel/Caption",
            "text": "cancel"
        },
        "$:/language/Buttons/Cancel/Hint": {
            "title": "$:/language/Buttons/Cancel/Hint",
            "text": "Cancel editing this tiddler"
        },
        "$:/language/Buttons/Close/Caption": {
            "title": "$:/language/Buttons/Close/Caption",
            "text": "close"
        },
        "$:/language/Buttons/Close/Hint": {
            "title": "$:/language/Buttons/Close/Hint",
            "text": "Close this tiddler"
        },
        "$:/language/Buttons/ControlPanel/Caption": {
            "title": "$:/language/Buttons/ControlPanel/Caption",
            "text": "control panel"
        },
        "$:/language/Buttons/ControlPanel/Hint": {
            "title": "$:/language/Buttons/ControlPanel/Hint",
            "text": "Open control panel"
        },
        "$:/language/Buttons/Delete/Caption": {
            "title": "$:/language/Buttons/Delete/Caption",
            "text": "delete"
        },
        "$:/language/Buttons/Delete/Hint": {
            "title": "$:/language/Buttons/Delete/Hint",
            "text": "Delete this tiddler"
        },
        "$:/language/Buttons/Edit/Caption": {
            "title": "$:/language/Buttons/Edit/Caption",
            "text": "edit"
        },
        "$:/language/Buttons/Edit/Hint": {
            "title": "$:/language/Buttons/Edit/Hint",
            "text": "Edit this tiddler"
        },
        "$:/language/Buttons/Info/Caption": {
            "title": "$:/language/Buttons/Info/Caption",
            "text": "info"
        },
        "$:/language/Buttons/Info/Hint": {
            "title": "$:/language/Buttons/Info/Hint",
            "text": "Show information for this tiddler"
        },
        "$:/language/Buttons/NewTiddler/Caption": {
            "title": "$:/language/Buttons/NewTiddler/Caption",
            "text": "new tiddler"
        },
        "$:/language/Buttons/NewTiddler/Hint": {
            "title": "$:/language/Buttons/NewTiddler/Hint",
            "text": "Create a new tiddler"
        },
        "$:/language/Buttons/Save/Caption": {
            "title": "$:/language/Buttons/Save/Caption",
            "text": "save"
        },
        "$:/language/Buttons/Save/Hint": {
            "title": "$:/language/Buttons/Save/Hint",
            "text": "Save this tiddler"
        },
        "$:/language/Buttons/SaveWiki/Caption": {
            "title": "$:/language/Buttons/SaveWiki/Caption",
            "text": "save changes"
        },
        "$:/language/Buttons/SaveWiki/Hint": {
            "title": "$:/language/Buttons/SaveWiki/Hint",
            "text": "Save changes"
        },
        "$:/language/Buttons/HideSideBar/Caption": {
            "title": "$:/language/Buttons/HideSideBar/Caption",
            "text": "hide sidebar"
        },
        "$:/language/Buttons/HideSideBar/Hint": {
            "title": "$:/language/Buttons/HideSideBar/Hint",
            "text": "Hide sidebar"
        },
        "$:/language/Buttons/ShowSideBar/Caption": {
            "title": "$:/language/Buttons/ShowSideBar/Caption",
            "text": "show sidebar"
        },
        "$:/language/Buttons/ShowSideBar/Hint": {
            "title": "$:/language/Buttons/ShowSideBar/Hint",
            "text": "Show sidebar"
        },
        "$:/language/ControlPanel/Advanced/Caption": {
            "title": "$:/language/ControlPanel/Advanced/Caption",
            "text": "Advanced"
        },
        "$:/language/ControlPanel/Advanced/EditorTypes/Caption": {
            "title": "$:/language/ControlPanel/Advanced/EditorTypes/Caption",
            "text": "Editor Types"
        },
        "$:/language/ControlPanel/Advanced/EditorTypes/Editor/Caption": {
            "title": "$:/language/ControlPanel/Advanced/EditorTypes/Editor/Caption",
            "text": "Editor"
        },
        "$:/language/ControlPanel/Advanced/EditorTypes/Hint": {
            "title": "$:/language/ControlPanel/Advanced/EditorTypes/Hint",
            "text": "These tiddlers determine which editor is used to edit specific tiddler types."
        },
        "$:/language/ControlPanel/Advanced/EditorTypes/Type/Caption": {
            "title": "$:/language/ControlPanel/Advanced/EditorTypes/Type/Caption",
            "text": "Type"
        },
        "$:/language/ControlPanel/Advanced/Hint": {
            "title": "$:/language/ControlPanel/Advanced/Hint",
            "text": "Internal information about this TiddlyWiki"
        },
        "$:/language/ControlPanel/Advanced/LoadedModules/Caption": {
            "title": "$:/language/ControlPanel/Advanced/LoadedModules/Caption",
            "text": "Loaded Modules"
        },
        "$:/language/ControlPanel/Advanced/LoadedModules/Hint": {
            "title": "$:/language/ControlPanel/Advanced/LoadedModules/Hint",
            "text": "These are the currently loaded tiddler modules linked to their source tiddlers. Any italicised modules lack a source tiddler, typically because they were setup during the boot process."
        },
        "$:/language/ControlPanel/Advanced/Settings/Caption": {
            "title": "$:/language/ControlPanel/Advanced/Settings/Caption",
            "text": "Settings"
        },
        "$:/language/ControlPanel/Advanced/Settings/Hint": {
            "title": "$:/language/ControlPanel/Advanced/Settings/Hint",
            "text": "These advanced settings let you customise the behaviour of TiddlyWiki."
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Caption": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Caption",
            "text": "Navigation Address Bar"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Hint": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Hint",
            "text": "Behaviour of the browser address bar when navigating to a tiddler:"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/No/Description": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/No/Description",
            "text": "Do not update the address bar"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Permalink/Description": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Permalink/Description",
            "text": "Include the target tiddler"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Permaview/Description": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Permaview/Description",
            "text": "Include the target tiddler and the current story sequence"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Caption": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Caption",
            "text": "Navigation History"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Hint": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Hint",
            "text": "Update browser history when navigating to a tiddler:"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/No/Description": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/No/Description",
            "text": "Do not update history"
        },
        "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Yes/Description": {
            "title": "$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Yes/Description",
            "text": "Update history"
        },
        "$:/language/ControlPanel/Advanced/TiddlerFields/Caption": {
            "title": "$:/language/ControlPanel/Advanced/TiddlerFields/Caption",
            "text": "Tiddler Fields"
        },
        "$:/language/ControlPanel/Advanced/TiddlerFields/Hint": {
            "title": "$:/language/ControlPanel/Advanced/TiddlerFields/Hint",
            "text": "This is the full set of TiddlerFields in use in this wiki (including system tiddlers but excluding shadow tiddlers)."
        },
        "$:/language/ControlPanel/Appearance/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Caption",
            "text": "Appearance"
        },
        "$:/language/ControlPanel/Appearance/Hint": {
            "title": "$:/language/ControlPanel/Appearance/Hint",
            "text": "Ways to customise the appearance of your TiddlyWiki."
        },
        "$:/language/ControlPanel/Appearance/Palette/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Caption",
            "text": "Palette"
        },
        "$:/language/ControlPanel/Appearance/Palette/Editor/Clone/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Editor/Clone/Caption",
            "text": "clone"
        },
        "$:/language/ControlPanel/Appearance/Palette/Editor/Clone/Prompt": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Editor/Clone/Prompt",
            "text": "It is recommended that you clone this shadow palette before editing it"
        },
        "$:/language/ControlPanel/Appearance/Palette/Editor/Prompt/Modified": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Editor/Prompt/Modified",
            "text": "This shadow palette has been modified"
        },
        "$:/language/ControlPanel/Appearance/Palette/Editor/Prompt": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Editor/Prompt",
            "text": "Editing"
        },
        "$:/language/ControlPanel/Appearance/Palette/Editor/Reset/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Editor/Reset/Caption",
            "text": "reset"
        },
        "$:/language/ControlPanel/Appearance/Palette/HideEditor/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Palette/HideEditor/Caption",
            "text": "hide editor"
        },
        "$:/language/ControlPanel/Appearance/Palette/Prompt": {
            "title": "$:/language/ControlPanel/Appearance/Palette/Prompt",
            "text": "Current palette:"
        },
        "$:/language/ControlPanel/Appearance/Palette/ShowEditor/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Palette/ShowEditor/Caption",
            "text": "show editor"
        },
        "$:/language/ControlPanel/Appearance/StoryView/Caption": {
            "title": "$:/language/ControlPanel/Appearance/StoryView/Caption",
            "text": "Story View"
        },
        "$:/language/ControlPanel/Appearance/StoryView/Prompt": {
            "title": "$:/language/ControlPanel/Appearance/StoryView/Prompt",
            "text": "Current view:"
        },
        "$:/language/ControlPanel/Appearance/Theme/Caption": {
            "title": "$:/language/ControlPanel/Appearance/Theme/Caption",
            "text": "Theme"
        },
        "$:/language/ControlPanel/Appearance/Theme/Prompt": {
            "title": "$:/language/ControlPanel/Appearance/Theme/Prompt",
            "text": "Current theme:"
        },
        "$:/language/ControlPanel/Basics/AnimDuration/Prompt": {
            "title": "$:/language/ControlPanel/Basics/AnimDuration/Prompt",
            "text": "Animation duration:"
        },
        "$:/language/ControlPanel/Basics/Caption": {
            "title": "$:/language/ControlPanel/Basics/Caption",
            "text": "Basics"
        },
        "$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint": {
            "title": "$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint",
            "text": "Use &amp;#91;&amp;#91;double square brackets&amp;#93;&amp;#93; for titles with spaces. Or you can choose to &lt;$button set=\"$:/DefaultTiddlers\" setTo=\"[list[$:/StoryList]]\"&gt;retain story ordering&lt;/$button&gt;"
        },
        "$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt",
            "text": "Default tiddlers:"
        },
        "$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint": {
            "title": "$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint",
            "text": "Choose which tiddlers are displayed at startup:"
        },
        "$:/language/ControlPanel/Basics/Language/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Language/Prompt",
            "text": "Hello! Current language:"
        },
        "$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt",
            "text": "Number of overridden shadow tiddlers:"
        },
        "$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt",
            "text": "Number of shadow tiddlers:"
        },
        "$:/language/ControlPanel/Basics/Subtitle/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Subtitle/Prompt",
            "text": "Subtitle:"
        },
        "$:/language/ControlPanel/Basics/SystemTiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/SystemTiddlers/Prompt",
            "text": "Number of system tiddlers:"
        },
        "$:/language/ControlPanel/Basics/Tags/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Tags/Prompt",
            "text": "Number of tags:"
        },
        "$:/language/ControlPanel/Basics/Tiddlers/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Tiddlers/Prompt",
            "text": "Number of tiddlers:"
        },
        "$:/language/ControlPanel/Basics/Title/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Title/Prompt",
            "text": "Title of this ~TiddlyWiki:"
        },
        "$:/language/ControlPanel/Basics/Username/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Username/Prompt",
            "text": "Username for signing edits:"
        },
        "$:/language/ControlPanel/Basics/Version/Prompt": {
            "title": "$:/language/ControlPanel/Basics/Version/Prompt",
            "text": "~TiddlyWiki version:"
        },
        "$:/language/ControlPanel/Plugins/Caption": {
            "title": "$:/language/ControlPanel/Plugins/Caption",
            "text": "Plugins"
        },
        "$:/language/ControlPanel/Plugins/Fields/Description": {
            "title": "$:/language/ControlPanel/Plugins/Fields/Description",
            "text": "Description"
        },
        "$:/language/ControlPanel/Plugins/Fields/Title": {
            "title": "$:/language/ControlPanel/Plugins/Fields/Title",
            "text": "Title"
        },
        "$:/language/ControlPanel/Plugins/Fields/Version": {
            "title": "$:/language/ControlPanel/Plugins/Fields/Version",
            "text": "Version"
        },
        "$:/language/ControlPanel/Plugins/Language/Prompt": {
            "title": "$:/language/ControlPanel/Plugins/Language/Prompt",
            "text": "Languages"
        },
        "$:/language/ControlPanel/Plugins/Plugin/Prompt": {
            "title": "$:/language/ControlPanel/Plugins/Plugin/Prompt",
            "text": "Plugins"
        },
        "$:/language/ControlPanel/Plugins/Theme/Prompt": {
            "title": "$:/language/ControlPanel/Plugins/Theme/Prompt",
            "text": "Themes"
        },
        "$:/language/ControlPanel/Saving/AutoSave/Disabled/Button": {
            "title": "$:/language/ControlPanel/Saving/AutoSave/Disabled/Button",
            "text": "enable"
        },
        "$:/language/ControlPanel/Saving/AutoSave/Disabled/Prompt": {
            "title": "$:/language/ControlPanel/Saving/AutoSave/Disabled/Prompt",
            "text": "Autosave is currently disabled"
        },
        "$:/language/ControlPanel/Saving/AutoSave/Enabled/Button": {
            "title": "$:/language/ControlPanel/Saving/AutoSave/Enabled/Button",
            "text": "disable"
        },
        "$:/language/ControlPanel/Saving/AutoSave/Enabled/Prompt": {
            "title": "$:/language/ControlPanel/Saving/AutoSave/Enabled/Prompt",
            "text": "Autosave is currently enabled"
        },
        "$:/language/ControlPanel/Saving/AutoSave": {
            "title": "$:/language/ControlPanel/Saving/AutoSave",
            "text": "Autosave"
        },
        "$:/language/ControlPanel/Saving/Caption": {
            "title": "$:/language/ControlPanel/Saving/Caption",
            "text": "Saving"
        },
        "$:/language/ControlPanel/Saving/Heading": {
            "title": "$:/language/ControlPanel/Saving/Heading",
            "text": "Saving"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading",
            "text": "Advanced Settings"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/BackupDir": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/BackupDir",
            "text": "Backup Directory"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Backups": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Backups",
            "text": "Backups"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Filename": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Filename",
            "text": "Upload Filename"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Heading": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Heading",
            "text": "~TiddlySpot"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Hint": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Hint",
            "text": "//The server URL defaults to `http://&lt;wikiname&gt;.tiddlyspot.com/store.cgi` and can be changed to use a custom server address//"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/Password": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/Password",
            "text": "Password"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/ServerURL": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/ServerURL",
            "text": "Server URL"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/UploadDir": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/UploadDir",
            "text": "Upload Directory"
        },
        "$:/language/ControlPanel/Saving/TiddlySpot/UserName": {
            "title": "$:/language/ControlPanel/Saving/TiddlySpot/UserName",
            "text": "Wiki Name"
        },
        "$:/language/ControlPanel/Tools/Caption": {
            "title": "$:/language/ControlPanel/Tools/Caption",
            "text": "Tools"
        },
        "$:/language/ControlPanel/Tools/Download/Full/Caption": {
            "title": "$:/language/ControlPanel/Tools/Download/Full/Caption",
            "text": "Download full wiki"
        },
        "$:/language/ControlPanel/Tools/Encryption/ChangePassword/Button": {
            "title": "$:/language/ControlPanel/Tools/Encryption/ChangePassword/Button",
            "text": "change password"
        },
        "$:/language/ControlPanel/Tools/Encryption/ClearPassword/Button": {
            "title": "$:/language/ControlPanel/Tools/Encryption/ClearPassword/Button",
            "text": "clear password"
        },
        "$:/language/ControlPanel/Tools/Encryption/Disabled/Prompt": {
            "title": "$:/language/ControlPanel/Tools/Encryption/Disabled/Prompt",
            "text": "This wiki is not encrypted"
        },
        "$:/language/ControlPanel/Tools/Encryption/Enabled/Prompt": {
            "title": "$:/language/ControlPanel/Tools/Encryption/Enabled/Prompt",
            "text": "This wiki is encrypted"
        },
        "$:/language/ControlPanel/Tools/Encryption/Heading": {
            "title": "$:/language/ControlPanel/Tools/Encryption/Heading",
            "text": "Encryption"
        },
        "$:/language/ControlPanel/Tools/Encryption/SetPassword/Button": {
            "title": "$:/language/ControlPanel/Tools/Encryption/SetPassword/Button",
            "text": "set password"
        },
        "$:/language/ControlPanel/Tools/Export/AllAsStaticHTML/Caption": {
            "title": "$:/language/ControlPanel/Tools/Export/AllAsStaticHTML/Caption",
            "text": "Download all tiddlers as static HTML"
        },
        "$:/language/ControlPanel/Tools/Export/Heading": {
            "title": "$:/language/ControlPanel/Tools/Export/Heading",
            "text": "Export"
        },
        "$:/language/ControlPanel/Tools/Import/Heading": {
            "title": "$:/language/ControlPanel/Tools/Import/Heading",
            "text": "Import"
        },
        "$:/language/ControlPanel/Tools/Import/Hint": {
            "title": "$:/language/ControlPanel/Tools/Import/Hint",
            "text": "Browse for files on your computer to import their contents (the individual tiddlers within TiddlyWiki HTML files are imported separately). You can also drag and drop files directly to the browser window."
        },
        "$:/language/ControlPanel/Tools/Import/Prompt": {
            "title": "$:/language/ControlPanel/Tools/Import/Prompt",
            "text": "Import:"
        },
        "$:/language/Docs/ModuleTypes/animation": {
            "title": "$:/language/Docs/ModuleTypes/animation",
            "text": "Animations that may be used with the RevealWidget."
        },
        "$:/language/Docs/ModuleTypes/command": {
            "title": "$:/language/Docs/ModuleTypes/command",
            "text": "Commands that can be executed under Node.js."
        },
        "$:/language/Docs/ModuleTypes/config": {
            "title": "$:/language/Docs/ModuleTypes/config",
            "text": "Data to be inserted into `$tw.config`."
        },
        "$:/language/Docs/ModuleTypes/filteroperator": {
            "title": "$:/language/Docs/ModuleTypes/filteroperator",
            "text": "Individual filter operator methods."
        },
        "$:/language/Docs/ModuleTypes/global": {
            "title": "$:/language/Docs/ModuleTypes/global",
            "text": "Global data to be inserted into `$tw`."
        },
        "$:/language/Docs/ModuleTypes/isfilteroperator": {
            "title": "$:/language/Docs/ModuleTypes/isfilteroperator",
            "text": "Operands for the ''is'' filter operator."
        },
        "$:/language/Docs/ModuleTypes/macro": {
            "title": "$:/language/Docs/ModuleTypes/macro",
            "text": "JavaScript macro definitions."
        },
        "$:/language/Docs/ModuleTypes/parser": {
            "title": "$:/language/Docs/ModuleTypes/parser",
            "text": "Parsers for different content types."
        },
        "$:/language/Docs/ModuleTypes/saver": {
            "title": "$:/language/Docs/ModuleTypes/saver",
            "text": "Savers handle different methods for saving files from the browser."
        },
        "$:/language/Docs/ModuleTypes/startup": {
            "title": "$:/language/Docs/ModuleTypes/startup",
            "text": "Startup functions."
        },
        "$:/language/Docs/ModuleTypes/storyview": {
            "title": "$:/language/Docs/ModuleTypes/storyview",
            "text": "Story views customise the animation and behaviour of list widgets."
        },
        "$:/language/Docs/ModuleTypes/tiddlerdeserializer": {
            "title": "$:/language/Docs/ModuleTypes/tiddlerdeserializer",
            "text": "Converts different content types into tiddlers."
        },
        "$:/language/Docs/ModuleTypes/tiddlerfield": {
            "title": "$:/language/Docs/ModuleTypes/tiddlerfield",
            "text": "Defines the behaviour of an individual tiddler field."
        },
        "$:/language/Docs/ModuleTypes/tiddlermethod": {
            "title": "$:/language/Docs/ModuleTypes/tiddlermethod",
            "text": "Adds methods to the `$tw.Tiddler` prototype."
        },
        "$:/language/Docs/ModuleTypes/utils": {
            "title": "$:/language/Docs/ModuleTypes/utils",
            "text": "Adds methods to `$tw.utils`."
        },
        "$:/language/Docs/ModuleTypes/utils-node": {
            "title": "$:/language/Docs/ModuleTypes/utils-node",
            "text": "Adds Node.js-specific methods to `$tw.utils`."
        },
        "$:/language/Docs/ModuleTypes/widget": {
            "title": "$:/language/Docs/ModuleTypes/widget",
            "text": "Widgets encapsulate DOM rendering and refreshing."
        },
        "$:/language/Docs/ModuleTypes/wikimethod": {
            "title": "$:/language/Docs/ModuleTypes/wikimethod",
            "text": "Adds methods to `$tw.Wiki`."
        },
        "$:/language/Docs/ModuleTypes/wikirule": {
            "title": "$:/language/Docs/ModuleTypes/wikirule",
            "text": "Individual parser rules for the main WikiText parser."
        },
        "$:/language/Docs/PaletteColours/alert-background": {
            "title": "$:/language/Docs/PaletteColours/alert-background",
            "text": "Alert background"
        },
        "$:/language/Docs/PaletteColours/alert-border": {
            "title": "$:/language/Docs/PaletteColours/alert-border",
            "text": "Alert border"
        },
        "$:/language/Docs/PaletteColours/alert-highlight": {
            "title": "$:/language/Docs/PaletteColours/alert-highlight",
            "text": "Alert highlight"
        },
        "$:/language/Docs/PaletteColours/alert-muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/alert-muted-foreground",
            "text": "Alert muted foreground"
        },
        "$:/language/Docs/PaletteColours/background": {
            "title": "$:/language/Docs/PaletteColours/background",
            "text": "General background"
        },
        "$:/language/Docs/PaletteColours/blockquote-bar": {
            "title": "$:/language/Docs/PaletteColours/blockquote-bar",
            "text": "Blockquote bar"
        },
        "$:/language/Docs/PaletteColours/code-background": {
            "title": "$:/language/Docs/PaletteColours/code-background",
            "text": "Code background"
        },
        "$:/language/Docs/PaletteColours/code-border": {
            "title": "$:/language/Docs/PaletteColours/code-border",
            "text": "Code border"
        },
        "$:/language/Docs/PaletteColours/code-foreground": {
            "title": "$:/language/Docs/PaletteColours/code-foreground",
            "text": "Code foreground"
        },
        "$:/language/Docs/PaletteColours/download-background": {
            "title": "$:/language/Docs/PaletteColours/download-background",
            "text": "Download button background"
        },
        "$:/language/Docs/PaletteColours/download-foreground": {
            "title": "$:/language/Docs/PaletteColours/download-foreground",
            "text": "Download button foreground"
        },
        "$:/language/Docs/PaletteColours/dragger-background": {
            "title": "$:/language/Docs/PaletteColours/dragger-background",
            "text": "Dragger background"
        },
        "$:/language/Docs/PaletteColours/dragger-foreground": {
            "title": "$:/language/Docs/PaletteColours/dragger-foreground",
            "text": "Dragger foreground"
        },
        "$:/language/Docs/PaletteColours/dropdown-background": {
            "title": "$:/language/Docs/PaletteColours/dropdown-background",
            "text": "Dropdown background"
        },
        "$:/language/Docs/PaletteColours/dropdown-border": {
            "title": "$:/language/Docs/PaletteColours/dropdown-border",
            "text": "Dropdown border"
        },
        "$:/language/Docs/PaletteColours/dropdown-tab-background-selected": {
            "title": "$:/language/Docs/PaletteColours/dropdown-tab-background-selected",
            "text": "Dropdown tab background for selected tabs"
        },
        "$:/language/Docs/PaletteColours/dropdown-tab-background": {
            "title": "$:/language/Docs/PaletteColours/dropdown-tab-background",
            "text": "Dropdown tab background"
        },
        "$:/language/Docs/PaletteColours/dropzone-background": {
            "title": "$:/language/Docs/PaletteColours/dropzone-background",
            "text": "Dropzone background"
        },
        "$:/language/Docs/PaletteColours/external-link-background-hover": {
            "title": "$:/language/Docs/PaletteColours/external-link-background-hover",
            "text": "External link background hover"
        },
        "$:/language/Docs/PaletteColours/external-link-background-visited": {
            "title": "$:/language/Docs/PaletteColours/external-link-background-visited",
            "text": "External link background visited"
        },
        "$:/language/Docs/PaletteColours/external-link-background": {
            "title": "$:/language/Docs/PaletteColours/external-link-background",
            "text": "External link background"
        },
        "$:/language/Docs/PaletteColours/external-link-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/external-link-foreground-hover",
            "text": "External link foreground hover"
        },
        "$:/language/Docs/PaletteColours/external-link-foreground-visited": {
            "title": "$:/language/Docs/PaletteColours/external-link-foreground-visited",
            "text": "External link foreground visited"
        },
        "$:/language/Docs/PaletteColours/external-link-foreground": {
            "title": "$:/language/Docs/PaletteColours/external-link-foreground",
            "text": "External link foreground"
        },
        "$:/language/Docs/PaletteColours/foreground": {
            "title": "$:/language/Docs/PaletteColours/foreground",
            "text": "General foreground"
        },
        "$:/language/Docs/PaletteColours/message-background": {
            "title": "$:/language/Docs/PaletteColours/message-background",
            "text": "Message box background"
        },
        "$:/language/Docs/PaletteColours/message-border": {
            "title": "$:/language/Docs/PaletteColours/message-border",
            "text": "Message box border"
        },
        "$:/language/Docs/PaletteColours/message-foreground": {
            "title": "$:/language/Docs/PaletteColours/message-foreground",
            "text": "Message box foreground"
        },
        "$:/language/Docs/PaletteColours/modal-backdrop": {
            "title": "$:/language/Docs/PaletteColours/modal-backdrop",
            "text": "Modal backdrop"
        },
        "$:/language/Docs/PaletteColours/modal-background": {
            "title": "$:/language/Docs/PaletteColours/modal-background",
            "text": "Modal background"
        },
        "$:/language/Docs/PaletteColours/modal-border": {
            "title": "$:/language/Docs/PaletteColours/modal-border",
            "text": "Modal border"
        },
        "$:/language/Docs/PaletteColours/modal-footer-background": {
            "title": "$:/language/Docs/PaletteColours/modal-footer-background",
            "text": "Modal footer background"
        },
        "$:/language/Docs/PaletteColours/modal-footer-border": {
            "title": "$:/language/Docs/PaletteColours/modal-footer-border",
            "text": "Modal footer border"
        },
        "$:/language/Docs/PaletteColours/modal-header-border": {
            "title": "$:/language/Docs/PaletteColours/modal-header-border",
            "text": "Modal header border"
        },
        "$:/language/Docs/PaletteColours/muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/muted-foreground",
            "text": "General muted foreground"
        },
        "$:/language/Docs/PaletteColours/notification-background": {
            "title": "$:/language/Docs/PaletteColours/notification-background",
            "text": "Notification background"
        },
        "$:/language/Docs/PaletteColours/notification-border": {
            "title": "$:/language/Docs/PaletteColours/notification-border",
            "text": "Notification border"
        },
        "$:/language/Docs/PaletteColours/page-background": {
            "title": "$:/language/Docs/PaletteColours/page-background",
            "text": "Page background"
        },
        "$:/language/Docs/PaletteColours/pre-background": {
            "title": "$:/language/Docs/PaletteColours/pre-background",
            "text": "Preformatted code background"
        },
        "$:/language/Docs/PaletteColours/pre-border": {
            "title": "$:/language/Docs/PaletteColours/pre-border",
            "text": "Preformatted code border"
        },
        "$:/language/Docs/PaletteColours/primary": {
            "title": "$:/language/Docs/PaletteColours/primary",
            "text": "General primary"
        },
        "$:/language/Docs/PaletteColours/sidebar-button-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-button-foreground",
            "text": "Sidebar button foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover",
            "text": "Sidebar controls foreground hover"
        },
        "$:/language/Docs/PaletteColours/sidebar-controls-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-controls-foreground",
            "text": "Sidebar controls foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-foreground-shadow": {
            "title": "$:/language/Docs/PaletteColours/sidebar-foreground-shadow",
            "text": "Sidebar foreground shadow"
        },
        "$:/language/Docs/PaletteColours/sidebar-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-foreground",
            "text": "Sidebar foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover",
            "text": "Sidebar muted foreground hover"
        },
        "$:/language/Docs/PaletteColours/sidebar-muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-muted-foreground",
            "text": "Sidebar muted foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-background-selected": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-background-selected",
            "text": "Sidebar tab background for selected tabs"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-background": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-background",
            "text": "Sidebar tab background"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-border-selected": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-border-selected",
            "text": "Sidebar tab border for selected tabs"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-border": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-border",
            "text": "Sidebar tab border"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-divider": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-divider",
            "text": "Sidebar tab divider"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected",
            "text": "Sidebar tab foreground for selected tabs"
        },
        "$:/language/Docs/PaletteColours/sidebar-tab-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tab-foreground",
            "text": "Sidebar tab foreground"
        },
        "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover",
            "text": "Sidebar tiddler link foreground hover"
        },
        "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground": {
            "title": "$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground",
            "text": "Sidebar tiddler link foreground"
        },
        "$:/language/Docs/PaletteColours/static-alert-foreground": {
            "title": "$:/language/Docs/PaletteColours/static-alert-foreground",
            "text": "Static alert foreground"
        },
        "$:/language/Docs/PaletteColours/tab-background-selected": {
            "title": "$:/language/Docs/PaletteColours/tab-background-selected",
            "text": "Tab background for selected tabs"
        },
        "$:/language/Docs/PaletteColours/tab-background": {
            "title": "$:/language/Docs/PaletteColours/tab-background",
            "text": "Tab background"
        },
        "$:/language/Docs/PaletteColours/tab-border-selected": {
            "title": "$:/language/Docs/PaletteColours/tab-border-selected",
            "text": "Tab border for selected tabs"
        },
        "$:/language/Docs/PaletteColours/tab-border": {
            "title": "$:/language/Docs/PaletteColours/tab-border",
            "text": "Tab border"
        },
        "$:/language/Docs/PaletteColours/tab-divider": {
            "title": "$:/language/Docs/PaletteColours/tab-divider",
            "text": "Tab divider"
        },
        "$:/language/Docs/PaletteColours/tab-foreground-selected": {
            "title": "$:/language/Docs/PaletteColours/tab-foreground-selected",
            "text": "Tab foreground for selected tabs"
        },
        "$:/language/Docs/PaletteColours/tab-foreground": {
            "title": "$:/language/Docs/PaletteColours/tab-foreground",
            "text": "Tab foreground"
        },
        "$:/language/Docs/PaletteColours/table-border": {
            "title": "$:/language/Docs/PaletteColours/table-border",
            "text": "Table border"
        },
        "$:/language/Docs/PaletteColours/table-footer-background": {
            "title": "$:/language/Docs/PaletteColours/table-footer-background",
            "text": "Table footer background"
        },
        "$:/language/Docs/PaletteColours/table-header-background": {
            "title": "$:/language/Docs/PaletteColours/table-header-background",
            "text": "Table header background"
        },
        "$:/language/Docs/PaletteColours/tag-background": {
            "title": "$:/language/Docs/PaletteColours/tag-background",
            "text": "Tag background"
        },
        "$:/language/Docs/PaletteColours/tag-foreground": {
            "title": "$:/language/Docs/PaletteColours/tag-foreground",
            "text": "Tag foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-background",
            "text": "Tiddler background"
        },
        "$:/language/Docs/PaletteColours/tiddler-border": {
            "title": "$:/language/Docs/PaletteColours/tiddler-border",
            "text": "Tiddler border"
        },
        "$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover": {
            "title": "$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover",
            "text": "Tiddler controls foreground hover"
        },
        "$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected": {
            "title": "$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected",
            "text": "Tiddler controls foreground for selected controls"
        },
        "$:/language/Docs/PaletteColours/tiddler-controls-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-controls-foreground",
            "text": "Tiddler controls foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-background",
            "text": "Tiddler editor background"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-border-image": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-border-image",
            "text": "Tiddler editor border image"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-border": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-border",
            "text": "Tiddler editor border"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-fields-even": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-fields-even",
            "text": "Tiddler editor background for even fields"
        },
        "$:/language/Docs/PaletteColours/tiddler-editor-fields-odd": {
            "title": "$:/language/Docs/PaletteColours/tiddler-editor-fields-odd",
            "text": "Tiddler editor background for odd fields"
        },
        "$:/language/Docs/PaletteColours/tiddler-info-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-info-background",
            "text": "Tiddler info panel background"
        },
        "$:/language/Docs/PaletteColours/tiddler-info-border": {
            "title": "$:/language/Docs/PaletteColours/tiddler-info-border",
            "text": "Tiddler info panel border"
        },
        "$:/language/Docs/PaletteColours/tiddler-info-tab-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-info-tab-background",
            "text": "Tiddler info panel tab background"
        },
        "$:/language/Docs/PaletteColours/tiddler-link-background": {
            "title": "$:/language/Docs/PaletteColours/tiddler-link-background",
            "text": "Tiddler link background"
        },
        "$:/language/Docs/PaletteColours/tiddler-link-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-link-foreground",
            "text": "Tiddler link foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-subtitle-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-subtitle-foreground",
            "text": "Tiddler subtitle foreground"
        },
        "$:/language/Docs/PaletteColours/tiddler-title-foreground": {
            "title": "$:/language/Docs/PaletteColours/tiddler-title-foreground",
            "text": "Tiddler title foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-new-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-new-button",
            "text": "Toolbar 'new tiddler' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-options-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-options-button",
            "text": "Toolbar 'options' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-save-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-save-button",
            "text": "Toolbar 'save' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-info-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-info-button",
            "text": "Toolbar 'info' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-edit-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-edit-button",
            "text": "Toolbar 'edit' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-close-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-close-button",
            "text": "Toolbar 'close' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-delete-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-delete-button",
            "text": "Toolbar 'delete' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-cancel-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-cancel-button",
            "text": "Toolbar 'cancel' button foreground"
        },
        "$:/language/Docs/PaletteColours/toolbar-done-button": {
            "title": "$:/language/Docs/PaletteColours/toolbar-done-button",
            "text": "Toolbar 'done' button foreground"
        },
        "$:/language/Docs/PaletteColours/untagged-background": {
            "title": "$:/language/Docs/PaletteColours/untagged-background",
            "text": "Untagged pill background"
        },
        "$:/language/Docs/PaletteColours/very-muted-foreground": {
            "title": "$:/language/Docs/PaletteColours/very-muted-foreground",
            "text": "Very muted foreground"
        },
        "$:/language/EditTemplate/Body/External/Hint": {
            "title": "$:/language/EditTemplate/Body/External/Hint",
            "text": "This is an external tiddler stored outside of the main TiddlyWiki file. You can edit the tags and fields but cannot directly edit the content itself"
        },
        "$:/language/EditTemplate/Body/Hint": {
            "title": "$:/language/EditTemplate/Body/Hint",
            "text": "Use [[wiki text|http://tiddlywiki.com/static/WikiText.html]] to add formatting, images, and dynamic features"
        },
        "$:/language/EditTemplate/Body/Placeholder": {
            "title": "$:/language/EditTemplate/Body/Placeholder",
            "text": "Type the text for this tiddler"
        },
        "$:/language/EditTemplate/Body/Preview/Button/Hide": {
            "title": "$:/language/EditTemplate/Body/Preview/Button/Hide",
            "text": "hide preview"
        },
        "$:/language/EditTemplate/Body/Preview/Button/Show": {
            "title": "$:/language/EditTemplate/Body/Preview/Button/Show",
            "text": "show preview"
        },
        "$:/language/EditTemplate/Fields/Add/Button": {
            "title": "$:/language/EditTemplate/Fields/Add/Button",
            "text": "add"
        },
        "$:/language/EditTemplate/Fields/Add/Name/Placeholder": {
            "title": "$:/language/EditTemplate/Fields/Add/Name/Placeholder",
            "text": "field name"
        },
        "$:/language/EditTemplate/Fields/Add/Prompt": {
            "title": "$:/language/EditTemplate/Fields/Add/Prompt",
            "text": "Add a new field:"
        },
        "$:/language/EditTemplate/Fields/Add/Value/Placeholder": {
            "title": "$:/language/EditTemplate/Fields/Add/Value/Placeholder",
            "text": "field value"
        },
        "$:/language/EditTemplate/Shadow/Warning": {
            "title": "$:/language/EditTemplate/Shadow/Warning",
            "text": "This is a shadow tiddler. Any changes will override the default version"
        },
        "$:/language/EditTemplate/Shadow/OverriddenWarning": {
            "title": "$:/language/EditTemplate/Shadow/OverriddenWarning",
            "text": "This is a modified shadow tiddler. You can revert to the default version by deleting this tiddler"
        },
        "$:/language/EditTemplate/Tags/Add/Button": {
            "title": "$:/language/EditTemplate/Tags/Add/Button",
            "text": "add"
        },
        "$:/language/EditTemplate/Tags/Add/Placeholder": {
            "title": "$:/language/EditTemplate/Tags/Add/Placeholder",
            "text": "tag name"
        },
        "$:/language/EditTemplate/Type/Placeholder": {
            "title": "$:/language/EditTemplate/Type/Placeholder",
            "text": "content type"
        },
        "$:/language/EditTemplate/Type/Prompt": {
            "title": "$:/language/EditTemplate/Type/Prompt",
            "text": "Type:"
        },
        "$:/language/Docs/Fields/_canonical_uri": {
            "title": "$:/language/Docs/Fields/_canonical_uri",
            "text": "The full URI of an external image tiddler"
        },
        "$:/language/Docs/Fields/bag": {
            "title": "$:/language/Docs/Fields/bag",
            "text": "The name of the bag from which a tiddler came"
        },
        "$:/language/Docs/Fields/caption": {
            "title": "$:/language/Docs/Fields/caption",
            "text": "The text to be displayed on a tab or button"
        },
        "$:/language/Docs/Fields/color": {
            "title": "$:/language/Docs/Fields/color",
            "text": "The CSS color value associated with a tiddler"
        },
        "$:/language/Docs/Fields/component": {
            "title": "$:/language/Docs/Fields/component",
            "text": "The name of the component responsible for an [[alert tiddler|AlertMechanism]]"
        },
        "$:/language/Docs/Fields/current-tiddler": {
            "title": "$:/language/Docs/Fields/current-tiddler",
            "text": "Used to cache the top tiddler in a [[history list|HistoryMechanism]]"
        },
        "$:/language/Docs/Fields/created": {
            "title": "$:/language/Docs/Fields/created",
            "text": "The date a tiddler was created"
        },
        "$:/language/Docs/Fields/creator": {
            "title": "$:/language/Docs/Fields/creator",
            "text": "The name of the person who created a tiddler"
        },
        "$:/language/Docs/Fields/dependents": {
            "title": "$:/language/Docs/Fields/dependents",
            "text": "For a plugin, lists the dependent plugin titles"
        },
        "$:/language/Docs/Fields/description": {
            "title": "$:/language/Docs/Fields/description",
            "text": "The descriptive text for a plugin, or a modal dialogue"
        },
        "$:/language/Docs/Fields/draft.of": {
            "title": "$:/language/Docs/Fields/draft.of",
            "text": "For draft tiddlers, contains the title of the tiddler of which this is a draft"
        },
        "$:/language/Docs/Fields/draft.title": {
            "title": "$:/language/Docs/Fields/draft.title",
            "text": "For draft tiddlers, contains the proposed new title of the tiddler"
        },
        "$:/language/Docs/Fields/footer": {
            "title": "$:/language/Docs/Fields/footer",
            "text": "The footer text for a wizard"
        },
        "$:/language/Docs/Fields/hack-to-give-us-something-to-compare-against": {
            "title": "$:/language/Docs/Fields/hack-to-give-us-something-to-compare-against",
            "text": "A temporary storage field used in [[$:/core/templates/static.content]]"
        },
        "$:/language/Docs/Fields/icon": {
            "title": "$:/language/Docs/Fields/icon",
            "text": "The title of the tiddler containing the icon associated with a tiddler"
        },
        "$:/language/Docs/Fields/library": {
            "title": "$:/language/Docs/Fields/library",
            "text": "If set to \"yes\" indicates that a tiddler should be saved as a JavaScript library"
        },
        "$:/language/Docs/Fields/list": {
            "title": "$:/language/Docs/Fields/list",
            "text": "An ordered list of tiddler titles associated with a tiddler"
        },
        "$:/language/Docs/Fields/list-before": {
            "title": "$:/language/Docs/Fields/list-before",
            "text": "If set, the title of a tiddler before which this tiddler should be added to the ordered list of tiddler titles, or at the start of the list if this field is present but empty"
        },
        "$:/language/Docs/Fields/list-after": {
            "title": "$:/language/Docs/Fields/list-after",
            "text": "If set, the title of the tiddler after which this tiddler should be added to the ordered list of tiddler titles"
        },
        "$:/language/Docs/Fields/modified": {
            "title": "$:/language/Docs/Fields/modified",
            "text": "The date and time at which a tiddler was last modified"
        },
        "$:/language/Docs/Fields/modifier": {
            "title": "$:/language/Docs/Fields/modifier",
            "text": "The tiddler title associated with the person who last modified a tiddler"
        },
        "$:/language/Docs/Fields/name": {
            "title": "$:/language/Docs/Fields/name",
            "text": "The human readable name associated with a plugin tiddler"
        },
        "$:/language/Docs/Fields/plugin-priority": {
            "title": "$:/language/Docs/Fields/plugin-priority",
            "text": "A numerical value indicating the priority of a plugin tiddler"
        },
        "$:/language/Docs/Fields/plugin-type": {
            "title": "$:/language/Docs/Fields/plugin-type",
            "text": "The type of plugin in a plugin tiddler"
        },
        "$:/language/Docs/Fields/revision": {
            "title": "$:/language/Docs/Fields/revision",
            "text": "The revision of the tiddler held at the server"
        },
        "$:/language/Docs/Fields/released": {
            "title": "$:/language/Docs/Fields/released",
            "text": "Date of a TiddlyWiki release"
        },
        "$:/language/Docs/Fields/source": {
            "title": "$:/language/Docs/Fields/source",
            "text": "The source URL associated with a tiddler"
        },
        "$:/language/Docs/Fields/subtitle": {
            "title": "$:/language/Docs/Fields/subtitle",
            "text": "The subtitle text for a wizard"
        },
        "$:/language/Docs/Fields/tags": {
            "title": "$:/language/Docs/Fields/tags",
            "text": "A list of tags associated with a tiddler"
        },
        "$:/language/Docs/Fields/text": {
            "title": "$:/language/Docs/Fields/text",
            "text": "The body text of a tiddler"
        },
        "$:/language/Docs/Fields/title": {
            "title": "$:/language/Docs/Fields/title",
            "text": "The unique name of a tiddler"
        },
        "$:/language/Docs/Fields/type": {
            "title": "$:/language/Docs/Fields/type",
            "text": "The content type of a tiddler"
        },
        "$:/language/Docs/Fields/version": {
            "title": "$:/language/Docs/Fields/version",
            "text": "Version information for a plugin"
        },
        "$:/language/Filters/AllTiddlers": {
            "title": "$:/language/Filters/AllTiddlers",
            "text": "All tiddlers except system tiddlers"
        },
        "$:/language/Filters/RecentTiddlers": {
            "title": "$:/language/Filters/RecentTiddlers",
            "text": "Recently modified tiddlers"
        },
        "$:/language/Filters/AllTags": {
            "title": "$:/language/Filters/AllTags",
            "text": "All tags except system tags"
        },
        "$:/language/Filters/Missing": {
            "title": "$:/language/Filters/Missing",
            "text": "Missing tiddlers"
        },
        "$:/language/Filters/Drafts": {
            "title": "$:/language/Filters/Drafts",
            "text": "Draft tiddlers"
        },
        "$:/language/Filters/Orphans": {
            "title": "$:/language/Filters/Orphans",
            "text": "Orphan tiddlers"
        },
        "$:/language/Filters/SystemTiddlers": {
            "title": "$:/language/Filters/SystemTiddlers",
            "text": "System tiddlers"
        },
        "$:/language/Filters/ShadowTiddlers": {
            "title": "$:/language/Filters/ShadowTiddlers",
            "text": "Shadow tiddlers"
        },
        "$:/language/Filters/OverriddenShadowTiddlers": {
            "title": "$:/language/Filters/OverriddenShadowTiddlers",
            "text": "Overridden shadow tiddlers"
        },
        "$:/language/Filters/SystemTags": {
            "title": "$:/language/Filters/SystemTags",
            "text": "System tags"
        },
        "GettingStarted": {
            "title": "GettingStarted",
            "text": "Welcome to TiddlyWiki, the non-linear personal web notebook.\n\nTo get started, first verify that you can save changes successfully - see http://tiddlywiki.com/ for detailed instructions.\n\nThen you can:\n\n* Create new tiddlers using the 'plus' button in the sidebar\n* Visit the [[control panel|$:/ControlPanel]] using the 'cog' button in the sidebar to customise your wiki\n** Stop this message appearing by changing the default tiddlers under the ''Basics'' tab\n* Save changes using the 'download' button in the sidebar\n* Learn more about [[WikiText|http://tiddlywiki.com/static/WikiText.html]]\n"
        },
        "$:/language/Help/build": {
            "title": "$:/language/Help/build",
            "description": "Automatically run configured commands",
            "text": "Build the specified build targets for the current wiki. If no build targets are specified then all available targets will be built.\n\n```\n--build &lt;target&gt; [&lt;target&gt; ...]\n```\n\nBuild targets are defined in the `tiddlywiki.info` file of a wiki folder.\n\n"
        },
        "$:/language/Help/clearpassword": {
            "title": "$:/language/Help/clearpassword",
            "description": "Clear a password for subsequent crypto operations",
            "text": "Clear the password for subsequent crypto operations\n\n```\n--clearpassword\n```\n"
        },
        "$:/language/Help/default": {
            "title": "$:/language/Help/default",
            "text": "\\define commandTitle()\n$:/language/Help/$(command)$\n\\end\n```\nusage: tiddlywiki [&lt;wikifolder&gt;] [--&lt;command&gt; [&lt;args&gt;...]...]\n```\n\nAvailable commands:\n\n&lt;ul&gt;\n&lt;$list filter=\"[commands[]sort[title]]\" variable=\"command\"&gt;\n&lt;li&gt;&lt;$link to=&lt;&lt;commandTitle&gt;&gt;&gt;&lt;$macrocall $name=\"command\" $type=\"text/plain\" $output=\"text/plain\"/&gt;&lt;/$link&gt;: &lt;$transclude tiddler=&lt;&lt;commandTitle&gt;&gt; field=\"description\"/&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\nTo get detailed help on a command:\n\n```\ntiddlywiki --help &lt;command&gt;\n```\n"
        },
        "$:/language/Help/help": {
            "title": "$:/language/Help/help",
            "description": "Display help for TiddlyWiki commands",
            "text": "Displays help text for a command:\n\n```\n--help [&lt;command&gt;]\n```\n\nIf the command name is omitted then a list of available commands is displayed.\n"
        },
        "$:/language/Help/init": {
            "title": "$:/language/Help/init",
            "description": "Initialise a new wiki folder",
            "text": "Initialise an empty [[WikiFolder|WikiFolders]] with a copy of the specified edition.\n\n```\n--init &lt;edition&gt; [&lt;edition&gt; ...]\n```\n\nFor example:\n\n```\ntiddlywiki ./MyWikiFolder --init empty\n```\n\nNote:\n\n* The wiki folder directory will be created if necessary\n* The \"edition\" defaults to ''empty''\n* The init command will fail if the wiki folder is not empty\n* The init command removes any `includeWikis` definitions in the edition's `tiddlywiki.info` file\n* When multiple editions are specified, editions initialised later will overwrite any files shared with earlier editions (so, the final `tiddlywiki.info` file will be copied from the last edition)\n* `--help editions` returns a list of available editions\n"
        },
        "$:/language/Help/load": {
            "title": "$:/language/Help/load",
            "description": "Load tiddlers from a file",
            "text": "Load tiddlers from 2.x.x TiddlyWiki files (`.html`), `.tiddler`, `.tid`, `.json` or other files \n\n```\n--load &lt;filepath&gt;\n```\n\nTo load tiddlers from an encrypted TiddlyWiki file you should first specify the password with the PasswordCommand. For example:\n\n```\ntiddlywiki ./MyWiki --password pa55w0rd --load my_encrypted_wiki.html\n```\n\nNote that TiddlyWiki will not load an older version of an already loaded plugin.\n"
        },
        "$:/language/Help/notfound": {
            "title": "$:/language/Help/notfound",
            "text": "No such help item"
        },
        "$:/language/Help/output": {
            "title": "$:/language/Help/output",
            "description": "Set the base output directory for subsequent commands",
            "text": "Sets the base output directory for subsequent commands. The default output directory is the `output` subdirectory of the edition directory.\n\n```\n--output &lt;pathname&gt;\n```\n\nIf the specified pathname is relative then it is resolved relative to the current working directory.\n"
        },
        "$:/language/Help/password": {
            "title": "$:/language/Help/password",
            "description": "Set a password for subsequent crypto operations",
            "text": "Set a password for subsequent crypto operations\n\n```\n--password &lt;password&gt;\n```\n\n"
        },
        "$:/language/Help/rendertiddler": {
            "title": "$:/language/Help/rendertiddler",
            "description": "Render an individual tiddler as a specified ContentType",
            "text": "Render an individual tiddler as a specified ContentType, defaults to `text/html` and save it to the specified filename:\n\n```\n--rendertiddler &lt;title&gt; &lt;filename&gt; [&lt;type&gt;]\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n"
        },
        "$:/language/Help/rendertiddlers": {
            "title": "$:/language/Help/rendertiddlers",
            "description": "Render tiddlers matching a filter to a specified ContentType",
            "text": "Render a set of tiddlers matching a filter to separate files of a specified ContentType (defaults to `text/html`) and extension (defaults to `.html`).\n\n```\n--rendertiddlers &lt;filter&gt; &lt;template&gt; &lt;pathname&gt; [&lt;type&gt;] [&lt;extension&gt;]\n```\n\nFor example:\n\n```\n--rendertiddlers [!is[system]] $:/core/templates/static.tiddler.html ./static text/plain\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny files in the target directory are deleted. The target directory is recursively created if it is missing.\n"
        },
        "$:/language/Help/savetiddler": {
            "title": "$:/language/Help/savetiddler",
            "description": "Saves a raw tiddler to a file",
            "text": "Saves an individual tiddler in its raw text or binary format to the specified filename. \n\n```\n--savetiddler &lt;title&gt; &lt;filename&gt;\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n"
        },
        "$:/language/Help/savetiddlers": {
            "title": "$:/language/Help/savetiddlers",
            "description": "Saves a group of raw tiddlers to a directory",
            "text": "Saves a group of tiddlers in their raw text or binary format to the specified directory. \n\n```\n--savetiddlers &lt;filter&gt; &lt;pathname&gt;\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the pathname are automatically created.\n"
        },
        "$:/language/Help/server": {
            "title": "$:/language/Help/server",
            "description": "Provides an HTTP server interface to TiddlyWiki",
            "text": "The server built in to TiddlyWiki5 is very simple. Although compatible with TiddlyWeb it doesn't support many of the features needed for robust Internet-facing usage.\n\nAt the root, it serves a rendering of a specified tiddler. Away from the root, it serves individual tiddlers encoded in JSON, and supports the basic HTTP operations for `GET`, `PUT` and `DELETE`.\n\n```\n--server &lt;port&gt; &lt;roottiddler&gt; &lt;rendertype&gt; &lt;servetype&gt; &lt;username&gt; &lt;password&gt; &lt;host&gt; &lt;pathprefix&gt;\n```\n\nThe parameters are:\n\n* ''port'' - port number to serve from (defaults to \"8080\")\n* ''roottiddler'' - the tiddler to serve at the root (defaults to \"$:/core/save/all\") \n* ''rendertype'' - the content type to which the root tiddler should be rendered (defaults to \"text/plain\")\n* ''servetype'' - the content type with which the root tiddler should be served (defaults to \"text/html\")\n* ''username'' - the default username for signing edits\n* ''password'' - optional password for basic authentication\n* ''host'' - optional hostname to serve from (defaults to \"127.0.0.1\" aka \"localhost\")\n* ''pathprefix'' - optional prefix for paths\n\nIf the password parameter is specified then the browser will prompt the user for the username and password. Note that the password is transmitted in plain text so this implementation isn't suitable for general use.\n\nFor example:\n\n```\n--server 8080 $:/core/save/all text/plain text/html MyUserName passw0rd\n```\n\nTo run multiple TiddlyWiki servers at the same time you'll need to put each one on a different port.\n"
        },
        "$:/language/Help/setfield": {
            "title": "$:/language/Help/setfield",
            "description": "Prepares external tiddlers for use",
            "text": "//Note that this command is experimental and may change or be replaced during the TiddlyWiki version 5 beta//\n\nSets the specified field of a group of tiddlers to the result of wikifying a template tiddler with the `currentTiddler` variable set to the tiddler.\n\n```\n--setfield &lt;filter&gt; &lt;fieldname&gt; &lt;templatetitle&gt; &lt;rendertype&gt;\n```\n\nThe parameters are:\n\n* ''filter'' - filter identifying the tiddlers to be affected\n* ''fieldname'' - the field to modify (defaults to \"text\")\n* ''templatetitle'' - the tiddler to wikify into the specified field. If blank or missing then the specified field is deleted\n* ''type'' - the text type to render (defaults to \"text/plain\"; \"text/html\" can be used to include HTML tags)\n\n"
        },
        "$:/language/Help/verbose": {
            "title": "$:/language/Help/verbose",
            "description": "Triggers verbose output mode",
            "text": "Triggers verbose output, useful for debugging \n\n```\n--verbose\n```\n"
        },
        "$:/language/Help/version": {
            "title": "$:/language/Help/version",
            "description": "Displays the version number of TiddlyWiki",
            "text": "Displays the version number of TiddlyWiki.\n\n```\n--version\n```\n"
        },
        "$:/language/BinaryWarning/Prompt": {
            "title": "$:/language/BinaryWarning/Prompt",
            "text": "This tiddler contains binary data"
        },
        "$:/language/ClassicWarning/Hint": {
            "title": "$:/language/ClassicWarning/Hint",
            "text": "This tiddler is written in TiddlyWiki Classic wiki text format, which is not fully compatible with TiddlyWiki version 5. See http://tiddlywiki.com/static/Upgrading.html for more details. "
        },
        "$:/language/ClassicWarning/Upgrade/Caption": {
            "title": "$:/language/ClassicWarning/Upgrade/Caption",
            "text": "upgrade"
        },
        "$:/language/CloseAll/Button": {
            "title": "$:/language/CloseAll/Button",
            "text": "close all"
        },
        "$:/language/ConfirmCancelTiddler": {
            "title": "$:/language/ConfirmCancelTiddler",
            "text": "Do you wish to discard changes to the tiddler \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmDeleteTiddler": {
            "title": "$:/language/ConfirmDeleteTiddler",
            "text": "Do you wish to delete the tiddler \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmOverwriteTiddler": {
            "title": "$:/language/ConfirmOverwriteTiddler",
            "text": "Do you wish to overwrite the tiddler \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/ConfirmEditShadowTiddler": {
            "title": "$:/language/ConfirmEditShadowTiddler",
            "text": "You are about to edit a ShadowTiddler. Any changes will override the default system making future upgrades non-trivial. Are you sure you want to edit \"&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\"?"
        },
        "$:/language/InvalidFieldName": {
            "title": "$:/language/InvalidFieldName",
            "text": "Illegal characters in field name \"&lt;$text text=&lt;&lt;fieldName&gt;&gt;/&gt;\". Fields can only contain lowercase letters, digits and the characters underscore (`_`), hyphen (`-`) and period (`.`)"
        },
        "$:/language/MissingTiddler/Hint": {
            "title": "$:/language/MissingTiddler/Hint",
            "text": "Missing tiddler \"&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\" - click {{$:/core/images/edit-button}} to create"
        },
        "$:/language/RecentChanges/DateFormat": {
            "title": "$:/language/RecentChanges/DateFormat",
            "text": "DDth MMM YYYY"
        },
        "$:/language/RelativeDate/Future/Days": {
            "title": "$:/language/RelativeDate/Future/Days",
            "text": "&lt;&lt;period&gt;&gt; days from now"
        },
        "$:/language/RelativeDate/Future/Hours": {
            "title": "$:/language/RelativeDate/Future/Hours",
            "text": "&lt;&lt;period&gt;&gt; hours from now"
        },
        "$:/language/RelativeDate/Future/Minutes": {
            "title": "$:/language/RelativeDate/Future/Minutes",
            "text": "&lt;&lt;period&gt;&gt; minutes from now"
        },
        "$:/language/RelativeDate/Future/Months": {
            "title": "$:/language/RelativeDate/Future/Months",
            "text": "&lt;&lt;period&gt;&gt; months from now"
        },
        "$:/language/RelativeDate/Future/Second": {
            "title": "$:/language/RelativeDate/Future/Second",
            "text": "1 second from now"
        },
        "$:/language/RelativeDate/Future/Seconds": {
            "title": "$:/language/RelativeDate/Future/Seconds",
            "text": "&lt;&lt;period&gt;&gt; seconds from now"
        },
        "$:/language/RelativeDate/Future/Years": {
            "title": "$:/language/RelativeDate/Future/Years",
            "text": "&lt;&lt;period&gt;&gt; years from now"
        },
        "$:/language/RelativeDate/Past/Days": {
            "title": "$:/language/RelativeDate/Past/Days",
            "text": "&lt;&lt;period&gt;&gt; days ago"
        },
        "$:/language/RelativeDate/Past/Hours": {
            "title": "$:/language/RelativeDate/Past/Hours",
            "text": "&lt;&lt;period&gt;&gt; hours ago"
        },
        "$:/language/RelativeDate/Past/Minutes": {
            "title": "$:/language/RelativeDate/Past/Minutes",
            "text": "&lt;&lt;period&gt;&gt; minutes ago"
        },
        "$:/language/RelativeDate/Past/Months": {
            "title": "$:/language/RelativeDate/Past/Months",
            "text": "&lt;&lt;period&gt;&gt; months ago"
        },
        "$:/language/RelativeDate/Past/Second": {
            "title": "$:/language/RelativeDate/Past/Second",
            "text": "1 second ago"
        },
        "$:/language/RelativeDate/Past/Seconds": {
            "title": "$:/language/RelativeDate/Past/Seconds",
            "text": "&lt;&lt;period&gt;&gt; seconds ago"
        },
        "$:/language/RelativeDate/Past/Years": {
            "title": "$:/language/RelativeDate/Past/Years",
            "text": "&lt;&lt;period&gt;&gt; years ago"
        },
        "$:/language/SystemTiddler/Tooltip": {
            "title": "$:/language/SystemTiddler/Tooltip",
            "text": "This is a system tiddler"
        },
        "$:/language/TagManager/Colour/Heading": {
            "title": "$:/language/TagManager/Colour/Heading",
            "text": "Colour"
        },
        "$:/language/TagManager/Count/Heading": {
            "title": "$:/language/TagManager/Count/Heading",
            "text": "Count"
        },
        "$:/language/TagManager/Icon/Heading": {
            "title": "$:/language/TagManager/Icon/Heading",
            "text": "Icon"
        },
        "$:/language/TagManager/Tag/Heading": {
            "title": "$:/language/TagManager/Tag/Heading",
            "text": "Tag"
        },
        "$:/language/Modals/Download": {
            "title": "$:/language/Modals/Download",
            "type": "text/vnd.tiddlywiki",
            "subtitle": "Download changes",
            "footer": "&lt;$button message=\"tw-close-tiddler\" class=\"btn btn-primary\"&gt;Close&lt;/$button&gt;",
            "help": "http://tiddlywiki.com/static/DownloadingChanges.html",
            "text": "Your browser only supports manual saving.\n\nTo save your modified wiki, right click on the download link below and select \"Download file\" or \"Save file\", and then choose the folder and filename.\n\n//You can marginally speed things up by clicking the link with the control key (Windows) or the options/alt key (Mac OS X). You will not be prompted for the folder or filename, but your browser is likely to give it an unrecognisable name -- you may need to rename the file to include an `.html` extension before you can do anything useful with it.//\n\nOn smartphones that do not allow files to be downloaded you can instead bookmark the link, and then sync your bookmarks to a desktop computer from where the wiki can be saved normally.\n"
        },
        "$:/language/Modals/SaveInstructions": {
            "title": "$:/language/Modals/SaveInstructions",
            "type": "text/vnd.tiddlywiki",
            "subtitle": "Save your work",
            "footer": "&lt;$button message=\"tw-close-tiddler\" class=\"btn btn-primary\"&gt;Close&lt;/$button&gt;",
            "help": "http://tiddlywiki.com/static/SavingChanges.html",
            "text": "Your changes to this wiki need to be saved as a ~TiddlyWiki HTML file.\n\n!!! Desktop browsers\n\n# Select ''Save As'' from the ''File'' menu\n# Choose a filename and location\n#* Some browsers also require you to explicitly specify the file saving format as ''Webpage, HTML only'' or similar\n# Close this tab\n\n!!! Smartphone browsers\n\n# Create a bookmark to this page\n#* If you've got iCloud or Google Sync set up then the bookmark will automatically sync to your desktop where you can open it and save it as above\n# Close this tab\n\n//If you open the bookmark again in Mobile Safari you will see this message again. If you want to go ahead and use the file, just click the ''close'' button below//\n"
        },
        "$:/language/Notifications/Save/Done": {
            "title": "$:/language/Notifications/Save/Done",
            "text": "Saved wiki"
        },
        "$:/language/Notifications/Save/Starting": {
            "title": "$:/language/Notifications/Save/Starting",
            "text": "Starting to save wiki"
        },
        "$:/language/Search/Filter/Caption": {
            "title": "$:/language/Search/Filter/Caption",
            "text": "Filter"
        },
        "$:/language/Search/Filter/Hint": {
            "title": "$:/language/Search/Filter/Hint",
            "text": "Search via a [[filter expression|http://tiddlywiki.com/static/TiddlerFilters.html]]"
        },
        "$:/language/Search/Filter/Matches": {
            "title": "$:/language/Search/Filter/Matches",
            "text": "//&lt;small&gt;&lt;$count filter={{$:/temp/advancedsearch}}/&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/Matches": {
            "title": "$:/language/Search/Matches",
            "text": "//&lt;small&gt;&lt;$count filter=\"[!is[system]search{$:/temp/search}]\"/&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/Shadows/Caption": {
            "title": "$:/language/Search/Shadows/Caption",
            "text": "Shadows"
        },
        "$:/language/Search/Shadows/Hint": {
            "title": "$:/language/Search/Shadows/Hint",
            "text": "Search for shadow tiddlers"
        },
        "$:/language/Search/Shadows/Matches": {
            "title": "$:/language/Search/Shadows/Matches",
            "text": "//&lt;small&gt;&lt;$count filter=\"[all[shadows]search{$:/temp/advancedsearch}]\"/&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/Standard/Caption": {
            "title": "$:/language/Search/Standard/Caption",
            "text": "Standard"
        },
        "$:/language/Search/Standard/Hint": {
            "title": "$:/language/Search/Standard/Hint",
            "text": "Search for standard tiddlers"
        },
        "$:/language/Search/Standard/Matches": {
            "title": "$:/language/Search/Standard/Matches",
            "text": "//&lt;small&gt;&lt;$count filter=\"[!is[system]search{$:/temp/advancedsearch}]\"/&gt; matches&lt;/small&gt;//"
        },
        "$:/language/Search/System/Caption": {
            "title": "$:/language/Search/System/Caption",
            "text": "System"
        },
        "$:/language/Search/System/Hint": {
            "title": "$:/language/Search/System/Hint",
            "text": "Search for system tiddlers"
        },
        "$:/language/Search/System/Matches": {
            "title": "$:/language/Search/System/Matches",
            "text": "//&lt;small&gt;&lt;$count filter=\"[is[system]search{$:/temp/advancedsearch}]\"/&gt; matches&lt;/small&gt;//"
        },
        "$:/language/SideBar/All/Caption": {
            "title": "$:/language/SideBar/All/Caption",
            "text": "All"
        },
        "$:/language/SideBar/Contents/Caption": {
            "title": "$:/language/SideBar/Contents/Caption",
            "text": "Contents"
        },
        "$:/language/SideBar/Drafts/Caption": {
            "title": "$:/language/SideBar/Drafts/Caption",
            "text": "Drafts"
        },
        "$:/language/SideBar/Missing/Caption": {
            "title": "$:/language/SideBar/Missing/Caption",
            "text": "Missing"
        },
        "$:/language/SideBar/More/Caption": {
            "title": "$:/language/SideBar/More/Caption",
            "text": "More"
        },
        "$:/language/SideBar/Open/Caption": {
            "title": "$:/language/SideBar/Open/Caption",
            "text": "Open"
        },
        "$:/language/SideBar/Orphans/Caption": {
            "title": "$:/language/SideBar/Orphans/Caption",
            "text": "Orphans"
        },
        "$:/language/SideBar/Recent/Caption": {
            "title": "$:/language/SideBar/Recent/Caption",
            "text": "Recent"
        },
        "$:/language/SideBar/Shadows/Caption": {
            "title": "$:/language/SideBar/Shadows/Caption",
            "text": "Shadows"
        },
        "$:/language/SideBar/System/Caption": {
            "title": "$:/language/SideBar/System/Caption",
            "text": "System"
        },
        "$:/language/SideBar/Tags/Caption": {
            "title": "$:/language/SideBar/Tags/Caption",
            "text": "Tags"
        },
        "$:/language/SideBar/Tags/TagManager/Caption": {
            "title": "$:/language/SideBar/Tags/TagManager/Caption",
            "text": "Tag Manager"
        },
        "$:/language/SideBar/Tags/Untagged/Caption": {
            "title": "$:/language/SideBar/Tags/Untagged/Caption",
            "text": "untagged"
        },
        "$:/language/SideBar/Tools/Caption": {
            "title": "$:/language/SideBar/Tools/Caption",
            "text": "Tools"
        },
        "$:/language/SideBar/Types/Caption": {
            "title": "$:/language/SideBar/Types/Caption",
            "text": "Types"
        },
        "$:/SiteSubtitle": {
            "title": "$:/SiteSubtitle",
            "text": "a non-linear personal web notebook"
        },
        "$:/SiteTitle": {
            "title": "$:/SiteTitle",
            "text": "My ~TiddlyWiki"
        },
        "$:/language/TiddlerInfo/Advanced/Caption": {
            "title": "$:/language/TiddlerInfo/Advanced/Caption",
            "text": "Advanced"
        },
        "$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint",
            "text": "none"
        },
        "$:/language/TiddlerInfo/Advanced/PluginInfo/Heading": {
            "title": "$:/language/TiddlerInfo/Advanced/PluginInfo/Heading",
            "text": "Plugin Details"
        },
        "$:/language/TiddlerInfo/Advanced/PluginInfo/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/PluginInfo/Hint",
            "text": "This plugin contains the following shadow tiddlers:"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading",
            "text": "Shadow Status"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint",
            "text": "The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is not a shadow tiddler"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint",
            "text": "The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is a shadow tiddler"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source",
            "text": "It is defined in the plugin &lt;$link to=&lt;&lt;pluginTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;pluginTiddler&gt;&gt;/&gt;&lt;/$link&gt;"
        },
        "$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint": {
            "title": "$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint",
            "text": "It is overridden by an ordinary tiddler"
        },
        "$:/language/TiddlerInfo/Fields/Caption": {
            "title": "$:/language/TiddlerInfo/Fields/Caption",
            "text": "Fields"
        },
        "$:/language/TiddlerInfo/List/Caption": {
            "title": "$:/language/TiddlerInfo/List/Caption",
            "text": "List"
        },
        "$:/language/TiddlerInfo/List/Empty": {
            "title": "$:/language/TiddlerInfo/List/Empty",
            "text": "This tiddler does not have a list"
        },
        "$:/language/TiddlerInfo/Listed/Caption": {
            "title": "$:/language/TiddlerInfo/Listed/Caption",
            "text": "Listed"
        },
        "$:/language/TiddlerInfo/Listed/Empty": {
            "title": "$:/language/TiddlerInfo/Listed/Empty",
            "text": "This tiddler is not listed by any others"
        },
        "$:/language/TiddlerInfo/References/Caption": {
            "title": "$:/language/TiddlerInfo/References/Caption",
            "text": "References"
        },
        "$:/language/TiddlerInfo/References/Empty": {
            "title": "$:/language/TiddlerInfo/References/Empty",
            "text": "No tiddlers link to this one"
        },
        "$:/language/TiddlerInfo/Tagging/Caption": {
            "title": "$:/language/TiddlerInfo/Tagging/Caption",
            "text": "Tagging"
        },
        "$:/language/TiddlerInfo/Tagging/Empty": {
            "title": "$:/language/TiddlerInfo/Tagging/Empty",
            "text": "No tiddlers are tagged with this one"
        },
        "$:/language/Docs/Types/application/javascript": {
            "title": "$:/language/Docs/Types/application/javascript",
            "description": "JavaScript code",
            "name": "application/javascript",
            "group": "Developer"
        },
        "$:/language/Docs/Types/application/json": {
            "title": "$:/language/Docs/Types/application/json",
            "description": "JSON data",
            "name": "application/json",
            "group": "Developer"
        },
        "$:/language/Docs/Types/application/x-tiddler-dictionary": {
            "title": "$:/language/Docs/Types/application/x-tiddler-dictionary",
            "description": "Data dictionary",
            "name": "application/x-tiddler-dictionary",
            "group": "Developer"
        },
        "$:/language/Docs/Types/image/gif": {
            "title": "$:/language/Docs/Types/image/gif",
            "description": "GIF image",
            "name": "image/gif",
            "group": "Image"
        },
        "$:/language/Docs/Types/image/jpeg": {
            "title": "$:/language/Docs/Types/image/jpeg",
            "description": "JPEG image",
            "name": "image/jpeg",
            "group": "Image"
        },
        "$:/language/Docs/Types/image/png": {
            "title": "$:/language/Docs/Types/image/png",
            "description": "PNG image",
            "name": "image/png",
            "group": "Image"
        },
        "$:/language/Docs/Types/image/svg+xml": {
            "title": "$:/language/Docs/Types/image/svg+xml",
            "description": "Structured Vector Graphics image",
            "name": "image/svg+xml",
            "group": "Image"
        },
        "$:/language/Docs/Types/image/x-icon": {
            "title": "$:/language/Docs/Types/image/x-icon",
            "description": "ICO format icon file",
            "name": "image/x-icon",
            "group": "Image"
        },
        "$:/language/Docs/Types/text/css": {
            "title": "$:/language/Docs/Types/text/css",
            "description": "Static stylesheet",
            "name": "text/css",
            "group": "Developer"
        },
        "$:/language/Docs/Types/text/html": {
            "title": "$:/language/Docs/Types/text/html",
            "description": "HTML markup",
            "name": "text/html",
            "group": "Text"
        },
        "$:/language/Docs/Types/text/plain": {
            "title": "$:/language/Docs/Types/text/plain",
            "description": "Plain text",
            "name": "text/plain",
            "group": "Text"
        },
        "$:/language/Docs/Types/text/vnd.tiddlywiki": {
            "title": "$:/language/Docs/Types/text/vnd.tiddlywiki",
            "description": "TiddlyWiki 5",
            "name": "text/vnd.tiddlywiki",
            "group": "Text"
        },
        "$:/language/Docs/Types/text/x-tiddlywiki": {
            "title": "$:/language/Docs/Types/text/x-tiddlywiki",
            "description": "TiddlyWiki Classic",
            "name": "text/x-tiddlywiki",
            "group": "Text"
        },
        "$:/languages/en-GB": {
            "title": "$:/languages/en-GB",
            "name": "en-GB",
            "description": "English (British)",
            "author": "JeremyRuston",
            "core-version": "&gt;=5.0.0\"",
            "text": "Stub pseudo-plugin for the default language"
        },
        "$:/core/modules/commander.js": {
            "text": "/*\\\ntitle: $:/core/modules/commander.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Commander class is a command interpreter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nParse a sequence of commands\n\tcommandTokens: an array of command string tokens\n\twiki: reference to the wiki store object\n\tstreams: {output:, error:}, each of which has a write(string) method\n\tcallback: a callback invoked as callback(err) where err is null if there was no error\n*/\nvar Commander = function(commandTokens,callback,wiki,streams) {\n\tvar path = require(\"path\");\n\tthis.commandTokens = commandTokens;\n\tthis.nextToken = 0;\n\tthis.callback = callback;\n\tthis.wiki = wiki;\n\tthis.streams = streams;\n\tthis.outputPath = path.resolve($tw.boot.wikiPath,$tw.config.wikiOutputSubDir);\n};\n\n/*\nAdd a string of tokens to the command queue\n*/\nCommander.prototype.addCommandTokens = function(commandTokens) {\n\tArray.prototype.push.apply(this.commandTokens,commandTokens);\n};\n\n/*\nExecute the sequence of commands and invoke a callback on completion\n*/\nCommander.prototype.execute = function() {\n\tthis.executeNextCommand();\n};\n\n/*\nExecute the next command in the sequence\n*/\nCommander.prototype.executeNextCommand = function() {\n\tvar self = this;\n\t// Invoke the callback if there are no more commands\n\tif(this.nextToken &gt;= this.commandTokens.length) {\n\t\tthis.callback(null);\n\t} else {\n\t\t// Get and check the command token\n\t\tvar commandName = this.commandTokens[this.nextToken++];\n\t\tif(commandName.substr(0,2) !== \"--\") {\n\t\t\tthis.callback(\"Missing command\");\n\t\t} else {\n\t\t\tcommandName = commandName.substr(2); // Trim off the --\n\t\t\t// Accumulate the parameters to the command\n\t\t\tvar params = [];\n\t\t\twhile(this.nextToken &lt; this.commandTokens.length &amp;&amp; \n\t\t\t\tthis.commandTokens[this.nextToken].substr(0,2) !== \"--\") {\n\t\t\t\tparams.push(this.commandTokens[this.nextToken++]);\n\t\t\t}\n\t\t\t// Get the command info\n\t\t\tvar command = $tw.commands[commandName],\n\t\t\t\tc,err;\n\t\t\tif(!command) {\n\t\t\t\tthis.callback(\"Unknown command: \" + commandName);\n\t\t\t} else {\n\t\t\t\tif(this.verbose) {\n\t\t\t\t\tthis.streams.output.write(\"Executing command: \" + commandName + \" \" + params.join(\" \") + \"\\n\");\n\t\t\t\t}\n\t\t\t\tif(command.info.synchronous) {\n\t\t\t\t\t// Synchronous command\n\t\t\t\t\tc = new command.Command(params,this);\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.executeNextCommand();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Asynchronous command\n\t\t\t\t\tc = new command.Command(params,this,function(err) {\n\t\t\t\t\t\tif(err) {\n\t\t\t\t\t\t\tself.callback(err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.executeNextCommand();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nCommander.initCommands = function(moduleType) {\n\tmoduleType = moduleType || \"command\";\n\t$tw.commands = {};\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tvar c = $tw.commands[module.info.name] = {};\n\t\t// Add the methods defined by the module\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\tc[f] = module[f];\n\t\t\t}\n\t\t}\n\t});\n};\n\nexports.Commander = Commander;\n\n})();\n",
            "title": "$:/core/modules/commander.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/commands/build.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/build.js\ntype: application/javascript\nmodule-type: command\n\nCommand to build a build target\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"build\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\t// Get the build targets defined in the wiki\n\tvar buildTargets = $tw.boot.wikiInfo.build;\n\tif(!buildTargets) {\n\t\treturn \"No build targets defined\"\n\t}\n\t// Loop through each of the specified targets\n\tvar targets;\n\tif(this.params.length &gt; 0) {\n\t\ttargets = this.params;\n\t} else {\n\t\ttargets = Object.keys(buildTargets);\n\t}\n\tfor(var targetIndex=0; targetIndex&lt;targets.length; targetIndex++) {\n\t\tvar target = targets[targetIndex],\n\t\t\tcommands = buildTargets[target];\n\t\tif(!commands) {\n\t\t\treturn \"Build target '\" + target + \"' not found\";\n\t\t}\n\t\t// Add the commands to the queue\n\t\tthis.commander.addCommandTokens(commands);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/build.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/clearpassword.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/clearpassword.js\ntype: application/javascript\nmodule-type: command\n\nClear password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"clearpassword\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\t$tw.crypto.setPassword(null);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/clearpassword.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/help.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/help.js\ntype: application/javascript\nmodule-type: command\n\nHelp command\n\n\\*/\n(function(){\n\n/*jshint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"help\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar subhelp = this.params[0] || \"default\",\n\t\thelpBase = \"$:/language/Help/\",\n\t\ttext;\n\tif(!this.commander.wiki.getTiddler(helpBase + subhelp)) {\n\t\tsubhelp = \"notfound\";\n\t}\n\t// Wikify the help as formatted text (ie block elements generate newlines)\n\ttext = this.commander.wiki.renderTiddler(\"text/plain-formatted\",helpBase + subhelp);\n\t// Remove any leading linebreaks\n\ttext = text.replace(/^(\\r?\\n)*/g,\"\");\n\tthis.commander.streams.output.write(text);\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/help.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/init.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/init.js\ntype: application/javascript\nmodule-type: command\n\nCommand to initialise an empty wiki folder\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"init\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\t// Check that we don't already have a valid wiki folder\n\tif($tw.boot.wikiTiddlersPath) {\n\t\treturn \"Wiki folder is not empty\";\n\t}\n\t// Loop through each of the specified editions\n\tvar editions = this.params.length &gt; 0 ? this.params : [\"empty\"];\n\tfor(var editionIndex=0; editionIndex&lt;editions.length; editionIndex++) {\n\t\tvar editionName = editions[editionIndex];\n\t\t// Check the edition exists\n\t\tvar editionPath = $tw.findLibraryItem(editionName,$tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar));\n\t\tif(!$tw.utils.isDirectory(editionPath)) {\n\t\t\treturn \"Edition '\" + editionName + \"' not found\";\n\t\t}\n\t\t// Copy the edition content\n\t\tvar err = $tw.utils.copyDirectory(editionPath,$tw.boot.wikiPath);\n\t\tif(!err) {\n\t\t\tthis.commander.streams.output.write(\"Copied edition '\" + editionName + \"' to \" + $tw.boot.wikiPath + \"\\n\");\n\t\t} else {\n\t\t\treturn err;\n\t\t}\n\t}\n\t// Tweak the tiddlywiki.info to remove any included wikis\n\tvar packagePath = $tw.boot.wikiPath + \"/tiddlywiki.info\",\n\t\tpackageJson = JSON.parse(fs.readFileSync(packagePath));\n\tdelete packageJson.includeWikis;\n\tfs.writeFileSync(packagePath,JSON.stringify(packageJson,null,$tw.config.preferences.jsonSpaces));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/init.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/load.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/load.js\ntype: application/javascript\nmodule-type: command\n\nCommand to load tiddlers from a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"load\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar ext = path.extname(self.params[0]);\n\tfs.readFile(this.params[0],$tw.utils.getTypeEncoding(ext),function(err,data) {\n\t\tif (err) {\n\t\t\tself.callback(err);\n\t\t} else {\n\t\t\tvar fields = {title: self.params[0]},\n\t\t\t\ttype = path.extname(self.params[0]);\n\t\t\tvar tiddlers = self.commander.wiki.deserializeTiddlers(type,data,fields);\n\t\t\tif(!tiddlers) {\n\t\t\t\tself.callback(\"No tiddlers found in file \\\"\" + self.params[0] + \"\\\"\");\n\t\t\t} else {\n\t\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t\tself.commander.wiki.importTiddler(new $tw.Tiddler(tiddlers[t]));\n\t\t\t\t}\n\t\t\t\tself.callback(null);\t\n\t\t\t}\n\t\t}\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/load.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/output.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/output.js\ntype: application/javascript\nmodule-type: command\n\nCommand to set the default output location (defaults to current working directory)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"output\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\"fs\"),\n\t\tpath = require(\"path\");\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing output path\";\n\t}\n\tthis.commander.outputPath = path.resolve(process.cwd(),this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/output.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/password.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/password.js\ntype: application/javascript\nmodule-type: command\n\nSave password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"password\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing password\";\n\t}\n\t$tw.crypto.setPassword(this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/password.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/rendertiddler.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/rendertiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render a tiddler and save it to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"rendertiddler\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttype = this.params[2] || \"text/html\";\n\t$tw.utils.createFileDirectories(filename);\n\tfs.writeFile(filename,this.commander.wiki.renderTiddler(type,title),\"utf8\",function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/rendertiddler.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/rendertiddlers.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/rendertiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"rendertiddlers\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\ttemplate = this.params[1],\n\t\tpathname = path.resolve(this.commander.outputPath,this.params[2]),\n\t\ttype = this.params[3] || \"text/html\",\n\t\textension = this.params[4] || \".html\",\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.deleteDirectory(pathname);\n\t$tw.utils.createDirectory(pathname);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(template),\n\t\t\twidgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}});\n\t\tvar container = $tw.fakeDocument.createElement(\"div\");\n\t\twidgetNode.render(container,null);\n\t\tvar text = type === \"text/html\" ? container.innerHTML : container.textContent;\n\t\tfs.writeFileSync(path.resolve(pathname,encodeURIComponent(title) + extension),text,\"utf8\");\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/rendertiddlers.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/savetiddler.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/savetiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the content of a tiddler to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"savetiddler\",\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttiddler = this.commander.wiki.getTiddler(title),\n\t\ttype = tiddler.fields.type || \"text/vnd.tiddlywiki\",\n\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \"utf8\"};\n\t$tw.utils.createFileDirectories(filename);\n\tfs.writeFile(filename,tiddler.fields.text,contentTypeInfo.encoding,function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/savetiddler.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/savetiddlers.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/savetiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"savetiddlers\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \"Missing filename\";\n\t}\n\tvar self = this,\n\t\tfs = require(\"fs\"),\n\t\tpath = require(\"path\"),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tpathname = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.deleteDirectory(pathname);\n\t$tw.utils.createDirectory(pathname);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.commander.wiki.getTiddler(title),\n\t\t\ttype = tiddler.fields.type || \"text/vnd.tiddlywiki\",\n\t\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \"utf8\"},\n\t\t\tfilename = path.resolve(pathname,encodeURIComponent(title));\n\t\tfs.writeFileSync(filename,tiddler.fields.text,contentTypeInfo.encoding);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/savetiddlers.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/server.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/server.js\ntype: application/javascript\nmodule-type: command\n\nServe tiddlers over http\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nif(!$tw.browser) {\n\tvar util = require(\"util\"),\n\t\tfs = require(\"fs\"),\n\t\turl = require(\"url\"),\n\t\tpath = require(\"path\"),\n\t\thttp = require(\"http\");\t\n}\n\nexports.info = {\n\tname: \"server\",\n\tsynchronous: true\n};\n\n/*\nA simple HTTP server with regexp-based routes\n*/\nfunction SimpleServer(options) {\n\tthis.routes = options.routes || [];\n\tthis.wiki = options.wiki;\n\tthis.variables = options.variables || {};\n}\n\nSimpleServer.prototype.set = function(obj) {\n\tvar self = this;\n\t$tw.utils.each(obj,function(value,name) {\n\t\tself.variables[name] = value;\n\t});\n};\n\nSimpleServer.prototype.get = function(name) {\n\treturn this.variables[name];\n};\n\nSimpleServer.prototype.addRoute = function(route) {\n\tthis.routes.push(route);\n};\n\nSimpleServer.prototype.findMatchingRoute = function(request,state) {\n\tvar pathprefix = this.get(\"pathprefix\") || \"\";\n\tfor(var t=0; t&lt;this.routes.length; t++) {\n\t\tvar potentialRoute = this.routes[t],\n\t\t\tpathRegExp = potentialRoute.path,\n\t\t\tpathname = state.urlInfo.pathname,\n\t\t\tmatch;\n\t\tif(pathprefix) {\n\t\t\tif(pathname.substr(0,pathprefix.length) === pathprefix) {\n\t\t\t\tpathname = pathname.substr(pathprefix.length);\n\t\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t\t} else {\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t} else {\n\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t}\n\t\tif(match &amp;&amp; request.method === potentialRoute.method) {\n\t\t\tstate.params = [];\n\t\t\tfor(var p=1; p&lt;match.length; p++) {\n\t\t\t\tstate.params.push(match[p]);\n\t\t\t}\n\t\t\treturn potentialRoute;\n\t\t}\n\t}\n\treturn null;\n};\n\nSimpleServer.prototype.checkCredentials = function(request,incomingUsername,incomingPassword) {\n\tvar header = request.headers[\"authorization\"] || \"\",\n\t\ttoken = header.split(/\\s+/).pop() || \"\",\n\t\tauth = $tw.utils.base64Decode(token),\n\t\tparts = auth.split(/:/),\n\t\tusername = parts[0],\n\t\tpassword = parts[1];\n\tif(incomingUsername === username &amp;&amp; incomingPassword === password) {\n\t\treturn \"ALLOWED\";\n\t} else {\n\t\treturn \"DENIED\";\n\t}\n}\n\nSimpleServer.prototype.listen = function(port,host) {\n\tvar self = this;\n\thttp.createServer(function(request,response) {\n\t\t// Compose the state object\n\t\tvar state = {};\n\t\tstate.wiki = self.wiki;\n\t\tstate.server = self;\n\t\tstate.urlInfo = url.parse(request.url);\n\t\t// Find the route that matches this path\n\t\tvar route = self.findMatchingRoute(request,state);\n\t\t// Check for the username and password if we've got one\n\t\tvar username = self.get(\"username\"),\n\t\t\tpassword = self.get(\"password\");\n\t\tif(username &amp;&amp; password) {\n\t\t\t// Check they match\n\t\t\tif(self.checkCredentials(request,username,password) !== \"ALLOWED\") {\n\t\t\t\tvar servername = state.wiki.getTiddlerText(\"$:/SiteTitle\") || \"TiddlyWiki5\";\n\t\t\t\tresponse.writeHead(401,\"Authentication required\",{\n\t\t\t\t\t\"WWW-Authenticate\": 'Basic realm=\"Please provide your username and password to login to ' + servername + '\"'\n\t\t\t\t});\n\t\t\t\tresponse.end();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// Return a 404 if we didn't find a route\n\t\tif(!route) {\n\t\t\tresponse.writeHead(404);\n\t\t\tresponse.end();\n\t\t\treturn;\n\t\t}\n\t\t// Set the encoding for the incoming request\n\t\t// TODO: Presumably this would need tweaking if we supported PUTting binary tiddlers\n\t\trequest.setEncoding(\"utf8\");\n\t\t// Dispatch the appropriate method\n\t\tswitch(request.method) {\n\t\t\tcase \"GET\": // Intentional fall-through\n\t\t\tcase \"DELETE\":\n\t\t\t\troute.handler(request,response,state);\n\t\t\t\tbreak;\n\t\t\tcase \"PUT\":\n\t\t\t\tvar data = \"\";\n\t\t\t\trequest.on(\"data\",function(chunk) {\n\t\t\t\t\tdata += chunk.toString();\n\t\t\t\t});\n\t\t\t\trequest.on(\"end\",function() {\n\t\t\t\t\tstate.data = data;\n\t\t\t\t\troute.handler(request,response,state);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}).listen(port,host);\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n\t// Set up server\n\tthis.server = new SimpleServer({\n\t\twiki: this.commander.wiki\n\t});\n\t// Add route handlers\n\tthis.server.addRoute({\n\t\tmethod: \"PUT\",\n\t\tpath: /^\\/recipes\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]),\n\t\t\t\tfields = JSON.parse(state.data);\n\t\t\t// Pull up any subfields in the `fields` object\n\t\t\tif(fields.fields) {\n\t\t\t\t$tw.utils.each(fields.fields,function(field,name) {\n\t\t\t\t\tfields[name] = field;\n\t\t\t\t});\n\t\t\t\tdelete fields.fields;\n\t\t\t}\n\t\t\t// Remove any revision field\n\t\t\tif(fields[\"revision\"]) {\n\t\t\t\tdelete fields[\"revision\"];\n\t\t\t}\n\t\t\tstate.wiki.addTiddler(new $tw.Tiddler(state.wiki.getCreationFields(),fields,{title: title}));\n\t\t\tvar changeCount = state.wiki.getChangeCount(title).toString();\n\t\t\tresponse.writeHead(204, \"OK\",{\n\t\t\t\tEtag: \"\\\"default/\" + encodeURIComponent(title) + \"/\" + changeCount + \":\\\"\",\n\t\t\t\t\"Content-Type\": \"text/plain\"\n\t\t\t});\n\t\t\tresponse.end();\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \"DELETE\",\n\t\tpath: /^\\/bags\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]);\n\t\t\tstate.wiki.deleteTiddler(title);\n\t\t\tresponse.writeHead(204, \"OK\", {\n\t\t\t\t\"Content-Type\": \"text/plain\"\n\t\t\t});\n\t\t\tresponse.end();\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \"GET\",\n\t\tpath: /^\\/$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\"Content-Type\": state.server.get(\"serveType\")});\n\t\t\tvar text = state.wiki.renderTiddler(state.server.get(\"renderType\"),state.server.get(\"rootTiddler\"));\n\t\t\tresponse.end(text,\"utf8\");\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \"GET\",\n\t\tpath: /^\\/status$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\"Content-Type\": \"application/json\"});\n\t\t\tvar text = JSON.stringify({\n\t\t\t\tusername: state.server.get(\"username\"),\n\t\t\t\tspace: {\n\t\t\t\t\trecipe: \"default\"\n\t\t\t\t},\n\t\t\t\ttiddlywiki_version: $tw.version\n\t\t\t});\n\t\t\tresponse.end(text,\"utf8\");\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \"GET\",\n\t\tpath: /^\\/favicon.ico$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\"Content-Type\": \"image/x-icon\"});\n\t\t\tvar buffer = state.wiki.getTiddlerText(\"$:/favicon.ico\",\"\");\n\t\t\tresponse.end(buffer,\"base64\");\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \"GET\",\n\t\tpath: /^\\/recipes\\/default\\/tiddlers.json$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\"Content-Type\": \"application/json\"});\n\t\t\tvar tiddlers = [];\n\t\t\tstate.wiki.forEachTiddler({sortField: \"title\"},function(title,tiddler) {\n\t\t\t\tvar tiddlerFields = {};\n\t\t\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\t\t\tif(name !== \"text\") {\n\t\t\t\t\t\ttiddlerFields[name] = tiddler.getFieldString(name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttiddlerFields[\"revision\"] = state.wiki.getChangeCount(title);\n\t\t\t\ttiddlerFields.type = tiddlerFields.type || \"text/vnd.tiddlywiki\";\n\t\t\t\ttiddlers.push(tiddlerFields);\n\t\t\t});\n\t\t\tvar text = JSON.stringify(tiddlers);\n\t\t\tresponse.end(text,\"utf8\");\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \"GET\",\n\t\tpath: /^\\/recipes\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]),\n\t\t\t\ttiddler = state.wiki.getTiddler(title),\n\t\t\t\ttiddlerFields = {},\n\t\t\t\tknownFields = [\n\t\t\t\t\t\"bag\", \"created\", \"creator\", \"modified\", \"modifier\", \"permissions\", \"recipe\", \"revision\", \"tags\", \"text\", \"title\", \"type\", \"uri\"\n\t\t\t\t];\n\t\t\tif(tiddler) {\n\t\t\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\t\t\tvar value = tiddler.getFieldString(name);\n\t\t\t\t\tif(knownFields.indexOf(name) !== -1) {\n\t\t\t\t\t\ttiddlerFields[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttiddlerFields.fields = tiddlerFields.fields || {};\n\t\t\t\t\t\ttiddlerFields.fields[name] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttiddlerFields[\"revision\"] = state.wiki.getChangeCount(title);\n\t\t\t\ttiddlerFields.type = tiddlerFields.type || \"text/vnd.tiddlywiki\";\n\t\t\t\tresponse.writeHead(200, {\"Content-Type\": \"application/json\"});\n\t\t\t\tresponse.end(JSON.stringify(tiddlerFields),\"utf8\");\n\t\t\t} else {\n\t\t\t\tresponse.writeHead(404);\n\t\t\t\tresponse.end();\n\t\t\t}\n\t\t}\n\t});\n};\n\nCommand.prototype.execute = function() {\n\tvar port = this.params[0] || \"8080\",\n\t\trootTiddler = this.params[1] || \"$:/core/save/all\",\n\t\trenderType = this.params[2] || \"text/plain\",\n\t\tserveType = this.params[3] || \"text/html\",\n\t\tusername = this.params[4],\n\t\tpassword = this.params[5],\n\t\thost = this.params[6] || \"127.0.0.1\",\n\t\tpathprefix = this.params[7];\n\tthis.server.set({\n\t\trootTiddler: rootTiddler,\n\t\trenderType: renderType,\n\t\tserveType: serveType,\n\t\tusername: username,\n\t\tpassword: password,\n\t\tpathprefix: pathprefix\n\t});\n\tthis.server.listen(port,host);\n\tconsole.log(\"Serving on \" + host + \":\" + port);\n\tconsole.log(\"(press ctrl-C to exit)\");\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/server.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/setfield.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/setfield.js\ntype: application/javascript\nmodule-type: command\n\nCommand to modify selected tiddlers to set a field to the text of a template tiddler that has been wikified with the selected tiddler as the current tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.info = {\n\tname: \"setfield\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 4) {\n\t\treturn \"Missing parameters\";\n\t}\n\tvar self = this,\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tfieldname = this.params[1] || \"text\",\n\t\ttemplatetitle = this.params[2],\n\t\trendertype = this.params[3] || \"text/plain\",\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(templatetitle),\n\t\t\tnewFields = {},\n\t\t\ttiddler = wiki.getTiddler(title);\n\t\tif(parser) {\n\t\t\tvar widgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}});\n\t\t\tvar container = $tw.fakeDocument.createElement(\"div\");\n\t\t\twidgetNode.render(container,null);\n\t\t\tnewFields[fieldname] = rendertype === \"text/html\" ? container.innerHTML : container.textContent;\n\t\t} else {\n\t\t\tnewFields[fieldname] = undefined;\n\t\t}\n\t\twiki.addTiddler(new $tw.Tiddler(tiddler,newFields));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/setfield.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/verbose.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/verbose.js\ntype: application/javascript\nmodule-type: command\n\nVerbose command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"verbose\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.verbose = true;\n\t// Output the boot message log\n\tthis.commander.streams.output.write(\"Boot log:\\n  \" + $tw.boot.logMessages.join(\"\\n  \") + \"\\n\");\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/verbose.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/commands/version.js": {
            "text": "/*\\\ntitle: $:/core/modules/commands/version.js\ntype: application/javascript\nmodule-type: command\n\nVersion command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.info = {\n\tname: \"version\",\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.streams.output.write($tw.version + \"\\n\");\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n",
            "title": "$:/core/modules/commands/version.js",
            "type": "application/javascript",
            "module-type": "command"
        },
        "$:/core/modules/config.js": {
            "text": "/*\\\ntitle: $:/core/modules/config.js\ntype: application/javascript\nmodule-type: config\n\nCore configuration constants\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.preferences = {};\n\nexports.preferences.notificationDuration = 3 * 1000;\nexports.preferences.jsonSpaces = 4;\n\nexports.dateFormats = {\n\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\",\"December\"],\n\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\tshortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\tshortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n// suffixes for dates, eg \"1st\",\"2nd\",\"3rd\"...\"30th\",\"31st\"\n\tdaySuffixes: [\"st\",\"nd\",\"rd\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\n\t\t\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\n\t\t\"st\",\"nd\",\"rd\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\"th\",\n\t\t\"st\"],\n\tam: \"am\",\n\tpm: \"pm\"\n};\n\nexports.htmlEntities = {quot:34, amp:38, apos:39, lt:60, gt:62, nbsp:160, iexcl:161, cent:162, pound:163, curren:164, yen:165, brvbar:166, sect:167, uml:168, copy:169, ordf:170, laquo:171, not:172, shy:173, reg:174, macr:175, deg:176, plusmn:177, sup2:178, sup3:179, acute:180, micro:181, para:182, middot:183, cedil:184, sup1:185, ordm:186, raquo:187, frac14:188, frac12:189, frac34:190, iquest:191, Agrave:192, Aacute:193, Acirc:194, Atilde:195, Auml:196, Aring:197, AElig:198, Ccedil:199, Egrave:200, Eacute:201, Ecirc:202, Euml:203, Igrave:204, Iacute:205, Icirc:206, Iuml:207, ETH:208, Ntilde:209, Ograve:210, Oacute:211, Ocirc:212, Otilde:213, Ouml:214, times:215, Oslash:216, Ugrave:217, Uacute:218, Ucirc:219, Uuml:220, Yacute:221, THORN:222, szlig:223, agrave:224, aacute:225, acirc:226, atilde:227, auml:228, aring:229, aelig:230, ccedil:231, egrave:232, eacute:233, ecirc:234, euml:235, igrave:236, iacute:237, icirc:238, iuml:239, eth:240, ntilde:241, ograve:242, oacute:243, ocirc:244, otilde:245, ouml:246, divide:247, oslash:248, ugrave:249, uacute:250, ucirc:251, uuml:252, yacute:253, thorn:254, yuml:255, OElig:338, oelig:339, Scaron:352, scaron:353, Yuml:376, fnof:402, circ:710, tilde:732, Alpha:913, Beta:914, Gamma:915, Delta:916, Epsilon:917, Zeta:918, Eta:919, Theta:920, Iota:921, Kappa:922, Lambda:923, Mu:924, Nu:925, Xi:926, Omicron:927, Pi:928, Rho:929, Sigma:931, Tau:932, Upsilon:933, Phi:934, Chi:935, Psi:936, Omega:937, alpha:945, beta:946, gamma:947, delta:948, epsilon:949, zeta:950, eta:951, theta:952, iota:953, kappa:954, lambda:955, mu:956, nu:957, xi:958, omicron:959, pi:960, rho:961, sigmaf:962, sigma:963, tau:964, upsilon:965, phi:966, chi:967, psi:968, omega:969, thetasym:977, upsih:978, piv:982, ensp:8194, emsp:8195, thinsp:8201, zwnj:8204, zwj:8205, lrm:8206, rlm:8207, ndash:8211, mdash:8212, lsquo:8216, rsquo:8217, sbquo:8218, ldquo:8220, rdquo:8221, bdquo:8222, dagger:8224, Dagger:8225, bull:8226, hellip:8230, permil:8240, prime:8242, Prime:8243, lsaquo:8249, rsaquo:8250, oline:8254, frasl:8260, euro:8364, image:8465, weierp:8472, real:8476, trade:8482, alefsym:8501, larr:8592, uarr:8593, rarr:8594, darr:8595, harr:8596, crarr:8629, lArr:8656, uArr:8657, rArr:8658, dArr:8659, hArr:8660, forall:8704, part:8706, exist:8707, empty:8709, nabla:8711, isin:8712, notin:8713, ni:8715, prod:8719, sum:8721, minus:8722, lowast:8727, radic:8730, prop:8733, infin:8734, ang:8736, and:8743, or:8744, cap:8745, cup:8746, int:8747, there4:8756, sim:8764, cong:8773, asymp:8776, ne:8800, equiv:8801, le:8804, ge:8805, sub:8834, sup:8835, nsub:8836, sube:8838, supe:8839, oplus:8853, otimes:8855, perp:8869, sdot:8901, lceil:8968, rceil:8969, lfloor:8970, rfloor:8971, lang:9001, rang:9002, loz:9674, spades:9824, clubs:9827, hearts:9829, diams:9830 };\n\nexports.htmlVoidElements = \"area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr\".split(\",\");\n\nexports.htmlBlockElements = \"address,article,aside,audio,blockquote,canvas,dd,div,dl,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,li,noscript,ol,output,p,pre,section,table,tfoot,ul,video\".split(\",\");\n\nexports.htmlUnsafeElements = \"script\".split(\",\");\n\n})();\n",
            "title": "$:/core/modules/config.js",
            "type": "application/javascript",
            "module-type": "config"
        },
        "$:/core/modules/deserializers.js": {
            "text": "/*\\\ntitle: $:/core/modules/deserializers.js\ntype: application/javascript\nmodule-type: tiddlerdeserializer\n\nFunctions to deserialise tiddlers from a block of text\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nUtility function to parse an old-style tiddler DIV in a *.tid file. It looks like this:\n\n&lt;div title=\"Title\" creator=\"JoeBloggs\" modifier=\"JoeBloggs\" created=\"201102111106\" modified=\"201102111310\" tags=\"myTag [[my long tag]]\"&gt;\n&lt;pre&gt;The text of the tiddler (without the expected HTML encoding).\n&lt;/pre&gt;\n&lt;/div&gt;\n\nNote that the field attributes are HTML encoded, but that the body of the &lt;PRE&gt; tag is not encoded.\n\nWhen these tiddler DIVs are encountered within a TiddlyWiki HTML file then the body is encoded in the usual way.\n*/\nvar parseTiddlerDiv = function(text /* [,fields] */) {\n\t// Slot together the default results\n\tvar result = {};\n\tif(arguments.length &gt; 1) {\n\t\tfor(var f=1; f&lt;arguments.length; f++) {\n\t\t\tvar fields = arguments[f];\n\t\t\tfor(var t in fields) {\n\t\t\t\tresult[t] = fields[t];\t\t\n\t\t\t}\n\t\t}\n\t}\n\t// Parse the DIV body\n\tvar startRegExp = /^\\s*&lt;div\\s+([^&gt;]*)&gt;(\\s*&lt;pre&gt;)?/gi,\n\t\tendRegExp,\n\t\tmatch = startRegExp.exec(text);\n\tif(match) {\n\t\t// Old-style DIVs don't have the &lt;pre&gt; tag\n\t\tif(match[2]) {\n\t\t\tendRegExp = /&lt;\\/pre&gt;\\s*&lt;\\/div&gt;\\s*$/gi;\n\t\t} else {\n\t\t\tendRegExp = /&lt;\\/div&gt;\\s*$/gi;\n\t\t}\n\t\tvar endMatch = endRegExp.exec(text);\n\t\tif(endMatch) {\n\t\t\t// Extract the text\n\t\t\tresult.text = text.substring(match.index + match[0].length,endMatch.index);\n\t\t\t// Process the attributes\n\t\t\tvar attrRegExp = /\\s*([^=\\s]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)')/gi,\n\t\t\t\tattrMatch;\n\t\t\tdo {\n\t\t\t\tattrMatch = attrRegExp.exec(match[1]);\n\t\t\t\tif(attrMatch) {\n\t\t\t\t\tvar name = attrMatch[1];\n\t\t\t\t\tvar value = attrMatch[2] !== undefined ? attrMatch[2] : attrMatch[3];\n\t\t\t\t\tresult[name] = value;\n\t\t\t\t}\n\t\t\t} while(attrMatch);\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports[\"application/x-tiddler-html-div\"] = function(text,fields) {\n\treturn [parseTiddlerDiv(text,fields)];\n};\n\nexports[\"application/json\"] = function(text,fields) {\n\tvar tiddlers = JSON.parse(text),\n\t\tresult = [],\n\t\tgetKnownFields = function(tid) {\n\t\t\tvar fields = {};\n\t\t\t\"title text created creator modified modifier type tags\".split(\" \").forEach(function(value) {\n\t\t\t\tif(tid[value] !== null) {\n\t\t\t\t\tfields[value] = tid[value];\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn fields;\n\t\t};\n\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\tresult.push(getKnownFields(tiddlers[t]));\n\t}\n\treturn result;\n};\n\n/*\nParse an HTML file into tiddlers. There are three possibilities:\n# A TiddlyWiki classic HTML file containing `text/x-tiddlywiki` tiddlers\n# A TiddlyWiki5 HTML file containing `text/vnd.tiddlywiki` tiddlers\n# An ordinary HTML file\n*/\nexports[\"text/html\"] = function(text,fields) {\n\t// Check if we've got a store area\n\tvar storeAreaMarkerRegExp = /&lt;div id=[\"']?storeArea['\"]?( style=[\"']?display:none;[\"']?)?&gt;/gi,\n\t\tmatch = storeAreaMarkerRegExp.exec(text);\n\tif(match) {\n\t\t// If so, it's either a classic TiddlyWiki file or an unencrypted TW5 file\n\t\t// First read the normal tiddlers\n\t\tvar results = deserializeTiddlyWikiFile(text,storeAreaMarkerRegExp.lastIndex,!!match[1],fields);\n\t\t// Then any system tiddlers\n\t\tvar systemAreaMarkerRegExp = /&lt;div id=[\"']?systemArea['\"]?( style=[\"']?display:none;[\"']?)?&gt;/gi,\n\t\t\tsysMatch = systemAreaMarkerRegExp.exec(text);\n\t\tif(sysMatch) {\n\t\t\tresults.push.apply(results,deserializeTiddlyWikiFile(text,systemAreaMarkerRegExp.lastIndex,!!sysMatch[1],fields));\n\t\t}\n\t\treturn results\n\t} else {\n\t\t// Check whether we've got an encrypted file\n\t\tvar encryptedStoreArea = $tw.utils.extractEncryptedStoreArea(text);\n\t\tif(encryptedStoreArea) {\n\t\t\t// If so, attempt to decrypt it using the current password\n\t\t\treturn $tw.utils.decryptStoreArea(encryptedStoreArea);\n\t\t} else {\n\t\t\t// It's not a TiddlyWiki so we'll return the entire HTML file as a tiddler\n\t\t\treturn deserializeHtmlFile(text,fields);\n\t\t}\n\t}\n};\n\nfunction deserializeHtmlFile(text,fields) {\n\tvar result = {};\n\t$tw.utils.each(fields,function(value,name) {\n\t\tresult[name] = value;\n\t});\n\tresult.text = text;\n\tresult.type = \"text/html\";\n\treturn [result];\n}\n\nfunction deserializeTiddlyWikiFile(text,storeAreaEnd,isTiddlyWiki5,fields) {\n\tvar results = [],\n\t\tendOfDivRegExp = /(&lt;\\/div&gt;\\s*)/gi,\n\t\tstartPos = storeAreaEnd,\n\t\tdefaultType = isTiddlyWiki5 ? undefined : \"text/x-tiddlywiki\";\n\tendOfDivRegExp.lastIndex = startPos;\n\tvar match = endOfDivRegExp.exec(text);\n\twhile(match) {\n\t\tvar endPos = endOfDivRegExp.lastIndex,\n\t\t\ttiddlerFields = parseTiddlerDiv(text.substring(startPos,endPos),fields,{type: defaultType});\n\t\tif(!tiddlerFields) {\n\t\t\tbreak;\n\t\t}\n\t\t$tw.utils.each(tiddlerFields,function(value,name) {\n\t\t\tif(typeof value === \"string\") {\n\t\t\t\ttiddlerFields[name] = $tw.utils.htmlDecode(value);\n\t\t\t}\n\t\t});\n\t\tif(tiddlerFields.text !== null) {\n\t\t\tresults.push(tiddlerFields);\n\t\t}\n\t\tstartPos = endPos;\n\t\tmatch = endOfDivRegExp.exec(text);\n\t}\n\treturn results;\n}\n\n})();\n",
            "title": "$:/core/modules/deserializers.js",
            "type": "application/javascript",
            "module-type": "tiddlerdeserializer"
        },
        "$:/core/modules/filters/after.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/after.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is after the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.after = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index === -1 || index &gt; (results.length - 2)) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index + 1]];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/filters/after.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/all/current.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/all/current.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar currTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\"currentTiddler\");\n\tif(currTiddlerTitle) {\n\t\treturn [currTiddlerTitle];\n\t} else {\n\t\treturn [];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/filters/all/current.js",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/missing.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/all/missing.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\treturn options.wiki.getMissingTitles();\n};\n\n})();\n",
            "title": "$:/core/modules/filters/all/missing.js",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/orphans.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/all/orphans.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[orphans]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.orphans = function(source,prefix,options) {\n\treturn options.wiki.getOrphanTitles();\n};\n\n})();\n",
            "title": "$:/core/modules/filters/all/orphans.js",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/shadows.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/all/shadows.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[shadows]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.shadows = function(source,prefix,options) {\n\treturn options.wiki.allShadowTitles();\n};\n\n})();\n",
            "title": "$:/core/modules/filters/all/shadows.js",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all/tiddlers.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/all/tiddlers.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tiddlers = function(source,prefix,options) {\n\treturn options.wiki.allTitles();\n};\n\n})();\n",
            "title": "$:/core/modules/filters/all/tiddlers.js",
            "type": "application/javascript",
            "module-type": "allfilteroperator"
        },
        "$:/core/modules/filters/all.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/all.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for selecting tiddlers\n\n[all[shadows+tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar allFilterOperators;\n\nfunction getAllFilterOperators() {\n\tif(!allFilterOperators) {\n\t\tallFilterOperators = {};\n\t\t$tw.modules.applyMethods(\"allfilteroperator\",allFilterOperators);\n\t}\n\treturn allFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.all = function(source,operator,options) {\n\t// Get our suboperators\n\tvar allFilterOperators = getAllFilterOperators();\n\t// Cycle through the suboperators accumulating their results\n\tvar results = [],\n\t\tsubops = operator.operand.split(\"+\");\n\t// Check for common optimisations\n\tif(subops.length === 1 &amp;&amp; subops[0] === \"tiddlers\") {\n\t\treturn options.wiki.each;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \"shadows\") {\n\t\treturn options.wiki.eachShadow;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \"tiddlers\" &amp;&amp; subops[1] === \"shadows\") {\n\t\treturn options.wiki.eachTiddlerPlusShadows;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \"shadows\" &amp;&amp; subops[1] === \"tiddlers\") {\n\t\treturn options.wiki.eachShadowPlusTiddlers;\n\t}\n\t// Do it the hard way\n\tfor(var t=0; t&lt;subops.length; t++) {\n\t\tvar subop = allFilterOperators[subops[t]];\n\t\tif(subop) {\n\t\t\t$tw.utils.pushTop(results,subop(source,operator.prefix,options));\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/all.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/backlinks.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/backlinks.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the backlinks from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.backlinks = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerBacklinks(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/backlinks.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/before.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/before.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is before the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.before = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index &lt;= 0) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index - 1]];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/filters/before.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/commands.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/commands.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the commands available in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.commands = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.commands,function(commandInfo,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/commands.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/each.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/each.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique value of the specified field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.each = function(source,operator,options) {\n\tvar results = [],\n\t\tvalues = {};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tvar value = tiddler.getFieldString(operator.operand);\n\t\t\tif(!$tw.utils.hop(values,value)) {\n\t\t\t\tvalues[value] = true;\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/each.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/eachday.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/eachday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique day covered by the specified date field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.eachday = function(source,operator,options) {\n\tvar results = [],\n\t\tvalues = [];\n\t// Function to convert a date/time to a date integer\n\tvar toDate = function(value) {\n\t\tvalue = (new Date(value)).setHours(0,0,0,0);\n\t\treturn value+0;\n\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[operator.operand]) {\n\t\t\tvar value = toDate(tiddler.fields[operator.operand]);\n\t\t\tif(values.indexOf(value) === -1) {\n\t\t\t\tvalues.push(value);\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/eachday.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/field.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/field.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.field = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || operator.operator || \"title\").toLowerCase();\n\tif(operator.prefix === \"!\") {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text !== operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !!operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text === operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/field.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/fields.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/fields.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the fields on the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.fields = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tfor(var fieldName in tiddler.fields) {\n\t\t\t\t$tw.utils.pushTop(results,fieldName);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/fields.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/get.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/get.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing tiddler titles by the value of the field specified in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.get = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tvar value = tiddler.getFieldString(operator.operand);\n\t\t\tif(value) {\n\t\t\t\tresults.push(value);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/get.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/has.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/has.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a tiddler has the specified field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.has = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; (!$tw.utils.hop(tiddler.fields,operator.operand) || tiddler.fields[operator.operand] === \"\")) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,operator.operand) &amp;&amp; tiddler.fields[operator.operand] !== \"\") {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/has.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/indexes.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/indexes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the indexes of a data tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.indexes = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar data = options.wiki.getTiddlerData(title);\n\t\tif(data) {\n\t\t\t$tw.utils.pushTop(results,Object.keys(data));\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/indexes.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/is/current.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/current.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar results = [],\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\"currentTiddler\");\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title !== currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title === currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/current.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/image.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/image.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[image]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.image = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/image.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/missing.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/missing.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/missing.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/orphan.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/orphan.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[orphan]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.orphan = function(source,prefix,options) {\n\tvar results = [],\n\t\torphanTitles = options.wiki.getOrphanTitles();\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) !== -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/orphan.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/shadow.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/shadow.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[shadow]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.shadow = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/shadow.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/system.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/system.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[system]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.system = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/system.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/tag.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/tag.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tag]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,prefix,options) {\n\tvar results = [],\n\t\ttagMap = options.wiki.getTagMap();\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!$tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif($tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/tag.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is/tiddler.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is/tiddler.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tiddler]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tiddler = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is/tiddler.js",
            "type": "application/javascript",
            "module-type": "isfilteroperator"
        },
        "$:/core/modules/filters/is.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/is.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking tiddler properties\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar isFilterOperators;\n\nfunction getIsFilterOperators() {\n\tif(!isFilterOperators) {\n\t\tisFilterOperators = {};\n\t\t$tw.modules.applyMethods(\"isfilteroperator\",isFilterOperators);\n\t}\n\treturn isFilterOperators;\n};\n\n/*\nExport our filter function\n*/\nexports.is = function(source,operator,options) {\n\t// Dispatch to the correct isfilteroperator\n\tvar isFilterOperators = getIsFilterOperators();\n\tvar isFilterOperator = isFilterOperators[operator.operand];\n\tif(isFilterOperator) {\n\t\treturn isFilterOperator(source,operator.prefix,options);\n\t} else {\n\t\treturn [\"Filter Error: Unknown operand for the 'is' filter operator\"];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/filters/is.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/limit.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/limit.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for chopping the results to a specified maximum number of entries\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.limit = function(source,operator,options) {\n\tvar results = [];\n\t// Convert to an array\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\t// Slice the array if necessary\n\tvar limit = Math.min(results.length,parseInt(operator.operand,10));\n\tif(operator.prefix === \"!\") {\n\t\tresults = results.slice(-limit);\n\t} else {\n\t\tresults = results.slice(0,limit);\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/limit.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/links.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/links.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the links from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.links = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerLinks(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/links.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/list.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/list.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddlers whose title is listed in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.list = function(source,operator,options) {\n\tvar results = [],\n\t\ttr = $tw.utils.parseTextReference(operator.operand),\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\"currentTiddler\"),\n\t\tlist = options.wiki.getTiddlerList(tr.title || currTiddlerTitle,tr.field,tr.index);\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults = list;\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/list.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/listed.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/listed.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that have the selected tiddlers in a list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.listed = function(source,operator,options) {\n\tvar field = operator.operand || \"list\",\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.findListingsOfTiddler(title,field));\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/listed.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/listops.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/listops.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operators for manipulating the current selection list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nReverse list\n*/\nexports.reverse = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.unshift(title);\n\t});\n\treturn results;\n};\n\n/*\nFirst entry/entries in list\n*/\nexports.first = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,count);\n};\n\n/*\nLast entry/entries in list\n*/\nexports.last = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(-count);\n};\n\n/*\nAll but the first entry/entries of the list\n*/\nexports.rest = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count);\n};\nexports.butfirst = exports.rest;\nexports.bf = exports.rest;\n\n/*\nAll but the last entry/entries of the list\n*/\nexports.butlast = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,-count);\n};\nexports.bl = exports.butlast;\n\n/*\nThe nth member of the list\n*/\nexports.nth = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count - 1,count);\n};\n\n})();\n",
            "title": "$:/core/modules/filters/listops.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/modules.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/modules.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the modules of a given type in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.modules = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.each($tw.modules.types[title],function(moduleInfo,moduleName) {\n\t\t\tresults.push(moduleName);\n\t\t});\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/modules.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/moduletypes.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/moduletypes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the module types in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.moduletypes = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.modules.types,function(moduleInfo,type) {\n\t\tresults.push(type);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/moduletypes.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/next.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/next.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs next in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.next = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch++;\n\t\tif(match &gt; 0 &amp;&amp; match &lt; list.length) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/next.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/plugintiddlers.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/plugintiddlers.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the shadow tiddlers within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.plugintiddlers = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n \t\tvar pluginInfo = options.wiki.getPluginInfo(title);\n \t\tif(pluginInfo) {\n \t\t\t$tw.utils.each(pluginInfo.tiddlers,function(fields,title) {\n \t\t\t\tresults.push(title);\n \t\t\t});\n \t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/plugintiddlers.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/prefix.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/prefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title starts with a prefix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.prefix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length).toLowerCase() !== operator.operand.toLowerCase()) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length).toLowerCase() === operator.operand.toLowerCase()) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/prefix.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/previous.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/previous.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs immediately prior in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.previous = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch--;\n\t\tif(match &gt;= 0) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/previous.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/removeprefix.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/removeprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a prefix from each title in the list. Titles that do not start with the prefix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.removeprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title.substr(0,operator.operand.length).toLowerCase() === operator.operand.toLowerCase()) {\n\t\t\tresults.push(title.substr(operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/removeprefix.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/sameday.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/sameday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects tiddlers with a modified date field on the same day as the provided value.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.sameday = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName = operator.suffix || \"modified\",\n\t\ttargetDate = (new Date($tw.utils.parseDate(operator.operand))).setHours(0,0,0,0);\n\t// Function to convert a date/time to a date integer\n\tvar isSameDay = function(dateField) {\n\t\t\treturn (new Date(dateField)).setHours(0,0,0,0) === targetDate;\n\t\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\tif(isSameDay(tiddler.fields[fieldName])) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/sameday.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/search.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/search.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for searching for the text in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.search = function(source,operator,options) {\n\tvar invert = operator.prefix === \"!\";\n\treturn options.wiki.search(operator.operand,{\n\t\tsource: source,\n\t\tinvert: invert\n\t});\n};\n\n})();\n",
            "title": "$:/core/modules/filters/search.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/shadowsource.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/shadowsource.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the source plugins for shadow tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.shadowsource = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar source = options.wiki.getShadowSource(title);\n \t\tif(source) {\n\t\t\t$tw.utils.pushTop(results,source);\n \t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/shadowsource.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/sort.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/sort.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for sorting\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.sort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",false,false);\n\treturn results;\n};\n\nexports.nsort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",false,true);\n\treturn results;\n};\n\nexports.sortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",true,false);\n\treturn results;\n};\n\nexports.nsortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \"title\",operator.prefix === \"!\",true,true);\n\treturn results;\n};\n\nvar prepare_results = function (source) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results;\n}\n\n})();\n",
            "title": "$:/core/modules/filters/sort.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/storyviews.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/storyviews.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the story views in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.storyviews = function(source,operator,options) {\n\tvar results = [],\n\t\tstoryviews = {};\n\t$tw.modules.applyMethods(\"storyview\",storyviews);\n\t$tw.utils.each(storyviews,function(info,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/storyviews.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/tag.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/tag.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking for the presence of a tag\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; !tiddler.hasTag(operator.operand)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.hasTag(operator.operand)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t\tresults = options.wiki.sortByList(results,operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/tag.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/tagging.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/tagging.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that are tagged with the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tagging = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlersWithTag(title));\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/tagging.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/tags.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/tags.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the tags of the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.tags = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\t\t$tw.utils.pushTop(results,tiddler.fields.tags);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/tags.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/title.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/title.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing title fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.title = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields.title !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults.push(operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/title.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters/untagged.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters/untagged.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the selected tiddlers that are untagged\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nExport our filter function\n*/\nexports.untagged = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \"!\") {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length &gt; 0) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || !tiddler.hasField(\"tags\") || ($tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length === 0)) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n",
            "title": "$:/core/modules/filters/untagged.js",
            "type": "application/javascript",
            "module-type": "filteroperator"
        },
        "$:/core/modules/filters.js": {
            "text": "/*\\\ntitle: $:/core/modules/filters.js\ntype: application/javascript\nmodule-type: wikimethod\n\nAdds tiddler filtering methods to the $tw.Wiki object.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nParses an operation within a filter string\n\tresults: Array of array of operator nodes into which results should be inserted\n\tfilterString: filter string\n\tp: start position within the string\nReturns the new start position, after the parsed operation\n*/\nfunction parseFilterOperation(operators,filterString,p) {\n\tvar operator, operand, bracketPos, curlyBracketPos;\n\t// Skip the starting square bracket\n\tif(filterString.charAt(p++) !== \"[\") {\n\t\tthrow \"Missing [ in filter expression\";\n\t}\n\t// Process each operator in turn\n\tdo {\n\t\toperator = {};\n\t\t// Check for an operator prefix\n\t\tif(filterString.charAt(p) === \"!\") {\n\t\t\toperator.prefix = filterString.charAt(p++);\n\t\t}\n\t\t// Get the operator name\n\t\tvar nextBracketPos = filterString.substring(p).search(/[\\[\\{\\/]/);\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \"Missing [ in filter expression\";\n\t\t}\n\t\tnextBracketPos += p;\n\t\tvar bracket = filterString.charAt(nextBracketPos);\n\t\toperator.operator = filterString.substring(p,nextBracketPos);\n\t\t\n\t\t// Any suffix?\n\t\tvar colon = operator.operator.indexOf(':');\n\t\tif(colon &gt; -1) {\n\t\t\toperator.suffix = operator.operator.substring(colon + 1);\n\t\t\toperator.operator = operator.operator.substring(0,colon) || \"field\";\n\t\t}\n\t\t// Empty operator means: title\n\t\telse if(operator.operator === \"\") {\n\t\t\toperator.operator = \"title\";\n\t\t}\n\n\t\tp = nextBracketPos + 1;\n\t\tswitch (bracket) {\n\t\tcase '{': // Curly brackets\n\t\t\toperator.indirect = true;\n\t\t\tnextBracketPos = filterString.indexOf('}',p);\n\t\t\tbreak;\n\t\tcase '[': // Square brackets\n\t\t\tnextBracketPos = filterString.indexOf(']',p);\n\t\t\tbreak;\n\t\tcase '/': // regexp brackets\n\t\t\tvar rex = /^((?:[^\\\\\\/]*|\\\\.)*)\\/(?:\\(([mygi]+)\\))?/g,\n\t\t\t\trexMatch = rex.exec(filterString.substring(p));\n\t\t\tif(rexMatch) {\n\t\t\t\toperator.regexp = new RegExp(rexMatch[1], rexMatch[2]);\n\t\t\t\tnextBracketPos = p + rex.lastIndex - 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthrow \"Unterminated regular expression in filter expression\";\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \"Missing closing bracket in filter expression\";\n\t\t}\n\t\tif(!operator.regexp) {\n\t\t\toperator.operand = filterString.substring(p,nextBracketPos);\n\t\t}\n\t\tp = nextBracketPos + 1;\n\t\t\t\n\t\t// Push this operator\n\t\toperators.push(operator);\n\t} while(filterString.charAt(p) !== \"]\");\n\t// Skip the ending square bracket\n\tif(filterString.charAt(p++) !== \"]\") {\n\t\tthrow \"Missing ] in filter expression\";\n\t}\n\t// Return the parsing position\n\treturn p;\n}\n\n/*\nParse a filter string\n*/\nexports.parseFilter = function(filterString) {\n\tfilterString = filterString || \"\";\n\tvar results = [], // Array of arrays of operator nodes {operator:,operand:}\n\t\tp = 0, // Current position in the filter string\n\t\tmatch;\n\tvar whitespaceRegExp = /(\\s+)/mg,\n\t\toperandRegExp = /((?:\\+|\\-)?)(?:(\\[)|(\"(?:[^\"])*\")|('(?:[^'])*')|([^\\s\\[\\]]+))/mg;\n\twhile(p &lt; filterString.length) {\n\t\t// Skip any whitespace\n\t\twhitespaceRegExp.lastIndex = p;\n\t\tmatch = whitespaceRegExp.exec(filterString);\n\t\tif(match &amp;&amp; match.index === p) {\n\t\t\tp = p + match[0].length;\n\t\t}\n\t\t// Match the start of the operation\n\t\tif(p &lt; filterString.length) {\n\t\t\toperandRegExp.lastIndex = p;\n\t\t\tmatch = operandRegExp.exec(filterString);\n\t\t\tif(!match || match.index !== p) {\n\t\t\t\tthrow \"Syntax error in filter expression\";\n\t\t\t}\n\t\t\tvar operation = {\n\t\t\t\tprefix: \"\",\n\t\t\t\toperators: []\n\t\t\t};\n\t\t\tif(match[1]) {\n\t\t\t\toperation.prefix = match[1];\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tif(match[2]) { // Opening square bracket\n\t\t\t\tp = parseFilterOperation(operation.operators,filterString,p);\n\t\t\t} else {\n\t\t\t\tp = match.index + match[0].length;\n\t\t\t}\n\t\t\tif(match[3] || match[4] || match[5]) { // Double quoted string, single quoted string or unquoted title\n\t\t\t\toperation.operators.push(\n\t\t\t\t\t{operator: \"title\", operand: match[3] || match[4] || match[5]}\n\t\t\t\t);\n\t\t\t}\n\t\t\tresults.push(operation);\n\t\t}\n\t}\n\treturn results;\n};\n\nexports.getFilterOperators = function() {\n\tif(!this.filterOperators) {\n\t\t$tw.Wiki.prototype.filterOperators = {};\n\t\t$tw.modules.applyMethods(\"filteroperator\",this.filterOperators);\n\t}\n\treturn this.filterOperators;\n};\n\nexports.filterTiddlers = function(filterString,widget,source) {\n\tvar fn = this.compileFilter(filterString);\n\treturn fn.call(this,source,widget);\n};\n\n/*\nCompile a filter into a function with the signature fn(source,widget) where:\nsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\nwidget: an optional widget node for retrieving the current tiddler etc.\n*/\nexports.compileFilter = function(filterString) {\n\tvar filterParseTree;\n\ttry {\n\t\tfilterParseTree = this.parseFilter(filterString);\n\t} catch(e) {\n\t\treturn function(source,widget) {\n\t\t\treturn [\"Filter error: \" + e];\n\t\t};\n\t}\n\t// Get the hashmap of filter operator functions\n\tvar filterOperators = this.getFilterOperators();\n\t// Assemble array of functions, one for each operation\n\tvar operationFunctions = [];\n\t// Step through the operations\n\tvar self = this;\n\t$tw.utils.each(filterParseTree,function(operation) {\n\t\t// Create a function for the chain of operators in the operation\n\t\tvar operationSubFunction = function(source,widget) {\n\t\t\tvar accumulator = source,\n\t\t\t\tresults = [],\n\t\t\t\tcurrTiddlerTitle = widget &amp;&amp; widget.getVariable(\"currentTiddler\");\n\t\t\t$tw.utils.each(operation.operators,function(operator) {\n\t\t\t\tvar operand = operator.operand,\n\t\t\t\t\toperatorFunction;\n\t\t\t\tif(!operator.operator) {\n\t\t\t\t\toperatorFunction = filterOperators.title;\n\t\t\t\t} else if(!filterOperators[operator.operator]) {\n\t\t\t\t\toperatorFunction = filterOperators.field;\n\t\t\t\t} else {\n\t\t\t\t\toperatorFunction = filterOperators[operator.operator];\n\t\t\t\t}\n\t\t\t\tif(operator.indirect) {\n\t\t\t\t\toperand = self.getTextReference(operator.operand,\"\",currTiddlerTitle);\n\t\t\t\t}\n\t\t\t\tresults = operatorFunction(accumulator,{\n\t\t\t\t\t\t\toperator: operator.operator,\n\t\t\t\t\t\t\toperand: operand,\n\t\t\t\t\t\t\tprefix: operator.prefix,\n\t\t\t\t\t\t\tsuffix: operator.suffix,\n\t\t\t\t\t\t\tregexp: operator.regexp\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\twiki: self,\n\t\t\t\t\t\t\twidget: widget\n\t\t\t\t\t\t});\n\t\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\t\taccumulator = self.makeTiddlerIterator(results);\n\t\t\t\t} else {\n\t\t\t\t\taccumulator = results;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\treturn results;\n\t\t\t} else {\n\t\t\t\tvar resultArray = [];\n\t\t\t\tresults(function(tiddler,title) {\n\t\t\t\t\tresultArray.push(title);\n\t\t\t\t});\n\t\t\t\treturn resultArray;\n\t\t\t}\n\t\t};\n\t\t// Wrap the operator functions in a wrapper function that depends on the prefix\n\t\toperationFunctions.push((function() {\n\t\t\tswitch(operation.prefix || \"\") {\n\t\t\t\tcase \"\": // No prefix means that the operation is unioned into the result\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t$tw.utils.pushTop(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t\tcase \"-\": // The results of this operation are removed from the main result\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t$tw.utils.removeArrayEntries(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t\tcase \"+\": // This operation is applied to the main results so far\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t// This replaces all the elements of the array, but keeps the actual array so that references to it are preserved\n\t\t\t\t\t\tsource = self.makeTiddlerIterator(results);\n\t\t\t\t\t\tresults.splice(0,results.length);\n\t\t\t\t\t\t$tw.utils.pushTop(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t}\n\t\t})());\n\t});\n\t// Return a function that applies the operations to a source iterator of tiddler titles\n\treturn $tw.perf.measure(\"filter\",function filterFunction(source,widget) {\n\t\tif(!source) {\n\t\t\tsource = self.each;\n\t\t} else if(typeof source === \"object\") { // Array or hashmap\n\t\t\tsource = self.makeTiddlerIterator(source);\n\t\t}\n\t\tvar results = [];\n\t\t$tw.utils.each(operationFunctions,function(operationFunction) {\n\t\t\toperationFunction(results,source,widget);\n\t\t});\n\t\treturn results;\n\t});\n};\n\n})();\n",
            "title": "$:/core/modules/filters.js",
            "type": "application/javascript",
            "module-type": "wikimethod"
        },
        "$:/core/modules/language.js": {
            "text": "/*\\\ntitle: $:/core/modules/language.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Language() manages translateable strings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nCreate an instance of the language manager. Options include:\nwiki: wiki from which to retrieve translation tiddlers\n*/\nfunction Language(options) {\n\toptions = options || \"\";\n\tthis.wiki = options.wiki || $tw.wiki;\n}\n\n/*\nReturn a single translateable string. The title is automatically prefixed with \"$:/language/\"\nOptions include:\nvariables: optional hashmap of variables to supply to the language wikification\n*/\nLanguage.prototype.getString = function(title,options) {\n\toptions = options || {};\n\ttitle = \"$:/language/\" + title;\n\treturn this.wiki.renderTiddler(\"text/plain\",title,{variables: options.variables});\n};\n\nexports.Language = Language;\n\n})();\n",
            "title": "$:/core/modules/language.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/macros/changecount.js": {
            "text": "/*\\\ntitle: $:/core/modules/macros/changecount.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the changecount for the current tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"changecount\";\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn this.wiki.getChangeCount(this.getVariable(\"currentTiddler\")) + \"\";\n};\n\n})();\n",
            "title": "$:/core/modules/macros/changecount.js",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/makedatauri.js": {
            "text": "/*\\\ntitle: $:/core/modules/macros/makedatauri.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to convert the content of a tiddler to a data URI\n\n&lt;&lt;makedatauri text:\"Text to be converted\" type:\"text/vnd.tiddlywiki\"&gt;&gt;\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"makedatauri\";\n\nexports.params = [\n\t{name: \"text\"},\n\t{name: \"type\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(text,type) {\n\ttype = type || \"text/vnd.tiddlywiki\";\n\tvar typeInfo = $tw.config.contentTypeInfo[type] || $tw.config.contentTypeInfo[\"text/plain\"],\n\t\tisBase64 = typeInfo.encoding === \"base64\",\n\t\tparts = [];\n\tparts.push(\"data:\");\n\tparts.push(type);\n\tparts.push(isBase64 ? \";base64\" : \"\");\n\tparts.push(\",\");\n\tparts.push(isBase64 ? text : encodeURIComponent(text));\n\treturn parts.join(\"\");\n};\n\n})();\n",
            "title": "$:/core/modules/macros/makedatauri.js",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/qualify.js": {
            "text": "/*\\\ntitle: $:/core/modules/macros/qualify.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to qualify a state tiddler title according\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"qualify\";\n\nexports.params = [\n\t{name: \"title\"}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(title) {\n\treturn title + \"-\" + this.getStateQualifier();\n};\n\n})();\n",
            "title": "$:/core/modules/macros/qualify.js",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/macros/version.js": {
            "text": "/*\\\ntitle: $:/core/modules/macros/version.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the TiddlyWiki core version number\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInformation about this macro\n*/\n\nexports.name = \"version\";\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn $tw.version;\n};\n\n})();\n",
            "title": "$:/core/modules/macros/version.js",
            "type": "application/javascript",
            "module-type": "macro"
        },
        "$:/core/modules/parsers/csvparser.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/csvparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe CSV text parser processes CSV files into a table wrapped in a scrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar CsvParser = function(type,text,options) {\n\t// Table framework\n\tthis.tree = [{\n\t\t\"type\": \"scrollable\", \"children\": [{\n\t\t\t\"type\": \"element\", \"tag\": \"table\", \"children\": [{\n\t\t\t\t\"type\": \"element\", \"tag\": \"tbody\", \"children\": []\n\t\t\t}], \"attributes\": {\n\t\t\t\t\"class\": {\"type\": \"string\", \"value\": \"tw-csv-table\"}\n\t\t\t}\n\t\t}]\n\t}];\n\t// Split the text into lines\n\tvar lines = text.split(/\\r?\\n/mg),\n\t\ttag = \"th\";\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar lineText = lines[line];\n\t\tif(lineText) {\n\t\t\tvar row = {\n\t\t\t\t\t\"type\": \"element\", \"tag\": \"tr\", \"children\": []\n\t\t\t\t};\n\t\t\tvar columns = lineText.split(\",\");\n\t\t\tfor(var column=0; column&lt;columns.length; column++) {\n\t\t\t\trow.children.push({\n\t\t\t\t\t\t\"type\": \"element\", \"tag\": tag, \"children\": [{\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": columns[column]\n\t\t\t\t\t\t}]\n\t\t\t\t\t});\n\t\t\t}\n\t\t\ttag = \"td\";\n\t\t\tthis.tree[0].children[0].children[0].children.push(row);\n\t\t}\n\t}\n};\n\nexports[\"text/csv\"] = CsvParser;\n\n})();\n\n",
            "title": "$:/core/modules/parsers/csvparser.js",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/htmlparser.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/htmlparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe HTML parser displays text as raw HTML\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar HtmlParser = function(type,text,options) {\n\tvar src;\n\tif(options._canonical_uri) {\n\t\tsrc = options._canonical_uri;\n\t} else if(text) {\n\t\tsrc = \"data:text/html,\" + encodeURIComponent(text);\n\t}\n\tthis.tree = [{\n\t\ttype: \"element\",\n\t\ttag: \"iframe\",\n\t\tattributes: {\n\t\t\tsrc: {type: \"string\", value: src}\n\t\t}\n\t}];\n};\n\nexports[\"text/html\"] = HtmlParser;\n\n})();\n\n",
            "title": "$:/core/modules/parsers/htmlparser.js",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/imageparser.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/imageparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe image parser parses an image into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ImageParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"img\",\n\t\t\tattributes: {}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \"string\", value: options._canonical_uri};\n\t\tif(type === \"application/pdf\" || type === \".pdf\") {\n\t\t\telement.tag = \"embed\";\n\t\t}\n\t} else if(text) {\n\t\tif(type === \"application/pdf\" || type === \".pdf\") {\n\t\t\telement.attributes.src = {type: \"string\", value: \"data:application/pdf;base64,\" + text};\n\t\t\telement.tag = \"embed\";\n\t\t} else if(type === \"image/svg+xml\" || type === \".svg\") {\n\t\t\telement.attributes.src = {type: \"string\", value: \"data:image/svg+xml,\" + encodeURIComponent(text)};\n\t\t} else {\n\t\t\telement.attributes.src = {type: \"string\", value: \"data:\" + type + \";base64,\" + text};\n\t\t}\n\t}\n\tthis.tree = [element];\n};\n\nexports[\"image/svg+xml\"] = ImageParser;\nexports[\"image/jpg\"] = ImageParser;\nexports[\"image/jpeg\"] = ImageParser;\nexports[\"image/png\"] = ImageParser;\nexports[\"image/gif\"] = ImageParser;\nexports[\"application/pdf\"] = ImageParser;\nexports[\"image/x-icon\"] = ImageParser;\n\n})();\n\n",
            "title": "$:/core/modules/parsers/imageparser.js",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/utils/parseutils.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/parseutils.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions concerned with parsing text into tokens.\n\nMost functions have the following pattern:\n\n* The parameters are:\n** `source`: the source string being parsed\n** `pos`: the current parse position within the string\n** Any further parameters are used to identify the token that is being parsed\n* The return value is:\n** null if the token was not found at the specified position\n** an object representing the token with the following standard fields:\n*** `type`: string indicating the type of the token\n*** `start`: start position of the token in the source string\n*** `end`: end position of the token in the source string\n*** Any further fields required to describe the token\n\nThe exception is `skipWhiteSpace`, which just returns the position after the whitespace.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nLook for a whitespace token. Returns null if not found, otherwise returns {type: \"whitespace\", start:, end:,}\n*/\nexports.parseWhiteSpace = function(source,pos) {\n\tvar node = {\n\t\ttype: \"whitespace\",\n\t\tstart: pos\n\t};\n\tvar re = /(\\s)+/g;\n\tre.lastIndex = pos;\n\tvar match = re.exec(source);\n\tif(match &amp;&amp; match.index === pos) {\n\t\tnode.end = pos + match[0].length;\n\t\treturn node;\n\t}\n\treturn null;\n};\n\n/*\nConvenience wrapper for parseWhiteSpace. Returns the position after the whitespace\n*/\nexports.skipWhiteSpace = function(source,pos) {\n\tvar whitespace = $tw.utils.parseWhiteSpace(source,pos);\n\tif(whitespace) {\n\t\treturn whitespace.end;\n\t}\n\treturn pos;\n};\n\n/*\nLook for a given string token. Returns null if not found, otherwise returns {type: \"token\", value:, start:, end:,}\n*/\nexports.parseTokenString = function(source,pos,token) {\n\tvar match = source.indexOf(token,pos) === pos;\n\tif(match) {\n\t\treturn {\n\t\t\ttype: \"token\",\n\t\t\tvalue: token,\n\t\t\tstart: pos,\n\t\t\tend: pos + token.length\n\t\t};\n\t}\n\treturn null;\n};\n\n/*\nLook for a token matching a regex. Returns null if not found, otherwise returns {type: \"regexp\", match:, start:, end:,}\n*/\nexports.parseTokenRegExp = function(source,pos,reToken) {\n\tvar node = {\n\t\ttype: \"regexp\",\n\t\tstart: pos\n\t};\n\treToken.lastIndex = pos;\n\tnode.match = reToken.exec(source);\n\tif(node.match &amp;&amp; node.match.index === pos) {\n\t\tnode.end = pos + node.match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a string literal. Returns null if not found, otherwise returns {type: \"string\", value:, start:, end:,}\n*/\nexports.parseStringLiteral = function(source,pos) {\n\tvar node = {\n\t\ttype: \"string\",\n\t\tstart: pos\n\t};\n\tvar reString = /(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\")|(?:'([^']*)')/g;\n\treString.lastIndex = pos;\n\tvar match = reString.exec(source);\n\tif(match &amp;&amp; match.index === pos) {\n\t\tnode.value = match[1] !== undefined ? match[1] :(\n\t\t\tmatch[2] !== undefined ? match[2] : match[3] \n\t\t\t\t\t);\n\t\tnode.end = pos + match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a macro invocation parameter. Returns null if not found, or {type: \"macro-parameter\", name:, value:, start:, end:}\n*/\nexports.parseMacroParameter = function(source,pos) {\n\tvar node = {\n\t\ttype: \"macro-parameter\",\n\t\tstart: pos\n\t};\n\t// Define our regexp\n\tvar reMacroParameter = /(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\"|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\\s&gt;\"'=]+)))/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the parameter\n\tvar token = $tw.utils.parseTokenRegExp(source,pos,reMacroParameter);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the parameter details\n\tnode.value = token.match[2] !== undefined ? token.match[2] : (\n\t\t\t\t\ttoken.match[3] !== undefined ? token.match[3] : (\n\t\t\t\t\t\ttoken.match[4] !== undefined ? token.match[4] : (\n\t\t\t\t\t\t\ttoken.match[5] !== undefined ? token.match[5] : (\n\t\t\t\t\t\t\t\ttoken.match[6] !== undefined ? token.match[6] : (\n\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\tif(token.match[1]) {\n\t\tnode.name = token.match[1];\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for a macro invocation. Returns null if not found, or {type: \"macrocall\", name:, parameters:, start:, end:}\n*/\nexports.parseMacroInvocation = function(source,pos) {\n\tvar node = {\n\t\ttype: \"macrocall\",\n\t\tstart: pos,\n\t\tparams: []\n\t};\n\t// Define our regexps\n\tvar reMacroName = /([^\\s&gt;\"'=]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double less than sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\"&lt;&lt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the macro name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reMacroName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Process parameters\n\tvar parameter = $tw.utils.parseMacroParameter(source,pos);\n\twhile(parameter) {\n\t\tnode.params.push(parameter);\n\t\tpos = parameter.end;\n\t\t// Get the next parameter\n\t\tparameter = $tw.utils.parseMacroParameter(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\"&gt;&gt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for an HTML attribute definition. Returns null if not found, otherwise returns {type: \"attribute\", name:, valueType: \"string|indirect|macro\", value:, start:, end:,}\n*/\nexports.parseAttribute = function(source,pos) {\n\tvar node = {\n\t\tstart: pos\n\t};\n\t// Define our regexps\n\tvar reAttributeName = /([^\\/\\s&gt;\"'=]+)/g,\n\t\treUnquotedAttribute = /([^\\/\\s&lt;&gt;\"'=]+)/g,\n\t\treIndirectValue = /\\{\\{([^\\}]+)\\}\\}/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the attribute name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reAttributeName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for an equals sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\"=\");\n\tif(token) {\n\t\tpos = token.end;\n\t\t// Skip whitespace\n\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t// Look for a string literal\n\t\tvar stringLiteral = $tw.utils.parseStringLiteral(source,pos);\n\t\tif(stringLiteral) {\n\t\t\tpos = stringLiteral.end;\n\t\t\tnode.type = \"string\";\n\t\t\tnode.value = stringLiteral.value;\n\t\t} else {\n\t\t\t// Look for an indirect value\n\t\t\tvar indirectValue = $tw.utils.parseTokenRegExp(source,pos,reIndirectValue);\n\t\t\tif(indirectValue) {\n\t\t\t\tpos = indirectValue.end;\n\t\t\t\tnode.type = \"indirect\";\n\t\t\t\tnode.textReference = indirectValue.match[1];\n\t\t\t} else {\n\t\t\t\t// Look for a unquoted value\n\t\t\t\tvar unquotedValue = $tw.utils.parseTokenRegExp(source,pos,reUnquotedAttribute);\n\t\t\t\tif(unquotedValue) {\n\t\t\t\t\tpos = unquotedValue.end;\n\t\t\t\t\tnode.type = \"string\";\n\t\t\t\t\tnode.value = unquotedValue.match[1];\n\t\t\t\t} else {\n\t\t\t\t\t// Look for a macro invocation value\n\t\t\t\t\tvar macroInvocation = $tw.utils.parseMacroInvocation(source,pos);\n\t\t\t\t\tif(macroInvocation) {\n\t\t\t\t\t\tpos = macroInvocation.end;\n\t\t\t\t\t\tnode.type = \"macro\";\n\t\t\t\t\t\tnode.value = macroInvocation;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.type = \"string\";\n\t\t\t\t\t\tnode.value = \"true\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tnode.type = \"string\";\n\t\tnode.value = \"true\";\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n",
            "title": "$:/core/modules/utils/parseutils.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/parsers/textparser.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/textparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe plain text parser processes blocks of source text into a degenerate parse tree consisting of a single text node\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar TextParser = function(type,text,options) {\n\tthis.tree = [{\n\t\ttype: \"codeblock\",\n\t\tattributes: {\n\t\t\tcode: {type: \"string\", value: text},\n\t\t\tlanguage: {type: \"string\", value: type}\n\t\t}\n\t}];\n};\n\nexports[\"text/plain\"] = TextParser;\nexports[\"text/x-tiddlywiki\"] = TextParser;\nexports[\"application/javascript\"] = TextParser;\nexports[\"application/json\"] = TextParser;\nexports[\"text/css\"] = TextParser;\nexports[\"application/x-tiddler-dictionary\"] = TextParser;\n\n})();\n\n",
            "title": "$:/core/modules/parsers/textparser.js",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/wikiparser/rules/codeblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for code blocks. For example:\n\n```\n\t```\n\tThis text will not be //wikified//\n\t```\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"codeblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match and get language if defined\n\tthis.matchRegExp = /```([\\w-]*)\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\\r?\\n```$)/mg;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Return the $codeblock widget\n\treturn [{\n\t\t\ttype: \"codeblock\",\n\t\t\tattributes: {\n\t\t\t\t\tcode: {type: \"string\", value: text},\n\t\t\t\t\tlanguage: {type: \"string\", value: this.match[1]}\n\t\t\t}\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/codeblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/codeinline.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for code runs. For example:\n\n```\n\tThis is a `code run`.\n\tThis is another ``code run``\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"codeinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(``?)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar reEnd = new RegExp(this.match[1], \"mg\");\n\t// Look for the end marker\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the text\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"code\",\n\t\tchildren: [{\n\t\t\ttype: \"text\",\n\t\t\ttext: text\n\t\t}]\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/codeinline.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/commentblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \"&lt;!--\" sequence and a closing \"--&gt;\" sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"commentblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /\\&lt;!--/mg;\n\tthis.endMatchRegExp = /--\\&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = startPos + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/commentblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/commentinline.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \"&lt;!--\" sequence and a closing \"--&gt;\" sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"commentinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /\\&lt;!--/mg;\n\tthis.endMatchRegExp = /--\\&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = startPos + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/commentinline.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/dash.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/dash.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for dashes. For example:\n\n```\nThis is an en-dash: --\n\nThis is an em-dash: ---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"dash\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{2,3}(?!-)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar dash = this.match[0].length === 2 ? \"&amp;ndash;\" : \"&amp;mdash;\";\n\treturn [{\n\t\ttype: \"entity\",\n\t\tentity: dash\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/dash.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/emphasis.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis. For example:\n\n```\n\tThis is ''bold'' text\n\n\tThis is //italic// text\n\n\tThis is __underlined__ text\n\n\tThis is ^^superscript^^ text\n\n\tThis is ,,subscript,, text\n\n\tThis is ~~strikethrough~~ text\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"emphasis\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /''|\\/\\/|__|\\^\\^|,,|~~/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Figure out which element and closing regexp to use\n\tvar tag,reEnd;\n\tswitch(this.match[0]) {\n\t\tcase \"''\": // Bold\n\t\t\ttag = \"strong\";\n\t\t\treEnd = /''/mg;\n\t\t\tbreak;\n\t\tcase \"//\": // Italics\n\t\t\ttag = \"em\";\n\t\t\treEnd = /\\/\\//mg;\n\t\t\tbreak;\n\t\tcase \"__\": // Underline\n\t\t\ttag = \"u\";\n\t\t\treEnd = /__/mg;\n\t\t\tbreak;\n\t\tcase \"^^\": // Superscript\n\t\t\ttag = \"sup\";\n\t\t\treEnd = /\\^\\^/mg;\n\t\t\tbreak;\n\t\tcase \",,\": // Subscript\n\t\t\ttag = \"sub\";\n\t\t\treEnd = /,,/mg;\n\t\t\tbreak;\n\t\tcase \"~~\": // Strikethrough\n\t\t\ttag = \"strike\";\n\t\t\treEnd = /~~/mg;\n\t\t\tbreak;\n\t}\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\n\t// Return the classed span\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: tag,\n\t\tchildren: tree\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/emphasis.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/entity.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/entity.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML entities. For example:\n\n```\n\tThis is a copyright symbol: &amp;copy;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"entity\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&amp;#?[a-zA-Z0-9]{2,8};)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar entityString = this.match[1];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Return the entity\n\treturn [{type: \"entity\", entity: this.match[0]}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/entity.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/extlink.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/extlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\nAn external link: http://www.tiddlywiki.com/\n\nA suppressed external link: ~http://www.tiddlyspace.com/\n```\n\nExternal links can be suppressed by preceding them with `~`.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"extlink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~?(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|'\"\\\\^~]+(?:\\/|\\b)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Create the link unless it is suppressed\n\tif(this.match[0].substr(0,1) === \"~\") {\n\t\treturn [{type: \"text\", text: this.match[0].substr(1)}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"a\",\n\t\t\tattributes: {\n\t\t\t\thref: {type: \"string\", value: this.match[0]},\n\t\t\t\t\"class\": {type: \"string\", value: \"tw-tiddlylink-external\"},\n\t\t\t\ttarget: {type: \"string\", value: \"_blank\"}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\", text: this.match[0]\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/extlink.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"filteredtranscludeblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \"list\",\n\t\tattributes: {\n\t\t\tfilter: {type: \"string\", value: filter}\n\t\t},\n\t\tisBlock: true\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \"string\", value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \"string\", value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \"string\", value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes[\"itemClass\"] = {type: \"string\", value: classes.split(\".\").join(\" \")};\n\t}\n\treturn [node];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"filteredtranscludeinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \"list\",\n\t\tattributes: {\n\t\t\tfilter: {type: \"string\", value: filter}\n\t\t}\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \"string\", value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \"string\", value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \"string\", value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes[\"itemClass\"] = {type: \"string\", value: classes.split(\".\").join(\" \")};\n\t}\n\treturn [node];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for marking areas with hard line breaks. For example:\n\n```\n\"\"\"\nThis is some text\nThat is set like\nIt is a Poem\nWhen it is\nClearly\nNot\n\"\"\"\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"hardlinebreaks\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\"\"\"(?:\\r?\\n)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\"\"\")|(\\r?\\n)/mg,\n\t\ttree = [];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tdo {\n\t\t// Parse the run up to the terminator\n\t\ttree.push.apply(tree,this.parser.parseInlineRun(reEnd,{eatTerminator: false}));\n\t\t// Redo the terminator match\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tvar match = reEnd.exec(this.parser.source);\n\t\tif(match) {\n\t\t\tthis.parser.pos = reEnd.lastIndex;\n\t\t\t// Add a line break if the terminator was a line break\n\t\t\tif(match[2]) {\n\t\t\t\ttree.push({type: \"element\", tag: \"br\"});\n\t\t\t}\n\t\t}\n\t} while(match &amp;&amp; !match[1]);\n\t// Return the nodes\n\treturn tree;\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/heading.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/heading.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for headings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"heading\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(!{1,6})/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar headingLevel = this.match[1].length;\n\t// Move past the !s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse any classes, whitespace and then the heading itself\n\tvar classes = this.parser.parseClasses();\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// Return the heading\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"h\" + headingLevel, \n\t\tattributes: {\n\t\t\t\"class\": {type: \"string\", value: classes.join(\" \")}\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/heading.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/horizrule.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/horizrule.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for rules. For example:\n\n```\n---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"horizrule\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{3,}\\r?(?:\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\treturn [{type: \"element\", tag: \"hr\"}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/horizrule.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/html.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/html.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for HTML elements and widgets. For example:\n\n{{{\n&lt;aside&gt;\nThis is an HTML5 aside element\n&lt;/aside&gt;\n\n&lt;$slider target=\"MyTiddler\"&gt;\nThis is a widget invocation\n&lt;/$slider&gt;\n\n}}}\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"html\";\nexports.types = {inline: true, block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextTag = this.findNextTag(this.parser.source,startPos,{\n\t\trequireLineBreak: this.is.block\n\t});\n\treturn this.nextTag ? this.nextTag.start : undefined;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Retrieve the most recent match so that recursive calls don't overwrite it\n\tvar tag = this.nextTag;\n\tthis.nextTag = null;\n\t// Advance the parser position to past the tag\n\tthis.parser.pos = tag.end;\n\t// Check for an immediately following double linebreak\n\tvar hasLineBreak = !tag.isSelfClosing &amp;&amp; !!$tw.utils.parseTokenRegExp(this.parser.source,this.parser.pos,/([^\\S\\n]*\\r?\\n(?:[^\\S\\n]*\\r?\\n|$))/g);\n\t// Set whether we're in block mode\n\ttag.isBlock = this.is.block || hasLineBreak;\n\t// Parse the body if we need to\n\tif(!tag.isSelfClosing &amp;&amp; $tw.config.htmlVoidElements.indexOf(tag.tag) === -1) {\n\t\t\tvar reEndString = \"&lt;/\" + $tw.utils.escapeRegExp(tag.tag) + \"&gt;\",\n\t\t\t\treEnd = new RegExp(\"(\" + reEndString + \")\",\"mg\");\n\t\tif(hasLineBreak) {\n\t\t\ttag.children = this.parser.parseBlocks(reEndString);\n\t\t} else {\n\t\t\ttag.children = this.parser.parseInlineRun(reEnd);\n\t\t}\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tvar endMatch = reEnd.exec(this.parser.source);\n\t\tif(endMatch &amp;&amp; endMatch.index === this.parser.pos) {\n\t\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t\t}\n\t}\n\t// Return the tag\n\treturn [tag];\n};\n\n/*\nLook for an HTML tag. Returns null if not found, otherwise returns {type: \"element\", name:, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseTag = function(source,pos,options) {\n\toptions = options || {};\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \"element\",\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Define our regexps\n\tvar reTagName = /([a-zA-Z0-9\\-\\$]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a less than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\"&lt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the tag name\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,reTagName);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tnode.tag = token.match[1];\n\tif(node.tag.charAt(0) === \"$\") {\n\t\tnode.type = node.tag.substr(1);\n\t}\n\tpos = token.end;\n\t// Process attributes\n\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\twhile(attribute) {\n\t\tnode.attributes[attribute.name] = attribute;\n\t\tpos = attribute.end;\n\t\t// Get the next attribute\n\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a closing slash\n\ttoken = $tw.utils.parseTokenString(source,pos,\"/\");\n\tif(token) {\n\t\tpos = token.end;\n\t\tnode.isSelfClosing = true;\n\t}\n\t// Look for a greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\"&gt;\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Check for a required line break\n\tif(options.requireLineBreak) {\n\t\ttoken = $tw.utils.parseTokenRegExp(source,pos,/([^\\S\\n]*\\r?\\n(?:[^\\S\\n]*\\r?\\n|$))/g);\n\t\tif(!token) {\n\t\t\treturn null;\n\t\t}\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\nexports.findNextTag = function(source,pos,options) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /&lt;([a-zA-Z\\-\\$]+)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseTag(source,match.index,options);\n\t\t// Return success\n\t\tif(tag &amp;&amp; this.isLegalTag(tag)) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\nexports.isLegalTag = function(tag) {\n\t// Widgets are always OK\n\tif(tag.type !== \"element\") {\n\t\treturn true;\n\t// If it's an HTML tag that starts with a dash then it's not legal\n\t} else if(tag.tag.charAt(0) === \"-\") {\n\t\treturn false;\n\t} else {\n\t\t// Otherwise it's OK\n\t\treturn true;\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/html.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/image.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/image.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for embedding images. For example:\n\n```\n[img[http://tiddlywiki.com/fractalveg.jpg]]\n[img width=23 height=24 [http://tiddlywiki.com/fractalveg.jpg]]\n[img width={{!!width}} height={{!!height}} [http://tiddlywiki.com/fractalveg.jpg]]\n[img[Description of image|http://tiddlywiki.com/fractalveg.jpg]]\n[img[TiddlerTitle]]\n[img[Description of image|TiddlerTitle]]\n```\n\nGenerates the `&lt;$image&gt;` widget.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"image\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextImage = this.findNextImage(this.parser.source,startPos);\n\treturn this.nextImage ? this.nextImage.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextImage.end;\n\tvar node = {\n\t\ttype: \"image\",\n\t\tattributes: this.nextImage.attributes\n\t};\n\treturn [node];\n};\n\n/*\nFind the next image from the current position\n*/\nexports.findNextImage = function(source,pos) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /(\\[img)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseImage(source,match.index);\n\t\t// Return success\n\t\tif(tag) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an image at the specified position. Returns null if not found, otherwise returns {type: \"image\", attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseImage = function(source,pos) {\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \"image\",\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[img`\n\ttoken = $tw.utils.parseTokenString(source,pos,\"[img\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Process attributes\n\tif(source.charAt(pos) !== \"[\") {\n\t\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\t\twhile(attribute) {\n\t\t\tnode.attributes[attribute.name] = attribute;\n\t\t\tpos = attribute.end;\n\t\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t\tif(source.charAt(pos) !== \"[\") {\n\t\t\t\t// Get the next attribute\n\t\t\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t\t\t} else {\n\t\t\t\tattribute = null;\n\t\t\t}\n\t\t}\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[` after the attributes\n\ttoken = $tw.utils.parseTokenString(source,pos,\"[\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the source up to the terminating `]]`\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,/(?:([^|\\]]*?)\\|)?([^\\]]+?)\\]\\]/g);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\tif(token.match[1]) {\n\t\tnode.attributes.tooltip = {type: \"string\", value: token.match[1].trim()};\n\t}\n\tnode.attributes.source = {type: \"string\", value: (token.match[2] || \"\").trim()};\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/image.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/list.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/list.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for lists. For example:\n\n```\n* This is an unordered list\n* It has two items\n\n# This is a numbered list\n## With a subitem\n# And a third item\n\n; This is a term that is being defined\n: This is the definition of that term\n```\n\nNote that lists can be nested arbitrarily:\n\n```\n#** One\n#* Two\n#** Three\n#**** Four\n#**# Five\n#**## Six\n## Seven\n### Eight\n## Nine\n```\n\nA CSS class can be applied to a list item as follows:\n\n```\n* List item one\n*.active List item two has the class `active`\n* List item three\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"list\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /([\\*#;:&gt;]+)/mg;\n};\n\nvar listTypes = {\n\t\"*\": {listTag: \"ul\", itemTag: \"li\"},\n\t\"#\": {listTag: \"ol\", itemTag: \"li\"},\n\t\";\": {listTag: \"dl\", itemTag: \"dt\"},\n\t\":\": {listTag: \"dl\", itemTag: \"dd\"},\n\t\"&gt;\": {listTag: \"blockquote\", itemTag: \"p\"}\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Array of parse tree nodes for the previous row of the list\n\tvar listStack = [];\n\t// Cycle through the items in the list\n\twhile(true) {\n\t\t// Match the list marker\n\t\tvar reMatch = /([\\*#;:&gt;]+)/mg;\n\t\treMatch.lastIndex = this.parser.pos;\n\t\tvar match = reMatch.exec(this.parser.source);\n\t\tif(!match || match.index !== this.parser.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check whether the list type of the top level matches\n\t\tvar listInfo = listTypes[match[0].charAt(0)];\n\t\tif(listStack.length &gt; 0 &amp;&amp; listStack[0].tag !== listInfo.listTag) {\n\t\t\tbreak;\n\t\t}\n\t\t// Move past the list marker\n\t\tthis.parser.pos = match.index + match[0].length;\n\t\t// Walk through the list markers for the current row\n\t\tfor(var t=0; t&lt;match[0].length; t++) {\n\t\t\tlistInfo = listTypes[match[0].charAt(t)];\n\t\t\t// Remove any stacked up element if we can't re-use it because the list type doesn't match\n\t\t\tif(listStack.length &gt; t &amp;&amp; listStack[t].tag !== listInfo.listTag) {\n\t\t\t\tlistStack.splice(t,listStack.length - t);\n\t\t\t}\n\t\t\t// Construct the list element or reuse the previous one at this level\n\t\t\tif(listStack.length &lt;= t) {\n\t\t\t\tvar listElement = {type: \"element\", tag: listInfo.listTag, children: [\n\t\t\t\t\t{type: \"element\", tag: listInfo.itemTag, children: []}\n\t\t\t\t]};\n\t\t\t\t// Link this list element into the last child item of the parent list item\n\t\t\t\tif(t) {\n\t\t\t\t\tvar prevListItem = listStack[t-1].children[listStack[t-1].children.length-1];\n\t\t\t\t\tprevListItem.children.push(listElement);\n\t\t\t\t}\n\t\t\t\t// Save this element in the stack\n\t\t\t\tlistStack[t] = listElement;\n\t\t\t} else if(t === (match[0].length - 1)) {\n\t\t\t\tlistStack[t].children.push({type: \"element\", tag: listInfo.itemTag, children: []});\n\t\t\t}\n\t\t}\n\t\tif(listStack.length &gt; match[0].length) {\n\t\t\tlistStack.splice(match[0].length,listStack.length - match[0].length);\n\t\t}\n\t\t// Process the body of the list item into the last list item\n\t\tvar lastListChildren = listStack[listStack.length-1].children,\n\t\t\tlastListItem = lastListChildren[lastListChildren.length-1],\n\t\t\tclasses = this.parser.parseClasses();\n\t\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\t\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t\tlastListItem.children.push.apply(lastListItem.children,tree);\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(lastListItem,classes.join(\" \"));\n\t\t}\n\t\t// Consume any whitespace following the list item\n\t\tthis.parser.skipWhitespace();\n\t}\n\t// Return the root element of the list\n\treturn [listStack[0]];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/list.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/macrocallblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for block macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"macrocallblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /&lt;&lt;([^&gt;\\s]+)(?:\\s*)((?:[^&gt;]|(?:&gt;(?!&gt;)))*?)&gt;&gt;(?:\\r?\\n|$)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar macroName = this.match[1],\n\t\tparamString = this.match[2];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar params = [],\n\t\treParam = /\\s*(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\"|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\"'\\s]+)))/mg,\n\t\tparamMatch = reParam.exec(paramString);\n\twhile(paramMatch) {\n\t\t// Process this parameter\n\t\tvar paramInfo = {\n\t\t\tvalue: paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6]\n\t\t};\n\t\tif(paramMatch[1]) {\n\t\t\tparamInfo.name = paramMatch[1];\n\t\t}\n\t\tparams.push(paramInfo);\n\t\t// Find the next match\n\t\tparamMatch = reParam.exec(paramString);\n\t}\n\treturn [{\n\t\ttype: \"macrocall\",\n\t\tname: macroName,\n\t\tparams: params,\n\t\tisBlock: true\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/macrocallblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/macrocallinline.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"macrocallinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /&lt;&lt;([^\\s&gt;]+)\\s*([\\s\\S]*?)&gt;&gt;/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar macroName = this.match[1],\n\t\tparamString = this.match[2];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar params = [],\n\t\treParam = /\\s*(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\"|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\"'\\s]+)))/mg,\n\t\tparamMatch = reParam.exec(paramString);\n\twhile(paramMatch) {\n\t\t// Process this parameter\n\t\tvar paramInfo = {\n\t\t\tvalue: paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5]|| paramMatch[6]\n\t\t};\n\t\tif(paramMatch[1]) {\n\t\t\tparamInfo.name = paramMatch[1];\n\t\t}\n\t\tparams.push(paramInfo);\n\t\t// Find the next match\n\t\tparamMatch = reParam.exec(paramString);\n\t}\n\treturn [{\n\t\ttype: \"macrocall\",\n\t\tname: macroName,\n\t\tparams: params\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/macrocallinline.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/macrodef.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrodef.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for macro definitions\n\n```\n\\define name(param:defaultvalue,param2:defaultvalue)\ndefinition text, including $param$ markers\n\\end\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"macrodef\";\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\define\\s+([^(\\s]+)\\(\\s*([^)]*)\\)(\\r?\\n)?/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the macro name and parameters\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the parameters\n\tvar paramString = this.match[2],\n\t\tparams = [];\n\tif(paramString !== \"\") {\n\t\tvar reParam = /\\s*([A-Za-z0-9\\-_]+)(?:\\s*:\\s*(?:\"\"\"([\\s\\S]*?)\"\"\"|\"([^\"]*)\"|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\"'\\s]+)))?/mg,\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\twhile(paramMatch) {\n\t\t\t// Save the parameter details\n\t\t\tvar paramInfo = {name: paramMatch[1]},\n\t\t\t\tdefaultValue = paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6];\n\t\t\tif(defaultValue) {\n\t\t\t\tparamInfo[\"default\"] = defaultValue;\n\t\t\t}\n\t\t\tparams.push(paramInfo);\n\t\t\t// Look for the next parameter\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\t}\n\t}\n\t// Is this a multiline definition?\n\tvar reEnd;\n\tif(this.match[3]) {\n\t\t// If so, the end of the body is marked with \\end\n\t\treEnd = /(\\r?\\n\\\\end\\r?\\n)/mg;\n\t} else {\n\t\t// Otherwise, the end of the definition is marked by the end of the line\n\t\treEnd = /(\\r?\\n)/mg;\n\t}\n\t// Find the end of the definition\n\treEnd.lastIndex = this.parser.pos;\n\tvar text,\n\t\tendMatch = reEnd.exec(this.parser.source);\n\tif(endMatch) {\n\t\ttext = this.parser.source.substring(this.parser.pos,endMatch.index);\n\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t} else {\n\t\t// We didn't find the end of the definition, so we'll make it blank\n\t\ttext = \"\";\n\t}\n\t// Save the macro definition\n\treturn [{\n\t\ttype: \"macrodef\",\n\t\tname: this.match[1],\n\t\tparams: params,\n\t\ttext: text\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/macrodef.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/prettyextlink.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettyextlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\n[ext[http://tiddlywiki.com/fractalveg.jpg]]\n[ext[Tooltip|http://tiddlywiki.com/fractalveg.jpg]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"prettyextlink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextLink = this.findNextLink(this.parser.source,startPos);\n\treturn this.nextLink ? this.nextLink.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextLink.end;\n\treturn [this.nextLink];\n};\n\n/*\nFind the next link from the current position\n*/\nexports.findNextLink = function(source,pos) {\n\t// A regexp for finding candidate links\n\tvar reLookahead = /(\\[ext\\[)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a link\n\t\tvar link = this.parseLink(source,match.index);\n\t\t// Return success\n\t\tif(link) {\n\t\t\treturn link;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an link at the specified position. Returns null if not found, otherwise returns {type: \"element\", tag: \"a\", attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseLink = function(source,pos) {\n\tvar token,\n\t\ttextNode = {\n\t\t\ttype: \"text\"\n\t\t},\n\t\tnode = {\n\t\t\ttype: \"element\",\n\t\t\ttag: \"a\",\n\t\t\tstart: pos,\n\t\t\tattributes: {\n\t\t\t\t\"class\": {type: \"string\", value: \"tw-tiddlylink-external\"},\n\t\t\t},\n\t\t\tchildren: [textNode]\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[ext[`\n\ttoken = $tw.utils.parseTokenString(source,pos,\"[ext[\");\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Look ahead for the terminating `]]`\n\tvar closePos = source.indexOf(\"]]\",pos);\n\tif(closePos === -1) {\n\t\treturn null;\n\t}\n\t// Look for a `|` separating the tooltip\n\tvar splitPos = source.indexOf(\"|\",pos);\n\tif(splitPos === -1 || splitPos &gt; closePos) {\n\t\tsplitPos = null;\n\t}\n\t// Pull out the tooltip and URL\n\tvar tooltip, URL;\n\tif(splitPos) {\n\t\tURL = source.substring(splitPos + 1,closePos).trim();\n\t\ttextNode.text = source.substring(pos,splitPos).trim();\n\t} else {\n\t\tURL = source.substring(pos,closePos).trim();\n\t\ttextNode.text = URL;\n\t}\n\tnode.attributes.href = {type: \"string\", value: URL};\n\tnode.attributes.target = {type: \"string\", value: \"_blank\"};\n\t// Update the end position\n\tnode.end = closePos + 2;\n\treturn node;\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/prettyextlink.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/prettylink.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettylink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for pretty links. For example:\n\n```\n[[Introduction]]\n\n[[Link description|TiddlerTitle]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"prettylink\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\[\\[(.*?)(?:\\|(.*?))?\\]\\]/mg;\n};\n\nvar isLinkExternal = function(to) {\n\tvar externalRegExp = /(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|'\"\\\\^~]+(?:\\/|\\b)/i;\n\treturn externalRegExp.test(to);\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Process the link\n\tvar text = this.match[1],\n\t\tlink = this.match[2] || text;\n\tif(isLinkExternal(link)) {\n\t\treturn [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"a\",\n\t\t\tattributes: {\n\t\t\t\thref: {type: \"string\", value: link},\n\t\t\t\t\"class\": {type: \"string\", value: \"tw-tiddlylink-external\"},\n\t\t\t\ttarget: {type: \"string\", value: \"_blank\"}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\", text: text\n\t\t\t}]\n\t\t}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \"link\",\n\t\t\tattributes: {\n\t\t\t\tto: {type: \"string\", value: link}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\", text: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/prettylink.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/quoteblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/quoteblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for quote blocks. For example:\n\n```\n\t&lt;&lt;&lt;.optionalClass(es) optional cited from\n\ta quote\n\t&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;.optionalClass(es)\n\ta quote\n\t&lt;&lt;&lt; optional cited from\n```\n\nQuotes can be quoted by putting more &lt;s\n\n```\n\t&lt;&lt;&lt;\n\tQuote Level 1\n\t\n\t&lt;&lt;&lt;&lt;\n\tQuoteLevel 2\n\t&lt;&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"quoteblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&lt;&lt;&lt;+)/mg;\n};\n\nexports.parse = function() {\n\tvar classes = [\"tw-quote\"];\n\t// Get all the details of the match\n\tvar reEndString = \"^\" + this.match[1] + \"(?!&lt;)\";\n\t// Move past the &lt;s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\n\t// Parse any classes, whitespace and then the optional cite itself\n\tclasses.push.apply(classes, this.parser.parseClasses());\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar cite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\n\t// before handling the cite, parse the body of the quote\n\tvar tree= this.parser.parseBlocks(reEndString);\n\t// If we got a cite, put it before the text\n\tif(cite.length &gt; 0) {\n\t\ttree.unshift({\n\t\t\ttype: \"element\",\n\t\t\ttag: \"cite\",\n\t\t\tchildren: cite\n\t\t});\n\t}\n\n\t// Parse any optional cite\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar cite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// If we got a cite, push it\n\tif(cite.length &gt; 0) {\n\t\ttree.push({\n\t\t\ttype: \"element\",\n\t\t\ttag: \"cite\",\n\t\t\tchildren: cite\n\t\t});\n\t}\n\n\t// Return the blockquote element\n\treturn [{\n\t\ttype: \"element\",\n\t\ttag: \"blockquote\",\n\t\tattributes: {\n\t\t\tclass: { type: \"string\", value: classes.join(\" \") },\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/quoteblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/rules.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/rules.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for rules specifications\n\n```\n\\rules except ruleone ruletwo rulethree\n\\rules only ruleone ruletwo rulethree\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"rules\";\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\rules[^\\S\\n]/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the pragma invocation\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse whitespace delimited tokens terminated by a line break\n\tvar reMatch = /[^\\S\\n]*(\\S+)|(\\r?\\n)/mg,\n\t\ttokens = [];\n\treMatch.lastIndex = this.parser.pos;\n\tvar match = reMatch.exec(this.parser.source);\n\twhile(match &amp;&amp; match.index === this.parser.pos) {\n\t\tthis.parser.pos = reMatch.lastIndex;\n\t\t// Exit if we've got the line break\n\t\tif(match[2]) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the token\n\t\tif(match[1]) {\n\t\t\ttokens.push(match[1]);\n\t\t}\n\t\t// Match the next token\n\t\tmatch = reMatch.exec(this.parser.source);\n\t}\n\t// Process the tokens\n\tif(tokens.length &gt; 0) {\n\t\tthis.parser.amendRules(tokens[0],tokens.slice(1));\n\t}\n\t// No parse tree nodes to return\n\treturn [];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/rules.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/styleblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for assigning styles and classes to paragraphs and other blocks. For example:\n\n```\n@@.myClass\n@@background-color:red;\nThis paragraph will have the CSS class `myClass`.\n\n* The `&lt;ul&gt;` around this list will also have the class `myClass`\n* List item 2\n\n@@\n```\n\nNote that classes and styles can be mixed subject to the rule that styles must precede classes. For example\n\n```\n@@.myFirstClass.mySecondClass\n@@width:100px;.myThirdClass\nThis is a paragraph\n@@\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"styleblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(?:\\.([^\\r\\n\\s]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEndString = \"^@@(?:\\\\r?\\\\n)?\";\n\tvar classes = [], styles = [];\n\tdo {\n\t\t// Get the class and style\n\t\tif(this.match[1]) {\n\t\t\tstyles.push(this.match[1]);\n\t\t}\n\t\tif(this.match[2]) {\n\t\t\tclasses.push(this.match[2].split(\".\").join(\" \"));\n\t\t}\n\t\t// Move past the match\n\t\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\t// Look for another line of classes and styles\n\t\tthis.match = this.matchRegExp.exec(this.parser.source);\n\t} while(this.match &amp;&amp; this.match.index === this.parser.pos);\n\t// Parse the body\n\tvar tree = this.parser.parseBlocks(reEndString);\n\tfor(var t=0; t&lt;tree.length; t++) {\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(tree[t],classes.join(\" \"));\n\t\t}\n\t\tif(styles.length &gt; 0) {\n\t\t\t$tw.utils.addAttributeToParseTreeNode(tree[t],\"style\",styles.join(\"\"));\n\t\t}\n\t}\n\treturn tree;\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/styleblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/styleinline.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for assigning styles and classes to inline runs. For example:\n\n```\n@@.myClass This is some text with a class@@\n@@background-color:red;This is some text with a background colour@@\n@@width:100px;.myClass This is some text with a class and a width@@\n```\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"styleinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(\\.(?:[^\\r\\n\\s]+)\\s+)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /@@/g;\n\t// Get the styles and class\n\tvar stylesString = this.match[1],\n\t\tclassString = this.match[2] ? this.match[2].split(\".\").join(\" \") : undefined;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the run up to the terminator\n\tvar tree = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\n\t// Return the classed span\n\tvar node = {\n\t\ttype: \"element\",\n\t\ttag: \"span\",\n\t\tattributes: {\n\t\t\t\"class\": {type: \"string\", value: \"tw-inline-style\"}\n\t\t},\n\t\tchildren: tree\n\t};\n\tif(classString) {\n\t\t$tw.utils.addClassToParseTreeNode(node,classString);\n\t}\n\tif(stylesString) {\n\t\t$tw.utils.addAttributeToParseTreeNode(node,\"style\",stylesString);\n\t}\n\treturn [node];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/styleinline.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/table.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/table.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for tables.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"table\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\|(?:[^\\n]*)\\|(?:[fhck]?)\\r?(?:\\n|$)/mg;\n};\n\nvar processRow = function(prevColumns) {\n\tvar cellRegExp = /(?:\\|([^\\n\\|]*)\\|)|(\\|[fhck]?\\r?(?:\\n|$))/mg,\n\t\tcellTermRegExp = /((?:\\x20*)\\|)/mg,\n\t\ttree = [],\n\t\tcol = 0,\n\t\tcolSpanCount = 1,\n\t\tprevCell;\n\t// Match a single cell\n\tcellRegExp.lastIndex = this.parser.pos;\n\tvar cellMatch = cellRegExp.exec(this.parser.source);\n\twhile(cellMatch &amp;&amp; cellMatch.index === this.parser.pos) {\n\t\tif(cellMatch[1] === \"~\") {\n\t\t\t// Rowspan\n\t\t\tvar last = prevColumns[col];\n\t\t\tif(last) {\n\t\t\t\tlast.rowSpanCount++;\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\"rowspan\",last.rowSpanCount);\n\t\t\t\tvar vAlign = $tw.utils.getAttributeValueFromParseTreeNode(last.element,\"valign\",\"center\");\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\"valign\",vAlign);\n\t\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\"colspan\",colSpanCount);\n\t\t\t\t\tcolSpanCount = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \"&gt;\") {\n\t\t\t// Colspan\n\t\t\tcolSpanCount++;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \"&lt;\" &amp;&amp; prevCell) {\n\t\t\tcolSpanCount = 1 + $tw.utils.getAttributeValueFromParseTreeNode(prevCell,\"colspan\",1);\n\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\"colspan\",colSpanCount);\n\t\t\tcolSpanCount = 1;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[2]) {\n\t\t\t// End of row\n\t\t\tif(prevCell &amp;&amp; colSpanCount &gt; 1) {\n\t\t\t\tif(prevCell.attributes &amp;&amp; prevCell.attributes &amp;&amp; prevCell.attributes.colspan) {\n\t\t\t\t\t\tcolSpanCount += prevCell.attributes.colspan.value;\n\t\t\t\t} else {\n\t\t\t\t\tcolSpanCount -= 1;\n\t\t\t\t}\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\"colspan\",colSpanCount);\n\t\t\t}\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t\tbreak;\n\t\t} else {\n\t\t\t// For ordinary cells, step beyond the opening `|`\n\t\t\tthis.parser.pos++;\n\t\t\t// Look for a space at the start of the cell\n\t\t\tvar spaceLeft = false,\n\t\t\t\tvAlign = null;\n\t\t\tif(this.parser.source.substr(this.parser.pos).search(/^\\^([^\\^]|\\^\\^)/) === 0) {\n\t\t\t\tvAlign = \"top\";\n\t\t\t} else if(this.parser.source.substr(this.parser.pos).search(/^,([^,]|,,)/) === 0) {\n\t\t\t\tvAlign = \"bottom\";\n\t\t\t}\n\t\t\tif(vAlign) {\n\t\t\t\tthis.parser.pos++;\n\t\t\t}\n\t\t\tvar chr = this.parser.source.substr(this.parser.pos,1);\n\t\t\twhile(chr === \" \") {\n\t\t\t\tspaceLeft = true;\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tchr = this.parser.source.substr(this.parser.pos,1);\n\t\t\t}\n\t\t\t// Check whether this is a heading cell\n\t\t\tvar cell;\n\t\t\tif(chr === \"!\") {\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tcell = {type: \"element\", tag: \"th\", children: []};\n\t\t\t} else {\n\t\t\t\tcell = {type: \"element\", tag: \"td\", children: []};\n\t\t\t}\n\t\t\ttree.push(cell);\n\t\t\t// Record information about this cell\n\t\t\tprevCell = cell;\n\t\t\tprevColumns[col] = {rowSpanCount:1,element:cell};\n\t\t\t// Check for a colspan\n\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"colspan\",colSpanCount);\n\t\t\t\tcolSpanCount = 1;\n\t\t\t}\n\t\t\t// Parse the cell\n\t\t\tcell.children = this.parser.parseInlineRun(cellTermRegExp,{eatTerminator: true});\n\t\t\t// Set the alignment for the cell\n\t\t\tif(vAlign) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"valign\",vAlign);\n\t\t\t}\n\t\t\tif(this.parser.source.substr(this.parser.pos - 2,1) === \" \") { // spaceRight\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"align\",spaceLeft ? \"center\" : \"left\");\n\t\t\t} else if(spaceLeft) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\"align\",\"right\");\n\t\t\t}\n\t\t\t// Move back to the closing `|`\n\t\t\tthis.parser.pos--;\n\t\t}\n\t\tcol++;\n\t\tcellRegExp.lastIndex = this.parser.pos;\n\t\tcellMatch = cellRegExp.exec(this.parser.source);\n\t}\n\treturn tree;\n};\n\nexports.parse = function() {\n\tvar rowContainerTypes = {\"c\":\"caption\", \"h\":\"thead\", \"\":\"tbody\", \"f\":\"tfoot\"},\n\t\ttable = {type: \"element\", tag: \"table\", children: []},\n\t\trowRegExp = /^\\|([^\\n]*)\\|([fhck]?)\\r?(?:\\n|$)/mg,\n\t\trowTermRegExp = /(\\|(?:[fhck]?)\\r?(?:\\n|$))/mg,\n\t\tprevColumns = [],\n\t\tcurrRowType,\n\t\trowContainer,\n\t\trowCount = 0;\n\t// Match the row\n\trowRegExp.lastIndex = this.parser.pos;\n\tvar rowMatch = rowRegExp.exec(this.parser.source);\n\twhile(rowMatch &amp;&amp; rowMatch.index === this.parser.pos) {\n\t\tvar rowType = rowMatch[2];\n\t\t// Check if it is a class assignment\n\t\tif(rowType === \"k\") {\n\t\t\t$tw.utils.addClassToParseTreeNode(table,rowMatch[1]);\n\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t} else {\n\t\t\t// Otherwise, create a new row if this one is of a different type\n\t\t\tif(rowType !== currRowType) {\n\t\t\t\trowContainer = {type: \"element\", tag: rowContainerTypes[rowType], children: []};\n\t\t\t\ttable.children.push(rowContainer);\n\t\t\t\tcurrRowType = rowType;\n\t\t\t}\n\t\t\t// Is this a caption row?\n\t\t\tif(currRowType === \"c\") {\n\t\t\t\t// If so, move past the opening `|` of the row\n\t\t\t\tthis.parser.pos++;\n\t\t\t\t// Move the caption to the first row if it isn't already\n\t\t\t\tif(table.children.length !== 1) {\n\t\t\t\t\ttable.children.pop(); // Take rowContainer out of the children array\n\t\t\t\t\ttable.children.splice(0,0,rowContainer); // Insert it at the bottom\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t// Set the alignment - TODO: figure out why TW did this\n//\t\t\t\trowContainer.attributes.align = rowCount === 0 ? \"top\" : \"bottom\";\n\t\t\t\t// Parse the caption\n\t\t\t\trowContainer.children = this.parser.parseInlineRun(rowTermRegExp,{eatTerminator: true});\n\t\t\t} else {\n\t\t\t\t// Create the row\n\t\t\t\tvar theRow = {type: \"element\", tag: \"tr\", children: []};\n\t\t\t\t$tw.utils.addClassToParseTreeNode(theRow,rowCount%2 ? \"oddRow\" : \"evenRow\");\n\t\t\t\trowContainer.children.push(theRow);\n\t\t\t\t// Process the row\n\t\t\t\ttheRow.children = processRow.call(this,prevColumns);\n\t\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t\t\t// Increment the row count\n\t\t\t\trowCount++;\n\t\t\t}\n\t\t}\n\t\trowMatch = rowRegExp.exec(this.parser.source);\n\t}\n\treturn [table];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/table.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/transcludeblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"transcludeblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {},\n\t\t\tisBlock: true\n\t\t};\n\t// Prepare the tiddler widget\n\tif(textRef) {\n\t\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\t\ttargetTitle = tr.title,\n\t\t\ttargetField = tr.field,\n\t\t\ttargetIndex = tr.index,\n\t\t\ttiddlerNode = {\n\t\t\t\ttype: \"tiddler\",\n\t\t\t\tattributes: {\n\t\t\t\t\ttiddler: {type: \"string\", value: targetTitle}\n\t\t\t\t},\n\t\t\t\tisBlock: true,\n\t\t\t\tchildren: [transcludeNode]\n\t\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \"string\", value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \"string\", value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/transcludeblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/transcludeinline.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"transcludeinline\";\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \"transclude\",\n\t\t\tattributes: {}\n\t\t};\n\t// Prepare the tiddler widget\n\tif(textRef) {\n\t\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\t\ttargetTitle = tr.title,\n\t\t\ttargetField = tr.field,\n\t\t\ttargetIndex = tr.index,\n\t\t\ttiddlerNode = {\n\t\t\t\ttype: \"tiddler\",\n\t\t\t\tattributes: {\n\t\t\t\t\ttiddler: {type: \"string\", value: targetTitle}\n\t\t\t\t},\n\t\t\t\tchildren: [transcludeNode]\n\t\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \"string\", value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \"string\", value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \"string\", value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/transcludeinline.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/typedblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/typedblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for typed blocks. For example:\n\n```\n$$$.js\nThis will be rendered as JavaScript\n$$$\n\n$$$.svg\n&lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"150\" height=\"100\"&gt;\n  &lt;circle cx=\"100\" cy=\"50\" r=\"40\" stroke=\"black\" stroke-width=\"2\" fill=\"red\" /&gt;\n&lt;/svg&gt;\n$$$\n\n$$$text/vnd.tiddlywiki&gt;text/html\nThis will be rendered as an //HTML representation// of WikiText\n$$$\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.name = \"typedblock\";\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\$\\$\\$([^ &gt;\\r\\n]*)(?: *&gt; *([^ \\r\\n]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /\\r?\\n\\$\\$\\$\\r?(?:\\n|$)/mg;\n\t// Save the type\n\tvar parseType = this.match[1],\n\t\trenderType = this.match[2];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Parse the block according to the specified type\n\tvar parser = this.parser.wiki.parseText(parseType,text,{defaultType: \"text/plain\"});\n\t// If there's no render type, just return the parse tree\n\tif(!renderType) {\n\t\treturn parser.tree;\n\t} else {\n\t\t// Otherwise, render to the rendertype and return in a &lt;PRE&gt; tag\n\t\tvar widgetNode = this.parser.wiki.makeWidget(parser),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\"div\");\n\t\twidgetNode.render(container,null);\n\t\tvar text = renderType === \"text/html\" ? container.innerHTML : container.textContent;\n\t\treturn [{\n\t\t\ttype: \"element\",\n\t\t\ttag: \"pre\",\n\t\t\tchildren: [{\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/typedblock.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/rules/wikilink.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikilink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for wiki links. For example:\n\n```\nAWikiLink\nAnotherLink\n~SuppressedLink\n```\n\nPrecede a camel case word with `~` to prevent it from being recognised as a link.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.name = \"wikilink\";\nexports.types = {inline: true};\n\nvar textPrimitives = {\n\tupperLetter: \"[A-Z\\u00c0-\\u00de\\u0150\\u0170]\",\n\tlowerLetter: \"[a-z0-9_\\\\-\\u00df-\\u00ff\\u0151\\u0171]\",\n\tanyLetter:   \"[A-Za-z0-9_\\\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171]\",\n\tanyLetterStrict: \"[A-Za-z0-9\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171]\"\n};\n\ntextPrimitives.unWikiLink = \"~\";\ntextPrimitives.wikiLink = textPrimitives.upperLetter + \"+\" +\n\ttextPrimitives.lowerLetter + \"+\" +\n\ttextPrimitives.upperLetter +\n\ttextPrimitives.anyLetter + \"*\";\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = new RegExp(textPrimitives.unWikiLink + \"?\" + textPrimitives.wikiLink,\"mg\");\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get the details of the match\n\tvar linkText = this.match[0];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// If the link starts with the unwikilink character then just output it as plain text\n\tif(linkText.substr(0,1) === textPrimitives.unWikiLink) {\n\t\treturn [{type: \"text\", text: linkText.substr(1)}];\n\t}\n\t// If the link has been preceded with a letter then don't treat it as a link\n\tif(this.match.index &gt; 0) {\n\t\tvar preRegExp = new RegExp(textPrimitives.anyLetterStrict,\"mg\");\n\t\tpreRegExp.lastIndex = this.match.index-1;\n\t\tvar preMatch = preRegExp.exec(this.parser.source);\n\t\tif(preMatch &amp;&amp; preMatch.index === this.match.index-1) {\n\t\t\treturn [{type: \"text\", text: linkText}];\n\t\t}\n\t}\n\treturn [{\n\t\ttype: \"link\",\n\t\tattributes: {\n\t\t\tto: {type: \"string\", value: linkText}\n\t\t},\n\t\tchildren: [{\n\t\t\ttype: \"text\",\n\t\t\ttext: linkText\n\t\t}]\n\t}];\n};\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/wikilink.js",
            "type": "application/javascript",
            "module-type": "wikirule"
        },
        "$:/core/modules/parsers/wikiparser/wikiparser.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/wikiparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe wiki text parser processes blocks of source text into a parse tree.\n\nThe parse tree is made up of nested arrays of these JavaScript objects:\n\n\t{type: \"element\", tag: &lt;string&gt;, attributes: {}, children: []} - an HTML element\n\t{type: \"text\", text: &lt;string&gt;} - a text node\n\t{type: \"entity\", value: &lt;string&gt;} - an entity\n\t{type: \"raw\", html: &lt;string&gt;} - raw HTML\n\nAttributes are stored as hashmaps of the following objects:\n\n\t{type: \"string\", value: &lt;string&gt;} - literal string\n\t{type: \"indirect\", textReference: &lt;textReference&gt;} - indirect through a text reference\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar WikiParser = function(type,text,options) {\n\tthis.wiki = options.wiki;\n\t// Initialise the classes if we don't have them already\n\tif(!this.pragmaRuleClasses) {\n\t\tWikiParser.prototype.pragmaRuleClasses = $tw.modules.createClassesFromModules(\"wikirule\",\"pragma\",$tw.WikiRuleBase);\n\t}\n\tif(!this.blockRuleClasses) {\n\t\tWikiParser.prototype.blockRuleClasses = $tw.modules.createClassesFromModules(\"wikirule\",\"block\",$tw.WikiRuleBase);\n\t}\n\tif(!this.inlineRuleClasses) {\n\t\tWikiParser.prototype.inlineRuleClasses = $tw.modules.createClassesFromModules(\"wikirule\",\"inline\",$tw.WikiRuleBase);\n\t}\n\t// Save the parse text\n\tthis.type = type || \"text/vnd.tiddlywiki\";\n\tthis.source = text || \"\";\n\tthis.sourceLength = this.source.length;\n\t// Set current parse position\n\tthis.pos = 0;\n\t// Instantiate the pragma parse rules\n\tthis.pragmaRules = this.instantiateRules(this.pragmaRuleClasses,\"pragma\",0);\n\t// Instantiate the parser block and inline rules\n\tthis.blockRules = this.instantiateRules(this.blockRuleClasses,\"block\",0);\n\tthis.inlineRules = this.instantiateRules(this.inlineRuleClasses,\"inline\",0);\n\t// Parse any pragmas\n\tthis.tree = this.parsePragmas();\n\t// Parse the text into inline runs or blocks\n\tif(options.parseAsInline) {\n\t\tthis.tree.push.apply(this.tree,this.parseInlineRun());\n\t} else {\n\t\tthis.tree.push.apply(this.tree,this.parseBlocks());\n\t}\n\t// Return the parse tree\n};\n\n/*\nInstantiate an array of parse rules\n*/\nWikiParser.prototype.instantiateRules = function(classes,type,startPos) {\n\tvar rulesInfo = [],\n\t\tself = this;\n\t$tw.utils.each(classes,function(RuleClass) {\n\t\t// Instantiate the rule\n\t\tvar rule = new RuleClass(self);\n\t\trule.is = {};\n\t\trule.is[type] = true;\n\t\trule.init(self);\n\t\tvar matchIndex = rule.findNextMatch(startPos);\n\t\tif(matchIndex !== undefined) {\n\t\t\trulesInfo.push({\n\t\t\t\trule: rule,\n\t\t\t\tmatchIndex: matchIndex\n\t\t\t});\n\t\t}\n\t});\n\treturn rulesInfo;\n};\n\n/*\nSkip any whitespace at the current position. Options are:\n\ttreatNewlinesAsNonWhitespace: true if newlines are NOT to be treated as whitespace\n*/\nWikiParser.prototype.skipWhitespace = function(options) {\n\toptions = options || {};\n\tvar whitespaceRegExp = options.treatNewlinesAsNonWhitespace ? /([^\\S\\n]+)/mg : /(\\s+)/mg;\n\twhitespaceRegExp.lastIndex = this.pos;\n\tvar whitespaceMatch = whitespaceRegExp.exec(this.source);\n\tif(whitespaceMatch &amp;&amp; whitespaceMatch.index === this.pos) {\n\t\tthis.pos = whitespaceRegExp.lastIndex;\n\t}\n};\n\n/*\nGet the next match out of an array of parse rule instances\n*/\nWikiParser.prototype.findNextMatch = function(rules,startPos) {\n\t// Find the best matching rule by finding the closest match position\n\tvar matchingRule = undefined,\n\t\tmatchingRulePos = this.sourceLength;\n\t// Step through each rule\n\tfor(var t=0; t&lt;rules.length; t++) {\n\t\tvar ruleInfo = rules[t];\n\t\t// Ask the rule to get the next match if we've moved past the current one\n\t\tif(ruleInfo.matchIndex !== undefined  &amp;&amp; ruleInfo.matchIndex &lt; startPos) {\n\t\t\truleInfo.matchIndex = ruleInfo.rule.findNextMatch(startPos);\n\t\t}\n\t\t// Adopt this match if it's closer than the current best match\n\t\tif(ruleInfo.matchIndex !== undefined &amp;&amp; ruleInfo.matchIndex &lt;= matchingRulePos) {\n\t\t\tmatchingRule = ruleInfo;\n\t\t\tmatchingRulePos = ruleInfo.matchIndex;\n\t\t}\n\t}\n\treturn matchingRule;\n};\n\n/*\nParse any pragmas at the beginning of a block of parse text\n*/\nWikiParser.prototype.parsePragmas = function() {\n\tvar tree = [];\n\twhile(true) {\n\t\t// Skip whitespace\n\t\tthis.skipWhitespace();\n\t\t// Check for the end of the text\n\t\tif(this.pos &gt;= this.sourceLength) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check if we've arrived at a pragma rule match\n\t\tvar nextMatch = this.findNextMatch(this.pragmaRules,this.pos);\n\t\t// If not, just exit\n\t\tif(!nextMatch || nextMatch.matchIndex !== this.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the pragma rule\n\t\ttree.push.apply(tree,nextMatch.rule.parse());\n\t}\n\treturn tree;\n};\n\n/*\nParse a block from the current position\n\tterminatorRegExpString: optional regular expression string that identifies the end of plain paragraphs. Must not include capturing parenthesis\n*/\nWikiParser.prototype.parseBlock = function(terminatorRegExpString) {\n\tvar terminatorRegExp = terminatorRegExpString ? new RegExp(\"(\" + terminatorRegExpString + \"|\\\\r?\\\\n\\\\r?\\\\n)\",\"mg\") : /(\\r?\\n\\r?\\n)/mg;\n\tthis.skipWhitespace();\n\tif(this.pos &gt;= this.sourceLength) {\n\t\treturn [];\n\t}\n\t// Look for a block rule that applies at the current position\n\tvar nextMatch = this.findNextMatch(this.blockRules,this.pos);\n\tif(nextMatch &amp;&amp; nextMatch.matchIndex === this.pos) {\n\t\treturn nextMatch.rule.parse();\n\t}\n\t// Treat it as a paragraph if we didn't find a block rule\n\treturn [{type: \"element\", tag: \"p\", children: this.parseInlineRun(terminatorRegExp)}];\n};\n\n/*\nParse a series of blocks of text until a terminating regexp is encountered or the end of the text\n\tterminatorRegExpString: terminating regular expression\n*/\nWikiParser.prototype.parseBlocks = function(terminatorRegExpString) {\n\tif(terminatorRegExpString) {\n\t\treturn this.parseBlocksTerminated(terminatorRegExpString);\n\t} else {\n\t\treturn this.parseBlocksUnterminated();\n\t}\n};\n\n/*\nParse a block from the current position to the end of the text\n*/\nWikiParser.prototype.parseBlocksUnterminated = function() {\n\tvar tree = [];\n\twhile(this.pos &lt; this.sourceLength) {\n\t\ttree.push.apply(tree,this.parseBlock());\n\t}\n\treturn tree;\n};\n\n/*\nParse blocks of text until a terminating regexp is encountered\n*/\nWikiParser.prototype.parseBlocksTerminated = function(terminatorRegExpString) {\n\tvar terminatorRegExp = new RegExp(\"(\" + terminatorRegExpString + \")\",\"mg\"),\n\t\ttree = [];\n\t// Skip any whitespace\n\tthis.skipWhitespace();\n\t//  Check if we've got the end marker\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar match = terminatorRegExp.exec(this.source);\n\t// Parse the text into blocks\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; !(match &amp;&amp; match.index === this.pos)) {\n\t\tvar blocks = this.parseBlock(terminatorRegExpString);\n\t\ttree.push.apply(tree,blocks);\n\t\t// Skip any whitespace\n\t\tthis.skipWhitespace();\n\t\t//  Check if we've got the end marker\n\t\tterminatorRegExp.lastIndex = this.pos;\n\t\tmatch = terminatorRegExp.exec(this.source);\n\t}\n\tif(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t}\n\treturn tree;\n};\n\n/*\nParse a run of text at the current position\n\tterminatorRegExp: a regexp at which to stop the run\n\toptions: see below\nOptions available:\n\teatTerminator: move the parse position past any encountered terminator (default false)\n*/\nWikiParser.prototype.parseInlineRun = function(terminatorRegExp,options) {\n\tif(terminatorRegExp) {\n\t\treturn this.parseInlineRunTerminated(terminatorRegExp,options);\n\t} else {\n\t\treturn this.parseInlineRunUnterminated(options);\n\t}\n};\n\nWikiParser.prototype.parseInlineRunUnterminated = function(options) {\n\tvar tree = [];\n\t// Find the next occurrence of an inline rule\n\tvar nextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around the matches until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; nextMatch) {\n\t\t// Process the text preceding the run rule\n\t\tif(nextMatch.matchIndex &gt; this.pos) {\n\t\t\ttree.push({type: \"text\", text: this.source.substring(this.pos,nextMatch.matchIndex)});\n\t\t\tthis.pos = nextMatch.matchIndex;\n\t\t}\n\t\t// Process the run rule\n\t\ttree.push.apply(tree,nextMatch.rule.parse());\n\t\t// Look for the next run rule\n\t\tnextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\ttree.push({type: \"text\", text: this.source.substr(this.pos)});\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\nWikiParser.prototype.parseInlineRunTerminated = function(terminatorRegExp,options) {\n\toptions = options || {};\n\tvar tree = [];\n\t// Find the next occurrence of the terminator\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar terminatorMatch = terminatorRegExp.exec(this.source);\n\t// Find the next occurrence of a inlinerule\n\tvar inlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; (terminatorMatch || inlineRuleMatch)) {\n\t\t// Return if we've found the terminator, and it precedes any inline rule match\n\t\tif(terminatorMatch) {\n\t\t\tif(!inlineRuleMatch || inlineRuleMatch.matchIndex &gt;= terminatorMatch.index) {\n\t\t\t\tif(terminatorMatch.index &gt; this.pos) {\n\t\t\t\t\ttree.push({type: \"text\", text: this.source.substring(this.pos,terminatorMatch.index)});\n\t\t\t\t}\n\t\t\t\tthis.pos = terminatorMatch.index;\n\t\t\t\tif(options.eatTerminator) {\n\t\t\t\t\tthis.pos += terminatorMatch[0].length;\n\t\t\t\t}\n\t\t\t\treturn tree;\n\t\t\t}\n\t\t}\n\t\t// Process any inline rule, along with the text preceding it\n\t\tif(inlineRuleMatch) {\n\t\t\t// Preceding text\n\t\t\tif(inlineRuleMatch.matchIndex &gt; this.pos) {\n\t\t\t\ttree.push({type: \"text\", text: this.source.substring(this.pos,inlineRuleMatch.matchIndex)});\n\t\t\t\tthis.pos = inlineRuleMatch.matchIndex;\n\t\t\t}\n\t\t\t// Process the inline rule\n\t\t\ttree.push.apply(tree,inlineRuleMatch.rule.parse());\n\t\t\t// Look for the next inline rule\n\t\t\tinlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t\t\t// Look for the next terminator match\n\t\t\tterminatorRegExp.lastIndex = this.pos;\n\t\t\tterminatorMatch = terminatorRegExp.exec(this.source);\n\t\t}\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\ttree.push({type: \"text\", text: this.source.substr(this.pos)});\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\n/*\nParse zero or more class specifiers `.classname`\n*/\nWikiParser.prototype.parseClasses = function() {\n\tvar classRegExp = /\\.([^\\s\\.]+)/mg,\n\t\tclassNames = [];\n\tclassRegExp.lastIndex = this.pos;\n\tvar match = classRegExp.exec(this.source);\n\twhile(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t\tclassNames.push(match[1]);\n\t\tvar match = classRegExp.exec(this.source);\n\t}\n\treturn classNames;\n};\n\n/*\nAmend the rules used by this instance of the parser\n\ttype: `only` keeps just the named rules, `except` keeps all but the named rules\n\tnames: array of rule names\n*/\nWikiParser.prototype.amendRules = function(type,names) {\n\tnames = names || [];\n\t// Define the filter function\n\tvar keepFilter;\n\tif(type === \"only\") {\n\t\tkeepFilter = function(name) {\n\t\t\treturn names.indexOf(name) !== -1;\n\t\t};\n\t} else if(type === \"except\") {\n\t\tkeepFilter = function(name) {\n\t\t\treturn names.indexOf(name) === -1;\n\t\t};\n\t} else {\n\t\treturn;\n\t}\n\t// Define a function to process each of our rule arrays\n\tvar processRuleArray = function(ruleArray) {\n\t\tfor(var t=ruleArray.length-1; t&gt;=0; t--) {\n\t\t\tif(!keepFilter(ruleArray[t].rule.name)) {\n\t\t\t\truleArray.splice(t,1);\n\t\t\t}\n\t\t}\n\t};\n\t// Process each rule array\n\tprocessRuleArray(this.pragmaRules);\n\tprocessRuleArray(this.blockRules);\n\tprocessRuleArray(this.inlineRules);\n}\n\nexports[\"text/vnd.tiddlywiki\"] = WikiParser;\n\n})();\n\n",
            "title": "$:/core/modules/parsers/wikiparser/wikiparser.js",
            "type": "application/javascript",
            "module-type": "parser"
        },
        "$:/core/modules/parsers/wikiparser/rules/wikirulebase.js": {
            "text": "/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikirulebase.js\ntype: application/javascript\nmodule-type: global\n\nBase class for wiki parser rules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nThis constructor is always overridden with a blank constructor, and so shouldn't be used\n*/\nvar WikiRuleBase = function() {\n};\n\n/*\nTo be overridden by individual rules\n*/\nWikiRuleBase.prototype.init = function(parser) {\n\tthis.parser = parser;\n};\n\n/*\nDefault implementation of findNextMatch uses RegExp matching\n*/\nWikiRuleBase.prototype.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\treturn this.match ? this.match.index : undefined;\n};\n\nexports.WikiRuleBase = WikiRuleBase;\n\n})();\n",
            "title": "$:/core/modules/parsers/wikiparser/rules/wikirulebase.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/pluginswitcher.js": {
            "text": "/*\\\ntitle: $:/core/modules/pluginswitcher.js\ntype: application/javascript\nmodule-type: global\n\nManages switching plugins for themes and languages.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\noptions:\nwiki: wiki store to be used\npluginType: type of plugin to be switched\ncontrollerTitle: title of tiddler used to control switching of this resource\ndefaultPlugins: array of default plugins to be used if nominated plugin isn't found\n*/\nfunction PluginSwitcher(options) {\n\tthis.wiki = options.wiki;\n\tthis.pluginType = options.pluginType;\n\tthis.controllerTitle = options.controllerTitle;\n\tthis.defaultPlugins = options.defaultPlugins || [];\n\t// Switch to the current plugin\n\tthis.switchPlugins();\n\t// Listen for changes to the selected plugin\n\tvar self = this;\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.utils.hop(changes,self.controllerTitle)) {\n\t\t\tself.switchPlugins();\n\t\t}\n\t});\n}\n\nPluginSwitcher.prototype.switchPlugins = function() {\n\t// Get the name of the current theme\n\tvar selectedPluginTitle = this.wiki.getTiddlerText(this.controllerTitle);\n\t// If it doesn't exist, then fallback to one of the default themes\n\tvar index = 0;\n\twhile(!this.wiki.getTiddler(selectedPluginTitle) &amp;&amp; index &lt; this.defaultPlugins.length) {\n\t\tselectedPluginTitle = this.defaultPlugins[index++];\n\t}\n\t// Accumulate the titles of the plugins that we need to load\n\tvar plugins = [],\n\t\tself = this,\n\t\taccumulatePlugin = function(title) {\n\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\tif(tiddler &amp;&amp; tiddler.isPlugin() &amp;&amp; plugins.indexOf(title) === -1) {\n\t\t\t\tplugins.push(title);\n\t\t\t\tvar pluginInfo = JSON.parse(self.wiki.getTiddlerText(title)),\n\t\t\t\t\tdependents = $tw.utils.parseStringArray(tiddler.fields.dependents || \"\");\n\t\t\t\t$tw.utils.each(dependents,function(title) {\n\t\t\t\t\taccumulatePlugin(title);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\taccumulatePlugin(selectedPluginTitle);\n\t// Unregister any existing theme tiddlers\n\tvar unregisteredTiddlers = $tw.wiki.unregisterPluginTiddlers(this.pluginType);\n\t// Accumulate the titles of shadow tiddlers that have changed as a result of this switch\n\tvar changedTiddlers = {};\n\tthis.wiki.eachShadow(function(tiddler,title) {\n\t\tvar source = self.wiki.getShadowSource(title);\n\t\tif(unregisteredTiddlers.indexOf(source) !== -1) {\n\t\t\tchangedTiddlers[title] = true; // isDeleted?\n\t\t}\n\t});\n\t// Register any new theme tiddlers\n\tvar registeredTiddlers = $tw.wiki.registerPluginTiddlers(this.pluginType,plugins);\n\t// Unpack the current theme tiddlers\n\t$tw.wiki.unpackPluginTiddlers();\n\t// Accumulate the affected shadow tiddlers\n\tthis.wiki.eachShadow(function(tiddler,title) {\n\t\tvar source = self.wiki.getShadowSource(title);\n\t\tif(registeredTiddlers.indexOf(source) !== -1) {\n\t\t\tchangedTiddlers[title] = false; // isDeleted?\n\t\t}\n\t});\n\t// Issue change events for the modified tiddlers\n\t$tw.utils.each(changedTiddlers,function(status,title) {\n\t\tself.wiki.enqueueTiddlerEvent(title,status);\n\t});\n};\n\nexports.PluginSwitcher = PluginSwitcher;\n\n})();\n",
            "title": "$:/core/modules/pluginswitcher.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/savers/andtidwiki.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/andtidwiki.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the AndTidWiki Android app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\"use strict\";\n\nvar AndTidWiki = function(wiki) {\n};\n\nAndTidWiki.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.toString().split(\"#\")[0]);\n\t// Strip the file://\n\tif(pathname.indexOf(\"file://\") === 0) {\n\t\tpathname = pathname.substr(7);\n\t}\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\"?\");\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\"#\");\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Save the file\n\twindow.twi.saveFile(pathname,text)\n\t// Call the callback\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nAndTidWiki.prototype.info = {\n\tname: \"andtidwiki\",\n\tpriority: 1600,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.twi &amp;&amp; !!window.twi.saveFile;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new AndTidWiki(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/andtidwiki.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/download.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/download.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar DownloadSaver = function(wiki) {\n};\n\nDownloadSaver.prototype.save = function(text,method,callback) {\n\t// Get the current filename\n\tvar filename = \"tiddlywiki.html\",\n\t\tp = document.location.pathname.lastIndexOf(\"/\");\n\tif(p !== -1) {\n\t\tfilename = document.location.pathname.substr(p+1);\n\t}\n\t// Set up the link\n\tvar link = document.createElement(\"a\");\n\tlink.setAttribute(\"target\",\"_blank\");\n\tif(Blob !== undefined) {\n\t\tvar blob = new Blob([text], {type: \"text/html\"});\n\t\tlink.setAttribute(\"href\", URL.createObjectURL(blob));\n\t} else {\n\t\tlink.setAttribute(\"href\",\"data:text/html,\" + encodeURIComponent(text));\n\t}\n\tlink.setAttribute(\"download\",filename);\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nDownloadSaver.prototype.info = {\n\tname: \"download\",\n\tpriority: 100,\n\tcapabilities: [\"save\", \"download\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn document.createElement(\"a\").download !== undefined;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new DownloadSaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/download.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/fsosaver.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/fsosaver.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via MS FileSystemObject ActiveXObject\n\nNote: Since TiddlyWiki's markup contains the MOTW, the FileSystemObject normally won't be available. \nHowever, if the wiki is loaded as an .HTA file (Windows HTML Applications) then the FSO can be used.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar FSOSaver = function(wiki) {\n};\n\nFSOSaver.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = unescape(document.location.pathname);\n\t// Test for a Windows path of the form /x:\\blah...\n\tif(/^\\/[A-Z]\\:\\\\[^\\\\]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t} else if(document.location.hostname !== \"\" &amp;&amp; /^\\/\\\\[^\\\\]+\\\\[^\\\\]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t\t// reconstruct UNC path\n\t\tpathname = \"\\\\\\\\\" + document.location.hostname + pathname;\n\t} else return false;\n\t\n\t// Save the file (as UTF-16)\n\tvar fso = new ActiveXObject(\"Scripting.FileSystemObject\");\n\tvar file = fso.OpenTextFile(pathname,2,-1,-1);\n\t\n\tfile.Write(text);\n\tfile.Close();\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nFSOSaver.prototype.info = {\n\tname: \"FSOSaver\",\n\tpriority: 120,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\ttry {\n\t\treturn (window.location.protocol === \"file:\") &amp;&amp; !!(new ActiveXObject(\"Scripting.FileSystemObject\"));\n\t} catch(e) { return false; }\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new FSOSaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/fsosaver.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/manualdownload.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/manualdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Title of the tiddler containing the download message\nvar downloadInstructionsTitle = \"$:/language/Modals/Download\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar ManualDownloadSaver = function(wiki) {\n};\n\nManualDownloadSaver.prototype.save = function(text,method,callback) {\n\t$tw.modal.display(downloadInstructionsTitle,{\n\t\tdownloadLink: \"data:text/html,\" + encodeURIComponent(text)\n\t});\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nManualDownloadSaver.prototype.info = {\n\tname: \"manualdownload\",\n\tpriority: 0,\n\tcapabilities: [\"save\", \"download\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new ManualDownloadSaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/manualdownload.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/msdownload.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/msdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via window.navigator.msSaveBlob()\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar MsDownloadSaver = function(wiki) {\n};\n\nMsDownloadSaver.prototype.save = function(text,method,callback) {\n\t// Get the current filename\n\tvar filename = \"tiddlywiki.html\",\n\t\tp = document.location.pathname.lastIndexOf(\"/\");\n\tif(p !== -1) {\n\t\tfilename = document.location.pathname.substr(p+1);\n\t}\n\t// Set up the link\n\tvar blob = new Blob([text], {type: \"text/html\"});\n\twindow.navigator.msSaveBlob(blob,filename);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nMsDownloadSaver.prototype.info = {\n\tname: \"msdownload\",\n\tpriority: 110,\n\tcapabilities: [\"save\", \"download\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.navigator.msSaveBlob;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new MsDownloadSaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/msdownload.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/tiddlyfox.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/tiddlyfox.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TiddlyFox file extension\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\"use strict\";\n\nvar TiddlyFoxSaver = function(wiki) {\n};\n\nTiddlyFoxSaver.prototype.save = function(text,method,callback) {\n\tvar messageBox = document.getElementById(\"tiddlyfox-message-box\");\n\tif(messageBox) {\n\t\t// Get the pathname of this document\n\t\tvar pathname = document.location.toString().split(\"#\")[0];\n\t\t// Replace file://localhost/ with file:///\n\t\tif(pathname.indexOf(\"file://localhost/\") == 0) {\n\t\t\tpathname = \"file://\" + pathname.substr(16);\n\t\t}\n\t\t// Windows path file:///x:/blah/blah --&gt; x:\\blah\\blah\n\t\tif(/^file\\:\\/\\/\\/[A-Z]\\:\\//i.test(pathname)) {\n\t\t\t// Remove the leading slash and convert slashes to backslashes\n\t\t\tpathname = pathname.substr(8).replace(/\\//g,\"\\\\\");\n\t\t// Firefox Windows network path file://///server/share/blah/blah --&gt; //server/share/blah/blah\n\t\t} else if(pathname.indexOf(\"file://///\") === 0) {\n\t\t\tpathname = \"\\\\\\\\\" + unescape(pathname.substr(10)).replace(/\\//g,\"\\\\\");\n\t\t// Mac/Unix local path file:///path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\"file:///\") == 0) {\n\t\t\tpathname = unescape(pathname.substr(7));\n\t\t// Mac/Unix local path file:/path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\"file:/\") == 0) {\n\t\t\tpathname = unescape(pathname.substr(5));\n\t\t// Otherwise Windows networth path file://server/share/path/path --&gt; \\\\server\\share\\path\\path\n\t\t} else {\n\t\t\tpathname = \"\\\\\\\\\" + unescape(pathname.substr(7)).replace(new RegExp(\"/\",\"g\"),\"\\\\\");\n\t\t}\n\t\t// Create the message element and put it in the message box\n\t\tvar message = document.createElement(\"div\");\nconsole.log(\"Pathname\",pathname);\n\t\tmessage.setAttribute(\"data-tiddlyfox-path\",decodeURIComponent(pathname));\n\t\tmessage.setAttribute(\"data-tiddlyfox-content\",text);\n\t\tmessageBox.appendChild(message);\n\t\t// Add an event handler for when the file has been saved\n\t\tmessage.addEventListener(\"tiddlyfox-have-saved-file\",function(event) {\n\t\t\tcallback(null);\n\t\t}, false);\n\t\t// Create and dispatch the custom event to the extension\n\t\tvar event = document.createEvent(\"Events\");\n\t\tevent.initEvent(\"tiddlyfox-save-file\",true,false);\n\t\tmessage.dispatchEvent(event);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyFoxSaver.prototype.info = {\n\tname: \"tiddlyfox\",\n\tpriority: 1500,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \"file:\");\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyFoxSaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/tiddlyfox.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/tiddlyie.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/tiddlyie.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via Internet Explorer BHO extenion (TiddlyIE)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar TiddlyIESaver = function(wiki) {\n};\n\nTiddlyIESaver.prototype.save = function(text,method,callback) {\n\t// Check existence of TiddlyIE BHO extension (note: only works after document is complete)\n\tif(typeof(window.TiddlyIE) != \"undefined\") {\n\t\t// Get the pathname of this document\n\t\tvar pathname = unescape(document.location.pathname);\n\t\t// Test for a Windows path of the form /x:/blah...\n\t\tif(/^\\/[A-Z]\\:\\/[^\\/]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+ (is this better?: ^/[a-z]:/[^/]+(/[^/]+)*\\.[^/]+ )\n\t\t\t// Remove the leading slash\n\t\t\tpathname = pathname.substr(1);\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\"\\\\\");\n\t\t} else if(document.hostname !== \"\" &amp;&amp; /^\\/[^\\/]+\\/[^\\/]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\"\\\\\");\n\t\t\t// reconstruct UNC path\n\t\t\tpathname = \"\\\\\\\\\" + document.location.hostname + pathname;\n\t\t} else return false;\n\t\t\n\t\t// Prompt the user to save the file\n\t\twindow.TiddlyIE.save(pathname, text);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyIESaver.prototype.info = {\n\tname: \"tiddlyiesaver\",\n\tpriority: 1500,\n\tcapabilities: [\"save\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \"file:\");\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyIESaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/tiddlyie.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/twedit.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/twedit.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TWEdit iOS app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\"use strict\";\n\nvar TWEditSaver = function(wiki) {\n};\n\nTWEditSaver.prototype.save = function(text,method,callback) {\n\t// Bail if we're not running under TWEdit\n\tif(typeof DeviceInfo !== \"object\") {\n\t\treturn false;\n\t}\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.pathname);\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\"?\");\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\"#\");\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Remove the leading \"/Documents\" from path\n\tvar prefix = \"/Documents\";\n\tif(pathname.indexOf(prefix) === 0) {\n\t\tpathname = pathname.substr(prefix.length);\n\t}\n\t// Error handler\n\tvar errorHandler = function(event) {\n    \t// Error\n    \tcallback(\"Error saving to TWEdit: \" + event.target.error.code);\n    };\n\t// Get the file system\n    window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(fileSystem) {\n    \t// Now we've got the filesystem, get the fileEntry\n        fileSystem.root.getFile(pathname, {create: true}, function(fileEntry) {\n        \t// Now we've got the fileEntry, create the writer\n        \tfileEntry.createWriter(function(writer) {\n\t\t        writer.onerror = errorHandler;\n\t\t        writer.onwrite = function() {\n\t\t        \tcallback(null);\n\t\t        };\n\t\t        writer.position = 0;\n\t\t        writer.write(text);\n        \t},errorHandler);\n        }, errorHandler);\n    }, errorHandler);\n    return true;\n};\n\n/*\nInformation about this saver\n*/\nTWEditSaver.prototype.info = {\n\tname: \"twedit\",\n\tpriority: 1600,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TWEditSaver(wiki);\n};\n\n/////////////////////////// Hack\n// HACK: This ensures that TWEdit recognises us as a TiddlyWiki document\nif($tw.browser) {\n\twindow.version = {title: \"TiddlyWiki\"};\n}\n\n})();\n",
            "title": "$:/core/modules/savers/twedit.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/savers/upload.js": {
            "text": "/*\\\ntitle: $:/core/modules/savers/upload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via upload to a server.\n\nDesigned to be compatible with BidiX's UploadPlugin at http://tiddlywiki.bidix.info/#UploadPlugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar UploadSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nUploadSaver.prototype.save = function(text,method,callback) {\n\t// Get the various parameters we need\n\tvar backupDir = this.wiki.getTextReference(\"$:/UploadBackupDir\") || \".\",\n\t\tusername = this.wiki.getTextReference(\"$:/UploadName\"),\n\t\tpassword = $tw.utils.getPassword(\"upload\"),\n\t\tuploadDir = this.wiki.getTextReference(\"$:/UploadDir\") || \".\",\n\t\tuploadFilename = this.wiki.getTextReference(\"$:/UploadFilename\") || \"index.html\",\n\t\turl = this.wiki.getTextReference(\"$:/UploadURL\");\n\t// Bail out if we don't have the bits we need\n\tif(!username || username.toString().trim() === \"\" || !password || password.toString().trim() === \"\") {\n\t\treturn false;\n\t}\n\t// Construct the url if not provided\n\tif(!url) {\n\t\turl = \"http://\" + username + \".tiddlyspot.com/store.cgi\";\n\t}\n\t// Assemble the header\n\tvar boundary = \"---------------------------\" + \"AaB03x\";\t\n\tvar uploadFormName = \"UploadPlugin\";\n\tvar head = [];\n\thead.push(\"--\" + boundary + \"\\r\\nContent-disposition: form-data; name=\\\"UploadPlugin\\\"\\r\\n\");\n\thead.push(\"backupDir=\" + backupDir + \";user=\" + username + \";password=\" + password + \";uploaddir=\" + uploadDir + \";;\"); \n\thead.push(\"\\r\\n\" + \"--\" + boundary);\n\thead.push(\"Content-disposition: form-data; name=\\\"userfile\\\"; filename=\\\"\" + uploadFilename + \"\\\"\");\n\thead.push(\"Content-Type: text/html;charset=UTF-8\");\n\thead.push(\"Content-Length: \" + text.length + \"\\r\\n\");\n\thead.push(\"\");\n\t// Assemble the tail and the data itself\n\tvar tail = \"\\r\\n--\" + boundary + \"--\\r\\n\",\n\t\tdata = head.join(\"\\r\\n\") + text + tail;\n\t// Do the HTTP post\n\tvar http = new XMLHttpRequest();\n\thttp.open(\"POST\",url,true,username,password);\n\thttp.setRequestHeader(\"Content-Type\",\"multipart/form-data; ;charset=UTF-8; boundary=\" + boundary);\n\thttp.onreadystatechange = function() {\n\t\tif(http.readyState == 4 &amp;&amp; http.status == 200) {\n\t\t\tif(http.responseText.substr(0,4) === \"0 - \") {\n\t\t\t\tcallback(null);\n\t\t\t} else {\n\t\t\t\tcallback(http.responseText);\n\t\t\t}\n\t\t}\n\t};\n\thttp.send(data);\n\t$tw.notifier.display(\"$:/language/Notifications/Save/Starting\");\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nUploadSaver.prototype.info = {\n\tname: \"upload\",\n\tpriority: 2000,\n\tcapabilities: [\"save\", \"autosave\"]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new UploadSaver(wiki);\n};\n\n})();\n",
            "title": "$:/core/modules/savers/upload.js",
            "type": "application/javascript",
            "module-type": "saver"
        },
        "$:/core/modules/startup/commands.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/commands.js\ntype: application/javascript\nmodule-type: startup\n\nCommand processing\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"commands\";\nexports.platforms = [\"node\"];\nexports.after = [\"story\"];\nexports.synchronous = false;\n\nexports.startup = function(callback) {\n\t// On the server, start a commander with the command line arguments\n\tvar commander = new $tw.Commander(\n\t\t$tw.boot.argv,\n\t\tfunction(err) {\n\t\t\tif(err) {\n\t\t\t\tconsole.log(\"Error: \" + err);\n\t\t\t}\n\t\t\tcallback();\n\t\t},\n\t\t$tw.wiki,\n\t\t{output: process.stdout, error: process.stderr}\n\t);\n\tcommander.execute();\n};\n\n})();\n",
            "title": "$:/core/modules/startup/commands.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/favicon.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/favicon.js\ntype: application/javascript\nmodule-type: startup\n\nFavicon handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"favicon\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\t\t\n// Favicon tiddler\nvar FAVICON_TITLE = \"$:/favicon.ico\";\n\nexports.startup = function() {\n\t// Set up the favicon\n\tsetFavicon();\n\t// Reset the favicon when the tiddler changes\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.utils.hop(changes,FAVICON_TITLE)) {\n\t\t\tsetFavicon();\n\t\t}\n\t});\n};\n\nfunction setFavicon() {\n\tvar tiddler = $tw.wiki.getTiddler(FAVICON_TITLE);\n\tif(tiddler) {\n\t\tvar faviconLink = document.getElementById(\"faviconLink\");\n\t\tfaviconLink.setAttribute(\"href\",\"data:\" + tiddler.fields.type + \";base64,\" + tiddler.fields.text);\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/startup/favicon.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/load-modules.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/load-modules.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"load-modules\";\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Load modules\n\t$tw.modules.applyMethods(\"utils\",$tw.utils);\n\tif($tw.node &amp;&amp; !$tw.browser) {\n\t\t$tw.modules.applyMethods(\"utils-node\",$tw.utils);\n\t}\n\t$tw.modules.applyMethods(\"global\",$tw);\n\t$tw.modules.applyMethods(\"config\",$tw.config);\n\t$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap(\"tiddlerfield\");\n\t$tw.modules.applyMethods(\"tiddlermethod\",$tw.Tiddler.prototype);\n\t$tw.modules.applyMethods(\"wikimethod\",$tw.Wiki.prototype);\n\t$tw.modules.applyMethods(\"tiddlerdeserializer\",$tw.Wiki.tiddlerDeserializerModules);\n\t$tw.macros = $tw.modules.getModulesByTypeAsHashmap(\"macro\");\n\t$tw.wiki.initParsers();\n\t$tw.Commander.initCommands();\n};\n\n})();\n",
            "title": "$:/core/modules/startup/load-modules.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/password.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/password.js\ntype: application/javascript\nmodule-type: startup\n\nPassword handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"password\";\nexports.platforms = [\"browser\"];\nexports.after = [\"rootwidget\"];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t$tw.rootWidget.addEventListener(\"tw-set-password\",function(event) {\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: \"Set a new password for this TiddlyWiki\",\n\t\t\tnoUserName: true,\n\t\t\tsubmitText: \"Set password\",\n\t\t\tcanCancel: true,\n\t\t\tcallback: function(data) {\n\t\t\t\tif(data) {\n\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t}\n\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t}\n\t\t});\n\t});\n\t$tw.rootWidget.addEventListener(\"tw-clear-password\",function(event) {\n\t\t$tw.crypto.setPassword(null);\n\t});\n\t// Ensure that $:/isEncrypted is maintained properly\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.utils.hop(changes,\"$:/isEncrypted\")) {\n\t\t\t$tw.crypto.updateCryptoStateTiddler();\n\t\t}\n\t});\n};\n\n})();\n",
            "title": "$:/core/modules/startup/password.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/render.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/render.js\ntype: application/javascript\nmodule-type: startup\n\nTitle, stylesheet and page rendering\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"render\";\nexports.platforms = [\"browser\"];\nexports.after = [\"story\"];\nexports.synchronous = true;\n\n// Default story and history lists\nvar PAGE_TITLE_TITLE = \"$:/core/wiki/title\"\nvar PAGE_STYLESHEET_TITLE = \"$:/core/ui/PageStylesheet\";\nvar PAGE_TEMPLATE_TITLE = \"$:/core/ui/PageTemplate\";\n\n// Time (in ms) that we defer refreshing changes to draft tiddlers\nvar DRAFT_TIDDLER_TIMEOUT = 400;\n\nexports.startup = function() {\n\t// Set up the title\n\t$tw.titleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TITLE_TITLE,{document: $tw.fakeDocument, parseAsInline: true});\n\t$tw.titleContainer = $tw.fakeDocument.createElement(\"div\");\n\t$tw.titleWidgetNode.render($tw.titleContainer,null);\n\tdocument.title = $tw.titleContainer.textContent;\n\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\tif($tw.titleWidgetNode.refresh(changes,$tw.titleContainer,null)) {\n\t\t\tdocument.title = $tw.titleContainer.textContent;\n\t\t}\n\t});\n\t// Set up the styles\n\t$tw.styleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_STYLESHEET_TITLE,{document: $tw.fakeDocument});\n\t$tw.styleContainer = $tw.fakeDocument.createElement(\"style\");\n\t$tw.styleWidgetNode.render($tw.styleContainer,null);\n\t$tw.styleElement = document.createElement(\"style\");\n\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\tdocument.head.insertBefore($tw.styleElement,document.head.firstChild);\n\t$tw.wiki.addEventListener(\"change\",$tw.perf.report(\"styleRefresh\",function(changes) {\n\t\tif($tw.styleWidgetNode.refresh(changes,$tw.styleContainer,null)) {\n\t\t\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\t\t}\n\t}));\n\t// Display the $:/core/ui/PageTemplate tiddler to kick off the display\n\t$tw.perf.report(\"mainRender\",function() {\n\t\t$tw.pageWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TEMPLATE_TITLE,{document: document, parentWidget: $tw.rootWidget});\n\t\t$tw.pageContainer = document.createElement(\"div\");\n\t\t$tw.utils.addClass($tw.pageContainer,\"tw-page-container-wrapper\");\n\t\tdocument.body.insertBefore($tw.pageContainer,document.body.firstChild);\n\t\t$tw.pageWidgetNode.render($tw.pageContainer,null);\n\t})();\n\t// Prepare refresh mechanism\n\tvar deferredChanges = Object.create(null),\n\t\ttimerId;\n\tfunction refresh() {\n\t\t// Process the refresh\n\t\t$tw.pageWidgetNode.refresh(deferredChanges,$tw.pageContainer,null);\n\t\tdeferredChanges = Object.create(null);\n\t}\n\t// Add the change event handler\n\t$tw.wiki.addEventListener(\"change\",$tw.perf.report(\"mainRefresh\",function(changes) {\n\t\t// Check if only drafts have changed\n\t\tvar onlyDraftsHaveChanged = true;\n\t\tfor(var title in changes) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\tif(!tiddler || !tiddler.hasField(\"draft.of\")) {\n\t\t\t\tonlyDraftsHaveChanged = false;\n\t\t\t}\n\t\t}\n\t\t// Defer the change if only drafts have changed\n\t\tif(timerId) {\n\t\t\tclearTimeout(timerId);\n\t\t}\n\t\ttimerId = null;\n\t\tif(onlyDraftsHaveChanged) {\n\t\t\ttimerId = setTimeout(refresh,DRAFT_TIDDLER_TIMEOUT);\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t} else {\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t\trefresh();\n\t\t}\n\t}));\n\t// Fix up the link between the root widget and the page container\n\t$tw.rootWidget.domNodes = [$tw.pageContainer];\n\t$tw.rootWidget.children = [$tw.pageWidgetNode];\n};\n\n})();\n",
            "title": "$:/core/modules/startup/render.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/rootwidget.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/rootwidget.js\ntype: application/javascript\nmodule-type: startup\n\nSetup the root widget and the core root widget handlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"rootwidget\";\nexports.platforms = [\"browser\"];\nexports.after = [\"load-modules\"];\nexports.before = [\"story\"];\nexports.synchronous = true;\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nexports.startup = function() {\n\t// Create a root widget for attaching event handlers. By using it as the parentWidget for another widget tree, one can reuse the event handlers\n\t$tw.rootWidget = new widget.widget({\n\t\ttype: \"widget\",\n\t\tchildren: []\n\t},{\n\t\twiki: $tw.wiki,\n\t\tdocument: document\n\t});\n\t// Install the modal message mechanism\n\t$tw.modal = new $tw.utils.Modal($tw.wiki);\n\t$tw.rootWidget.addEventListener(\"tw-modal\",function(event) {\n\t\t$tw.modal.display(event.param);\n\t});\n\t// Install the notification  mechanism\n\t$tw.notifier = new $tw.utils.Notifier($tw.wiki);\n\t$tw.rootWidget.addEventListener(\"tw-notify\",function(event) {\n\t\t$tw.notifier.display(event.param);\n\t});\n\t// Install the scroller\n\t$tw.pageScroller = new $tw.utils.PageScroller();\n\t$tw.rootWidget.addEventListener(\"tw-scroll\",function(event) {\n\t\t$tw.pageScroller.handleEvent(event);\n\t});\n\t// Install the save action handlers\n\t$tw.rootWidget.addEventListener(\"tw-save-wiki\",function(event) {\n\t\t$tw.syncer.saveWiki({\n\t\t\ttemplate: event.param,\n\t\t\tdownloadType: \"text/plain\"\n\t\t});\n\t});\n\t$tw.rootWidget.addEventListener(\"tw-auto-save-wiki\",function(event) {\n\t\t$tw.syncer.saveWiki({\n\t\t\tmethod: \"autosave\",\n\t\t\ttemplate: event.param,\n\t\t\tdownloadType: \"text/plain\"\n\t\t});\n\t});\n\t$tw.rootWidget.addEventListener(\"tw-download-file\",function(event) {\n\t\t$tw.syncer.saveWiki({\n\t\t\tmethod: \"download\",\n\t\t\ttemplate: event.param,\n\t\t\tdownloadType: \"text/plain\"\n\t\t});\n\t});\n\t// If we're being viewed on a data: URI then give instructions for how to save\n\tif(document.location.protocol === \"data:\") {\n\t\t$tw.rootWidget.dispatchEvent({\n\t\t\ttype: \"tw-modal\",\n\t\t\tparam: \"$:/language/Modals/SaveInstructions\"\n\t\t});\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/startup/rootwidget.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/story.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/story.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"story\";\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\n// Default story and history lists\nvar DEFAULT_STORY_TITLE = \"$:/StoryList\";\nvar DEFAULT_HISTORY_TITLE = \"$:/HistoryList\";\n\n// Default tiddlers\nvar DEFAULT_TIDDLERS_TITLE = \"$:/DefaultTiddlers\";\n\n// Config\nvar CONFIG_UPDATE_ADDRESS_BAR = \"$:/config/Navigation/UpdateAddressBar\"; // Can be \"no\", \"permalink\", \"permaview\"\nvar CONFIG_UPDATE_HISTORY = \"$:/config/Navigation/UpdateHistory\"; // Can be \"yes\" or \"no\"\n\nexports.startup = function() {\n\t// Open startup tiddlers\n\topenStartupTiddlers();\n\tif($tw.browser) {\n\t\t// Set up location hash update\n\t\t$tw.wiki.addEventListener(\"change\",function(changes) {\n\t\t\tif($tw.utils.hop(changes,DEFAULT_STORY_TITLE) || $tw.utils.hop(changes,DEFAULT_HISTORY_TITLE)) {\n\t\t\t\tupdateLocationHash();\n\t\t\t}\n\t\t});\n\t\t// Listen for changes to the browser location hash\n\t\twindow.addEventListener(\"hashchange\",function() {\n\t\t\tvar hash = $tw.utils.getLocationHash();\n\t\t\tif(hash !== $tw.locationHash) {\n\t\t\t\t$tw.locationHash = hash;\n\t\t\t\topenStartupTiddlers({defaultToCurrentStory: true});\n\t\t\t}\n\t\t},false)\n\t\t// Listen for the tw-home message\n\t\t$tw.rootWidget.addEventListener(\"tw-home\",function(event) {\n\t\t\tvar storyFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE),\n\t\t\t\tstoryList = $tw.wiki.filterTiddlers(storyFilter);\n\t\t\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \"\", list: storyList},$tw.wiki.getModificationFields());\n\t\t});\n\t}\n};\n\n/*\nProcess the location hash to open the specified tiddlers. Options:\ndefaultToCurrentStory: If true, the current story is retained as the default, instead of opening the default tiddlers\n*/\nfunction openStartupTiddlers(options) {\n\toptions = options || {};\n\t// Work out the target tiddler and the story filter. \"null\" means \"unspecified\"\n\tvar target = null,\n\t\tstoryFilter = null;\n\tif($tw.locationHash.length &gt; 1) {\n\t\tvar hash = $tw.locationHash.substr(1),\n\t\t\tsplit = hash.indexOf(\":\");\n\t\tif(split === -1) {\n\t\t\ttarget = decodeURIComponent(hash.trim());\n\t\t} else {\n\t\t\ttarget = decodeURIComponent(hash.substr(0,split).trim());\n\t\t\tstoryFilter = decodeURIComponent(hash.substr(split + 1).trim());\n\t\t}\n\t}\n\t// If the story wasn't specified use the current tiddlers or a blank story\n\tif(storyFilter === null) {\n\t\tif(options.defaultToCurrentStory) {\n\t\t\tvar currStoryList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE);\n\t\t\tstoryFilter = $tw.utils.stringifyList(currStoryList);\n\t\t} else {\n\t\t\tif(target &amp;&amp; target !== \"\") {\n\t\t\t\tstoryFilter = \"\";\n\t\t\t} else {\n\t\t\t\tstoryFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE);\n\t\t\t}\n\t\t}\n\t}\n\t// Process the story filter to get the story list\n\tvar storyList = $tw.wiki.filterTiddlers(storyFilter);\n\t// If the target tiddler isn't included then splice it in at the top\n\tif(target &amp;&amp; storyList.indexOf(target) === -1) {\n\t\tstoryList.unshift(target);\n\t}\n\t// Save the story list\n\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \"\", list: storyList},$tw.wiki.getModificationFields());\n\t// If a target tiddler was specified add it to the history stack\n\tif(target &amp;&amp; target !== \"\") {\n\t\t// The target tiddler doesn't need double square brackets, but we'll silently remove them if they're present\n\t\tif(target.indexOf(\"[[\") === 0 &amp;&amp; target.substr(-2) === \"]]\") {\n\t\t\ttarget = target.substr(2,target.length - 4);\n\t\t}\n\t\t$tw.wiki.addToHistory(target);\n\t} else if(storyList.length &gt; 0) {\n\t\t$tw.wiki.addToHistory(storyList[0]);\n\t}\n}\n\nfunction updateLocationHash() {\n\tvar updateAddressBar = $tw.wiki.getTiddlerText(CONFIG_UPDATE_ADDRESS_BAR,\"permaview\").trim();\n\tif(updateAddressBar !== \"no\") {\n\t\t// Get the story and the history stack\n\t\tvar storyList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE),\n\t\t\thistoryList = $tw.wiki.getTiddlerData(DEFAULT_HISTORY_TITLE,[]);\n\t\t\tvar targetTiddler = \"\";\n\t\t// The target tiddler is the one at the top of the stack\n\t\tif(historyList.length &gt; 0) {\n\t\t\ttargetTiddler = historyList[historyList.length-1].title;\n\t\t}\n\t\t// Blank the target tiddler if it isn't present in the story\n\t\tif(storyList.indexOf(targetTiddler) === -1) {\n\t\t\ttargetTiddler = \"\";\n\t\t}\n\t\t// Assemble the location hash\n\t\tif(updateAddressBar === \"permalink\") {\n\t\t\t$tw.locationHash = \"#\" + encodeURIComponent(targetTiddler)\n\t\t} else {\n\t\t\t$tw.locationHash = \"#\" + encodeURIComponent(targetTiddler) + \":\" + encodeURIComponent($tw.utils.stringifyList(storyList));\n\t\t}\n\t\t// Only change the location hash if we must, thus avoiding unnecessary onhashchange events\n\t\tif($tw.utils.getLocationHash() !== $tw.locationHash) {\n\t\t\tif($tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\"no\").trim() === \"yes\") {\n\t\t\t\t// Assign the location hash so that history is updated\n\t\t\t\twindow.location.hash = $tw.locationHash;\n\t\t\t} else {\n\t\t\t\t// We use replace so that browser history isn't affected\n\t\t\t\twindow.location.replace(window.location.toString().split(\"#\")[0] + $tw.locationHash);\n\t\t\t}\n\t\t}\n\t}\n}\n\n})();\n",
            "title": "$:/core/modules/startup/story.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup/syncer-browser.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup/syncer-browser.js\ntype: application/javascript\nmodule-type: startup\n\nStartup handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"syncer-browser\";\nexports.platforms = [\"browser\"];\nexports.after = [\"rootwidget\"];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Listen out for login/logout/refresh events in the browser\n\t$tw.rootWidget.addEventListener(\"tw-login\",function() {\n\t\t$tw.syncer.handleLoginEvent();\n\t});\n\t$tw.rootWidget.addEventListener(\"tw-logout\",function() {\n\t\t$tw.syncer.handleLogoutEvent();\n\t});\n\t$tw.rootWidget.addEventListener(\"tw-server-refresh\",function() {\n\t\t$tw.syncer.handleRefreshEvent();\n\t});\n};\n\n})();\n",
            "title": "$:/core/modules/startup/syncer-browser.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/startup.js": {
            "text": "/*\\\ntitle: $:/core/modules/startup.js\ntype: application/javascript\nmodule-type: startup\n\nThis is the main application logic for both the client and server\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"startup\";\nexports.after = [\"load-modules\"];\nexports.synchronous = true;\n\n// Set to `true` to enable performance instrumentation\nvar PERFORMANCE_INSTRUMENTATION = false;\n\nexports.startup = function() {\n\tvar modules,n,m,f;\n\tif($tw.browser) {\n\t\t$tw.browser.isIE = (/msie|trident/i.test(navigator.userAgent));\n\t}\n\t$tw.version = $tw.utils.extractVersionInfo();\n\t// Set up the performance framework\n\t$tw.perf = new $tw.Performance(PERFORMANCE_INSTRUMENTATION);\n\t// Kick off the language manager and switcher\n\t$tw.language = new $tw.Language();\n\t$tw.languageSwitcher = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \"language\",\n\t\tcontrollerTitle: \"$:/language\",\n\t\tdefaultPlugins: [\n\t\t\t\"$:/languages/en-US\"\n\t\t]\n\t});\n\t// Kick off the theme manager\n\t$tw.themeManager = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \"theme\",\n\t\tcontrollerTitle: \"$:/theme\",\n\t\tdefaultPlugins: [\n\t\t\t\"$:/themes/tiddlywiki/snowwhite\",\n\t\t\t\"$:/themes/tiddlywiki/vanilla\"\n\t\t]\n\t});\n\t// Clear outstanding tiddler store change events to avoid an unnecessary refresh cycle at startup\n\t$tw.wiki.clearTiddlerEventQueue();\n\t// Set up the syncer object\n\t$tw.syncer = new $tw.Syncer({wiki: $tw.wiki});\n\t// Host-specific startup\n\tif($tw.browser) {\n\t\t// Set up our beforeunload handler\n\t\twindow.addEventListener(\"beforeunload\",function(event) {\n\t\t\tvar confirmationMessage = undefined;\n\t\t\tif($tw.syncer.isDirty()) {\n\t\t\t\tconfirmationMessage = \"You have unsaved changes in TiddlyWiki\";\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t\t// Install the popup manager\n\t\t$tw.popup = new $tw.utils.Popup({\n\t\t\trootElement: document.body\n\t\t});\n\t\t// Install the animator\n\t\t$tw.anim = new $tw.utils.Animator();\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/startup.js",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/core/modules/storyviews/classic.js": {
            "text": "/*\\\ntitle: $:/core/modules/storyviews/classic.js\ntype: application/javascript\nmodule-type: storyview\n\nViews the story as a linear sequence\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ClassicStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n}\n\nClassicStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \"tw-scroll\", target: targetElement});\n};\n\nClassicStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Get the current height of the tiddler\n\tvar computedStyle = window.getComputedStyle(targetElement),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \"none\"},\n\t\t\t{marginBottom: \"\"}\n\t\t]);\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"none\"},\n\t\t{marginBottom: (-currHeight) + \"px\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"opacity \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"margin-bottom \" + duration + \"ms ease-in-out\"},\n\t\t{marginBottom: currMarginBottom + \"px\"},\n\t\t{opacity: \"1.0\"}\n\t]);\n};\n\nClassicStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Get the current height of the tiddler\n\tvar currWidth = targetElement.offsetWidth,\n\t\tcomputedStyle = window.getComputedStyle(targetElement),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t// Remove the dom nodes of the widget at the end of the transition\n\tsetTimeout(function() {\n\t\twidget.removeChildDomNodes();\n\t},duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"none\"},\n\t\t{transform: \"translateX(0px)\"},\n\t\t{marginBottom:  currMarginBottom + \"px\"},\n\t\t{opacity: \"1.0\"}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"margin-bottom \" + duration + \"ms ease-in-out\"},\n\t\t{transform: \"translateX(-\" + currWidth + \"px)\"},\n\t\t{marginBottom: (-currHeight) + \"px\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n};\n\nexports.classic = ClassicStoryView;\n\n})();",
            "title": "$:/core/modules/storyviews/classic.js",
            "type": "application/javascript",
            "module-type": "storyview"
        },
        "$:/core/modules/storyviews/pop.js": {
            "text": "/*\\\ntitle: $:/core/modules/storyviews/pop.js\ntype: application/javascript\nmodule-type: storyview\n\nAnimates list insertions and removals\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar PopStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n}\n\nPopStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \"tw-scroll\", target: targetElement});\n};\n\nPopStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Reset once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \"none\"},\n\t\t\t{transform: \"none\"}\n\t\t]);\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"none\"},\n\t\t{transform: \"scale(2)\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{transform: \"scale(1)\"},\n\t\t{opacity: \"1.0\"}\n\t]);\n};\n\nPopStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Remove the element at the end of the transition\n\tsetTimeout(function() {\n\t\tif(targetElement.parentNode) {\n\t\t\twidget.removeChildDomNodes();\n\t\t}\n\t},duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \"none\"},\n\t\t{transform: \"scale(1)\"},\n\t\t{opacity: \"1.0\"}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{transform: \"scale(0.1)\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n};\n\nexports.pop = PopStoryView;\n\n})();\n",
            "title": "$:/core/modules/storyviews/pop.js",
            "type": "application/javascript",
            "module-type": "storyview"
        },
        "$:/core/modules/storyviews/zoomin.js": {
            "text": "/*\\\ntitle: $:/core/modules/storyviews/zoomin.js\ntype: application/javascript\nmodule-type: storyview\n\nZooms between individual tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ZoominListView = function(listWidget) {\n\tvar self = this;\n\tthis.listWidget = listWidget;\n\t// Get the index of the tiddler that is at the top of the history\n\tvar history = this.listWidget.wiki.getTiddlerData(this.listWidget.historyTitle,[]),\n\t\ttargetTiddler;\n\tif(history.length &gt; 0) {\n\t\ttargetTiddler = history[history.length-1].title;\n\t}\n\t// Make all the tiddlers position absolute, and hide all but the top (or first) one\n\t$tw.utils.each(this.listWidget.children,function(itemWidget,index) {\n\t\tvar domNode = itemWidget.findFirstDomNode();\n\t\tif(targetTiddler !== itemWidget.parseTreeNode.itemTitle || (!targetTiddler &amp;&amp; index)) {\n\t\t\tdomNode.style.display = \"none\";\n\t\t} else {\n\t\t\tself.currentTiddlerDomNode = domNode;\n\t\t}\n\t\tdomNode.style.position = \"absolute\";\n\t});\n};\n\nZoominListView.prototype.navigateTo = function(historyInfo) {\n\tvar duration = $tw.utils.getAnimationDuration(),\n\t\tlistElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Make the new tiddler be position absolute and visible so that we can measure it\n\t$tw.utils.setStyle(targetElement,[\n\t\t{position: \"absolute\"},\n\t\t{display: \"block\"},\n\t\t{transformOrigin: \"0 0\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t{transition: \"none\"},\n\t\t{opacity: \"0.0\"}\n\t]);\n\t// Get the position of the source node, or use the centre of the window as the source position\n\tvar sourceBounds = historyInfo.fromPageRect || {\n\t\t\tleft: window.innerWidth/2 - 2,\n\t\t\ttop: window.innerHeight/2 - 2,\n\t\t\twidth: window.innerWidth/8,\n\t\t\theight: window.innerHeight/8\n\t\t};\n\t// Try to find the title node in the target tiddler\n\tvar titleDomNode = findTitleDomNode(listItemWidget) || listItemWidget.findFirstDomNode(),\n\t\tzoomBounds = titleDomNode.getBoundingClientRect();\n\t// Compute the transform for the target tiddler to make the title lie over the source rectange\n\tvar targetBounds = targetElement.getBoundingClientRect(),\n\t\tscale = sourceBounds.width / zoomBounds.width,\n\t\tx = sourceBounds.left - targetBounds.left - (zoomBounds.left - targetBounds.left) * scale,\n\t\ty = sourceBounds.top - targetBounds.top - (zoomBounds.top - targetBounds.top) * scale;\n\t// Transform the target tiddler to its starting position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transform: \"translateX(\" + x + \"px) translateY(\" + y + \"px) scale(\" + scale + \")\"}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(targetElement);\n\t// Apply the ending transitions with a timeout to ensure that the previously applied transformations are applied first\n\tvar self = this,\n\t\tprevCurrentTiddler = this.currentTiddlerDomNode;\n\tthis.currentTiddlerDomNode = targetElement;\n\t// Transform the target tiddler to its natural size\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in, opacity \" + duration + \"ms ease-in\"},\n\t\t{opacity: \"1.0\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t{zIndex: \"500\"},\n\t]);\n\t// Transform the previous tiddler out of the way and then hide it\n\tif(prevCurrentTiddler &amp;&amp; prevCurrentTiddler !== targetElement) {\n\t\tvar scale = zoomBounds.width / sourceBounds.width;\n\t\tx =  zoomBounds.left - targetBounds.left - (sourceBounds.left - targetBounds.left) * scale;\n\t\ty =  zoomBounds.top - targetBounds.top - (sourceBounds.top - targetBounds.top) * scale;\n\t\t$tw.utils.setStyle(prevCurrentTiddler,[\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in, opacity \" + duration + \"ms ease-in\"},\n\t\t\t{opacity: \"0.0\"},\n\t\t\t{transformOrigin: \"0 0\"},\n\t\t\t{transform: \"translateX(\" + x + \"px) translateY(\" + y + \"px) scale(\" + scale + \")\"},\n\t\t\t{zIndex: \"0\"}\n\t\t]);\n\t\t// Hide the tiddler when the transition has finished\n\t\tsetTimeout(function() {\n\t\t\tif(self.currentTiddlerDomNode !== prevCurrentTiddler) {\n\t\t\t\tprevCurrentTiddler.style.display = \"none\";\n\t\t\t}\n\t\t},duration);\n\t}\n\t// Scroll the target into view\n//\t$tw.pageScroller.scrollIntoView(targetElement);\n};\n\n/*\nFind the first child DOM node of a widget that has the class \"title\"\n*/\nfunction findTitleDomNode(widget,targetClass) {\n\ttargetClass = targetClass || \"title\";\n\tvar domNode = widget.findFirstDomNode();\n\tif(domNode &amp;&amp; domNode.querySelector) {\n\t\treturn domNode.querySelector(\".\" + targetClass);\n\t}\n\treturn null;\n}\n\nZoominListView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode();\n\t// Make the newly inserted node position absolute and hidden\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \"none\"},\n\t\t{position: \"absolute\"}\n\t]);\n};\n\nZoominListView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Set up the tiddler that is being closed\n\t$tw.utils.setStyle(targetElement,[\n\t\t{position: \"absolute\"},\n\t\t{display: \"block\"},\n\t\t{transformOrigin: \"50% 50%\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t{transition: \"none\"},\n\t\t{zIndex: \"0\"}\n\t]);\n\t// We'll move back to the previous or next element in the story\n\tvar toWidget = widget.previousSibling();\n\tif(!toWidget) {\n\t\ttoWidget = widget.nextSibling();\n\t}\n\tvar toWidgetDomNode = toWidget &amp;&amp; toWidget.findFirstDomNode();\n\t// Set up the tiddler we're moving back in\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{position: \"absolute\"},\n\t\t\t{display: \"block\"},\n\t\t\t{transformOrigin: \"50% 50%\"},\n\t\t\t{transform: \"translateX(0px) translateY(0px) scale(10)\"},\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in, opacity \" + duration + \"ms ease-in\"},\n\t\t\t{opacity: \"0\"},\n\t\t\t{zIndex: \"500\"}\n\t\t]);\n\t\tthis.currentTiddlerDomNode = toWidgetDomNode;\n\t}\n\t// Animate them both\n\t// Force layout\n\t$tw.utils.forceLayout(this.listWidget.parentDomNode);\n\t// First, the tiddler we're closing\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transformOrigin: \"50% 50%\"},\n\t\t{transform: \"translateX(0px) translateY(0px) scale(0.1)\"},\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in, opacity \" + duration + \"ms ease-in\"},\n\t\t{opacity: \"0\"},\n\t\t{zIndex: \"0\"}\n\t]);\n\tsetTimeout(function() {\n\t\t// Delete the DOM node when the transition is over\n\t\twidget.removeChildDomNodes();\n\t},duration);\n\t// Now the tiddler we're going back to\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{transform: \"translateX(0px) translateY(0px) scale(1)\"},\n\t\t\t{opacity: \"1\"}\n\t\t]);\n\t}\n\treturn true; // Indicate that we'll delete the DOM node\n};\n\nexports.zoomin = ZoominListView;\n\n})();",
            "title": "$:/core/modules/storyviews/zoomin.js",
            "type": "application/javascript",
            "module-type": "storyview"
        },
        "$:/core/modules/syncer.js": {
            "text": "/*\\\ntitle: $:/core/modules/syncer.js\ntype: application/javascript\nmodule-type: global\n\nThe syncer tracks changes to the store. If a syncadaptor is used then individual tiddlers are synchronised through it. If there is no syncadaptor then the entire wiki is saved via saver modules.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nInstantiate the syncer with the following options:\nwiki: wiki to be synced\n*/\nfunction Syncer(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\"syncer\" + ($tw.browser ? \"-browser\" : \"\") + ($tw.node ? \"-server\" : \"\"));\n\t// Find a working syncadaptor\n\tthis.syncadaptor = undefined;\n\t$tw.modules.forEachModuleOfType(\"syncadaptor\",function(title,module) {\n\t\tif(!self.syncadaptor &amp;&amp; module.adaptorClass) {\n\t\t\tself.syncadaptor = new module.adaptorClass(self);\n\t\t}\n\t});\n\t// Initialise our savers\n\tif($tw.browser) {\n\t\tthis.initSavers();\n\t}\n\t// Compile the dirty tiddler filter\n\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t// Record information for known tiddlers\n\tthis.readTiddlerInfo();\n\t// Tasks are {type: \"load\"/\"save\"/\"delete\", title:, queueTime:, lastModificationTime:}\n\tthis.taskQueue = {}; // Hashmap of tasks yet to be performed\n\tthis.taskInProgress = {}; // Hash of tasks in progress\n\tthis.taskTimerId = null; // Timer for task dispatch\n\tthis.pollTimerId = null; // Timer for polling server\n\t// Listen out for changes to tiddlers\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\tself.syncToServer(changes);\n\t});\n\t// Listen out for lazyLoad events\n\tif(this.syncadaptor) {\n\t\tthis.wiki.addEventListener(\"lazyLoad\",function(title) {\n\t\t\tself.handleLazyLoadEvent(title);\n\t\t});\n\t}\n\t// Get the login status\n\tthis.getStatus(function (err,isLoggedIn) {\n\t\t// Do a sync from the server\n\t\tself.syncFromServer();\n\t});\n}\n\n/*\nConstants\n*/\nSyncer.prototype.titleIsLoggedIn = \"$:/status/IsLoggedIn\";\nSyncer.prototype.titleUserName = \"$:/status/UserName\";\nSyncer.prototype.titleSyncFilter = \"$:/config/SyncFilter\";\nSyncer.prototype.titleAutoSave = \"$:/config/AutoSave\";\nSyncer.prototype.titleSavedNotification = \"$:/language/Notifications/Save/Done\";\nSyncer.prototype.taskTimerInterval = 1 * 1000; // Interval for sync timer\nSyncer.prototype.throttleInterval = 1 * 1000; // Defer saving tiddlers if they've changed in the last 1s...\nSyncer.prototype.fallbackInterval = 10 * 1000; // Unless the task is older than 10s\nSyncer.prototype.pollTimerInterval = 60 * 1000; // Interval for polling for changes from the adaptor\n\n/*\nRead (or re-read) the latest tiddler info from the store\n*/\nSyncer.prototype.readTiddlerInfo = function() {\n\t// Hashmap by title of {revision:,changeCount:,adaptorInfo:}\n\tthis.tiddlerInfo = {};\n\t// Record information for known tiddlers\n\tvar self = this,\n\t\ttiddlers = this.filterFn.call(this.wiki);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\tself.tiddlerInfo[title] = {\n\t\t\trevision: tiddler.fields[\"revision\"],\n\t\t\tadaptorInfo: self.syncadaptor &amp;&amp; self.syncadaptor.getTiddlerInfo(tiddler),\n\t\t\tchangeCount: self.wiki.getChangeCount(title)\n\t\t}\n\t});\n};\n\n/*\nSelect the appropriate saver modules and set them up\n*/\nSyncer.prototype.initSavers = function(moduleType) {\n\tmoduleType = moduleType || \"saver\";\n\t// Instantiate the available savers\n\tthis.savers = [];\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tif(module.canSave(self)) {\n\t\t\tself.savers.push(module.create(self.wiki));\n\t\t}\n\t});\n\t// Sort the savers into priority order\n\tthis.savers.sort(function(a,b) {\n\t\tif(a.info.priority &lt; b.info.priority) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(a.info.priority &gt; b.info.priority) {\n\t\t\t\treturn +1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nSave the wiki contents. Options are:\n\tmethod: \"save\" or \"download\"\n\ttemplate: the tiddler containing the template to save\n\tdownloadType: the content type for the saved file\n*/\nSyncer.prototype.saveWiki = function(options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tmethod = options.method || \"save\",\n\t\ttemplate = options.template || \"$:/core/save/all\",\n\t\tdownloadType = options.downloadType || \"text/plain\",\n\t\ttext = this.wiki.renderTiddler(downloadType,template),\n\t\tcallback = function(err) {\n\t\t\tif(err) {\n\t\t\t\talert(\"Error while saving:\\n\\n\" + err);\n\t\t\t} else {\n\t\t\t\t$tw.notifier.display(self.titleSavedNotification);\n\t\t\t\tif(options.callback) {\n\t\t\t\t\toptions.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t// Ignore autosave if we've got a syncadaptor or autosave is disabled\n\tif(method === \"autosave\") {\n\t\tif(this.syncadaptor || this.wiki.getTiddlerText(this.titleAutoSave,\"yes\") !== \"yes\") {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Call the highest priority saver that supports this method\n\tfor(var t=this.savers.length-1; t&gt;=0; t--) {\n\t\tvar saver = this.savers[t];\n\t\tif(saver.info.capabilities.indexOf(method) !== -1 &amp;&amp; saver.save(text,method,callback)) {\n\t\t\tthis.logger.log(\"Saving wiki with method\",method,\"through saver\",saver.info.name);\n\t\t\t// Clear the task queue if we're saving (rather than downloading)\n\t\t\tif(method !== \"download\") {\n\t\t\t\tthis.readTiddlerInfo();\n\t\t\t\tthis.taskQueue = {};\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSyncer.prototype.isDirty = function() {\n\treturn (this.numTasksInQueue() &gt; 0) || (this.numTasksInProgress() &gt; 0);\n};\n\n/*\nSave an incoming tiddler in the store, and updates the associated tiddlerInfo\n*/\nSyncer.prototype.storeTiddler = function(tiddlerFields) {\n\t// Save the tiddler\n\tvar tiddler = new $tw.Tiddler(this.wiki.getTiddler(tiddlerFields.title),tiddlerFields);\n\tthis.wiki.addTiddler(tiddler);\n\t// Save the tiddler revision and changeCount details\n\tthis.tiddlerInfo[tiddlerFields.title] = {\n\t\trevision: tiddlerFields.revision,\n\t\tadaptorInfo: this.syncadaptor.getTiddlerInfo(tiddler),\n\t\tchangeCount: this.wiki.getChangeCount(tiddlerFields.title)\n\t};\n};\n\nSyncer.prototype.getStatus = function(callback) {\n\tvar self = this;\n\t// Check if the adaptor supports getStatus()\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getStatus) {\n\t\t// Mark us as not logged in\n\t\tthis.wiki.addTiddler({title: this.titleIsLoggedIn,text: \"no\"});\n\t\t// Get login status\n\t\tthis.syncadaptor.getStatus(function(err,isLoggedIn,username) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Set the various status tiddlers\n\t\t\tself.wiki.addTiddler({title: self.titleIsLoggedIn,text: isLoggedIn ? \"yes\" : \"no\"});\n\t\t\tif(isLoggedIn) {\n\t\t\t\tself.wiki.addTiddler({title: self.titleUserName,text: username || \"\"});\n\t\t\t} else {\n\t\t\t\tself.wiki.deleteTiddler(self.titleUserName);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tif(callback) {\n\t\t\t\tcallback(err,isLoggedIn,username);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tcallback(null,true,\"UNAUTHENTICATED\");\n\t}\n};\n\n/*\nSynchronise from the server by reading the skinny tiddler list and queuing up loads for any tiddlers that we don't already have up to date\n*/\nSyncer.prototype.syncFromServer = function() {\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getSkinnyTiddlers) {\n\t\tthis.logger.log(\"Retrieving skinny tiddler list\");\n\t\tvar self = this;\n\t\tif(this.pollTimerId) {\n\t\t\tclearTimeout(this.pollTimerId);\n\t\t\tthis.pollTimerId = null;\n\t\t}\n\t\tthis.syncadaptor.getSkinnyTiddlers(function(err,tiddlers) {\n\t\t\t// Trigger another sync\n\t\t\tself.pollTimerId = setTimeout(function() {\n\t\t\t\tself.pollTimerId = null;\n\t\t\t\tself.syncFromServer.call(self);\n\t\t\t},self.pollTimerInterval);\n\t\t\t// Check for errors\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(\"Error retrieving skinny tiddler list:\",err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Process each incoming tiddler\n\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t// Get the incoming tiddler fields, and the existing tiddler\n\t\t\t\tvar tiddlerFields = tiddlers[t],\n\t\t\t\t\tincomingRevision = tiddlerFields.revision + \"\",\n\t\t\t\t\ttiddler = self.wiki.getTiddler(tiddlerFields.title),\n\t\t\t\t\ttiddlerInfo = self.tiddlerInfo[tiddlerFields.title],\n\t\t\t\t\tcurrRevision = tiddlerInfo ? tiddlerInfo.revision : null;\n\t\t\t\t// Ignore the incoming tiddler if it's the same as the revision we've already got\n\t\t\t\tif(currRevision !== incomingRevision) {\n\t\t\t\t\t// Do a full load if we've already got a fat version of the tiddler\n\t\t\t\t\tif(tiddler &amp;&amp; tiddler.fields.text !== undefined) {\n\t\t\t\t\t\t// Do a full load of this tiddler\n\t\t\t\t\t\tself.enqueueSyncTask({\n\t\t\t\t\t\t\ttype: \"load\",\n\t\t\t\t\t\t\ttitle: tiddlerFields.title\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Load the skinny version of the tiddler\n\t\t\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nSynchronise a set of changes to the server\n*/\nSyncer.prototype.syncToServer = function(changes) {\n\tvar self = this,\n\t\tnow = Date.now(),\n\t\tfilteredChanges = this.filterFn.call(this.wiki,function(callback) {\n\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\tcallback(tiddler,title);\n\t\t\t});\n\t\t});\n\t$tw.utils.each(changes,function(change,title,object) {\n\t\t// Process the change if it is a deletion of a tiddler we're already syncing, or is on the filtered change list\n\t\tif((change.deleted &amp;&amp; $tw.utils.hop(self.tiddlerInfo,title)) || filteredChanges.indexOf(title) !== -1) {\n\t\t\t// Queue a task to sync this tiddler\n\t\t\tself.enqueueSyncTask({\n\t\t\t\ttype: change.deleted ? \"delete\" : \"save\",\n\t\t\t\ttitle: title\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nLazily load a skinny tiddler if we can\n*/\nSyncer.prototype.handleLazyLoadEvent = function(title) {\n\t// Queue up a sync task to load this tiddler\n\tthis.enqueueSyncTask({\n\t\ttype: \"load\",\n\t\ttitle: title\n\t});\n};\n\n/*\nDispay a password prompt and allow the user to login\n*/\nSyncer.prototype.handleLoginEvent = function() {\n\tvar self = this;\n\tthis.getStatus(function(err,isLoggedIn,username) {\n\t\tif(!isLoggedIn) {\n\t\t\t$tw.passwordPrompt.createPrompt({\n\t\t\t\tserviceName: \"Login to TiddlySpace\",\n\t\t\t\tcallback: function(data) {\n\t\t\t\t\tself.login(data.username,data.password,function(err,isLoggedIn) {\n\t\t\t\t\t\tself.syncFromServer();\n\t\t\t\t\t});\n\t\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nAttempt to login to TiddlyWeb.\n\tusername: username\n\tpassword: password\n\tcallback: invoked with arguments (err,isLoggedIn)\n*/\nSyncer.prototype.login = function(username,password,callback) {\n\tthis.logger.log(\"Attempting to login as\",username);\n\tvar self = this;\n\tif(this.syncadaptor.login) {\n\t\tthis.syncadaptor.login(username,password,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tself.getStatus(function(err,isLoggedIn,username) {\n\t\t\t\tif(callback) {\n\t\t\t\t\tcallback(null,isLoggedIn);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} else {\n\t\tcallback(null,true);\n\t}\n};\n\n/*\nAttempt to log out of TiddlyWeb\n*/\nSyncer.prototype.handleLogoutEvent = function() {\n\tthis.logger.log(\"Attempting to logout\");\n\tvar self = this;\n\tif(this.syncadaptor.logout) {\n\t\tthis.syncadaptor.logout(function(err) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t} else {\n\t\t\t\tself.getStatus();\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nImmediately refresh from the server\n*/\nSyncer.prototype.handleRefreshEvent = function() {\n\tthis.syncFromServer();\n};\n\n/*\nQueue up a sync task. If there is already a pending task for the tiddler, just update the last modification time\n*/\nSyncer.prototype.enqueueSyncTask = function(task) {\n\tvar self = this,\n\t\tnow = Date.now();\n\t// Set the timestamps on this task\n\ttask.queueTime = now;\n\ttask.lastModificationTime = now;\n\t// Fill in some tiddlerInfo if the tiddler is one we haven't seen before\n\tif(!$tw.utils.hop(this.tiddlerInfo,task.title)) {\n\t\tthis.tiddlerInfo[task.title] = {\n\t\t\trevision: null,\n\t\t\tadaptorInfo: {},\n\t\t\tchangeCount: -1\n\t\t}\n\t}\n\t// Bail if this is a save and the tiddler is already at the changeCount that the server has\n\tif(task.type === \"save\" &amp;&amp; this.wiki.getChangeCount(task.title) &lt;= this.tiddlerInfo[task.title].changeCount) {\n\t\treturn;\n\t}\n\t// Check if this tiddler is already in the queue\n\tif($tw.utils.hop(this.taskQueue,task.title)) {\n\t\t// this.logger.log(\"Re-queueing up sync task with type:\",task.type,\"title:\",task.title);\n\t\tvar existingTask = this.taskQueue[task.title];\n\t\t// If so, just update the last modification time\n\t\texistingTask.lastModificationTime = task.lastModificationTime;\n\t\t// If the new task is a save then we upgrade the existing task to a save. Thus a pending load is turned into a save if the tiddler changes locally in the meantime. But a pending save is not modified to become a load\n\t\tif(task.type === \"save\" || task.type === \"delete\") {\n\t\t\texistingTask.type = task.type;\n\t\t}\n\t} else {\n\t\t// this.logger.log(\"Queuing up sync task with type:\",task.type,\"title:\",task.title);\n\t\t// If it is not in the queue, insert it\n\t\tthis.taskQueue[task.title] = task;\n\t}\n\t// Process the queue\n\tif(this.syncadaptor) {\n\t\t$tw.utils.nextTick(function() {self.processTaskQueue.call(self);});\n\t}\n};\n\n/*\nReturn the number of tasks in progress\n*/\nSyncer.prototype.numTasksInProgress = function() {\n\treturn $tw.utils.count(this.taskInProgress);\n};\n\n/*\nReturn the number of tasks in the queue\n*/\nSyncer.prototype.numTasksInQueue = function() {\n\treturn $tw.utils.count(this.taskQueue);\n};\n\n/*\nTrigger a timeout if one isn't already outstanding\n*/\nSyncer.prototype.triggerTimeout = function() {\n\tvar self = this;\n\tif(!this.taskTimerId) {\n\t\tthis.taskTimerId = setTimeout(function() {\n\t\t\tself.taskTimerId = null;\n\t\t\tself.processTaskQueue.call(self);\n\t\t},self.taskTimerInterval);\n\t}\n};\n\n/*\nProcess the task queue, performing the next task if appropriate\n*/\nSyncer.prototype.processTaskQueue = function() {\n\tvar self = this;\n\t// Only process a task if we're not already performing a task. If we are already performing a task then we'll dispatch the next one when it completes\n\tif(this.numTasksInProgress() === 0) {\n\t\t// Choose the next task to perform\n\t\tvar task = this.chooseNextTask();\n\t\t// Perform the task if we had one\n\t\tif(task) {\n\t\t\t// Remove the task from the queue and add it to the in progress list\n\t\t\tdelete this.taskQueue[task.title];\n\t\t\tthis.taskInProgress[task.title] = task;\n\t\t\t// Dispatch the task\n\t\t\tthis.dispatchTask(task,function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tself.logger.alert(\"Sync error while processing '\" + task.title + \"':\\n\" + err);\n\t\t\t\t}\n\t\t\t\t// Mark that this task is no longer in progress\n\t\t\t\tdelete self.taskInProgress[task.title];\n\t\t\t\t// Process the next task\n\t\t\t\tself.processTaskQueue.call(self);\n\t\t\t});\n\t\t} else {\n\t\t\t// Make sure we've set a time if there wasn't a task to perform, but we've still got tasks in the queue\n\t\t\tif(this.numTasksInQueue() &gt; 0) {\n\t\t\t\tthis.triggerTimeout();\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nChoose the next applicable task\n*/\nSyncer.prototype.chooseNextTask = function() {\n\tvar self = this,\n\t\tcandidateTask = null,\n\t\tnow = Date.now();\n\t// Select the best candidate task\n\t$tw.utils.each(this.taskQueue,function(task,title) {\n\t\t// Exclude the task if there's one of the same name in progress\n\t\tif($tw.utils.hop(self.taskInProgress,title)) {\n\t\t\treturn;\n\t\t}\n\t\t// Exclude the task if it is a save and the tiddler has been modified recently, but not hit the fallback time\n\t\tif(task.type === \"save\" &amp;&amp; (now - task.lastModificationTime) &lt; self.throttleInterval &amp;&amp;\n\t\t\t(now - task.queueTime) &lt; self.fallbackInterval) {\n\t\t\treturn;\t\n\t\t}\n\t\t// Exclude the task if it is newer than the current best candidate\n\t\tif(candidateTask &amp;&amp; candidateTask.queueTime &lt; task.queueTime) {\n\t\t\treturn;\n\t\t}\n\t\t// Now this is our best candidate\n\t\tcandidateTask = task;\n\t});\n\treturn candidateTask;\n};\n\n/*\nDispatch a task and invoke the callback\n*/\nSyncer.prototype.dispatchTask = function(task,callback) {\n\tvar self = this;\n\tif(task.type === \"save\") {\n\t\tvar changeCount = this.wiki.getChangeCount(task.title),\n\t\t\ttiddler = this.wiki.getTiddler(task.title);\n\t\tthis.logger.log(\"Dispatching 'save' task:\",task.title);\n\t\tif(tiddler) {\n\t\t\tthis.syncadaptor.saveTiddler(tiddler,function(err,adaptorInfo,revision) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\t// Adjust the info stored about this tiddler\n\t\t\t\tself.tiddlerInfo[task.title] = {\n\t\t\t\t\tchangeCount: changeCount,\n\t\t\t\t\tadaptorInfo: adaptorInfo,\n\t\t\t\t\trevision: revision\n\t\t\t\t};\n\t\t\t\t// Invoke the callback\n\t\t\t\tcallback(null);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.logger.log(\" Not Dispatching 'save' task:\",task.title,\"tiddler does not exist\");\n\t\t\treturn callback(null);\n\t\t}\n\t} else if(task.type === \"load\") {\n\t\t// Load the tiddler\n\t\tthis.logger.log(\"Dispatching 'load' task:\",task.title);\n\t\tthis.syncadaptor.loadTiddler(task.title,function(err,tiddlerFields) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\t// Store the tiddler\n\t\t\tif(tiddlerFields) {\n\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t});\n\t} else if(task.type === \"delete\") {\n\t\t// Delete the tiddler\n\t\tthis.logger.log(\"Dispatching 'delete' task:\",task.title);\n\t\tthis.syncadaptor.deleteTiddler(task.title,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t});\n\t}\n};\n\nexports.Syncer = Syncer;\n\n})();\n",
            "title": "$:/core/modules/syncer.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/tiddler.js": {
            "text": "/*\\\ntitle: $:/core/modules/tiddler.js\ntype: application/javascript\nmodule-type: tiddlermethod\n\nExtension methods for the $tw.Tiddler object (constructor and methods required at boot time are in boot/boot.js)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.hasTag = function(tag) {\n\treturn this.fields.tags &amp;&amp; this.fields.tags.indexOf(tag) !== -1;\n};\n\nexports.isPlugin = function() {\n\treturn this.fields.type === \"application/json\" &amp;&amp; this.hasField(\"plugin-type\");\n};\n\nexports.isDraft = function() {\n\treturn this.hasField(\"draft.of\");\n};\n\nexports.getFieldString = function(field) {\n\tvar value = this.fields[field];\n\t// Check for a missing field\n\tif(value === undefined || value === null) {\n\t\treturn \"\";\n\t}\n\t// Parse the field with the associated module (if any)\n\tvar fieldModule = $tw.Tiddler.fieldModules[field];\n\tif(fieldModule &amp;&amp; fieldModule.stringify) {\n\t\treturn fieldModule.stringify.call(this,value);\n\t} else {\n\t\treturn value.toString();\n\t}\n};\n\n/*\nGet all the fields as a name:value block. Options:\n\texclude: an array of field names to exclude\n*/\nexports.getFieldStringBlock = function(options) {\n\toptions = options || {};\n\tvar exclude = options.exclude || [];\n\tvar fields = [];\n\tfor(var field in this.fields) {\n\t\tif($tw.utils.hop(this.fields,field)) {\n\t\t\tif(exclude.indexOf(field) === -1) {\n\t\t\t\tfields.push(field + \": \" + this.getFieldString(field));\n\t\t\t}\n\t\t}\n\t}\n\treturn fields.join(\"\\n\");\n};\n\n/*\nCompare two tiddlers for equality\ntiddler: the tiddler to compare\nexcludeFields: array of field names to exclude from the comparison\n*/\nexports.isEqual = function(tiddler,excludeFields) {\n\texcludeFields = excludeFields || [];\n\tvar self = this,\n\t\tdifferences = []; // Fields that have differences\n\t// Add to the differences array\n\tfunction addDifference(fieldName) {\n\t\t// Check for this field being excluded\n\t\tif(excludeFields.indexOf(fieldName) === -1) {\n\t\t\t// Save the field as a difference\n\t\t\t$tw.utils.pushTop(differences,fieldName);\n\t\t}\n\t}\n\t// Returns true if the two values of this field are equal\n\tfunction isFieldValueEqual(fieldName) {\n\t\tvar valueA = self.fields[fieldName],\n\t\t\tvalueB = tiddler.fields[fieldName];\n\t\t// Check for identical string values\n\t\tif(typeof(valueA) === \"string\" &amp;&amp; typeof(valueB) === \"string\" &amp;&amp; valueA === valueB) {\n\t\t\treturn true;\n\t\t}\n\t\t// Check for identical array values\n\t\tif($tw.utils.isArray(valueA) &amp;&amp; $tw.utils.isArray(valueB) &amp;&amp; $tw.utils.isArrayEqual(valueA,valueB)) {\n\t\t\treturn true;\n\t\t}\n\t\t// Otherwise the fields must be different\n\t\treturn false;\n\t}\n\t// Compare our fields\n\tfor(var fieldName in this.fields) {\n\t\tif(!isFieldValueEqual(fieldName)) {\n\t\t\taddDifference(fieldName);\n\t\t}\n\t}\n\t// There's a difference for every field in the other tiddler that we don't have\n\tfor(fieldName in tiddler.fields) {\n\t\tif(!(fieldName in this.fields)) {\n\t\t\taddDifference(fieldName);\n\t\t}\n\t}\n\t// Return whether there were any differences\n\treturn differences.length === 0;\n};\n\n})();\n",
            "title": "$:/core/modules/tiddler.js",
            "type": "application/javascript",
            "module-type": "tiddlermethod"
        },
        "$:/core/modules/utils/crypto.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/crypto.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions related to crypto.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nLook for an encrypted store area in the text of a TiddlyWiki file\n*/\nexports.extractEncryptedStoreArea = function(text) {\n\tvar encryptedStoreAreaStartMarker = \"&lt;pre id=\\\"encryptedStoreArea\\\" type=\\\"text/plain\\\" style=\\\"display:none;\\\"&gt;\",\n\t\tencryptedStoreAreaStart = text.indexOf(encryptedStoreAreaStartMarker);\n\tif(encryptedStoreAreaStart !== -1) {\n\t\tvar encryptedStoreAreaEnd = text.indexOf(\"&lt;/pre&gt;\",encryptedStoreAreaStart);\n\t\tif(encryptedStoreAreaEnd !== -1) {\n\t\t\treturn $tw.utils.htmlDecode(text.substring(encryptedStoreAreaStart + encryptedStoreAreaStartMarker.length,encryptedStoreAreaEnd-1));\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If the password is not provided then the password in the password store will be used\n*/\nexports.decryptStoreArea = function(encryptedStoreArea,password) {\n\tvar decryptedText = $tw.crypto.decrypt(encryptedStoreArea,password);\n\tif(decryptedText) {\n\t\tvar json = JSON.parse(decryptedText),\n\t\t\ttiddlers = [];\n\t\tfor(var title in json) {\n\t\t\tif(title !== \"$:/isEncrypted\") {\n\t\t\t\ttiddlers.push(json[title]);\n\t\t\t}\n\t\t}\n\t\treturn tiddlers;\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexports.decryptStoreAreaInteractive = function(encryptedStoreArea,callback) {\n\t// Try to decrypt with the current password\n\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea);\n\tif(tiddlers) {\n\t\tcallback(tiddlers);\n\t} else {\n\t\t// Prompt for a new password and keep trying\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: \"Enter a password to decrypt the imported TiddlyWiki\",\n\t\t\tnoUserName: true,\n\t\t\tcanCancel: true,\n\t\t\tsubmitText: \"Decrypt\",\n\t\t\tcallback: function(data) {\n\t\t\t\t// Exit if the user cancelled\n\t\t\t\tif(!data) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Attempt to decrypt the tiddlers\n\t\t\t\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea,data.password);\n\t\t\t\tif(tiddlers) {\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t\t// Exit and remove the password prompt\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t// We didn't decrypt everything, so continue to prompt for password\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n})();\n",
            "title": "$:/core/modules/utils/crypto.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/animations/slide.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/animations/slide.js\ntype: application/javascript\nmodule-type: animation\n\nA simple slide animation that varies the height of the element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction slideOpen(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration();\n\t// Get the current height of the domNode\n\tvar computedStyle = window.getComputedStyle(domNode),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrPaddingBottom = parseInt(computedStyle.paddingBottom,10),\n\t\tcurrPaddingTop = parseInt(computedStyle.paddingTop,10),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \"none\"},\n\t\t\t{marginBottom: \"\"},\n\t\t\t{marginTop: \"\"},\n\t\t\t{paddingBottom: \"\"},\n\t\t\t{paddingTop: \"\"},\n\t\t\t{height: \"auto\"},\n\t\t\t{opacity: \"\"}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \"none\"},\n\t\t{marginTop: \"0px\"},\n\t\t{marginBottom: \"0px\"},\n\t\t{paddingTop: \"0px\"},\n\t\t{paddingBottom: \"0px\"},\n\t\t{height: \"0px\"},\n\t\t{opacity: \"0\"}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \"margin-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"margin-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"height \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{marginBottom: currMarginBottom + \"px\"},\n\t\t{marginTop: currMarginTop + \"px\"},\n\t\t{paddingBottom: currPaddingBottom + \"px\"},\n\t\t{paddingTop: currPaddingTop + \"px\"},\n\t\t{height: currHeight + \"px\"},\n\t\t{opacity: \"1\"}\n\t]);\n}\n\nfunction slideClosed(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration(),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Clear the properties we've set when the animation is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \"none\"},\n\t\t\t{marginBottom: \"\"},\n\t\t\t{marginTop: \"\"},\n\t\t\t{paddingBottom: \"\"},\n\t\t\t{paddingTop: \"\"},\n\t\t\t{height: \"auto\"},\n\t\t\t{opacity: \"\"}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{height: currHeight + \"px\"},\n\t\t{opacity: \"1\"}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \"margin-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"margin-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-top \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"padding-bottom \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"height \" + duration + \"ms ease-in-out, \" +\n\t\t\t\t\t\"opacity \" + duration + \"ms ease-in-out\"},\n\t\t{marginTop: \"0px\"},\n\t\t{marginBottom: \"0px\"},\n\t\t{paddingTop: \"0px\"},\n\t\t{paddingBottom: \"0px\"},\n\t\t{height: \"0px\"},\n\t\t{opacity: \"0\"}\n\t]);\n}\n\nexports.slide = {\n\topen: slideOpen,\n\tclose: slideClosed\n};\n\n})();\n",
            "title": "$:/core/modules/utils/dom/animations/slide.js",
            "type": "application/javascript",
            "module-type": "animation"
        },
        "$:/core/modules/utils/dom/animator.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/animator.js\ntype: application/javascript\nmodule-type: utils\n\nOrchestrates animations and transitions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction Animator() {\n\t// Get the registered animation modules\n\tthis.animations = {};\n\t$tw.modules.applyMethods(\"animation\",this.animations);\n}\n\nAnimator.prototype.perform = function(type,domNode,options) {\n\toptions = options || {};\n\t// Find an animation that can handle this type\n\tvar chosenAnimation;\n\t$tw.utils.each(this.animations,function(animation,name) {\n\t\tif($tw.utils.hop(animation,type)) {\n\t\t\tchosenAnimation = animation[type];\n\t\t}\n\t});\n\tif(!chosenAnimation) {\n\t\tchosenAnimation = function(domNode,options) {\n\t\t\tif(options.callback) {\n\t\t\t\toptions.callback();\n\t\t\t}\n\t\t};\n\t}\n\t// Call the animation\n\tchosenAnimation(domNode,options);\n};\n\nexports.Animator = Animator;\n\n})();\n",
            "title": "$:/core/modules/utils/dom/animator.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/browser.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/browser.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser feature detection\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nSet style properties of an element\n\telement: dom node\n\tstyles: ordered array of {name: value} pairs\n*/\nexports.setStyle = function(element,styles) {\n\tif(element.nodeType === 1) { // Element.ELEMENT_NODE\n\t\tfor(var t=0; t&lt;styles.length; t++) {\n\t\t\tfor(var styleName in styles[t]) {\n\t\t\t\telement.style[$tw.utils.convertStyleNameToPropertyName(styleName)] = styles[t][styleName];\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nConverts a standard CSS property name into the local browser-specific equivalent. For example:\n\t\"background-color\" --&gt; \"backgroundColor\"\n\t\"transition\" --&gt; \"webkitTransition\"\n*/\n\nvar styleNameCache = {}; // We'll cache the style name conversions\n\nexports.convertStyleNameToPropertyName = function(styleName) {\n\t// Return from the cache if we can\n\tif(styleNameCache[styleName]) {\n\t\treturn styleNameCache[styleName];\n\t}\n\t// Convert it by first removing any hyphens\n\tvar propertyName = $tw.utils.unHyphenateCss(styleName);\n\t// Then check if it needs a prefix\n\tif(document.body.style[propertyName] === undefined) {\n\t\tvar prefixes = [\"O\",\"MS\",\"Moz\",\"webkit\"];\n\t\tfor(var t=0; t&lt;prefixes.length; t++) {\n\t\t\tvar prefixedName = prefixes[t] + propertyName.substr(0,1).toUpperCase() + propertyName.substr(1);\n\t\t\tif(document.body.style[prefixedName] !== undefined) {\n\t\t\t\tpropertyName = prefixedName;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t// Put it in the cache too\n\tstyleNameCache[styleName] = propertyName;\n\treturn propertyName;\n};\n\n/*\nConverts a JS format CSS property name back into the dashed form used in CSS declarations. For example:\n\t\"backgroundColor\" --&gt; \"background-color\"\n\t\"webkitTransform\" --&gt; \"-webkit-transform\"\n*/\nexports.convertPropertyNameToStyleName = function(propertyName) {\n\t// Rehyphenate the name\n\tvar styleName = $tw.utils.hyphenateCss(propertyName);\n\t// If there's a webkit prefix, add a dash (other browsers have uppercase prefixes, and so get the dash automatically)\n\tif(styleName.indexOf(\"webkit\") === 0) {\n\t\tstyleName = \"-\" + styleName;\n\t} else if(styleName.indexOf(\"-m-s\") === 0) {\n\t\tstyleName = \"-ms\" + styleName.substr(4);\n\t}\n\treturn styleName;\n};\n\n/*\nRound trip a stylename to a property name and back again. For example:\n\t\"transform\" --&gt; \"webkitTransform\" --&gt; \"-webkit-transform\"\n*/\nexports.roundTripPropertyName = function(propertyName) {\n\treturn $tw.utils.convertPropertyNameToStyleName($tw.utils.convertStyleNameToPropertyName(propertyName));\n};\n\n/*\nConverts a standard event name into the local browser specific equivalent. For example:\n\t\"animationEnd\" --&gt; \"webkitAnimationEnd\"\n*/\n\nvar eventNameCache = {}; // We'll cache the conversions\n\nvar eventNameMappings = {\n\t\"transitionEnd\": {\n\t\tcorrespondingCssProperty: \"transition\",\n\t\tmappings: {\n\t\t\ttransition: \"transitionend\",\n\t\t\tOTransition: \"oTransitionEnd\",\n\t\t\tMSTransition: \"msTransitionEnd\",\n\t\t\tMozTransition: \"transitionend\",\n\t\t\twebkitTransition: \"webkitTransitionEnd\"\n\t\t}\n\t},\n\t\"animationEnd\": {\n\t\tcorrespondingCssProperty: \"animation\",\n\t\tmappings: {\n\t\t\tanimation: \"animationend\",\n\t\t\tOAnimation: \"oAnimationEnd\",\n\t\t\tMSAnimation: \"msAnimationEnd\",\n\t\t\tMozAnimation: \"animationend\",\n\t\t\twebkitAnimation: \"webkitAnimationEnd\"\n\t\t}\n\t}\n};\n\nexports.convertEventName = function(eventName) {\n\tif(eventNameCache[eventName]) {\n\t\treturn eventNameCache[eventName];\n\t}\n\tvar newEventName = eventName,\n\t\tmappings = eventNameMappings[eventName];\n\tif(mappings) {\n\t\tvar convertedProperty = $tw.utils.convertStyleNameToPropertyName(mappings.correspondingCssProperty);\n\t\tif(mappings.mappings[convertedProperty]) {\n\t\t\tnewEventName = mappings.mappings[convertedProperty];\n\t\t}\n\t}\n\t// Put it in the cache too\n\teventNameCache[eventName] = newEventName;\n\treturn newEventName;\n};\n\n})();\n",
            "title": "$:/core/modules/utils/dom/browser.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static DOM-related utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nDetermines whether element 'a' contains element 'b'\nCode thanks to John Resig, http://ejohn.org/blog/comparing-document-position/\n*/\nexports.domContains = function(a,b) {\n\treturn a.contains ?\n\t\ta !== b &amp;&amp; a.contains(b) :\n\t\t!!(a.compareDocumentPosition(b) &amp; 16);\n};\n\nexports.removeChildren = function(node) {\n\twhile(node.hasChildNodes()) {\n\t\tnode.removeChild(node.firstChild);\n\t}\n};\n\nexports.hasClass = function(el,className) {\n\treturn el &amp;&amp; el.className &amp;&amp; el.className.split(\" \").indexOf(className) !== -1;\n};\n\nexports.addClass = function(el,className) {\n\tvar c = el.className.split(\" \");\n\tif(c.indexOf(className) === -1) {\n\t\tc.push(className);\n\t}\n\tel.className = c.join(\" \");\n};\n\nexports.removeClass = function(el,className) {\n\tvar c = el.className.split(\" \"),\n\t\tp = c.indexOf(className);\n\tif(p !== -1) {\n\t\tc.splice(p,1);\n\t\tel.className = c.join(\" \");\n\t}\n};\n\nexports.toggleClass = function(el,className,status) {\n\tif(status === undefined) {\n\t\tstatus = !exports.hasClass(el,className);\n\t}\n\tif(status) {\n\t\texports.addClass(el,className);\n\t} else {\n\t\texports.removeClass(el,className);\n\t}\n};\n\n/*\nGet the scroll position of the viewport\nReturns:\n\t{\n\t\tx: horizontal scroll position in pixels,\n\t\ty: vertical scroll position in pixels\n\t}\n*/\nexports.getScrollPosition = function() {\n\tif(\"scrollX\" in window) {\n\t\treturn {x: window.scrollX, y: window.scrollY};\n\t} else {\n\t\treturn {x: document.documentElement.scrollLeft, y: document.documentElement.scrollTop};\n\t}\n};\n\n/*\nGets the bounding rectangle of an element in absolute page coordinates\n*/\nexports.getBoundingPageRect = function(element) {\n\tvar scrollPos = $tw.utils.getScrollPosition(),\n\t\tclientRect = element.getBoundingClientRect();\n\treturn {\n\t\tleft: clientRect.left + scrollPos.x,\n\t\twidth: clientRect.width,\n\t\tright: clientRect.right + scrollPos.x,\n\t\ttop: clientRect.top + scrollPos.y,\n\t\theight: clientRect.height,\n\t\tbottom: clientRect.bottom + scrollPos.y\n\t};\n};\n\n/*\nSaves a named password in the browser\n*/\nexports.savePassword = function(name,password) {\n\tif(window.localStorage) {\n\t\tlocalStorage.setItem(\"tw5-password-\" + name,password);\n\t}\n};\n\n/*\nRetrieve a named password from the browser\n*/\nexports.getPassword = function(name) {\n\treturn window.localStorage ? localStorage.getItem(\"tw5-password-\" + name) : \"\";\n};\n\n/*\nForce layout of a dom node and its descendents\n*/\nexports.forceLayout = function(element) {\n\tvar dummy = element.offsetWidth;\n};\n\n/*\nPulse an element for debugging purposes\n*/\nexports.pulseElement = function(element) {\n\t// Event handler to remove the class at the end\n\telement.addEventListener($tw.browser.animationEnd,function handler(event) {\n\t\telement.removeEventListener($tw.browser.animationEnd,handler,false);\n\t\t$tw.utils.removeClass(element,\"pulse\");\n\t},false);\n\t// Apply the pulse class\n\t$tw.utils.removeClass(element,\"pulse\");\n\t$tw.utils.forceLayout(element);\n\t$tw.utils.addClass(element,\"pulse\");\n};\n\n/*\nAttach specified event handlers to a DOM node\ndomNode: where to attach the event handlers\nevents: array of event handlers to be added (see below)\nEach entry in the events array is an object with these properties:\nhandlerFunction: optional event handler function\nhandlerObject: optional event handler object\nhandlerMethod: optionally specifies object handler method name (defaults to `handleEvent`)\n*/\nexports.addEventListeners = function(domNode,events) {\n\t$tw.utils.each(events,function(eventInfo) {\n\t\tvar handler;\n\t\tif(eventInfo.handlerFunction) {\n\t\t\thandler = eventInfo.handlerFunction;\n\t\t} else if(eventInfo.handlerObject) {\n\t\t\tif(eventInfo.handlerMethod) {\n\t\t\t\thandler = function(event) {\n\t\t\t\t\teventInfo.handlerObject[eventInfo.handlerMethod].call(eventInfo.handlerObject,event);\n\t\t\t\t};\t\n\t\t\t} else {\n\t\t\t\thandler = eventInfo.handlerObject;\n\t\t\t}\n\t\t}\n\t\tdomNode.addEventListener(eventInfo.name,handler,false);\n\t});\n};\n\n\n})();\n",
            "title": "$:/core/modules/utils/dom.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/http.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/http.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser HTTP support\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nA quick and dirty HTTP function; to be refactored later. Options are:\n\turl: URL to retrieve\n\ttype: GET, PUT, POST etc\n\tcallback: function invoked with (err,data)\n*/\nexports.httpRequest = function(options) {\n\tvar type = options.type || \"GET\",\n\t\theaders = options.headers || {accept: \"application/json\"},\n\t\trequest = new XMLHttpRequest(),\n\t\tdata = \"\",\n\t\tf,results;\n\t// Massage the data hashmap into a string\n\tif(options.data) {\n\t\tif(typeof options.data === \"string\") { // Already a string\n\t\t\tdata = options.data;\n\t\t} else { // A hashmap of strings\n\t\t\tresults = [];\n\t\t\t$tw.utils.each(options.data,function(dataItem,dataItemTitle) {\n\t\t\t\tresults.push(dataItemTitle + \"=\" + encodeURIComponent(dataItem));\n\t\t\t});\n\t\t\tdata = results.join(\"&amp;\");\n\t\t}\n\t}\n\t// Set up the state change handler\n\trequest.onreadystatechange = function() {\n\t\tif(this.readyState === 4) {\n\t\t\tif(this.status === 200 || this.status === 204) {\n\t\t\t\t// Success!\n\t\t\t\toptions.callback(null,this.responseText,this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t// Something went wrong\n\t\toptions.callback(\"XMLHttpRequest error code: \" + this.status);\n\t\t}\n\t};\n\t// Make the request\n\trequest.open(type,options.url,true);\n\tif(headers) {\n\t\t$tw.utils.each(headers,function(header,headerTitle,object) {\n\t\t\trequest.setRequestHeader(headerTitle,header);\n\t\t});\n\t}\n\tif(data &amp;&amp; !$tw.utils.hop(headers,\"Content-type\")) {\n\t\trequest.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded; charset=UTF-8\");\n\t}\n\trequest.send(data);\n\treturn request;\n};\n\n})();\n",
            "title": "$:/core/modules/utils/dom/http.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/keyboard.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/keyboard.js\ntype: application/javascript\nmodule-type: utils\n\nKeyboard utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar namedKeys = {\n\t\"backspace\": 8,\n\t\"tab\": 9,\n\t\"enter\": 13,\n\t\"escape\": 27\n};\n\n/*\nParses a key descriptor into the structure:\n{\n\tkeyCode: numeric keycode\n\tshiftKey: boolean\n\taltKey: boolean\n\tctrlKey: boolean\n}\nKey descriptors have the following format:\n\tctrl+enter\n\tctrl+shift+alt+A\n*/\nexports.parseKeyDescriptor = function(keyDescriptor) {\n\tvar components = keyDescriptor.split(\"+\"),\n\t\tinfo = {\n\t\t\tkeyCode: 0,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tctrlKey: false\n\t\t};\n\tfor(var t=0; t&lt;components.length; t++) {\n\t\tvar s = components[t].toLowerCase();\n\t\t// Look for modifier keys\n\t\tif(s === \"ctrl\") {\n\t\t\tinfo.ctrlKey = true;\n\t\t} else if(s === \"shift\") {\n\t\t\tinfo.shiftKey = true;\n\t\t} else if(s === \"alt\") {\n\t\t\tinfo.altKey = true;\n\t\t}\n\t\t// Replace named keys with their code\n\t\tif(namedKeys[s]) {\n\t\t\tinfo.keyCode = namedKeys[s];\n\t\t}\n\t}\n\treturn info;\n};\n\n})();\n",
            "title": "$:/core/modules/utils/dom/keyboard.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/modal.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/modal.js\ntype: application/javascript\nmodule-type: utils\n\nModal message mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nvar Modal = function(wiki) {\n\tthis.wiki = wiki;\n\tthis.modalCount = 0;\n};\n\n/*\nDisplay a modal dialogue\n\ttitle: Title of tiddler to display\n\toptions: see below\nOptions include:\n\tdownloadLink: Text of a big download link to include\n*/\nModal.prototype.display = function(title,options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\ttiddler = this.wiki.getTiddler(title);\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Create the wrapper divs\n\tvar wrapper = document.createElement(\"div\"),\n\t\tmodalBackdrop = document.createElement(\"div\"),\n\t\tmodalWrapper = document.createElement(\"div\"),\n\t\tmodalHeader = document.createElement(\"div\"),\n\t\theaderTitle = document.createElement(\"h3\"),\n\t\tmodalBody = document.createElement(\"div\"),\n\t\tmodalLink = document.createElement(\"a\"),\n\t\tmodalFooter = document.createElement(\"div\"),\n\t\tmodalFooterHelp = document.createElement(\"span\"),\n\t\tmodalFooterButtons = document.createElement(\"span\");\n\t// Up the modal count and adjust the body class\n\tthis.modalCount++;\n\tthis.adjustPageClass();\n\t// Add classes\n\t$tw.utils.addClass(wrapper,\"modal-wrapper\");\n\t$tw.utils.addClass(modalBackdrop,\"modal-backdrop\");\n\t$tw.utils.addClass(modalWrapper,\"modal\");\n\t$tw.utils.addClass(modalHeader,\"modal-header\");\n\t$tw.utils.addClass(modalBody,\"modal-body\");\n\t$tw.utils.addClass(modalLink,\"btn btn-large btn-block btn-success\");\n\t$tw.utils.addClass(modalFooter,\"modal-footer\");\n\t// Join them together\n\twrapper.appendChild(modalBackdrop);\n\twrapper.appendChild(modalWrapper);\n\tmodalHeader.appendChild(headerTitle);\n\tmodalWrapper.appendChild(modalHeader);\n\tmodalWrapper.appendChild(modalBody);\n\tmodalFooter.appendChild(modalFooterHelp);\n\tmodalFooter.appendChild(modalFooterButtons);\n\tmodalWrapper.appendChild(modalFooter);\n\t// Render the title of the message\n\tvar titleText;\n\tif(tiddler &amp;&amp; tiddler.fields &amp;&amp; tiddler.fields.subtitle) {\n\t\ttitleText = tiddler.fields.subtitle;\n\t} else {\n\t\ttitleText = title;\n\t}\n\tvar headerParser = this.wiki.parseText(\"text/vnd.tiddlywiki\",titleText,{parseAsInline: true}),\n\t\theaderWidgetNode = this.wiki.makeWidget(headerParser,{parentWidget: $tw.rootWidget, document: document});\n\theaderWidgetNode.render(headerTitle,null);\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\theaderWidgetNode.refresh(changes,modalHeader,null);\n\t});\n\t// Render the body of the message\n\tvar bodyWidgetNode = this.wiki.makeTranscludeWidget(title,{parentWidget: $tw.rootWidget, document: document});\n\tbodyWidgetNode.render(modalBody,null);\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\tbodyWidgetNode.refresh(changes,modalBody,null);\n\t});\n\t// Setup the link if present\n\tif(options.downloadLink) {\n\t\tmodalLink.href = options.downloadLink\n\t\tmodalLink.appendChild(document.createTextNode(\"Right-click to save changes\"));\n\t\tmodalBody.appendChild(modalLink);\n\t}\n\t// Render the footer of the message\n\tif(tiddler &amp;&amp; tiddler.fields &amp;&amp; tiddler.fields.help) {\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.setAttribute(\"href\",tiddler.fields.help);\n\t\tlink.setAttribute(\"target\",\"_blank\");\n\t\tlink.appendChild(document.createTextNode(\"Help\"));\n\t\tmodalFooterHelp.appendChild(link);\n\t\tmodalFooterHelp.style.float = \"left\";\n\t}\n\tvar footerText;\n\tif(tiddler &amp;&amp; tiddler.fields &amp;&amp; tiddler.fields.footer) {\n\t\tfooterText = tiddler.fields.footer;\n\t} else {\n\t\tfooterText = '&lt;$button message=\"tw-close-tiddler\" class=\"btn btn-primary\"&gt;Close&lt;/$button&gt;';\n\t}\n\tvar footerParser = this.wiki.parseText(\"text/vnd.tiddlywiki\",footerText,{parseAsInline: true}),\n\t\tfooterWidgetNode = this.wiki.makeWidget(footerParser,{parentWidget: $tw.rootWidget, document: document});\n\tfooterWidgetNode.render(modalFooterButtons,null);\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\tfooterWidgetNode.refresh(changes,modalFooterButtons,null);\n\t});\n\t// Add the close event handler\n\tvar closeHandler = function(event) {\n\t\t// Decrease the modal count and adjust the body class\n\t\tself.modalCount--;\n\t\tself.adjustPageClass();\n\t\t// Force layout and animate the modal message away\n\t\t$tw.utils.forceLayout(modalBackdrop);\n\t\t$tw.utils.forceLayout(modalWrapper);\n\t\t$tw.utils.setStyle(modalBackdrop,[\n\t\t\t{opacity: \"0\"}\n\t\t]);\n\t\t$tw.utils.setStyle(modalWrapper,[\n\t\t\t{transform: \"translateY(\" + window.innerHeight + \"px)\"}\n\t\t]);\n\t\t// Set up an event for the transition end\n\t\twindow.setTimeout(function() {\n\t\t\tif(wrapper.parentNode) {\n\t\t\t\t// Remove the modal message from the DOM\n\t\t\t\tdocument.body.removeChild(wrapper);\n\t\t\t}\n\t\t},duration);\n\t\t// Don't let anyone else handle the tw-close-tiddler message\n\t\treturn false;\n\t};\n\theaderWidgetNode.addEventListener(\"tw-close-tiddler\",closeHandler,false);\n\tbodyWidgetNode.addEventListener(\"tw-close-tiddler\",closeHandler,false);\n\tfooterWidgetNode.addEventListener(\"tw-close-tiddler\",closeHandler,false);\n\t// Set the initial styles for the message\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \"0\"}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transformOrigin: \"0% 0%\"},\n\t\t{transform: \"translateY(\" + (-window.innerHeight) + \"px)\"}\n\t]);\n\t// Put the message into the document\n\tdocument.body.appendChild(wrapper);\n\t// Set up animation for the styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{transition: \"opacity \" + duration + \"ms ease-out\"}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out\"}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(modalBackdrop);\n\t$tw.utils.forceLayout(modalWrapper);\n\t// Set final animated styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \"0.7\"}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transform: \"translateY(0px)\"}\n\t]);\n};\n\nModal.prototype.adjustPageClass = function() {\n\tif($tw.pageContainer) {\n\t\t$tw.utils.toggleClass($tw.pageContainer,\"tw-modal-displayed\",this.modalCount &gt; 0);\n\t}\n};\n\nexports.Modal = Modal;\n\n})();\n",
            "title": "$:/core/modules/utils/dom/modal.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/notifier.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/notifier.js\ntype: application/javascript\nmodule-type: utils\n\nNotifier mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nvar Notifier = function(wiki) {\n\tthis.wiki = wiki;\n};\n\n/*\nDisplay a notification\n\ttitle: Title of tiddler containing the notification text\n\toptions: see below\nOptions include:\n*/\nNotifier.prototype.display = function(title,options) {\n\toptions = options || {};\n\t// Create the wrapper divs\n\tvar notification = document.createElement(\"div\"),\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Add classes\n\t$tw.utils.addClass(notification,\"tw-notification\");\n\t// Render the body of the notification\n\tvar widgetNode = this.wiki.makeTranscludeWidget(title,{parentWidget: $tw.rootWidget, document: document});\n\twidgetNode.render(notification,null);\n\tthis.wiki.addEventListener(\"change\",function(changes) {\n\t\twidgetNode.refresh(changes,notification,null);\n\t});\n\t// Set the initial styles for the notification\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \"0\"},\n\t\t{transformOrigin: \"0% 0%\"},\n\t\t{transform: \"translateY(\" + (-window.innerHeight) + \"px)\"},\n\t\t{transition: \"opacity \" + duration + \"ms ease-out, \" + $tw.utils.roundTripPropertyName(\"transform\") + \" \" + duration + \"ms ease-in-out\"}\n\t]);\n\t// Add the notification to the DOM\n\tdocument.body.appendChild(notification);\n\t// Force layout\n\t$tw.utils.forceLayout(notification);\n\t// Set final animated styles\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \"1.0\"},\n\t\t{transform: \"translateY(0px)\"}\n\t]);\n\t// Set a timer to remove the notification\n\twindow.setTimeout(function() {\n\t\t// Force layout and animate the notification away\n\t\t$tw.utils.forceLayout(notification);\n\t\t$tw.utils.setStyle(notification,[\n\t\t\t{opacity: \"0.0\"},\n\t\t\t{transform: \"translateX(\" + (notification.offsetWidth) + \"px)\"}\n\t\t]);\n\t\t// Remove the modal message from the DOM once the transition ends\n\t\tsetTimeout(function() {\n\t\t\tif(notification.parentNode) {\n\t\t\t\tdocument.body.removeChild(notification);\n\t\t\t}\n\t\t},duration);\n\t},$tw.config.preferences.notificationDuration);\n};\n\nexports.Notifier = Notifier;\n\n})();\n",
            "title": "$:/core/modules/utils/dom/notifier.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/popup.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/popup.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Popup object prototype that manages popups in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nCreates a Popup object with these options:\n\trootElement: the DOM element to which the popup zapper should be attached\n*/\nvar Popup = function(options) {\n\toptions = options || {};\n\tthis.rootElement = options.rootElement || document.body;\n};\n\nPopup.prototype.show = function(options) {\n\tthis.cancel();\n\tthis.title = options.title;\n\tthis.wiki = options.wiki;\n\tthis.anchorDomNode = options.domNode;\n\t$tw.utils.addClass(this.anchorDomNode,\"tw-popup\");\n\tthis.rootElement.addEventListener(\"click\",this,false);\n};\n\nPopup.prototype.handleEvent = function(event) {\n\t// Dismiss the popup if we get a click on an element that doesn't have .tw-popup class\n\tif(event.type === \"click\") {\n\t\tvar node = event.target;\n\t\twhile(node &amp;&amp; !$tw.utils.hasClass(node,\"tw-popup\")) {\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\tif(!node) {\n\t\t\tthis.cancel();\n\t\t}\n\t}\n};\n\nPopup.prototype.cancel = function() {\n\tif(this.anchorDomNode) {\n\t\t$tw.utils.removeClass(this.anchorDomNode,\"tw-popup\");\n\t\tthis.anchorDomNode = null;\t\t\n\t}\n\tthis.rootElement.removeEventListener(\"click\",this,false);\n\tif(this.title) {\n\t\tthis.wiki.deleteTiddler(this.title);\n\t\tthis.title = null;\n\t}\n};\n\n/*\nTrigger a popup open or closed. Parameters are in a hashmap:\n\ttitle: title of the tiddler where the popup details are stored\n\tdomNode: dom node to which the popup will be positioned\n\twiki: wiki\n\tforce: if specified, forces the popup state to true or false\n*/\nPopup.prototype.triggerPopup = function(options) {\n\t// Get the current popup state tiddler\n\tvar value = options.wiki.getTextReference(options.title,\"\");\n\t// Check if the popup is open by checking whether it matches \"(&lt;x&gt;,&lt;y&gt;)\"\n\tvar state = !this.readPopupState(options.title,value);\n\tif(\"force\" in options) {\n\t\tstate = options.force;\n\t}\n\tif(state) {\n\t\t// Set the position if we're opening it\n\t\tthis.cancel();\n\t\toptions.wiki.setTextReference(options.title,\n\t\t\t\"(\" + options.domNode.offsetLeft + \",\" + options.domNode.offsetTop + \",\" + \n\t\t\t\toptions.domNode.offsetWidth + \",\" + options.domNode.offsetHeight + \")\");\n\t\tthis.show(options);\n\t} else {\n\t\tthis.cancel();\n\t}\n};\n\n/*\nReturns true if the specified title and text identifies an active popup\n*/\nPopup.prototype.readPopupState = function(title,text) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/,\n\t\tresult = false;\n\tif(this.title === title) {\n\t\tresult = popupLocationRegExp.test(text);\n\t}\n\treturn result;\n};\n\nexports.Popup = Popup;\n\n})();\n",
            "title": "$:/core/modules/utils/dom/popup.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/dom/scroller.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/dom/scroller.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Scroller object prototype that manages scrolling in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nEvent handler for when the `tw-scroll` event hits the document body\n*/\nvar PageScroller = function() {\n\tthis.idRequestFrame = null;\n\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\tfunction(callback) {\n\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t};\n\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame ||\n\t\twindow.mozCancelRequestAnimationFrame ||\n\t\tfunction(id) {\n\t\t\twindow.clearTimeout(id);\n\t\t};\n};\n\nPageScroller.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle an event\n*/\nPageScroller.prototype.handleEvent = function(event) {\n\tif(event.type === \"tw-scroll\") {\n\t\treturn this.scrollIntoView(event.target);\n\t}\n\treturn true;\n};\n\n/*\nHandle a scroll event hitting the page document\n*/\nPageScroller.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\t// Now get ready to scroll the body\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = $tw.utils.getScrollPosition();\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar clientBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientBounds.left + scrollPosition.x,\n\t\t\ttop: clientBounds.top + scrollPosition.y,\n\t\t\twidth: clientBounds.width,\n\t\t\theight: clientBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\t// If the target is above/left of the current view, then scroll to it's top/left\n\t\t\tif(targetPos &lt;= currentPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\treturn targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\treturn currentPos;\n\t\t\t}\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,window.innerWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,window.innerHeight);\n\t// Only scroll if necessary\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\twindow.scrollTo(scrollPosition.x + (endX - scrollPosition.x) * t,scrollPosition.y + (endY - scrollPosition.y) * t);\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(window,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\nexports.PageScroller = PageScroller;\n\n})();\n",
            "title": "$:/core/modules/utils/dom/scroller.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/fakedom.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/fakedom.js\ntype: application/javascript\nmodule-type: global\n\nA barebones implementation of DOM interfaces needed by the rendering mechanism.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Sequence number used to enable us to track objects for testing\nvar sequenceNumber = null;\n\nvar bumpSequenceNumber = function(object) {\n\tif(sequenceNumber !== null) {\n\t\tobject.sequenceNumber = sequenceNumber++;\n\t}\n}\n\nvar TW_TextNode = function(text) {\n\tbumpSequenceNumber(this);\n\tthis.textContent = text;\n};\n\nObject.defineProperty(TW_TextNode.prototype, \"formattedTextContent\", {\n\tget: function() {\n\t\treturn this.textContent.replace(/(\\r?\\n)/g,\"\");\n\t}\n});\n\nvar TW_Element = function(tag,namespace) {\n\tbumpSequenceNumber(this);\n\tthis.isTiddlyWikiFakeDom = true;\n\tthis.tag = tag;\n\tthis.attributes = {};\n\tthis.isRaw = false;\n\tthis.children = [];\n\tthis.namespaceURI = namespace || \"http://www.w3.org/1999/xhtml\";\n};\n\nTW_Element.prototype.setAttribute = function(name,value) {\n\tif(this.isRaw) {\n\t\tthrow \"Cannot setAttribute on a raw TW_Element\";\n\t}\n\tthis.attributes[name] = value;\n};\n\nTW_Element.prototype.setAttributeNS = function(namespace,name,value) {\n\tthis.setAttribute(name,value);\n};\n\nTW_Element.prototype.removeAttribute = function(name) {\n\tif(this.isRaw) {\n\t\tthrow \"Cannot removeAttribute on a raw TW_Element\";\n\t}\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\tdelete this.attributes[name];\n\t}\n};\n\nTW_Element.prototype.appendChild = function(node) {\n\tthis.children.push(node);\n\tnode.parentNode = this;\n};\n\nTW_Element.prototype.insertBefore = function(node,nextSibling) {\n\tif(nextSibling) {\n\t\tvar p = this.children.indexOf(nextSibling);\n\t\tif(p !== -1) {\n\t\t\tthis.children.splice(p,0,node);\n\t\t\tnode.parentNode = this;\n\t\t} else {\n\t\t\tthis.appendChild(node);\n\t\t}\n\t} else {\n\t\tthis.appendChild(node);\n\t}\n}\n\nTW_Element.prototype.removeChild = function(node) {\n\tvar p = this.children.indexOf(node);\n\tif(p !== -1) {\n\t\tthis.children.splice(p,1);\n\t}\n};\n\nTW_Element.prototype.hasChildNodes = function() {\n\treturn !!this.children.length;\n};\n\nObject.defineProperty(TW_Element.prototype, \"firstChild\", {\n    get: function() {\n    \treturn this.children[0];\n    }\n});\n\nTW_Element.prototype.addEventListener = function(type,listener,useCapture) {\n\t// Do nothing\n};\n\nObject.defineProperty(TW_Element.prototype, \"className\", {\n\tget: function() {\n\t\treturn this.attributes[\"class\"] || \"\";\n\t},\n    set: function(value) {\n    \tthis.attributes[\"class\"] = value;\n    }\n});\n\nObject.defineProperty(TW_Element.prototype, \"value\", {\n\tget: function() {\n\t\treturn this.attributes[\"value\"] || \"\";\n\t},\n    set: function(value) {\n    \tthis.attributes[\"value\"] = value;\n    }\n});\n\nObject.defineProperty(TW_Element.prototype, \"outerHTML\", {\n    get: function() {\n\t\tvar output = [],attr,a,v;\n\t\toutput.push(\"&lt;\",this.tag);\n\t\tif(this.attributes) {\n\t\t\tattr = [];\n\t\t\tfor(a in this.attributes) {\n\t\t\t\tattr.push(a);\n\t\t\t}\n\t\t\tattr.sort();\n\t\t\tfor(a=0; a&lt;attr.length; a++) {\n\t\t\t\tv = this.attributes[attr[a]];\n\t\t\t\tif(v !== undefined) {\n\t\t\t\t\toutput.push(\" \",attr[a],\"='\",$tw.utils.htmlEncode(v),\"'\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\toutput.push(\"&gt;\");\n\t\tif($tw.config.htmlVoidElements.indexOf(this.tag) === -1) {\n\t\t\toutput.push(this.innerHTML);\n\t\t\toutput.push(\"&lt;/\",this.tag,\"&gt;\");\n\t\t}\n\t\treturn output.join(\"\");\n    }\n});\n\nObject.defineProperty(TW_Element.prototype, \"innerHTML\", {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\treturn this.rawHTML;\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tif(node instanceof TW_Element) {\n\t\t\t\t\tb.push(node.outerHTML);\n\t\t\t\t} else if(node instanceof TW_TextNode) {\n\t\t\t\t\tb.push($tw.utils.htmlEncode(node.textContent));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn b.join(\"\");\n\t\t}\n\t},\n    set: function(value) {\n    \tthis.isRaw = true;\n    \tthis.rawHTML = value;\n    }\n});\n\nObject.defineProperty(TW_Element.prototype, \"textContent\", {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tthrow \"Cannot get textContent on a raw TW_Element\";\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.textContent);\n\t\t\t});\n\t\t\treturn b.join(\"\");\n\t\t}\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \"formattedTextContent\", {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tthrow \"Cannot get formattedTextContent on a raw TW_Element\";\n\t\t} else {\n\t\t\tvar b = [],\n\t\t\t\tisBlock = $tw.config.htmlBlockElements.indexOf(this.tag) !== -1;\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\"\\n\");\n\t\t\t}\n\t\t\tif(this.tag === \"li\") {\n\t\t\t\tb.push(\"* \")\n\t\t\t}\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.formattedTextContent);\n\t\t\t});\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\"\\n\");\n\t\t\t}\n\t\t\treturn b.join(\"\");\n\t\t}\n\t}\n});\n\nvar document = {\n\tsetSequenceNumber: function(value) {\n\t\tsequenceNumber = value;\n\t},\n\tcreateElementNS: function(namespace,tag) {\n\t\treturn new TW_Element(tag,namespace);\n\t},\n\tcreateElement: function(tag) {\n\t\treturn new TW_Element(tag);\n\t},\n\tcreateTextNode: function(text) {\n\t\treturn new TW_TextNode(text);\n\t},\n\tisTiddlyWikiFakeDom: true\n};\n\nexports.fakeDocument = document;\n\n})();\n",
            "title": "$:/core/modules/utils/fakedom.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/utils/filesystem.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/filesystem.js\ntype: application/javascript\nmodule-type: utils-node\n\nFile system utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar fs = require(\"fs\"),\n\tpath = require(\"path\");\n\n/*\nRecursively (and synchronously) copy a directory and all its content\n*/\nexports.copyDirectory = function(srcPath,dstPath) {\n\t// Remove any trailing path separators\n\tsrcPath = $tw.utils.removeTrailingSeparator(srcPath);\n\tdstPath = $tw.utils.removeTrailingSeparator(dstPath);\n\t// Create the destination directory\n\tvar err = $tw.utils.createDirectory(dstPath);\n\tif(err) {\n\t\treturn err;\n\t}\n\t// Function to copy a folder full of files\n\tvar copy = function(srcPath,dstPath) {\n\t\tvar srcStats = fs.lstatSync(srcPath),\n\t\t\tdstExists = fs.existsSync(dstPath);\n\t\tif(srcStats.isFile()) {\n\t\t\t$tw.utils.copyFile(srcPath,dstPath);\n\t\t} else if(srcStats.isDirectory()) {\n\t\t\tvar items = fs.readdirSync(srcPath);\n\t\t\tfor(var t=0; t&lt;items.length; t++) {\n\t\t\t\tvar item = items[t],\n\t\t\t\t\terr = copy(srcPath + path.sep + item,dstPath + path.sep + item);\n\t\t\t\tif(err) {\n\t\t\t\t\treturn err;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\tcopy(srcPath,dstPath);\n\treturn null;\n};\n\n/*\nCopy a file\n*/\nvar FILE_BUFFER_LENGTH = 64 * 1024,\n\tfileBuffer = $tw.node &amp;&amp; new Buffer(FILE_BUFFER_LENGTH);\n\nexports.copyFile = function(srcPath,dstPath) {\n\t// Create any directories in the destination\n\t$tw.utils.createDirectory(path.dirname(dstPath));\n\t// Copy the file\n\tvar srcFile = fs.openSync(srcPath,\"r\"),\n\t\tdstFile = fs.openSync(dstPath,\"w\"),\n\t\tbytesRead = 1,\n\t\tpos = 0;\n\twhile (bytesRead &gt; 0) {\n\t\tbytesRead = fs.readSync(srcFile,fileBuffer,0,FILE_BUFFER_LENGTH,pos);\n\t\tfs.writeSync(dstFile,fileBuffer,0,bytesRead);\n\t\tpos += bytesRead;\n\t}\n\tfs.closeSync(srcFile);\n\tfs.closeSync(dstFile);\n\treturn null;\n}\n\n/*\nRemove trailing path separator\n*/\nexports.removeTrailingSeparator = function(dirPath) {\n\tvar len = dirPath.length;\n\tif(dirPath.charAt(len-1) === path.sep) {\n\t\tdirPath = dirPath.substr(0,len-1);\n\t}\n\treturn dirPath;\n};\n\n/*\nRecursively create a directory\n*/\nexports.createDirectory = function(dirPath) {\n\tif(dirPath.substr(dirPath.length-1,1) !== path.sep) {\n\t\tdirPath = dirPath + path.sep;\n\t}\n\tvar pos = 1;\n\tpos = dirPath.indexOf(path.sep,pos);\n\twhile(pos !== -1) {\n\t\tvar subDirPath = dirPath.substr(0,pos);\n\t\tif(!$tw.utils.isDirectory(subDirPath)) {\n\t\t\ttry {\n\t\t\t\tfs.mkdirSync(subDirPath);\n\t\t\t} catch(e) {\n\t\t\t\treturn \"Error creating directory '\" + subDirPath + \"'\";\n\t\t\t}\n\t\t}\n\t\tpos = dirPath.indexOf(path.sep,pos + 1);\n\t}\n\treturn null;\n};\n\n/*\nRecursively create directories needed to contain a specified file\n*/\nexports.createFileDirectories = function(filePath) {\n\treturn $tw.utils.createDirectory(path.dirname(filePath));\n};\n\n/*\nRecursively delete a directory\n*/\nexports.deleteDirectory = function(dirPath) {\n\tif(fs.existsSync(dirPath)) {\n\t\tvar entries = fs.readdirSync(dirPath);\n\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\tvar currPath = dirPath + path.sep + entries[entryIndex];\n\t\t\tif(fs.lstatSync(currPath).isDirectory()) {\n\t\t\t\t$tw.utils.deleteDirectory(currPath);\n\t\t\t} else {\n\t\t\t\tfs.unlinkSync(currPath);\n\t\t\t}\n\t\t}\n\tfs.rmdirSync(dirPath);\n\t}\n\treturn null;\n};\n\n/*\nCheck if a path identifies a directory\n*/\nexports.isDirectory = function(dirPath) {\n\treturn fs.existsSync(dirPath) &amp;&amp; fs.statSync(dirPath).isDirectory();\n};\n\n})();\n",
            "title": "$:/core/modules/utils/filesystem.js",
            "type": "application/javascript",
            "module-type": "utils-node"
        },
        "$:/core/modules/utils/logger.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/logger.js\ntype: application/javascript\nmodule-type: utils\n\nA basic logging implementation\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar ALERT_TAG = \"$:/tags/Alert\";\n\n/*\nMake a new logger\n*/\nfunction Logger(componentName) {\n\tthis.componentName = componentName || \"\";\n}\n\n/*\nLog a message\n*/\nLogger.prototype.log = function(/* args */) {\n\tif(console !== undefined &amp;&amp; console.log !== undefined) {\n\t\treturn Function.apply.call(console.log, console, [this.componentName + \":\"].concat(Array.prototype.slice.call(arguments,0)));\n\t}\n};\n\n/*\nAlert a message\n*/\nLogger.prototype.alert = function(/* args */) {\n\t// Prepare the text of the alert\n\tvar text = Array.prototype.join.call(arguments,\" \");\n\t// Check if there is an existing alert with the same text and the same component\n\tvar existingAlerts = $tw.wiki.getTiddlersWithTag(ALERT_TAG),\n\t\talertFields,\n\t\texistingCount,\n\t\tself = this;\n\t$tw.utils.each(existingAlerts,function(title) {\n\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\tif(tiddler.fields.text === text &amp;&amp; tiddler.fields.component === self.componentName &amp;&amp; tiddler.fields.modified &amp;&amp; (!alertFields || tiddler.fields.modified &lt; alertFields.modified)) {\n\t\t\t\talertFields = $tw.utils.extend({},tiddler.fields);\n\t\t}\n\t});\n\tif(alertFields) {\n\t\texistingCount = alertFields.count || 1;\n\t} else {\n\t\talertFields = {\n\t\t\ttitle: $tw.wiki.generateNewTitle(\"$:/temp/alerts/alert\",{prefix: \"\"}),\n\t\t\ttext: text,\n\t\t\ttags: [ALERT_TAG],\n\t\t\tcomponent: this.componentName\n\t\t};\n\t\texistingCount = 0;\n\t}\n\talertFields.modified = new Date();\n\tif(++existingCount &gt; 1) {\n\t\talertFields.count = existingCount;\n\t} else {\n\t\talertFields.count = undefined;\n\t}\n\t$tw.wiki.addTiddler(new $tw.Tiddler(alertFields));\n\t// Log it too\n\tthis.log.apply(this,Array.prototype.slice.call(arguments,0));\n};\n\nexports.Logger = Logger;\n\n})();\n",
            "title": "$:/core/modules/utils/logger.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/parsetree.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/parsetree.js\ntype: application/javascript\nmodule-type: utils\n\nParse tree utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nexports.addAttributeToParseTreeNode = function(node,name,value) {\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[name] = {type: \"string\", value: value};\n};\n\nexports.getAttributeValueFromParseTreeNode = function(node,name,defaultValue) {\n\tif(node.attributes &amp;&amp; node.attributes[name] &amp;&amp; node.attributes[name].value !== undefined) {\n\t\treturn node.attributes[name].value;\n\t}\n\treturn defaultValue;\n};\n\nexports.addClassToParseTreeNode = function(node,classString) {\n\tvar classes = [];\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[\"class\"] = node.attributes[\"class\"] || {type: \"string\", value: \"\"};\n\tif(node.attributes[\"class\"].type === \"string\") {\n\t\tif(node.attributes[\"class\"].value !== \"\") {\n\t\t\tclasses = node.attributes[\"class\"].value.split(\" \");\n\t\t}\n\t\tif(classString !== \"\") {\n\t\t\t$tw.utils.pushTop(classes,classString.split(\" \"));\n\t\t}\n\t\tnode.attributes[\"class\"].value = classes.join(\" \");\n\t}\n};\n\nexports.addStyleToParseTreeNode = function(node,name,value) {\n\t\tnode.attributes = node.attributes || {};\n\t\tnode.attributes[\"style\"] = node.attributes[\"style\"] || {type: \"string\", value: \"\"};\n\t\tif(node.attributes[\"style\"].type === \"string\") {\n\t\t\tnode.attributes[\"style\"].value += name + \":\" + value + \";\";\n\t\t}\n};\n\nexports.findParseTreeNode = function(nodeArray,search) {\n\tfor(var t=0; t&lt;nodeArray.length; t++) {\n\t\tif(nodeArray[t].type === search.type &amp;&amp; nodeArray[t].tag === search.tag) {\n\t\t\treturn nodeArray[t];\n\t\t}\n\t}\n\treturn undefined;\n};\n\n})();\n",
            "title": "$:/core/modules/utils/parsetree.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/performance.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/performance.js\ntype: application/javascript\nmodule-type: global\n\nPerformance measurement.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nfunction Performance(enabled) {\n\tthis.enabled = !!enabled;\n\tthis.measures = {}; // Hashmap of current values of measurements\n\tthis.logger = new $tw.utils.Logger(\"performance\");\n}\n\n/*\nWrap performance reporting around a top level function\n*/\nPerformance.prototype.report = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tself.measures = {};\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments);\n\t\t\tself.logger.log(name + \": \" + $tw.utils.timer(startTime) + \"ms\");\n\t\t\tfor(var m in self.measures) {\n\t\t\t\tself.logger.log(\"+\" + m + \": \" + self.measures[m] + \"ms\");\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\n/*\nWrap performance measurements around a subfunction\n*/\nPerformance.prototype.measure = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments),\n\t\t\t\tvalue = self.measures[name] || 0;\n\t\t\tself.measures[name] = value + $tw.utils.timer(startTime);\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\nexports.Performance = Performance;\n\n})();\n",
            "title": "$:/core/modules/utils/performance.js",
            "type": "application/javascript",
            "module-type": "global"
        },
        "$:/core/modules/utils/pluginmaker.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/pluginmaker.js\ntype: application/javascript\nmodule-type: utils\n\nA quick and dirty way to pack up plugins within the browser.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nRepack a plugin, and then delete any non-shadow payload tiddlers\n*/\nexports.repackPlugin = function(title,additionalTiddlers,excludeTiddlers) {\n\tadditionalTiddlers = additionalTiddlers || [];\n\texcludeTiddlers = excludeTiddlers || [];\n\t// Get the plugin tiddler\n\tvar pluginTiddler = $tw.wiki.getTiddler(title);\n\tif(!pluginTiddler) {\n\t\tthrow \"No such tiddler as \" + title;\n\t}\n\t// Extract the JSON\n\ttry {\n\t\tvar jsonPluginTiddler = JSON.parse(pluginTiddler.fields.text);\n\t} catch(e) {\n\t\tthrow \"Cannot parse plugin tiddler \" + title + \"\\nError: \" + e;\n\t}\n\t// Get the list of tiddlers\n\tvar tiddlers = Object.keys(jsonPluginTiddler.tiddlers);\n\t// Add the additional tiddlers\n\t$tw.utils.pushTop(tiddlers,additionalTiddlers)\n\t// Remove any excluded tiddlers\n\tfor(var t=tiddlers.length-1; t&gt;=0; t--) {\n\t\tif(excludeTiddlers.indexOf(tiddlers[t]) !== -1) {\n\t\t\ttiddlers.splice(t,1);\n\t\t}\n\t}\n\t// Pack up the tiddlers into a block of JSON\n\tvar plugins = {};\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = $tw.wiki.getTiddler(title),\n\t\t\tfields = {};\n\t\t$tw.utils.each(tiddler.fields,function (value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\tplugins[title] = fields;\n\t});\n\t// Retrieve and bump the version number\n\tvar pluginVersion = $tw.utils.parseVersion(pluginTiddler.getFieldString(\"version\") || \"0.0.0\") || {\n\t\t\tmajor: \"0\",\n\t\t\tminor: \"0\",\n\t\t\tpatch: \"0\"\n\t\t};\n\tpluginVersion.patch++;\n\tvar version = pluginVersion.major + \".\" + pluginVersion.minor + \".\" + pluginVersion.patch;\n\tif(pluginVersion.prerelease) {\n\t\tversion += \"-\" + pluginVersion.prerelease;\n\t}\n\tif(pluginVersion.build) {\n\t\tversion += \"+\" + pluginVersion.build;\n\t}\n\t// Save the tiddler\n\t$tw.wiki.addTiddler(new $tw.Tiddler(pluginTiddler,{text: JSON.stringify({tiddlers: plugins},null,4), version: version}));\n\t// Delete any non-shadow constituent tiddlers\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tif($tw.wiki.tiddlerExists(title)) {\n\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t}\n\t});\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \"tw-auto-save-wiki\"});\n\t// Return a heartwarming confirmation\n\treturn \"Plugin \" + title + \" successfully saved\";\n}\n\n})();\n",
            "title": "$:/core/modules/utils/pluginmaker.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/utils/utils.js": {
            "text": "/*\\\ntitle: $:/core/modules/utils/utils.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nTrim whitespace from the start and end of a string\nThanks to Steven Levithan, http://blog.stevenlevithan.com/archives/faster-trim-javascript\n*/\nexports.trim = function(str) {\n\tif(typeof str === \"string\") {\n\t\treturn str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t} else {\n\t\treturn str;\n\t}\n};\n\n/*\nReturn the number of keys in an object\n*/\nexports.count = function(object) {\n\tvar s = 0;\n\t$tw.utils.each(object,function() {s++;});\n\treturn s;\n};\n\n/*\nCheck if an array is equal by value and by reference.\n*/\nexports.isArrayEqual = function(array1,array2) {\n\tif(array1 === array2) {\n\t\treturn true;\n\t}\n\tarray1 = array1 || [];\n\tarray2 = array2 || [];\n\tif(array1.length !== array2.length) {\n\t\treturn false;\n\t}\n\treturn array1.every(function(value,index) {\n\t\treturn value === array2[index];\n\t});\n};\n\n/*\nPush entries onto an array, removing them first if they already exist in the array\n\tarray: array to modify (assumed to be free of duplicates)\n\tvalue: a single value to push or an array of values to push\n*/\nexports.pushTop = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\t// Remove any array entries that are duplicated in the new values\n\t\tif(value.length !== 0) {\n\t\t\tif(array.length !== 0) {\n\t\t\t\tif(value.length &lt; array.length) {\n\t\t\t\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\t\t\t\tp = array.indexOf(value[t]);\n\t\t\t\t\t\tif(p !== -1) {\n\t\t\t\t\t\t\tarray.splice(p,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor(t=array.length-1; t&gt;=0; t--) {\n\t\t\t\t\t\tp = value.indexOf(array[t]);\n\t\t\t\t\t\tif(p !== -1) {\n\t\t\t\t\t\t\tarray.splice(t,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Push the values on top of the main array\n\t\t\tarray.push.apply(array,value);\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t\tarray.push(value);\n\t}\n};\n\n/*\nRemove entries from an array\n\tarray: array to modify\n\tvalue: a single value to remove, or an array of values to remove\n*/\nexports.removeArrayEntries = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\tp = array.indexOf(value[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tarray.splice(p,1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t}\n};\n\n/*\nCheck whether any members of a hashmap are present in another hashmap\n*/\nexports.checkDependencies = function(dependencies,changes) {\n\tvar hit = false;\n\t$tw.utils.each(changes,function(change,title) {\n\t\tif($tw.utils.hop(dependencies,title)) {\n\t\t\thit = true;\n\t\t}\n\t});\n\treturn hit;\n};\n\nexports.extend = function(object /* [, src] */) {\n\t$tw.utils.each(Array.prototype.slice.call(arguments, 1), function(source) {\n\t\tif(source) {\n\t\t\tfor(var property in source) {\n\t\t\t\tobject[property] = source[property];\n\t\t\t}\n\t\t}\n\t});\n\treturn object;\n};\n\nexports.deepCopy = function(object) {\n\tvar result,t;\n\tif($tw.utils.isArray(object)) {\n\t\t// Copy arrays\n\t\tresult = object.slice(0);\n\t} else if(typeof object === \"object\") {\n\t\tresult = {};\n\t\tfor(t in object) {\n\t\t\tif(object[t] !== undefined) {\n\t\t\t\tresult[t] = $tw.utils.deepCopy(object[t]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tresult = object;\n\t}\n\treturn result;\n};\n\nexports.extendDeepCopy = function(object,extendedProperties) {\n\tvar result = $tw.utils.deepCopy(object),t;\n\tfor(t in extendedProperties) {\n\t\tif(extendedProperties[t] !== undefined) {\n\t\t\tresult[t] = $tw.utils.deepCopy(extendedProperties[t]);\n\t\t}\n\t}\n\treturn result;\n};\n\nexports.slowInSlowOut = function(t) {\n\treturn (1 - ((Math.cos(t * Math.PI) + 1) / 2));\n};\n\nexports.formatDateString = function (date,template) {\n\tvar t = template.replace(/0hh12/g,$tw.utils.pad($tw.utils.getHours12(date)));\n\tt = t.replace(/hh12/g,$tw.utils.getHours12(date));\n\tt = t.replace(/0hh/g,$tw.utils.pad(date.getHours()));\n\tt = t.replace(/hh/g,date.getHours());\n\tt = t.replace(/mmm/g,$tw.config.dateFormats.shortMonths[date.getMonth()]);\n\tt = t.replace(/0mm/g,$tw.utils.pad(date.getMinutes()));\n\tt = t.replace(/mm/g,date.getMinutes());\n\tt = t.replace(/0ss/g,$tw.utils.pad(date.getSeconds()));\n\tt = t.replace(/ss/g,date.getSeconds());\n\tt = t.replace(/[ap]m/g,$tw.utils.getAmPm(date).toLowerCase());\n\tt = t.replace(/[AP]M/g,$tw.utils.getAmPm(date).toUpperCase());\n\tt = t.replace(/wYYYY/g,$tw.utils.getYearForWeekNo(date));\n\tt = t.replace(/wYY/g,$tw.utils.pad($tw.utils.getYearForWeekNo(date)-2000));\n\tt = t.replace(/YYYY/g,date.getFullYear());\n\tt = t.replace(/YY/g,$tw.utils.pad(date.getFullYear()-2000));\n\tt = t.replace(/MMM/g,$tw.config.dateFormats.months[date.getMonth()]);\n\tt = t.replace(/0MM/g,$tw.utils.pad(date.getMonth()+1));\n\tt = t.replace(/MM/g,date.getMonth()+1);\n\tt = t.replace(/0WW/g,$tw.utils.pad($tw.utils.getWeek(date)));\n\tt = t.replace(/WW/g,$tw.utils.getWeek(date));\n\tt = t.replace(/DDD/g,$tw.config.dateFormats.days[date.getDay()]);\n\tt = t.replace(/ddd/g,$tw.config.dateFormats.shortDays[date.getDay()]);\n\tt = t.replace(/0DD/g,$tw.utils.pad(date.getDate()));\n\tt = t.replace(/DDth/g,date.getDate()+$tw.utils.getDaySuffix(date));\n\tt = t.replace(/DD/g,date.getDate());\n\tvar tz = date.getTimezoneOffset();\n\tvar atz = Math.abs(tz);\n\tt = t.replace(/TZD/g,(tz &lt; 0 ? '+' : '-') + $tw.utils.pad(Math.floor(atz / 60)) + ':' + $tw.utils.pad(atz % 60));\n\tt = t.replace(/\\\\(.)/g,\"$1\");\n\treturn t;\n};\n\nexports.getAmPm = function(date) {\n\treturn date.getHours() &gt;= 12 ? $tw.config.dateFormats.pm : $tw.config.dateFormats.am;\n};\n\nexports.getDaySuffix = function(date) {\n\treturn $tw.config.dateFormats.daySuffixes[date.getDate()-1];\n};\n\nexports.getWeek = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) d=7;// JavaScript Sun=0, ISO Sun=7\n\tdt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo\n\tvar n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000);\n\treturn Math.floor(n/7)+1;\n};\n\nexports.getYearForWeekNo = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) d=7;// JavaScript Sun=0, ISO Sun=7\n\tdt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week\n\treturn dt.getFullYear();\n};\n\nexports.getHours12 = function(date) {\n\tvar h = date.getHours();\n\treturn h &gt; 12 ? h-12 : ( h &gt; 0 ? h : 12 );\n};\n\n/*\nConvert a date delta in milliseconds into a string representation of \"23 seconds ago\", \"27 minutes ago\" etc.\n\tdelta: delta in milliseconds\nReturns an object with these members:\n\tdescription: string describing the delta period\n\tupdatePeriod: time in millisecond until the string will be inaccurate\n*/\nexports.getRelativeDate = function(delta) {\n\tvar futurep = false;\n\tif(delta &lt; 0) {\n\t\tdelta = -1 * delta;\n\t\tfuturep = true;\n\t}\n\tvar units = [\n\t\t{name: \"Years\",   duration:      365 * 24 * 60 * 60 * 1000},\n\t\t{name: \"Months\",  duration: (365/12) * 24 * 60 * 60 * 1000},\n\t\t{name: \"Days\",    duration:            24 * 60 * 60 * 1000},\n\t\t{name: \"Hours\",   duration:                 60 * 60 * 1000},\n\t\t{name: \"Minutes\", duration:                      60 * 1000},\n\t\t{name: \"Seconds\", duration:                           1000}\n\t];\n\tfor(var t=0; t&lt;units.length; t++) {\n\t\tvar result = Math.floor(delta / units[t].duration);\n\t\tif(result &gt;= 2) {\n\t\t\treturn {\n\t\t\t\tdelta: delta,\n\t\t\t\tdescription: $tw.language.getString(\n\t\t\t\t\t\"RelativeDate/\" + (futurep ? \"Future\" : \"Past\") + \"/\" + units[t].name,\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{period: result.toString()}\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\tupdatePeriod: units[t].duration\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\tdelta: delta,\n\t\tdescription: $tw.language.getString(\n\t\t\t\"RelativeDate/\" + (futurep ? \"Future\" : \"Past\") + \"/Second\",\n\t\t\t{variables:\n\t\t\t\t{period: \"1\"}\n\t\t\t}\n\t\t),\n\t\tupdatePeriod: 1000\n\t};\n};\n\n// Convert &amp; to \"&amp;amp;\", &lt; to \"&amp;lt;\", &gt; to \"&amp;gt;\" and \" to \"&amp;quot;\"\nexports.htmlEncode = function(s) {\n\tif(s) {\n\t\treturn s.toString().replace(/&amp;/mg,\"&amp;amp;\").replace(/&lt;/mg,\"&amp;lt;\").replace(/&gt;/mg,\"&amp;gt;\").replace(/\\\"/mg,\"&amp;quot;\");\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\n// Converts all HTML entities to their character equivalents\nexports.entityDecode = function(s) {\n\tvar e = s.substr(1,s.length-2); // Strip the &amp; and the ;\n\tif(e.charAt(0) === \"#\") {\n\t\tif(e.charAt(1) === \"x\" || e.charAt(1) === \"X\") {\n\t\t\treturn String.fromCharCode(parseInt(e.substr(2),16));\t\n\t\t} else {\n\t\t\treturn String.fromCharCode(parseInt(e.substr(1),10));\n\t\t}\n\t} else {\n\t\tvar c = $tw.config.htmlEntities[e];\n\t\tif(c) {\n\t\t\treturn String.fromCharCode(c);\n\t\t} else {\n\t\t\treturn s; // Couldn't convert it as an entity, just return it raw\n\t\t}\n\t}\n};\n\nexports.unescapeLineBreaks = function(s) {\n\treturn s.replace(/\\\\n/mg,\"\\n\").replace(/\\\\b/mg,\" \").replace(/\\\\s/mg,\"\\\\\").replace(/\\r/mg,\"\");\n};\n\n/*\n * Returns an escape sequence for given character. Uses \\x for characters &lt;=\n * 0xFF to save space, \\u for the rest.\n *\n * The code needs to be in sync with th code template in the compilation\n * function for \"action\" nodes.\n */\n// Copied from peg.js, thanks to David Majda\nexports.escape = function(ch) {\n\tvar charCode = ch.charCodeAt(0);\n\tif(charCode &lt;= 0xFF) {\n\t\treturn '\\\\x' + $tw.utils.pad(charCode.toString(16).toUpperCase());\n\t} else {\n\t\treturn '\\\\u' + $tw.utils.pad(charCode.toString(16).toUpperCase(),4);\n\t}\n};\n\n// Turns a string into a legal JavaScript string\n// Copied from peg.js, thanks to David Majda\nexports.stringify = function(s) {\n\t/*\n\t* ECMA-262, 5th ed., 7.8.4: All characters may appear literally in a string\n\t* literal except for the closing quote character, backslash, carriage return,\n\t* line separator, paragraph separator, and line feed. Any character may\n\t* appear in the form of an escape sequence.\n\t*\n\t* For portability, we also escape escape all non-ASCII characters.\n\t*/\n\treturn s\n\t\t.replace(/\\\\/g, '\\\\\\\\')            // backslash\n\t\t.replace(/\"/g, '\\\\\"')              // double quote character\n\t\t.replace(/'/g, \"\\\\'\")              // single quote character\n\t\t.replace(/\\r/g, '\\\\r')             // carriage return\n\t\t.replace(/\\n/g, '\\\\n')             // line feed\n\t\t.replace(/[\\x80-\\uFFFF]/g, exports.escape); // non-ASCII characters\n};\n\n/*\nEscape the RegExp special characters with a preceding backslash\n*/\nexports.escapeRegExp = function(s) {\n    return s.replace(/[\\-\\/\\\\\\^\\$\\*\\+\\?\\.\\(\\)\\|\\[\\]\\{\\}]/g, '\\\\$&amp;');\n};\n\nexports.nextTick = function(fn) {\n/*global window: false */\n\tif(typeof window !== \"undefined\") {\n\t\t// Apparently it would be faster to use postMessage - http://dbaron.org/log/20100309-faster-timeouts\n\t\twindow.setTimeout(fn,4);\n\t} else {\n\t\tprocess.nextTick(fn);\n\t}\n};\n\n/*\nConvert a hyphenated CSS property name into a camel case one\n*/\nexports.unHyphenateCss = function(propName) {\n\treturn propName.replace(/-([a-z])/gi, function(match0,match1) {\n\t\treturn match1.toUpperCase();\n\t});\n};\n\n/*\nConvert a camelcase CSS property name into a dashed one (\"backgroundColor\" --&gt; \"background-color\")\n*/\nexports.hyphenateCss = function(propName) {\n\treturn propName.replace(/([A-Z])/g, function(match0,match1) {\n\t\treturn \"-\" + match1.toLowerCase();\n\t});\n};\n\n/*\nParse a text reference of one of these forms:\n* title\n* !!field\n* title!!field\n* title##index\n* etc\nReturns an object with the following fields, all optional:\n* title: tiddler title\n* field: tiddler field name\n* index: JSON property index\n*/\nexports.parseTextReference = function(textRef) {\n\t// Separate out the title, field name and/or JSON indices\n\tvar reTextRef = /^\\s*([^!#]+)?(?:(?:!!([^\\s]+))|(?:##(.+)))?\\s*/mg,\n\t\tmatch = reTextRef.exec(textRef);\n\tif(match &amp;&amp; reTextRef.lastIndex === textRef.length) {\n\t\t// Return the parts\n\t\treturn {\n\t\t\ttitle: match[1],\n\t\t\tfield: match[2],\n\t\t\tindex: match[3]\n\t\t};\n\t} else {\n\t\t// If we couldn't parse it (eg it started with a)\n\t\treturn {\n\t\t\ttitle: textRef\n\t\t};\n\t}\n};\n\n/*\nChecks whether a string is a valid fieldname\n*/\nexports.isValidFieldName = function(name) {\n\tif(!name || typeof name !== \"string\") {\n\t\treturn false;\n\t}\n\tname = name.toLowerCase().trim();\n\tvar fieldValidatorRegEx = /^[a-z0-9\\-\\._]+$/mg;\n\treturn fieldValidatorRegEx.test(name);\n};\n\n/*\nExtract the version number from the meta tag or from the boot file\n*/\n\nif($tw.browser) {\n\n// Browser version\nexports.extractVersionInfo = function() {\n\tvar metatags = document.getElementsByTagName(\"meta\");\n\tfor(var t=0; t&lt;metatags.length; t++) {\n\t\tvar m = metatags[t];\n\t\tif(m.name === \"tiddlywiki-version\") {\n\t\t\treturn m.content;\n\t\t}\n\t}\n\treturn null;\n};\n\n} else {\n\n// Server version\nexports.extractVersionInfo = function() {\n\treturn $tw.packageInfo.version;\n};\n\n}\n\n/*\nGet the animation duration in ms\n*/\nexports.getAnimationDuration = function() {\n\treturn parseInt($tw.wiki.getTiddlerText(\"$:/config/AnimationDuration\",\"400\"),10);\n};\n\n/*\nHash a string to a number\nDerived from http://stackoverflow.com/a/15710692\n*/\nexports.hashString = function(str) {\n\treturn str.split(\"\").reduce(function(a,b) {\n\t\ta = ((a &lt;&lt; 5) - a) + b.charCodeAt(0);\n\t\treturn a &amp; a;\n\t},0);\n};\n\n/*\nDecode a base64 string\n*/\nexports.base64Decode = function(string64) {\n\tif($tw.browser) {\n\t\t// TODO\n\t\tthrow \"$tw.utils.base64Decode() doesn't work in the browser\";\n\t} else {\n\t\treturn (new Buffer(string64,\"base64\")).toString();\n\t}\n};\n\n/*\nConvert a hashmap into a tiddler dictionary format sequence of name:value pairs\n*/\nexports.makeTiddlerDictionary = function(data) {\n\tvar output = [];\n\tfor(var name in data) {\n\t\toutput.push(name + \": \" + data[name]);\n\t}\n\treturn output.join(\"\\n\");\n};\n\n/*\nHigh resolution microsecond timer for profiling\n*/\nexports.timer = function(base) {\n\tvar m;\n\tif($tw.node) {\n\t\tvar r = process.hrtime();\t\t\n\t\tm =  r[0] * 1e3 + (r[1] / 1e6);\n\t} else if(window.performance) {\n\t\tm = performance.now();\n\t} else {\n\t\tm = Date.now();\n\t}\n\tif(typeof base !== \"undefined\") {\n\t\tm = m - base;\n\t}\n\treturn m;\n};\n\n})();\n",
            "title": "$:/core/modules/utils/utils.js",
            "type": "application/javascript",
            "module-type": "utils"
        },
        "$:/core/modules/widgets/browse.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/browse.js\ntype: application/javascript\nmodule-type: widget\n\nBrowse widget for browsing for files to import\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar BrowseWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nBrowseWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nBrowseWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\"input\");\n\tdomNode.setAttribute(\"type\",\"file\");\n\tdomNode.setAttribute(\"multiple\",\"multiple\");\n\t// Add a click event handler\n\tdomNode.addEventListener(\"change\",function (event) {\n\t\tself.wiki.readFiles(event.target.files,function(tiddlerFieldsArray) {\n\t\t\tself.dispatchEvent({type: \"tw-import-tiddlers\", param: JSON.stringify(tiddlerFieldsArray)});\n\t\t});\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nBrowseWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nBrowseWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.browse = BrowseWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/browse.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/button.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/button.js\ntype: application/javascript\nmodule-type: widget\n\nButton widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ButtonWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nButtonWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nButtonWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\"button\");\n\t// Assign classes\n\tvar classes = this[\"class\"].split(\" \") || [];\n\tif(this.selectedClass) {\n\t\tif(this.set &amp;&amp; this.setTo &amp;&amp; this.isSelected()) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\" \"));\n\t\t}\n\t\tif(this.popup &amp;&amp; this.isPoppedUp()) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\" \"));\n\t\t}\n\t}\n\tdomNode.className = classes.join(\" \");\n\t// Assign other attributes\n\tif(this.style) {\n\t\tdomNode.setAttribute(\"style\",this.style);\n\t}\n\tif(this.title) {\n\t\tdomNode.setAttribute(\"title\",this.title);\n\t}\n\tif(this[\"aria-label\"]) {\n\t\tdomNode.setAttribute(\"aria-label\",this[\"aria-label\"]);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\"click\",function (event) {\n\t\tvar handled = false;\n\t\tif(self.to) {\n\t\t\tself.navigateTo(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.message) {\n\t\t\tself.dispatchMessage(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.popup) {\n\t\t\tself.triggerPopup(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.set) {\n\t\t\tself.setTiddler();\n\t\t\thandled = true;\n\t\t}\n\t\tif(handled) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\treturn handled;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nButtonWidget.prototype.isSelected = function() {\n\tvar tiddler = this.wiki.getTiddler(this.set);\n\treturn tiddler ? tiddler.fields.text === this.setTo : this.defaultSetValue === this.setTo;\n};\n\nButtonWidget.prototype.isPoppedUp = function() {\n\tvar tiddler = this.wiki.getTiddler(this.popup);\n\tvar result = tiddler &amp;&amp; tiddler.fields.text ? $tw.popup.readPopupState(this.popup,tiddler.fields.text) : false;\n\treturn result;\n};\n\nButtonWidget.prototype.navigateTo = function(event) {\n\tvar bounds = this.domNodes[0].getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \"tw-navigate\",\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\"storyTiddler\"),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1)\n\t});\n};\n\nButtonWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\"currentTiddler\")});\n};\n\nButtonWidget.prototype.triggerPopup = function(event) {\n\t$tw.popup.triggerPopup({\n\t\tdomNode: this.domNodes[0],\n\t\ttitle: this.popup,\n\t\twiki: this.wiki\n\t});\n};\n\nButtonWidget.prototype.setTiddler = function() {\n\tthis.wiki.setTextReference(this.set,this.setTo,this.getVariable(\"currentTiddler\"));\n};\n\n/*\nCompute the internal state of the widget\n*/\nButtonWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.to = this.getAttribute(\"to\");\n\tthis.message = this.getAttribute(\"message\");\n\tthis.param = this.getAttribute(\"param\");\n\tthis.set = this.getAttribute(\"set\");\n\tthis.setTo = this.getAttribute(\"setTo\");\n\tthis.popup = this.getAttribute(\"popup\");\n\tthis.hover = this.getAttribute(\"hover\");\n\tthis[\"class\"] = this.getAttribute(\"class\",\"\");\n\tthis[\"aria-label\"] = this.getAttribute(\"aria-label\");\n\tthis.title = this.getAttribute(\"title\");\n\tthis.style = this.getAttribute(\"style\");\n\tthis.selectedClass = this.getAttribute(\"selectedClass\");\n\tthis.defaultSetValue = this.getAttribute(\"default\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nButtonWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.param || changedAttributes.set || changedAttributes.setTo || changedAttributes.popup || changedAttributes.hover || changedAttributes[\"class\"] || changedAttributes.selectedClass || changedAttributes.style || (this.set &amp;&amp; changedTiddlers[this.set]) || (this.popup &amp;&amp; changedTiddlers[this.popup])) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.button = ButtonWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/button.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/checkbox.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/checkbox.js\ntype: application/javascript\nmodule-type: widget\n\nCheckbox widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CheckboxWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCheckboxWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCheckboxWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\"label\");\n\tthis.inputDomNode = this.document.createElement(\"input\");\n\tthis.inputDomNode.setAttribute(\"type\",\"checkbox\");\n\tif(this.getValue()) {\n\t\tthis.inputDomNode.setAttribute(\"checked\",\"true\");\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\"span\");\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nCheckboxWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.checkboxTitle);\n\treturn tiddler ? tiddler.hasTag(this.checkboxTag) : false;\n};\n\nCheckboxWidget.prototype.handleChangeEvent = function(event) {\n\tvar checked = this.inputDomNode.checked,\n\t\ttiddler = this.wiki.getTiddler(this.checkboxTitle);\n\tif(tiddler &amp;&amp; tiddler.hasTag(this.checkboxTag) !== checked) {\n\t\tvar newTags = (tiddler.fields.tags || []).slice(0),\n\t\t\tpos = newTags.indexOf(this.checkboxTag);\n\t\tif(pos !== -1) {\n\t\t\tnewTags.splice(pos,1);\n\t\t}\n\t\tif(checked) {\n\t\t\tnewTags.push(this.checkboxTag);\n\t\t}\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,{tags: newTags},this.wiki.getModificationFields()));\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCheckboxWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.checkboxTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.checkboxTag = this.getAttribute(\"tag\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCheckboxWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.tag || changedAttributes[\"class\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.checkboxTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue();\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.checkbox = CheckboxWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/checkbox.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/codeblock.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/codeblock.js\ntype: application/javascript\nmodule-type: widget\n\nCode block node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CodeBlockWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCodeBlockWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCodeBlockWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar codeNode = this.document.createElement(\"code\"),\n\t\tdomNode = this.document.createElement(\"pre\");\n\tcodeNode.appendChild(this.document.createTextNode(this.getAttribute(\"code\")));\n\tdomNode.appendChild(codeNode);\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCodeBlockWidget.prototype.execute = function() {\n\tthis.language = this.getAttribute(\"language\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCodeBlockWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.codeblock = CodeBlockWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/codeblock.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/count.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/count.js\ntype: application/javascript\nmodule-type: widget\n\nCount widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar CountWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCountWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCountWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.currentCount);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nCountWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\"filter\");\n\t// Execute the filter\n\tif(this.filter) {\n\t\tthis.currentCount = this.wiki.filterTiddlers(this.filter,this).length;\n\t} else {\n\t\tthis.currentCount = undefined;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCountWidget.prototype.refresh = function(changedTiddlers) {\n\t// Re-execute the filter to get the count\n\tthis.computeAttributes();\n\tvar oldCount = this.currentCount;\n\tthis.execute();\n\tif(this.currentCount !== oldCount) {\n\t\t// Regenerate and rerender the widget and replace the existing DOM node\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n\n};\n\nexports.count = CountWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/count.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/dropzone.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/dropzone.js\ntype: application/javascript\nmodule-type: widget\n\nDropzone widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar DropZoneWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDropZoneWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDropZoneWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\"div\");\n\tdomNode.className = \"tw-dropzone\";\n\t// Add event handlers\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"dragenter\", handlerObject: this, handlerMethod: \"handleDragEnterEvent\"},\n\t\t{name: \"dragover\", handlerObject: this, handlerMethod: \"handleDragOverEvent\"},\n\t\t{name: \"dragleave\", handlerObject: this, handlerMethod: \"handleDragLeaveEvent\"},\n\t\t{name: \"drop\", handlerObject: this, handlerMethod: \"handleDropEvent\"},\n\t\t{name: \"paste\", handlerObject: this, handlerMethod: \"handlePasteEvent\"}\n\t]);\n\tdomNode.addEventListener(\"click\",function (event) {\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nDropZoneWidget.prototype.handleDragEnterEvent  = function(event) {\n\t// We count enter/leave events\n\tthis.dragEnterCount = (this.dragEnterCount || 0) + 1;\n\t// If we're entering for the first time we need to apply highlighting\n\tif(this.dragEnterCount === 1) {\n\t\t$tw.utils.addClass(this.domNodes[0],\"tw-dragover\");\n\t}\n\t// Tell the browser that we're ready to handle the drop\n\tevent.preventDefault();\n\t// Tell the browser not to ripple the drag up to any parent drop handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.handleDragOverEvent  = function(event) {\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Tell the browser that we're still interested in the drop\n\tevent.preventDefault();\n\tevent.dataTransfer.dropEffect = \"copy\"; // Explicitly show this is a copy\n};\n\nDropZoneWidget.prototype.handleDragLeaveEvent  = function(event) {\n\t// Reduce the enter count\n\tthis.dragEnterCount = (this.dragEnterCount || 0) - 1;\n\t// Remove highlighting if we're leaving externally\n\tif(this.dragEnterCount &lt;= 0) {\n\t\t$tw.utils.removeClass(this.domNodes[0],\"tw-dragover\");\n\t}\n};\n\nDropZoneWidget.prototype.handleDropEvent  = function(event) {\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\tvar self = this,\n\t\tdataTransfer = event.dataTransfer;\n\t// Reset the enter count\n\tthis.dragEnterCount = 0;\n\t// Remove highlighting\n\t$tw.utils.removeClass(this.domNodes[0],\"tw-dragover\");\n\t// Import any files in the drop\n\tvar numFiles = this.wiki.readFiles(dataTransfer.files,function(tiddlerFieldsArray) {\n\t\tself.dispatchEvent({type: \"tw-import-tiddlers\", param: JSON.stringify(tiddlerFieldsArray)});\n\t});\n\t// Try to import the various data types we understand\n\tif(numFiles === 0) {\n\t\tthis.importData(dataTransfer);\n\t}\n\t// Tell the browser that we handled the drop\n\tevent.preventDefault();\n\t// Stop the drop ripple up to any parent handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.importData = function(dataTransfer) {\n\t// Try each provided data type in turn\n\tfor(var t=0; t&lt;this.importDataTypes.length; t++) {\n\t\tif(!$tw.browser.isIE || this.importDataTypes[t].IECompatible) {\n\t\t\t// Get the data\n\t\t\tvar dataType = this.importDataTypes[t];\n\t\t\t\tvar data = dataTransfer.getData(dataType.type);\n\t\t\t// Import the tiddlers in the data\n\t\t\tif(data !== \"\" &amp;&amp; data !== null) {\n\t\t\t\tvar tiddlerFields = dataType.convertToFields(data);\n\t\t\t\tif(!tiddlerFields.title) {\n\t\t\t\t\ttiddlerFields.title = this.wiki.generateNewTitle(\"Untitled\");\n\t\t\t\t}\n\t\t\t\tthis.dispatchEvent({type: \"tw-import-tiddlers\", param: JSON.stringify([tiddlerFields])});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t};\n};\n\nDropZoneWidget.prototype.importDataTypes = [\n\t{type: \"text/vnd.tiddler\", IECompatible: false, convertToFields: function(data) {\n\t\treturn JSON.parse(data);\n\t}},\n\t{type: \"URL\", IECompatible: true, convertToFields: function(data) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURI(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn JSON.parse(match[1]);\n\t\t} else {\n\t\t\treturn { // As URL string\n\t\t\t\ttext: data\n\t\t\t};\n\t\t}\n\t}},\n\t{type: \"text/x-moz-url\", IECompatible: false, convertToFields: function(data) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURI(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn JSON.parse(match[1]);\n\t\t} else {\n\t\t\treturn { // As URL string\n\t\t\t\ttext: data\n\t\t\t};\n\t\t}\n\t}},\n\t{type: \"text/html\", IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \"text/plain\", IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \"Text\", IECompatible: true, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \"text/uri-list\", IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}}\n];\n\nDropZoneWidget.prototype.handlePasteEvent  = function(event) {\n\t// Let the browser handle it if we're in a textarea or input box\n\tif([\"TEXTAREA\",\"INPUT\"].indexOf(event.target.tagName) == -1) {\n\t\tvar self = this,\n\t\t\titems = event.clipboardData.items;\n\t\t// Enumerate the clipboard items\n\t\tfor(var t = 0; t&lt;items.length; t++) {\n\t\t\tvar item = items[t];\n\t\t\tif(item.kind === \"file\") {\n\t\t\t\t// Import any files\n\t\t\t\tthis.wiki.readFile(item.getAsFile(),function(tiddlerFieldsArray) {\n\t\t\t\t\tself.dispatchEvent({type: \"tw-import-tiddlers\", param: JSON.stringify(tiddlerFieldsArray)});\n\t\t\t\t});\n\t\t\t} else if(item.kind === \"string\") {\n\t\t\t\t// Create tiddlers from string items\n\t\t\t\tvar type = item.type;\n\t\t\t\titem.getAsString(function(str) {\n\t\t\t\t\tvar tiddlerFields = {\n\t\t\t\t\t\ttitle: self.wiki.generateNewTitle(\"Untitled\"),\n\t\t\t\t\t\ttext: str,\n\t\t\t\t\t\ttype: type\n\t\t\t\t\t};\n\t\t\t\t\tself.dispatchEvent({type: \"tw-import-tiddlers\", param: JSON.stringify([tiddlerFields])});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t// Tell the browser that we've handled the paste\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nDropZoneWidget.prototype.execute = function() {\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDropZoneWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.dropzone = DropZoneWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/dropzone.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-binary.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-binary.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-binary widget; placeholder for editing binary tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar BINARY_WARNING_MESSAGE = \"$:/core/ui/BinaryWarning\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditBinaryWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBinaryWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBinaryWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBinaryWidget.prototype.execute = function() {\n\t// Construct the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \"transclude\",\n\t\tattributes: {\n\t\t\ttiddler: {type: \"string\", value: BINARY_WARNING_MESSAGE}\n\t\t}\n\t}]);\n};\n\n/*\nRefresh by refreshing our child widget\n*/\nEditBinaryWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports[\"edit-binary\"] = EditBinaryWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/edit-binary.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-bitmap.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-bitmap.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-bitmap widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Default image sizes\nvar DEFAULT_IMAGE_WIDTH = 300,\n\tDEFAULT_IMAGE_HEIGHT = 185;\n\n// Configuration tiddlers\nvar LINE_WIDTH_TITLE = \"$:/config/BitmapEditor/LineWidth\",\n\tLINE_COLOUR_TITLE = \"$:/config/BitmapEditor/Colour\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditBitmapWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBitmapWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBitmapWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our element\n\tthis.canvasDomNode = $tw.utils.domMaker(\"canvas\",{\n\t\tdocument: this.document,\n\t\t\"class\":\"tw-edit-bitmapeditor\",\n\t\teventListeners: [{\n\t\t\tname: \"touchstart\", handlerObject: this, handlerMethod: \"handleTouchStartEvent\"\n\t\t},{\n\t\t\tname: \"touchmove\", handlerObject: this, handlerMethod: \"handleTouchMoveEvent\"\n\t\t},{\n\t\t\tname: \"touchend\", handlerObject: this, handlerMethod: \"handleTouchEndEvent\"\n\t\t},{\n\t\t\tname: \"mousedown\", handlerObject: this, handlerMethod: \"handleMouseDownEvent\"\n\t\t},{\n\t\t\tname: \"mousemove\", handlerObject: this, handlerMethod: \"handleMouseMoveEvent\"\n\t\t},{\n\t\t\tname: \"mouseup\", handlerObject: this, handlerMethod: \"handleMouseUpEvent\"\n\t\t}]\n\t});\n\tthis.widthDomNode = $tw.utils.domMaker(\"input\",{\n\t\tdocument: this.document,\n\t\t\"class\":\"tw-edit-bitmapeditor-width\",\n\t\teventListeners: [{\n\t\t\tname: \"change\", handlerObject: this, handlerMethod: \"handleWidthChangeEvent\"\n\t\t}]\n\t});\n\tthis.heightDomNode = $tw.utils.domMaker(\"input\",{\n\t\tdocument: this.document,\n\t\t\"class\":\"tw-edit-bitmapeditor-height\",\n\t\teventListeners: [{\n\t\t\tname: \"change\", handlerObject: this, handlerMethod: \"handleHeightChangeEvent\"\n\t\t}]\n\t});\n\t// Insert the elements into the DOM\n\tparent.insertBefore(this.canvasDomNode,nextSibling);\n\tparent.insertBefore(this.widthDomNode,nextSibling);\n\tparent.insertBefore(this.heightDomNode,nextSibling);\n\tthis.domNodes.push(this.canvasDomNode,this.widthDomNode,this.heightDomNode);\n\t// Load the image into the canvas\n\tthis.loadCanvas();\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBitmapWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n};\n\n/*\nNote that the bitmap editor intentionally doesn't try to refresh itself because it would be confusing to have the image changing spontaneously while editting it\n*/\nEditBitmapWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nEditBitmapWidget.prototype.loadCanvas = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle),\n\t\tcurrImage = new Image();\n\t// Set up event handlers for loading the image\n\tvar self = this;\n\tcurrImage.onload = function() {\n\t\t// Copy the image to the on-screen canvas\n\t\tself.initCanvas(self.canvasDomNode,currImage.width,currImage.height,currImage);\n\t\t// And also copy the current bitmap to the off-screen canvas\n\t\tself.currCanvas = self.document.createElement(\"canvas\");\n\t\tself.initCanvas(self.currCanvas,currImage.width,currImage.height,currImage);\n\t\t// Set the width and height input boxes\n\t\tself.updateSize();\n\t};\n\tcurrImage.onerror = function() {\n\t\t// Set the on-screen canvas size and clear it\n\t\tself.initCanvas(self.canvasDomNode,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the off-screen canvas size and clear it\n\t\tself.currCanvas = self.document.createElement(\"canvas\");\n\t\tself.initCanvas(self.currCanvas,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the width and height input boxes\n\t\tself.updateSize();\n\t}\n\t// Get the current bitmap into an image object\n\tcurrImage.src = \"data:\" + tiddler.fields.type + \";base64,\" + tiddler.fields.text;\n};\n\nEditBitmapWidget.prototype.initCanvas = function(canvas,width,height,image) {\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tvar ctx = canvas.getContext(\"2d\");\n\tif(image) {\n\t\tctx.drawImage(image,0,0);\n\t} else {\n\t\tctx.fillStyle = \"#fff\";\n\t\tctx.fillRect(0,0,canvas.width,canvas.height);\n\t}\n}\n\n/*\n** Update the input boxes with the actual size of the canvas\n*/\nEditBitmapWidget.prototype.updateSize = function() {\n\tthis.widthDomNode.value = this.currCanvas.width;\n\tthis.heightDomNode.value = this.currCanvas.height;\n};\n\n/*\n** Change the size of the canvas, preserving the current image\n*/\nEditBitmapWidget.prototype.changeCanvasSize = function(newWidth,newHeight) {\n\t// Create and size a new canvas\n\tvar newCanvas = this.document.createElement(\"canvas\");\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\n\t// Copy the old image\n\tvar ctx = newCanvas.getContext(\"2d\");\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Set the new canvas as the current one\n\tthis.currCanvas = newCanvas;\n\t// Set the size of the onscreen canvas\n\tthis.canvasDomNode.width = newWidth;\n\tthis.canvasDomNode.height = newHeight;\n\t// Paint the onscreen canvas with the offscreen canvas\n\tctx = this.canvasDomNode.getContext(\"2d\");\n\tctx.drawImage(this.currCanvas,0,0);\n};\n\nEditBitmapWidget.prototype.handleWidthChangeEvent = function(event) {\n\t// Get the new width\n\tvar newWidth = parseInt(this.widthDomNode.value,10);\n\t// Update if necessary\n\tif(newWidth &gt; 0 &amp;&amp; newWidth !== this.currCanvas.width) {\n\t\tthis.changeCanvasSize(newWidth,this.currCanvas.height);\n\t}\n\t// Update the input controls\n\tthis.updateSize();\n};\n\nEditBitmapWidget.prototype.handleHeightChangeEvent = function(event) {\n\t// Get the new width\n\tvar newHeight = parseInt(this.heightDomNode.value,10);\n\t// Update if necessary\n\tif(newHeight &gt; 0 &amp;&amp; newHeight !== this.currCanvas.height) {\n\t\tthis.changeCanvasSize(this.currCanvas.width,newHeight);\n\t}\n\t// Update the input controls\n\tthis.updateSize();\n};\n\nEditBitmapWidget.prototype.handleTouchStartEvent = function(event) {\n\tthis.brushDown = true;\n\tthis.strokeStart(event.touches[0].clientX,event.touches[0].clientY);\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.touches[0].clientX,event.touches[0].clientY);\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchEndEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseDownEvent = function(event) {\n\tthis.strokeStart(event.clientX,event.clientY);\n\tthis.brushDown = true;\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.clientX,event.clientY);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.handleMouseUpEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.adjustCoordinates = function(x,y) {\n\tvar canvasRect = this.canvasDomNode.getBoundingClientRect(),\n\t\tscale = this.canvasDomNode.width/canvasRect.width;\n\treturn {x: (x - canvasRect.left) * scale, y: (y - canvasRect.top) * scale};\n};\n\nEditBitmapWidget.prototype.strokeStart = function(x,y) {\n\t// Start off a new stroke\n\tthis.stroke = [this.adjustCoordinates(x,y)];\n};\n\nEditBitmapWidget.prototype.strokeMove = function(x,y) {\n\tvar ctx = this.canvasDomNode.getContext(\"2d\"),\n\t\tt;\n\t// Add the new position to the end of the stroke\n\tthis.stroke.push(this.adjustCoordinates(x,y));\n\t// Redraw the previous image\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Render the stroke\n\tctx.strokeStyle = this.wiki.getTiddlerText(LINE_COLOUR_TITLE,\"#ff0\");\n\tctx.lineWidth = parseInt(this.wiki.getTiddlerText(LINE_WIDTH_TITLE,\"3\"),10);\n\tctx.lineCap = \"round\";\n\tctx.lineJoin = \"round\";\n\tctx.beginPath();\n\tctx.moveTo(this.stroke[0].x,this.stroke[0].y);\n\tfor(t=1; t&lt;this.stroke.length-1; t++) {\n\t\tvar s1 = this.stroke[t],\n\t\t\ts2 = this.stroke[t-1],\n\t\t\ttx = (s1.x + s2.x)/2,\n\t\t\tty = (s1.y + s2.y)/2;\n\t\tctx.quadraticCurveTo(s2.x,s2.y,tx,ty);\n\t}\n\tctx.stroke();\n};\n\nEditBitmapWidget.prototype.strokeEnd = function() {\n\t// Copy the bitmap to the off-screen canvas\n\tvar ctx = this.currCanvas.getContext(\"2d\");\n\tctx.drawImage(this.canvasDomNode,0,0);\n\t// Save the image into the tiddler\n\tthis.saveChanges();\n};\n\nEditBitmapWidget.prototype.saveChanges = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\tif(tiddler) {\n\t\t// data URIs look like \"data:&lt;type&gt;;base64,&lt;text&gt;\"\n\t\tvar dataURL = this.canvasDomNode.toDataURL(tiddler.fields.type,1.0),\n\t\t\tposColon = dataURL.indexOf(\":\"),\n\t\t\tposSemiColon = dataURL.indexOf(\";\"),\n\t\t\tposComma = dataURL.indexOf(\",\"),\n\t\t\ttype = dataURL.substring(posColon+1,posSemiColon),\n\t\t\ttext = dataURL.substring(posComma+1);\n\t\tvar update = {type: type, text: text};\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,update));\n\t}\n};\n\nexports[\"edit-bitmap\"] = EditBitmapWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/edit-bitmap.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit-text.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit-text.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-text widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar MIN_TEXT_AREA_HEIGHT = 100; // Minimum height of textareas in pixels\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditTextWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditTextWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditTextWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our element\n\tvar editInfo = this.getEditInfo();\n\tvar domNode = this.document.createElement(this.editTag);\n\tif(this.editType) {\n\t\tdomNode.setAttribute(\"type\",this.editType);\n\t}\n\tif(editInfo.value === \"\" &amp;&amp; this.editPlaceholder) {\n\t\tdomNode.setAttribute(\"placeholder\",this.editPlaceholder);\n\t}\n\tif(this.editSize) {\n\t\tdomNode.setAttribute(\"size\",this.editSize);\n\t}\n\t// Assign classes\n\tif(this.editClass) {\n\t\tdomNode.className = this.editClass;\n\t}\n\t// Set the text\n\tif(this.editTag === \"textarea\") {\n\t\tdomNode.appendChild(this.document.createTextNode(editInfo.value));\n\t} else {\n\t\tdomNode.value = editInfo.value;\n\t}\n\t// Add an input event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"focus\", handlerObject: this, handlerMethod: \"handleFocusEvent\"},\n\t\t{name: \"input\", handlerObject: this, handlerMethod: \"handleInputEvent\"}\n\t]);\n\t// Insert the element into the DOM\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n\t// Fix height\n\tthis.fixHeight();\n};\n\n/*\nGet the tiddler being edited and current value\n*/\nEditTextWidget.prototype.getEditInfo = function() {\n\t// Get the edit value\n\tvar self = this,\n\t\tvalue,\n\t\tupdate;\n\tif(this.editIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.editTitle,this.editIndex,this.editDefault);\n\t\tupdate = function(value) {\n\t\t\tvar data = self.wiki.getTiddlerData(self.editTitle,{});\n\t\t\tif(data[self.editIndex] !== value) {\n\t\t\t\tdata[self.editIndex] = value;\n\t\t\t\tself.wiki.setTiddlerData(self.editTitle,data);\n\t\t\t}\n\t\t};\n\t} else {\n\t\t// Get the current tiddler and the field name\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\t// If we've got a tiddler, the value to display is the field string value\n\t\t\tvalue = tiddler.getFieldString(this.editField);\n\t\t} else {\n\t\t\t// Otherwise, we need to construct a default value for the editor\n\t\t\tswitch(this.editField) {\n\t\t\t\tcase \"text\":\n\t\t\t\t\tvalue = \"Type the text for the tiddler '\" + this.editTitle + \"'\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"title\":\n\t\t\t\t\tvalue = this.editTitle;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(this.editDefault !== undefined) {\n\t\t\t\tvalue = this.editDefault;\n\t\t\t}\n\t\t}\n\t\tupdate = function(value) {\n\t\t\tvar tiddler = self.wiki.getTiddler(self.editTitle),\n\t\t\t\tupdateFields = {\n\t\t\t\t\ttitle: self.editTitle\n\t\t\t\t};\n\t\t\tupdateFields[self.editField] = value;\n\t\t\tself.wiki.addTiddler(new $tw.Tiddler(self.wiki.getCreationFields(),tiddler,updateFields,self.wiki.getModificationFields()));\n\t\t};\n\t}\n\treturn {value: value, update: update};\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditTextWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.editField = this.getAttribute(\"field\",\"text\");\n\tthis.editIndex = this.getAttribute(\"index\");\n\tthis.editDefault = this.getAttribute(\"default\");\n\tthis.editClass = this.getAttribute(\"class\");\n\tthis.editPlaceholder = this.getAttribute(\"placeholder\");\n\tthis.editSize = this.getAttribute(\"size\");\n\tthis.editFocusPopup = this.getAttribute(\"focusPopup\");\n\t// Get the editor element tag and type\n\tvar tag,type;\n\tif(this.editField === \"text\") {\n\t\ttag = \"textarea\";\n\t} else {\n\t\ttag = \"input\";\n\t\tvar fieldModule = $tw.Tiddler.fieldModules[this.editField];\n\t\tif(fieldModule &amp;&amp; fieldModule.editTag) {\n\t\t\ttag = fieldModule.editTag;\n\t\t}\n\t\tif(fieldModule &amp;&amp; fieldModule.editType) {\n\t\t\ttype = fieldModule.editType;\n\t\t}\n\t\ttype = type || \"text\";\n\t}\n\t// Get the rest of our parameters\n\tthis.editTag = this.getAttribute(\"tag\",tag);\n\tthis.editType = this.getAttribute(\"type\",type);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditTextWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Completely rerender if any of our attributes have changed\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedTiddlers[this.editTitle]) {\n\t\tthis.updateEditor(this.getEditInfo().value);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n/*\nUpdate the editor with new text. This method is separate from updateEditorDomNode()\nso that subclasses can override updateEditor() and still use updateEditorDomNode()\n*/\nEditTextWidget.prototype.updateEditor = function(text) {\n\tthis.updateEditorDomNode(text);\n};\n\n/*\nUpdate the editor dom node with new text\n*/\nEditTextWidget.prototype.updateEditorDomNode = function(text) {\n\t// Replace the edit value if the tiddler we're editing has changed\n\tvar domNode = this.domNodes[0];\n\tif(!domNode.isTiddlyWikiFakeDom) {\n\t\tif(this.document.activeElement !== domNode) {\n\t\t\tdomNode.value = text;\n\t\t}\n\t\t// Fix the height if needed\n\t\tthis.fixHeight();\n\t}\n};\n\n/*\nFix the height of textareas to fit their content\n*/\nEditTextWidget.prototype.fixHeight = function() {\n\tvar self = this,\n\t\tdomNode = this.domNodes[0];\n\tif(domNode &amp;&amp; !domNode.isTiddlyWikiFakeDom &amp;&amp; this.editTag === \"textarea\") {\n\t\t$tw.utils.nextTick(function() {\n\t\t\t// Resize the textarea to fit its content, preserving scroll position\n\t\t\tvar scrollPosition = $tw.utils.getScrollPosition(),\n\t\t\t\tscrollTop = scrollPosition.y;\n\t\t\t// Set its height to auto so that it snaps to the correct height\n\t\t\tdomNode.style.height = \"auto\";\n\t\t\t// Calculate the revised height\n\t\t\tvar newHeight = Math.max(domNode.scrollHeight + domNode.offsetHeight - domNode.clientHeight,MIN_TEXT_AREA_HEIGHT);\n\t\t\t// Only try to change the height if it has changed\n\t\t\tif(newHeight !== domNode.offsetHeight) {\n\t\t\t\tdomNode.style.height =  newHeight + \"px\";\n\t\t\t\t// Make sure that the dimensions of the textarea are recalculated\n\t\t\t\t$tw.utils.forceLayout(domNode);\n\t\t\t\t// Check that the scroll position is still visible before trying to scroll back to it\n\t\t\t\tscrollTop = Math.min(scrollTop,self.document.body.scrollHeight - window.innerHeight);\n\t\t\t\twindow.scrollTo(scrollPosition.x,scrollTop);\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nHandle a dom \"input\" event\n*/\nEditTextWidget.prototype.handleInputEvent = function(event) {\n\tthis.saveChanges(this.domNodes[0].value);\n\tthis.fixHeight();\n\treturn true;\n};\n\nEditTextWidget.prototype.handleFocusEvent = function(event) {\n\tif(this.editFocusPopup) {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: this.domNodes[0],\n\t\t\ttitle: this.editFocusPopup,\n\t\t\twiki: this.wiki,\n\t\t\tforce: true\n\t\t});\n\t}\n\treturn true;\n};\n\nEditTextWidget.prototype.saveChanges = function(text) {\n\tvar editInfo = this.getEditInfo();\n\tif(text !== editInfo.value) {\n\t\teditInfo.update(text);\n\t}\n};\n\nexports[\"edit-text\"] = EditTextWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/edit-text.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/edit.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/edit.js\ntype: application/javascript\nmodule-type: widget\n\nEdit widget is a meta-widget chooses the appropriate actual editting widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EditWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n// Mappings from content type to editor type are stored in tiddlers with this prefix\nvar EDITOR_MAPPING_PREFIX = \"$:/config/EditorTypeMappings/\";\n\n/*\nCompute the internal state of the widget\n*/\nEditWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.editField = this.getAttribute(\"field\",\"text\");\n\tthis.editIndex = this.getAttribute(\"index\");\n\tthis.editClass = this.getAttribute(\"class\");\n\tthis.editPlaceholder = this.getAttribute(\"placeholder\");\n\t// Get the content type of the thing we're editing\n\tvar type;\n\tif(this.editField === \"text\") {\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\ttype = tiddler.fields.type;\n\t\t}\n\t}\n\ttype = type || \"text/vnd.tiddlywiki\";\n\t// Choose the appropriate edit widget\n\tvar editorType = this.wiki.getTiddlerText(EDITOR_MAPPING_PREFIX + type);\n\tif(!editorType) {\n\t\tvar typeInfo = $tw.config.contentTypeInfo[type];\n\t\tif(typeInfo &amp;&amp; typeInfo.encoding === \"base64\") {\n\t\t\teditorType = \"binary\";\n\t\t} else {\n\t\t\teditorType = \"text\";\n\t\t}\n\t}\n\t// Make the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \"edit-\" + editorType,\n\t\tattributes: {\n\t\t\ttiddler: {type: \"string\", value: this.editTitle},\n\t\t\tfield: {type: \"string\", value: this.editField},\n\t\t\tindex: {type: \"string\", value: this.editIndex},\n\t\t\t\"class\": {type: \"string\", value: this.editClass},\n\t\t\t\"placeholder\": {type: \"string\", value: this.editPlaceholder}\n\t\t}\n\t}]);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.edit = EditWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/edit.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/element.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/element.js\ntype: application/javascript\nmodule-type: widget\n\nElement widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ElementWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nElementWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nElementWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Neuter blacklisted elements\n\tvar tag = this.parseTreeNode.tag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \"safe-\" + tag;\n\t}\n\tvar domNode = this.document.createElementNS(this.namespace,tag);\n\tthis.assignAttributes(domNode,{excludeEventAttributes: true});\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nElementWidget.prototype.execute = function() {\n\t// Select the namespace for the tag\n\tvar tagNamespaces = {\n\t\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\t\tmath: \"http://www.w3.org/1998/Math/MathML\",\n\t\t\tbody: \"http://www.w3.org/1999/xhtml\"\n\t\t};\n\tthis.namespace = tagNamespaces[this.parseTreeNode.tag];\n\tif(this.namespace) {\n\t\tthis.setVariable(\"namespace\",this.namespace);\n\t} else {\n\t\tthis.namespace = this.getVariable(\"namespace\",{defaultValue: \"http://www.w3.org/1999/xhtml\"});\n\t}\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nElementWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\thasChangedAttributes = $tw.utils.count(changedAttributes) &gt; 0;\n\tif(hasChangedAttributes) {\n\t\t// Update our attributes\n\t\tthis.assignAttributes(this.domNodes[0],{excludeEventAttributes: true});\n\t}\n\treturn this.refreshChildren(changedTiddlers) || hasChangedAttributes;\n};\n\nexports.element = ElementWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/element.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/encrypt.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/encrypt.js\ntype: application/javascript\nmodule-type: widget\n\nEncrypt widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EncryptWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEncryptWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEncryptWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.encryptedText);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEncryptWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\"filter\",\"[!is[system]]\");\n\t// Encrypt the filtered tiddlers\n\tvar tiddlers = this.wiki.filterTiddlers(this.filter),\n\t\tjson = {},\n\t\tself = this;\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title),\n\t\t\tjsonTiddler = {};\n\t\tfor(var f in tiddler.fields) {\n\t\t\tjsonTiddler[f] = tiddler.getFieldString(f);\n\t\t}\n\t\tjson[title] = jsonTiddler;\n\t});\n\tthis.encryptedText = $tw.utils.htmlEncode($tw.crypto.encrypt(JSON.stringify(json)));\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEncryptWidget.prototype.refresh = function(changedTiddlers) {\n\t// We don't need to worry about refreshing because the encrypt widget isn't for interactive use\n\treturn false;\n};\n\nexports.encrypt = EncryptWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/encrypt.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/entity.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/entity.js\ntype: application/javascript\nmodule-type: widget\n\nHTML entity widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar EntityWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEntityWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEntityWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar textNode = this.document.createTextNode($tw.utils.entityDecode(this.parseTreeNode.entity));\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEntityWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEntityWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.entity = EntityWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/entity.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/fieldmangler.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/fieldmangler.js\ntype: application/javascript\nmodule-type: widget\n\nField mangler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar FieldManglerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \"tw-remove-field\", handler: \"handleRemoveFieldEvent\"},\n\t\t{type: \"tw-add-field\", handler: \"handleAddFieldEvent\"},\n\t\t{type: \"tw-remove-tag\", handler: \"handleRemoveTagEvent\"},\n\t\t{type: \"tw-add-tag\", handler: \"handleAddTagEvent\"}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldManglerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldManglerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldManglerWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.mangleTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldManglerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nFieldManglerWidget.prototype.handleRemoveFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\tdeletion = {};\n\tdeletion[event.param] = undefined;\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,deletion));\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleAddFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; typeof event.param === \"string\") {\n\t\tvar name = event.param.toLowerCase().trim();\n\t\tif(name !== \"\" &amp;&amp; !$tw.utils.hop(tiddler.fields,name)) {\n\t\t\tif(!$tw.utils.isValidFieldName(name)) {\n\t\t\t\talert($tw.language.getString(\n\t\t\t\t\t\"InvalidFieldName\",\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{fieldName: name}\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar addition = this.wiki.getModificationFields();\n\t\t\taddition[name] = \"\";\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,addition));\n\t\t}\n\t}\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleRemoveTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\tvar p = tiddler.fields.tags.indexOf(event.param);\n\t\tif(p !== -1) {\n\t\t\tvar modification = this.wiki.getModificationFields();\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\tmodification.tags.splice(p,1);\n\t\t\tif(modification.tags.length === 0) {\n\t\t\t\tmodification.tags = undefined;\n\t\t\t}\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\n\t\t}\n\t}\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleAddTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; typeof event.param === \"string\") {\n\t\tvar tag = event.param.trim();\n\t\tif(tag !== \"\") {\n\t\t\tvar modification = this.wiki.getModificationFields();\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\t$tw.utils.pushTop(modification.tags,tag);\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\t\t\t\n\t\t}\n\t}\n\treturn true;\n};\n\nexports.fieldmangler = FieldManglerWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/fieldmangler.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/fields.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/fields.js\ntype: application/javascript\nmodule-type: widget\n\nFields widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar FieldsWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldsWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldsWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldsWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.tiddlerTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.template = this.getAttribute(\"template\");\n\tthis.exclude = this.getAttribute(\"exclude\");\n\tthis.stripTitlePrefix = this.getAttribute(\"stripTitlePrefix\",\"no\") === \"yes\";\n\t// Get the value to display\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\t// Get the exclusion list\n\tvar exclude;\n\tif(this.exclude) {\n\t\texclude = this.exclude.split(\" \");\n\t} else {\n\t\texclude = [\"text\"]; \n\t}\n\t// Compose the template\n\tvar text = [];\n\tif(this.template &amp;&amp; tiddler) {\n\t\tvar fields = [];\n\t\tfor(var fieldName in tiddler.fields) {\n\t\t\tif(exclude.indexOf(fieldName) === -1) {\n\t\t\t\tfields.push(fieldName);\n\t\t\t}\n\t\t}\n\t\tfields.sort();\n\t\tfor(var f=0; f&lt;fields.length; f++) {\n\t\t\tfieldName = fields[f];\n\t\t\tif(exclude.indexOf(fieldName) === -1) {\n\t\t\t\tvar row = this.template,\n\t\t\t\t\tvalue = tiddler.getFieldString(fieldName);\n\t\t\t\tif(this.stripTitlePrefix &amp;&amp; fieldName === \"title\") {\n\t\t\t\t\tvar reStrip = /^\\{[^\\}]+\\}(.+)/mg,\n\t\t\t\t\t\treMatch = reStrip.exec(value);\n\t\t\t\t\tif(reMatch) {\n\t\t\t\t\t\tvalue = reMatch[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trow = row.replace(\"$name$\",fieldName);\n\t\t\t\trow = row.replace(\"$value$\",value);\n\t\t\t\trow = row.replace(\"$encoded_value$\",$tw.utils.htmlEncode(value));\n\t\t\t\ttext.push(row)\n\t\t\t}\n\t\t}\n\t}\n\tthis.text = text.join(\"\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.template || changedAttributes.exclude || changedAttributes.stripTitlePrefix || changedTiddlers[this.tiddlerTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.fields = FieldsWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/fields.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/image.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/image.js\ntype: application/javascript\nmodule-type: widget\n\nThe image widget displays an image referenced with an external URI or with a local tiddler title.\n\n```\n&lt;$image src=\"TiddlerTitle\" width=\"320\" height=\"400\" class=\"classnames\"&gt;\n```\n\nThe image source can be the title of an existing tiddler or the URL of an external image.\n\nExternal images always generate an HTML `&lt;img&gt;` tag.\n\nTiddlers that have a _canonical_uri field generate an HTML `&lt;img&gt;` tag with the src attribute containing the URI.\n\nTiddlers that contain image data generate an HTML `&lt;img&gt;` tag with the src attribute containing a base64 representation of the image.\n\nTiddlers that contain wikitext could be rendered to a DIV of the usual size of a tiddler, and then transformed to the size requested.\n\nThe width and height attributes are interpreted as a number of pixels, and do not need to include the \"px\" suffix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ImageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\t// Determine what type of image it is\n\tvar tag = \"img\", src = \"\",\n\t\ttiddler = this.wiki.getTiddler(this.imageSource);\n\tif(!tiddler) {\n\t\t// The source isn't the title of a tiddler, so we'll assume it's a URL\n\t\tsrc = this.imageSource;\n\t} else {\n\t\t// Check if it is an image tiddler\n\t\tif(this.wiki.isImageTiddler(this.imageSource)) {\n\t\t\tvar type = tiddler.fields.type,\n\t\t\t\ttext = tiddler.fields.text,\n\t\t\t\t_canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t// If the tiddler has body text then it doesn't need to be lazily loaded\n\t\t\tif(text) {\n\t\t\t\t// Render the appropriate element for the image type\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \"application/pdf\":\n\t\t\t\t\t\ttag = \"embed\";\n\t\t\t\t\t\tsrc = \"data:application/pdf;base64,\" + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"image/svg+xml\":\n\t\t\t\t\t\tsrc = \"data:image/svg+xml,\" + encodeURIComponent(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = \"data:\" + type + \";base64,\" + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if(_canonical_uri) {\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \"application/pdf\":\n\t\t\t\t\t\ttag = \"embed\";\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"image/svg+xml\":\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n\t// Create the element and assign the attributes\n\tvar domNode = this.document.createElement(tag);\n\tdomNode.setAttribute(\"src\",src);\n\tif(this.imageClass) {\n\t\tdomNode.setAttribute(\"class\",this.imageClass);\t\t\n\t}\n\tif(this.imageWidth) {\n\t\tdomNode.setAttribute(\"width\",parseInt(this.imageWidth,10) + \"px\");\n\t}\n\tif(this.imageHeight) {\n\t\tdomNode.setAttribute(\"height\",parseInt(this.imageHeight,10) + \"px\");\n\t}\n\tif(this.imageTooltip) {\n\t\tdomNode.setAttribute(\"title\",this.imageTooltip);\t\t\n\t}\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImageWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.imageSource = this.getAttribute(\"source\");\n\tthis.imageWidth = this.getAttribute(\"width\");\n\tthis.imageHeight = this.getAttribute(\"height\");\n\tthis.imageClass = this.getAttribute(\"class\");\n\tthis.imageTooltip = this.getAttribute(\"tooltip\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.source || changedAttributes.width || changedAttributes.height || changedAttributes[\"class\"] || changedAttributes.tooltip || changedTiddlers[this.imageSource]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\t\n\t}\n};\n\nexports.image = ImageWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/image.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/importvariables.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/importvariables.js\ntype: application/javascript\nmodule-type: widget\n\nImport variable definitions from other tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ImportVariablesWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImportVariablesWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImportVariablesWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImportVariablesWidget.prototype.execute = function(tiddlerList) {\n\tvar self = this;\n\t// Get our parameters\n\tthis.filter = this.getAttribute(\"filter\");\n\t// Compute the filter\n\tthis.tiddlerList = tiddlerList || this.wiki.filterTiddlers(this.filter,this);\n\t// Accumulate the &lt;$set&gt; widgets from each tiddler\n\tvar widgetStackStart,widgetStackEnd;\n\tfunction addWidgetNode(widgetNode) {\n\t\tif(widgetNode) {\n\t\t\tif(!widgetStackStart &amp;&amp; !widgetStackEnd) {\n\t\t\t\twidgetStackStart = widgetNode;\n\t\t\t\twidgetStackEnd = widgetNode;\n\t\t\t} else {\n\t\t\t\twidgetStackEnd.children = [widgetNode];\n\t\t\t\twidgetStackEnd = widgetNode;\n\t\t\t}\n\t\t}\n\t}\n\t$tw.utils.each(this.tiddlerList,function(title) {\n\t\tvar parser = self.wiki.parseTiddler(title);\n\t\tif(parser) {\n\t\t\tvar parseTreeNode = parser.tree[0];\n\t\t\twhile(parseTreeNode &amp;&amp; parseTreeNode.type === \"set\") {\n\t\t\t\taddWidgetNode({\n\t\t\t\t\ttype: \"set\",\n\t\t\t\t\tattributes: parseTreeNode.attributes,\n\t\t\t\t\tparams: parseTreeNode.params\n\t\t\t\t});\n\t\t\t\tparseTreeNode = parseTreeNode.children[0];\n\t\t\t}\n\t\t} \n\t});\n\t// Add our own children to the end of the pile\n\tvar parseTreeNodes;\n\tif(widgetStackStart &amp;&amp; widgetStackEnd) {\n\t\tparseTreeNodes = [widgetStackStart];\n\t\twidgetStackEnd.children = this.parseTreeNode.children;\n\t} else {\n\t\tparseTreeNodes = this.parseTreeNode.children;\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImportVariablesWidget.prototype.refresh = function(changedTiddlers) {\n\t// Recompute our attributes and the filter list\n\tvar changedAttributes = this.computeAttributes(),\n\t\ttiddlerList = this.wiki.filterTiddlers(this.getAttribute(\"filter\"),this);\n\t// Refresh if the filter has changed, or the list of tiddlers has changed, or any of the tiddlers in the list has changed\n\tfunction haveListedTiddlersChanged() {\n\t\tvar changed = false;\n\t\ttiddlerList.forEach(function(title) {\n\t\t\tif(changedTiddlers[title]) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\t\treturn changed;\n\t}\n\tif(changedAttributes.filter || !$tw.utils.isArrayEqual(this.tiddlerList,tiddlerList) || haveListedTiddlersChanged()) {\n\t\t// Compute the filter\n\t\tthis.removeChildDomNodes();\n\t\tthis.execute(tiddlerList);\n\t\tthis.renderChildren(this.parentDomNode,this.findNextSiblingDomNode());\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.importvariables = ImportVariablesWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/importvariables.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/keyboard.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/keyboard.js\ntype: application/javascript\nmodule-type: widget\n\nKeyboard shortcut widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar KeyboardWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nKeyboardWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nKeyboardWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\"div\");\n\t// Assign classes\n\tvar classes = (this[\"class\"] || \"\").split(\" \");\n\tclasses.push(\"tw-keyboard\");\n\tdomNode.className = classes.join(\" \");\n\t// Add a keyboard event handler\n\tdomNode.addEventListener(\"keydown\",function (event) {\n\t\tif(event.keyCode === self.keyInfo.keyCode &amp;&amp; \n\t\t\tevent.shiftKey === self.keyInfo.shiftKey &amp;&amp; \n\t\t\tevent.altKey === self.keyInfo.altKey &amp;&amp; \n\t\t\tevent.ctrlKey === self.keyInfo.ctrlKey) {\n\t\t\tself.dispatchMessage(event);\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nKeyboardWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\"currentTiddler\")});\n};\n\n/*\nCompute the internal state of the widget\n*/\nKeyboardWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.message = this.getAttribute(\"message\");\n\tthis.param = this.getAttribute(\"param\");\n\tthis.key = this.getAttribute(\"key\");\n\tthis.keyInfo = $tw.utils.parseKeyDescriptor(this.key);\n\tthis[\"class\"] = this.getAttribute(\"class\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nKeyboardWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.message || changedAttributes.param || changedAttributes.key || changedAttributes[\"class\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.keyboard = KeyboardWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/keyboard.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/link.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/link.js\ntype: application/javascript\nmodule-type: widget\n\nLink widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar LinkWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the value of the tw-wikilinks configuration macro\n\tvar wikiLinksMacro = this.getVariable(\"tw-wikilinks\"),\n\t\tuseWikiLinks = wikiLinksMacro ? !(wikiLinksMacro.trim() === \"no\") : true;\n\t// Render the link if required\n\tif(useWikiLinks) {\n\t\tthis.renderLink(parent,nextSibling);\n\t} else {\n\t\t// Just insert the link text\n\t\tvar domNode = this.document.createElement(\"span\");\n\t\tparent.insertBefore(domNode,nextSibling);\n\t\tthis.renderChildren(domNode,null);\n\t\tthis.domNodes.push(domNode);\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.renderLink = function(parent,nextSibling) {\n\tvar self = this;\n\t// Create our element\n\tvar domNode = this.document.createElement(\"a\");\n\t// Assign classes\n\tvar classes = [\"tw-tiddlylink\"];\n\tif(this.isShadow) {\n\t\tclasses.push(\"tw-tiddlylink-shadow\");\n\t}\n\tif(this.isMissing &amp;&amp; !this.isShadow) {\n\t\tclasses.push(\"tw-tiddlylink-missing\");\n\t} else {\n\t\tif(!this.isMissing) {\n\t\t\tclasses.push(\"tw-tiddlylink-resolves\");\n\t\t}\n\t}\n\tdomNode.setAttribute(\"class\",classes.join(\" \"));\n\t// Set an href\n\tvar wikiLinkTemplateMacro = this.getVariable(\"tw-wikilink-template\"),\n\t\twikiLinkTemplate = wikiLinkTemplateMacro ? wikiLinkTemplateMacro.trim() : \"#$uri_encoded$\",\n\t\twikiLinkText = wikiLinkTemplate.replace(\"$uri_encoded$\",encodeURIComponent(this.to));\n\twikiLinkText = wikiLinkText.replace(\"$uri_doubleencoded$\",encodeURIComponent(encodeURIComponent(this.to)));\n\tdomNode.setAttribute(\"href\",wikiLinkText);\n\t// Set the tooltip\n\t// HACK: Performance issues with re-parsing the tooltip prevent us defaulting the tooltip to \"&lt;$transclude field='tooltip'&gt;&lt;$transclude field='title'/&gt;&lt;/$transclude&gt;\"\n\tvar tooltipWikiText = this.tooltip || this.getVariable(\"tw-wikilink-tooltip\");\n\tif(tooltipWikiText) {\n\t\tvar tooltipText = this.wiki.renderText(\"text/plain\",\"text/vnd.tiddlywiki\",tooltipWikiText,{\n\t\t\t\tparseAsInline: true,\n\t\t\t\tvariables: {\n\t\t\t\t\tcurrentTiddler: this.to\n\t\t\t\t},\n\t\t\t\tparentWidget: this\n\t\t\t});\n\t\tdomNode.setAttribute(\"title\",tooltipText);\n\t}\n\tif(this[\"aria-label\"]) {\n\t\tdomNode.setAttribute(\"aria-label\",this[\"aria-label\"]);\n\t}\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"click\", handlerObject: this, handlerMethod: \"handleClickEvent\"},\n\t\t{name: \"dragstart\", handlerObject: this, handlerMethod: \"handleDragStartEvent\"},\n\t\t{name: \"dragend\", handlerObject: this, handlerMethod: \"handleDragEndEvent\"}\n\t]);\n\t// Insert the link into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nLinkWidget.prototype.handleClickEvent = function (event) {\n\t// Send the click on it's way as a navigate event\n\tvar bounds = this.domNodes[0].getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \"tw-navigate\",\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\"storyTiddler\"),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1)\n\t});\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nLinkWidget.prototype.handleDragStartEvent = function(event) {\n\tif(this.to) {\n\t\t// Set the dragging class on the element being dragged\n\t\t$tw.utils.addClass(event.target,\"tw-tiddlylink-dragging\");\n\t\t// Create the drag image elements\n\t\tthis.dragImage = this.document.createElement(\"div\");\n\t\tthis.dragImage.className = \"tw-tiddler-dragger\";\n\t\tvar inner = this.document.createElement(\"div\");\n\t\tinner.className = \"tw-tiddler-dragger-inner\";\n\t\tinner.appendChild(this.document.createTextNode(this.to));\n\t\tthis.dragImage.appendChild(inner);\n\t\tthis.document.body.appendChild(this.dragImage);\n\t\t// Astoundingly, we need to cover the dragger up: http://www.kryogenix.org/code/browser/custom-drag-image.html\n\t\tvar cover = this.document.createElement(\"div\");\n\t\tcover.className = \"tw-tiddler-dragger-cover\";\n\t\tcover.style.left = (inner.offsetLeft - 16) + \"px\";\n\t\tcover.style.top = (inner.offsetTop - 16) + \"px\";\n\t\tcover.style.width = (inner.offsetWidth + 32) + \"px\";\n\t\tcover.style.height = (inner.offsetHeight + 32) + \"px\";\n\t\tthis.dragImage.appendChild(cover);\n\t\t// Set the data transfer properties\n\t\tvar dataTransfer = event.dataTransfer;\n\t\t// First the image\n\t\tdataTransfer.effectAllowed = \"copy\";\n\t\tif(dataTransfer.setDragImage) {\n\t\t\tdataTransfer.setDragImage(this.dragImage.firstChild,-16,-16);\n\t\t}\n\t\t// Then the data\n\t\tdataTransfer.clearData();\n\t\tvar jsonData = this.wiki.getTiddlerAsJson(this.to),\n\t\t\ttextData = this.wiki.getTiddlerText(this.to,\"\");\n\t\t// IE doesn't like these content types\n\t\tif(!$tw.browser.isIE) {\n\t\t\tdataTransfer.setData(\"text/vnd.tiddler\",jsonData);\n\t\t\tdataTransfer.setData(\"text/plain\",textData);\n\t\t\tdataTransfer.setData(\"text/x-moz-url\",\"data:text/vnd.tiddler,\" + encodeURI(jsonData));\n\t\t}\n\t\tdataTransfer.setData(\"URL\",\"data:text/vnd.tiddler,\" + encodeURI(jsonData));\n\t\tdataTransfer.setData(\"Text\",textData);\n\t\tevent.stopPropagation();\n\t} else {\n\t\tevent.preventDefault();\n\t}\n};\n\nLinkWidget.prototype.handleDragEndEvent = function(event) {\n\t// Remove the dragging class on the element being dragged\n\t$tw.utils.removeClass(event.target,\"tw-tiddlylink-dragging\");\n\t// Delete the drag image element\n\tif(this.dragImage) {\n\t\tthis.dragImage.parentNode.removeChild(this.dragImage);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkWidget.prototype.execute = function() {\n\t// Get the target tiddler title\n\tthis.to = this.getAttribute(\"to\",this.getVariable(\"currentTiddler\"));\n\t// Get the link title and aria label\n\tthis.tooltip = this.getAttribute(\"tooltip\");\n\tthis[\"aria-label\"] = this.getAttribute(\"aria-label\");\n\t// Determine the link characteristics\n\tthis.isMissing = !this.wiki.tiddlerExists(this.to);\n\tthis.isShadow = this.wiki.isShadowTiddler(this.to);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedTiddlers[this.to] || changedAttributes[\"aria-label\"] || changedAttributes.tooltip) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.link = LinkWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/link.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/linkcatcher.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/linkcatcher.js\ntype: application/javascript\nmodule-type: widget\n\nLinkcatcher widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar LinkCatcherWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \"tw-navigate\", handler: \"handleNavigateEvent\"}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkCatcherWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkCatcherWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkCatcherWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.catchTo = this.getAttribute(\"to\");\n\tthis.catchMessage = this.getAttribute(\"message\");\n\tthis.catchSet = this.getAttribute(\"set\");\n\tthis.catchSetTo = this.getAttribute(\"setTo\");\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkCatcherWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.set || changedAttributes.setTo) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\n/*\nHandle a tw-navigate event\n*/\nLinkCatcherWidget.prototype.handleNavigateEvent = function(event) {\n\tif(this.catchTo) {\n\t\tthis.wiki.setTextReference(this.catchTo,event.navigateTo,this.getVariable(\"currentTiddler\"));\n\t}\n\tif(this.catchMessage &amp;&amp; this.parentWidget) {\n\t\tthis.parentWidget.dispatchEvent({\n\t\t\ttype: this.catchMessage,\n\t\t\tparam: event.navigateTo,\n\t\t\tnavigateTo: event.navigateTo\n\t\t});\n\t}\n\tif(this.catchSet) {\n\t\tvar tiddler = this.wiki.getTiddler(this.catchSet);\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,{title: this.catchSet, text: this.catchSetTo}));\n\t}\n\treturn false;\n};\n\nexports.linkcatcher = LinkCatcherWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/linkcatcher.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/list.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/list.js\ntype: application/javascript\nmodule-type: widget\n\nList and list item widgets\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n/*\nThe list widget creates list element sub-widgets that reach back into the list widget for their configuration\n*/\n\nvar ListWidget = function(parseTreeNode,options) {\n\t// Initialise the storyviews if they've not been done already\n\tif(!this.storyViews) {\n\t\tListWidget.prototype.storyViews = {};\n\t\t$tw.modules.applyMethods(\"storyview\",this.storyViews);\n\t}\n\t// Main initialisation inherited from widget.js\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\t// Construct the storyview\n\tvar StoryView = this.storyViews[this.storyViewName];\n\tif(StoryView &amp;&amp; !this.document.isTiddlyWikiFakeDom) {\n\t\tthis.storyview = new StoryView(this)\n\t} else {\n\t\tthis.storyview = null;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nListWidget.prototype.execute = function() {\n\t// Get our attributes\n\tthis.template = this.getAttribute(\"template\");\n\tthis.editTemplate = this.getAttribute(\"editTemplate\");\n\tthis.variableName = this.getAttribute(\"variable\",\"currentTiddler\");\n\tthis.storyViewName = this.getAttribute(\"storyview\");\n\tthis.historyTitle = this.getAttribute(\"history\");\n\t// Compose the list elements\n\tthis.list = this.getTiddlerList();\n\tvar members = [],\n\t\tself = this;\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\tmembers = this.getEmptyMessage();\n\t} else {\n\t\t$tw.utils.each(this.list,function(title,index) {\n\t\t\tmembers.push(self.makeItemTemplate(title));\n\t\t});\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(members);\n\t// Clear the last history\n\tthis.history = [];\n};\n\nListWidget.prototype.getTiddlerList = function() {\n\tvar defaultFilter = \"[!is[system]sort[title]]\";\n\treturn this.wiki.filterTiddlers(this.getAttribute(\"filter\",defaultFilter),this);\n};\n\nListWidget.prototype.getEmptyMessage = function() {\n\tvar emptyMessage = this.getAttribute(\"emptyMessage\",\"\"),\n\t\tparser = this.wiki.parseText(\"text/vnd.tiddlywiki\",emptyMessage,{parseAsInline: true});\n\tif(parser) {\n\t\treturn parser.tree;\n\t} else {\n\t\treturn [];\n\t}\n};\n\n/*\nCompose the template for a list item\n*/\nListWidget.prototype.makeItemTemplate = function(title) {\n\t// Check if the tiddler is a draft\n\tvar tiddler = this.wiki.getTiddler(title),\n\t\tisDraft = tiddler &amp;&amp; tiddler.hasField(\"draft.of\"),\n\t\ttemplate = this.template,\n\t\ttemplateTree;\n\tif(isDraft &amp;&amp; this.editTemplate) {\n\t\ttemplate = this.editTemplate;\n\t}\n\t// Compose the transclusion of the template\n\tif(template) {\n\t\ttemplateTree = [{type: \"transclude\", attributes: {tiddler: {type: \"string\", value: template}}}];\n\t} else {\n\t\tif(this.parseTreeNode.children &amp;&amp; this.parseTreeNode.children.length &gt; 0) {\n\t\t\ttemplateTree = this.parseTreeNode.children;\n\t\t} else {\n\t\t\t// Default template is a link to the title\n\t\t\ttemplateTree = [{type: \"element\", tag: this.parseTreeNode.isBlock ? \"div\" : \"span\", children: [{type: \"link\", attributes: {to: {type: \"string\", value: title}}, children: [\n\t\t\t\t\t{type: \"text\", text: title}\n\t\t\t]}]}];\n\t\t}\n\t}\n\t// Return the list item\n\treturn {type: \"listitem\", itemTitle: title, variableName: this.variableName, children: templateTree};\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Completely refresh if any of our attributes have changed\n\tif(changedAttributes.filter || changedAttributes.template || changedAttributes.editTemplate || changedAttributes.emptyMessage || changedAttributes.storyview || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\t// Handle any changes to the list\n\t\tvar hasChanged = this.handleListChanges(changedTiddlers);\n\t\t// Handle any changes to the history stack\n\t\tif(this.historyTitle &amp;&amp; changedTiddlers[this.historyTitle]) {\n\t\t\tthis.handleHistoryChanges();\n\t\t}\n\t\treturn hasChanged;\n\t}\n};\n\n/*\nHandle any changes to the history list\n*/\nListWidget.prototype.handleHistoryChanges = function() {\n\t// Get the history data\n\tvar newHistory = this.wiki.getTiddlerData(this.historyTitle,[]);\n\t// Ignore any entries of the history that match the previous history\n\tvar entry = 0;\n\twhile(entry &lt; newHistory.length &amp;&amp; entry &lt; this.history.length &amp;&amp; newHistory[entry].title === this.history[entry].title) {\n\t\tentry++;\n\t}\n\t// Navigate forwards to each of the new tiddlers\n\twhile(entry &lt; newHistory.length) {\n\t\tif(this.storyview &amp;&amp; this.storyview.navigateTo) {\n\t\t\tthis.storyview.navigateTo(newHistory[entry]);\n\t\t}\n\t\tentry++;\n\t}\n\t// Update the history\n\tthis.history = newHistory;\n};\n\n/*\nProcess any changes to the list\n*/\nListWidget.prototype.handleListChanges = function(changedTiddlers) {\n\t// Get the new list\n\tvar prevList = this.list;\n\tthis.list = this.getTiddlerList();\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\t// Check if it was empty before\n\t\tif(prevList.length === 0) {\n\t\t\t// If so, just refresh the empty message\n\t\t\treturn this.refreshChildren(changedTiddlers);\n\t\t} else {\n\t\t\t// Replace the previous content with the empty message\n\t\t\tfor(t=this.children.length-1; t&gt;=0; t--) {\n\t\t\t\tthis.removeListItem(t);\n\t\t\t}\n\t\t\tvar nextSibling = this.findNextSiblingDomNode();\n\t\t\tthis.makeChildWidgets(this.getEmptyMessage());\n\t\t\tthis.renderChildren(this.parentDomNode,nextSibling);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\t// If the list was empty then we need to remove the empty message\n\t\tif(prevList.length === 0) {\n\t\t\tthis.removeChildDomNodes();\n\t\t\tthis.children = [];\n\t\t}\n\t\t// Cycle through the list, inserting and removing list items as needed\n\t\tvar hasRefreshed = false;\n\t\tfor(var t=0; t&lt;this.list.length; t++) {\n\t\t\tvar index = this.findListItem(t,this.list[t]);\n\t\t\tif(index === undefined) {\n\t\t\t\t// The list item must be inserted\n\t\t\t\tthis.insertListItem(t,this.list[t]);\n\t\t\t\thasRefreshed = true;\n\t\t\t} else {\n\t\t\t\t// There are intervening list items that must be removed\n\t\t\t\tfor(var n=index-1; n&gt;=t; n--) {\n\t\t\t\t\tthis.removeListItem(n);\n\t\t\t\t\thasRefreshed = true;\n\t\t\t\t}\n\t\t\t\t// Refresh the item we're reusing\n\t\t\t\tvar refreshed = this.children[t].refresh(changedTiddlers);\n\t\t\t\thasRefreshed = hasRefreshed || refreshed;\n\t\t\t}\n\t\t}\n\t\t// Remove any left over items\n\t\tfor(t=this.children.length-1; t&gt;=this.list.length; t--) {\n\t\t\tthis.removeListItem(t);\n\t\t\thasRefreshed = true;\n\t\t}\n\t\treturn hasRefreshed;\n\t}\n};\n\n/*\nFind the list item with a given title, starting from a specified position\n*/\nListWidget.prototype.findListItem = function(startIndex,title) {\n\twhile(startIndex &lt; this.children.length) {\n\t\tif(this.children[startIndex].parseTreeNode.itemTitle === title) {\n\t\t\treturn startIndex;\n\t\t}\n\t\tstartIndex++;\n\t}\n\treturn undefined;\n};\n\n/*\nInsert a new list item at the specified index\n*/\nListWidget.prototype.insertListItem = function(index,title) {\n\t// Create, insert and render the new child widgets\n\tvar widget = this.makeChildWidget(this.makeItemTemplate(title));\n\twidget.parentDomNode = this.parentDomNode; // Hack to enable findNextSiblingDomNode() to work\n\tthis.children.splice(index,0,widget);\n\tvar nextSibling = widget.findNextSiblingDomNode();\n\twidget.render(this.parentDomNode,nextSibling);\n\t// Animate the insertion if required\n\tif(this.storyview &amp;&amp; this.storyview.insert) {\n\t\tthis.storyview.insert(widget);\n\t}\n\treturn true;\n};\n\n/*\nRemove the specified list item\n*/\nListWidget.prototype.removeListItem = function(index) {\n\tvar widget = this.children[index];\n\t// Animate the removal if required\n\tif(this.storyview &amp;&amp; this.storyview.remove) {\n\t\tthis.storyview.remove(widget);\n\t} else {\n\t\twidget.removeChildDomNodes();\n\t}\n\t// Remove the child widget\n\tthis.children.splice(index,1);\n};\n\nexports.list = ListWidget;\n\nvar ListItemWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListItemWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListItemWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nListItemWidget.prototype.execute = function() {\n\t// Set the current list item title\n\tthis.setVariable(this.parseTreeNode.variableName,this.parseTreeNode.itemTitle);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListItemWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.listitem = ListItemWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/list.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/macrocall.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/macrocall.js\ntype: application/javascript\nmodule-type: widget\n\nMacrocall widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar MacroCallWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nMacroCallWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nMacroCallWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nMacroCallWidget.prototype.execute = function() {\n\t// Get the parse type if specified\n\tthis.parseType = this.getAttribute(\"$type\",\"text/vnd.tiddlywiki\");\n\tthis.renderOutput = this.getAttribute(\"$output\",\"text/html\");\n\t// Merge together the parameters specified in the parse tree with the specified attributes\n\tvar params = this.parseTreeNode.params ? this.parseTreeNode.params.slice(0) : [];\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \"$\") {\n\t\t\tparams.push({name: name, value: attribute});\t\t\t\n\t\t}\n\t});\n\t// Get the macro value\n\tvar text = this.getVariable(this.parseTreeNode.name || this.getAttribute(\"$name\"),{params: params}),\n\t\tparseTreeNodes;\n\t// Are we rendering to HTML?\n\tif(this.renderOutput === \"text/html\") {\n\t\t// If so we'll return the parsed macro\n\t\tvar parser = this.wiki.parseText(this.parseType,text,\n\t\t\t\t\t\t\t{parseAsInline: !this.parseTreeNode.isBlock});\n\t\tparseTreeNodes = parser ? parser.tree : [];\n\t} else {\n\t\t// Otherwise, we'll render the text\n\t\tvar plainText = this.wiki.renderText(\"text/plain\",this.parseType,text,{parentWidget: this});\n\t\tparseTreeNodes = [{type: \"text\", text: plainText}];\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nMacroCallWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\t// Rerender ourselves\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.macrocall = MacroCallWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/macrocall.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/navigator.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/navigator.js\ntype: application/javascript\nmodule-type: widget\n\nNavigator widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar NavigatorWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \"tw-navigate\", handler: \"handleNavigateEvent\"},\n\t\t{type: \"tw-edit-tiddler\", handler: \"handleEditTiddlerEvent\"},\n\t\t{type: \"tw-delete-tiddler\", handler: \"handleDeleteTiddlerEvent\"},\n\t\t{type: \"tw-save-tiddler\", handler: \"handleSaveTiddlerEvent\"},\n\t\t{type: \"tw-cancel-tiddler\", handler: \"handleCancelTiddlerEvent\"},\n\t\t{type: \"tw-close-tiddler\", handler: \"handleCloseTiddlerEvent\"},\n\t\t{type: \"tw-close-all-tiddlers\", handler: \"handleCloseAllTiddlersEvent\"},\n\t\t{type: \"tw-close-other-tiddlers\", handler: \"handleCloseOtherTiddlersEvent\"},\n\t\t{type: \"tw-new-tiddler\", handler: \"handleNewTiddlerEvent\"},\n\t\t{type: \"tw-import-tiddlers\", handler: \"handleImportTiddlersEvent\"}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigatorWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigatorWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigatorWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.storyTitle = this.getAttribute(\"story\");\n\tthis.historyTitle = this.getAttribute(\"history\");\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nNavigatorWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.story || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nNavigatorWidget.prototype.getStoryList = function() {\n\treturn this.storyTitle ? this.wiki.getTiddlerList(this.storyTitle) : null;\n};\n\nNavigatorWidget.prototype.saveStoryList = function(storyList) {\n\tvar storyTiddler = this.wiki.getTiddler(this.storyTitle);\n\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\t{title: this.storyTitle},\n\t\tstoryTiddler,\n\t\t{list: storyList}\n\t));\n};\n\nNavigatorWidget.prototype.findTitleInStory = function(storyList,title,defaultIndex) {\n\tvar p = storyList.indexOf(title);\n\treturn p === -1 ? defaultIndex : p;\n};\n\nNavigatorWidget.prototype.removeTitleFromStory = function(storyList,title) {\n\tvar p = storyList.indexOf(title);\n\twhile(p !== -1) {\n\t\tstoryList.splice(p,1);\n\t\tp = storyList.indexOf(title);\n\t}\n};\n\nNavigatorWidget.prototype.replaceFirstTitleInStory = function(storyList,oldTitle,newTitle) {\n\tvar pos = storyList.indexOf(oldTitle);\n\tif(pos !== -1) {\n\t\tstoryList[pos] = newTitle;\n\t\tdo {\n\t\t\tpos = storyList.indexOf(oldTitle,pos + 1);\n\t\t\tif(pos !== -1) {\n\t\t\t\tstoryList.splice(pos,1);\n\t\t\t}\n\t\t} while(pos !== -1);\n\t} else {\n\t\tstoryList.splice(0,0,newTitle);\n\t}\n};\n\nNavigatorWidget.prototype.addToStory = function(title,fromTitle) {\n\tvar storyList = this.getStoryList();\n\tif(storyList) {\n\t\t// See if the tiddler is already there\n\t\tvar slot = this.findTitleInStory(storyList,title,-1);\n\t\t// If not we need to add it\n\t\tif(slot === -1) {\n\t\t\t// First we try to find the position of the story element we navigated from\n\t\t\tslot = this.findTitleInStory(storyList,fromTitle,-1) + 1;\n\t\t\t// Add the tiddler\n\t\t\tstoryList.splice(slot,0,title);\n\t\t\t// Save the story\n\t\t\tthis.saveStoryList(storyList);\n\t\t}\n\t}\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\n*/\nNavigatorWidget.prototype.addToHistory = function(title,fromPageRect) {\n\tthis.wiki.addToHistory(title,fromPageRect,this.historyTitle);\n};\n\n/*\nHandle a tw-navigate event\n*/\nNavigatorWidget.prototype.handleNavigateEvent = function(event) {\n\tthis.addToStory(event.navigateTo,event.navigateFromTitle);\n\tif(!event.navigateSuppressNavigation) {\n\t\tthis.addToHistory(event.navigateTo,event.navigateFromClientRect);\n\t}\n\treturn false;\n};\n\n// Close a specified tiddler\nNavigatorWidget.prototype.handleCloseTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\tstoryList = this.getStoryList();\n\t// Look for tiddlers with this title to close\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\treturn false;\n};\n\n// Close all tiddlers\nNavigatorWidget.prototype.handleCloseAllTiddlersEvent = function(event) {\n\tthis.saveStoryList([]);\n\treturn false;\n};\n\n// Close other tiddlers\nNavigatorWidget.prototype.handleCloseOtherTiddlersEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle;\n\tthis.saveStoryList([title]);\n\treturn false;\n};\n\n// Place a tiddler in edit mode\nNavigatorWidget.prototype.handleEditTiddlerEvent = function(event) {\n\tvar self = this;\n\tfunction isUnmodifiedShadow(title) {\n\t\t// jshint eqnull:true\n\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\treturn (\n\t\t\tself.wiki.isShadowTiddler(title) &amp;&amp;\n\t\t\ttiddler.fields.modified == null\n\t\t);\n\t}\n\tfunction confirmEditShadow(title) {\n\t\treturn confirm($tw.language.getString(\n\t\t\t\"ConfirmEditShadowTiddler\",\n\t\t\t{variables:\n\t\t\t\t{title: title}\n\t\t\t}\n\t\t));\n\t}\n\tvar title = event.param || event.tiddlerTitle;\n\tif(isUnmodifiedShadow(title) &amp;&amp; !confirmEditShadow(title)) {\n\t\treturn false;\n\t}\n\t// Replace the specified tiddler with a draft in edit mode\n\tvar draftTiddler = this.makeDraftTiddler(title),\n\t\tdraftTitle = draftTiddler.fields.title,\n\t\tstoryList = this.getStoryList();\n\tthis.removeTitleFromStory(storyList,draftTitle);\n\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\tthis.saveStoryList(storyList);\n\treturn false;\n};\n\n// Delete a tiddler\nNavigatorWidget.prototype.handleDeleteTiddlerEvent = function(event) {\n\t// Get the tiddler we're deleting\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList(),\n\t\toriginalTitle, confirmationTitle;\n\t// Check if the tiddler we're deleting is in draft mode\n\tif(tiddler.hasField(\"draft.title\")) {\n\t\t// If so, we'll prompt for confirmation referencing the original tiddler\n\t\toriginalTitle = tiddler.fields[\"draft.of\"];\n\t\tconfirmationTitle = originalTitle;\n\t} else {\n\t\t// If not a draft, then prompt for confirmation referencing the specified tiddler\n\t\toriginalTitle = null;\n\t\tconfirmationTitle = title;\n\t}\n\t// Seek confirmation\n\tif(!confirm($tw.language.getString(\n\t\t\t\t\"ConfirmDeleteTiddler\",\n\t\t\t\t{variables:\n\t\t\t\t\t{title: confirmationTitle}\n\t\t\t\t}\n\t\t\t))) {\n\t\treturn false;\n\t}\n\t// Delete the original tiddler\n\tif(originalTitle) {\n\t\tthis.wiki.deleteTiddler(originalTitle);\n\t\tthis.removeTitleFromStory(storyList,originalTitle);\n\t}\n\t// Delete this tiddler\n\tthis.wiki.deleteTiddler(title);\n\t// Remove the closed tiddler from the story\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\t// Send a notification event\n\tthis.dispatchEvent({type: \"tw-auto-save-wiki\"});\n\treturn false;\n};\n\n/*\nCreate/reuse the draft tiddler for a given title\n*/\nNavigatorWidget.prototype.makeDraftTiddler = function(targetTitle) {\n\t// See if there is already a draft tiddler for this tiddler\n\tvar drafts = [];\n\tthis.wiki.forEachTiddler({includeSystem: true},function(title,tiddler) {\n\t\tif(tiddler.fields[\"draft.title\"] &amp;&amp; tiddler.fields[\"draft.of\"] === targetTitle) {\n\t\t\tdrafts.push(tiddler);\n\t\t}\n\t});\n\tif(drafts.length &gt; 0) {\n\t\treturn drafts[0];\n\t}\n\t// Get the current value of the tiddler we're editing\n\tvar tiddler = this.wiki.getTiddler(targetTitle),\n\t\tdraftTitle = this.generateDraftTitle(targetTitle);\n\t// Save the initial value of the draft tiddler\n\tvar draftTiddler = new $tw.Tiddler(\n\t\t\ttiddler,\n\t\t\t{\n\t\t\t\ttitle: draftTitle,\n\t\t\t\t\"draft.title\": targetTitle,\n\t\t\t\t\"draft.of\": targetTitle\n\t\t\t},\n\t\t\tthis.wiki.getModificationFields()\n\t\t);\n\tthis.wiki.addTiddler(draftTiddler);\n\treturn draftTiddler;\n};\n\n/*\nGenerate a title for the draft of a given tiddler\n*/\nNavigatorWidget.prototype.generateDraftTitle = function(title) {\n\tvar c = 0;\n\tdo {\n\t\tvar draftTitle = \"Draft \" + (c ? (c + 1) + \" \" : \"\") + \"of '\" + title + \"'\";\n\t\tc++;\n\t} while(this.wiki.tiddlerExists(draftTitle));\n\treturn draftTitle;\n};\n\n// Take a tiddler out of edit mode, saving the changes\nNavigatorWidget.prototype.handleSaveTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList();\n\t// Replace the original tiddler with the draft\n\tif(tiddler) {\n\t\tvar draftTitle = (tiddler.fields[\"draft.title\"] || \"\").trim(),\n\t\t\tdraftOf = (tiddler.fields[\"draft.of\"] || \"\").trim();\n\t\tif(draftTitle) {\n\t\t\tvar isRename = draftOf !== draftTitle,\n\t\t\t\tisConfirmed = true;\n\t\t\tif(isRename &amp;&amp; this.wiki.tiddlerExists(draftTitle)) {\n\t\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\t\"ConfirmOverwriteTiddler\",\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{title: draftTitle}\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t}\n\t\t\tif(!isRename &amp;&amp; !this.wiki.isDraftModified(title)) {\n\t\t\t\tevent.type = \"tw-cancel-tiddler\";\n\t\t\t\tthis.dispatchEvent(event);\n\t\t\t} else if(isConfirmed) {\n\t\t\t\t// Save the draft tiddler as the real tiddler\n\t\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),tiddler,{\n\t\t\t\t\ttitle: draftTitle,\n\t\t\t\t\t\"draft.title\": undefined,\n\t\t\t\t\t\"draft.of\": undefined\n\t\t\t\t},this.wiki.getModificationFields()));\n\t\t\t\t// Remove the draft tiddler\n\t\t\t\tthis.wiki.deleteTiddler(title);\n\t\t\t\t// Remove the original tiddler if we're renaming it\n\t\t\t\tif(isRename) {\n\t\t\t\t\tthis.wiki.deleteTiddler(draftOf);\n\t\t\t\t}\n\t\t\t\t// Replace the draft in the story with the original\n\t\t\t\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\t\t\t\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\t\t\t\tif(draftTitle !== this.storyTitle) {\n\t\t\t\t\tthis.saveStoryList(storyList);\n\t\t\t\t}\n\t\t\t\t// Send a notification event\n\t\t\t\tthis.dispatchEvent({type: \"tw-auto-save-wiki\"});\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\n// Take a tiddler out of edit mode without saving the changes\nNavigatorWidget.prototype.handleCancelTiddlerEvent = function(event) {\n\t// Flip the specified tiddler from draft back to the original\n\tvar draftTitle = event.param || event.tiddlerTitle,\n\t\tdraftTiddler = this.wiki.getTiddler(draftTitle),\n\t\toriginalTitle = draftTiddler.fields[\"draft.of\"],\n\t\tstoryList = this.getStoryList();\n\tif(draftTiddler &amp;&amp; originalTitle) {\n\t\t// Ask for confirmation if the tiddler text has changed\n\t\tvar isConfirmed = true;\n\t\tif(this.wiki.getTiddlerText(draftTitle) !== this.wiki.getTiddlerText(originalTitle)) {\n\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\"ConfirmCancelTiddler\",\n\t\t\t\t{variables:\n\t\t\t\t\t{title: draftTitle}\n\t\t\t\t}\n\t\t\t));\n\t\t}\n\t\t// Remove the draft tiddler\n\t\tif(isConfirmed) {\n\t\t\tthis.wiki.deleteTiddler(draftTitle);\n\t\t\tthis.replaceFirstTitleInStory(storyList,draftTitle,originalTitle);\n\t\t\tthis.addToHistory(originalTitle,event.navigateFromClientRect);\n\t\t\tthis.saveStoryList(storyList);\n\t\t}\n\t}\n\treturn false;\n};\n\n// Create a new draft tiddler\nNavigatorWidget.prototype.handleNewTiddlerEvent = function(event) {\n\t// Get the story details\n\tvar storyList = this.getStoryList();\n\t// Get the template tiddler if there is one\n\tvar templateTiddler = this.wiki.getTiddler(event.param);\n\t// Create the new tiddler\n\tvar title = this.wiki.generateNewTitle((templateTiddler &amp;&amp; templateTiddler.fields.title) || \"New Tiddler\");\n\tvar tiddler = new $tw.Tiddler(this.wiki.getCreationFields(),{\n\t\ttext: \"Newly created tiddler\",\n\t\ttitle: title\n\t},this.wiki.getModificationFields());\n\tthis.wiki.addTiddler(tiddler);\n\t// Create the draft tiddler\n\tvar draftTitle = this.generateDraftTitle(title),\n\t\tdraftTiddler = new $tw.Tiddler({\n\t\t\ttext: \"\"\n\t\t},templateTiddler,\n\t\tthis.wiki.getCreationFields(),\n\t\t{\n\t\t\ttitle: draftTitle,\n\t\t\t\"draft.title\": title,\n\t\t\t\"draft.of\": title\n\t\t},this.wiki.getModificationFields());\n\tthis.wiki.addTiddler(draftTiddler);\n\t// Update the story to insert the new draft at the top\n\tvar slot = storyList.indexOf(event.navigateFromTitle);\n\tstoryList.splice(slot + 1,0,draftTitle);\n\t// Save the updated story\n\tthis.saveStoryList(storyList);\n\t// Add a new record to the top of the history stack\n\tthis.addToHistory(draftTitle);\n\treturn false;\n};\n\n// Import JSON tiddlers\nNavigatorWidget.prototype.handleImportTiddlersEvent = function(event) {\n\tvar self = this;\n\t// Get the tiddlers\n\tvar tiddlers = [];\n\ttry {\n\t\ttiddlers = JSON.parse(event.param);\t\n\t} catch(e) {\n\t}\n\t// Process each tiddler\n\tvar importedTiddlers = [];\n\t$tw.utils.each(tiddlers,function(tiddlerFields) {\n\t\tvar title = tiddlerFields.title;\n\t\t// Add it to the store\n\t\tvar imported = self.wiki.importTiddler(new $tw.Tiddler(\n\t\t\tself.wiki.getCreationFields(),\n\t\t\tself.wiki.getModificationFields(),\n\t\t\ttiddlerFields\n\t\t));\n\t\tif(imported) {\n\t\t\timportedTiddlers.push(title);\n\t\t}\n\t});\n\t// Get the story and history details\n\tvar storyList = this.getStoryList(),\n\t\thistory = [];\n\t// Create the import report tiddler\n\tif(importedTiddlers.length === 0) {\n\t\treturn false;\n\t}\n\tvar title;\n\tif(importedTiddlers.length &gt; 1) {\n\t\ttitle = this.wiki.generateNewTitle(\"$:/temp/ImportReport\");\n\t\tvar tiddlerFields = {\n\t\t\ttitle: title,\n\t\t\ttext: \"# [[\" + importedTiddlers.join(\"]]\\n# [[\") + \"]]\\n\"\n\t\t};\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\t\tself.wiki.getCreationFields(),\n\t\t\ttiddlerFields,\n\t\t\tself.wiki.getModificationFields()\n\t\t));\n\t} else {\n\t\ttitle = importedTiddlers[0];\n\t}\n\t// Add it to the story\n\tif(storyList.indexOf(title) === -1) {\n\t\tstoryList.unshift(title);\n\t}\n\t// And to history\n\thistory.push(title);\n\t// Save the updated story and history\n\tthis.saveStoryList(storyList);\n\tthis.addToHistory(history);\n\treturn false;\n};\n\nexports.navigator = NavigatorWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/navigator.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/password.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/password.js\ntype: application/javascript\nmodule-type: widget\n\nPassword widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar PasswordWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nPasswordWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nPasswordWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the current password\n\tvar password = $tw.browser ? $tw.utils.getPassword(this.passwordName) || \"\" : \"\";\n\t// Create our element\n\tvar domNode = this.document.createElement(\"input\");\n\tdomNode.setAttribute(\"type\",\"password\");\n\tdomNode.setAttribute(\"value\",password);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nPasswordWidget.prototype.handleChangeEvent = function(event) {\n\tvar password = this.domNodes[0].value;\n\treturn $tw.utils.savePassword(this.passwordName,password);\n};\n\n/*\nCompute the internal state of the widget\n*/\nPasswordWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.passwordName = this.getAttribute(\"name\",\"\");\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nPasswordWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.password = PasswordWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/password.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/radio.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/radio.js\ntype: application/javascript\nmodule-type: widget\n\nRadio widget\n\nWill set a field to the selected value:\n\n```\n\t&lt;$radio field=\"myfield\" value=\"check 1\"&gt;one&lt;/$radio&gt;\n\t&lt;$radio field=\"myfield\" value=\"check 2\"&gt;two&lt;/$radio&gt;\n\t&lt;$radio field=\"myfield\" value=\"check 3\"&gt;three&lt;/$radio&gt;\n```\n\n|Parameter |Description |h\n|tiddler |Name of the tiddler in which the field should be set. Defaults to current tiddler |\n|field |The name of the field to be set |\n|value |The value to set |\n|class |Optional class name(s) |\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar RadioWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRadioWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRadioWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\"label\");\n\tthis.labelDomNode.setAttribute(\"class\",this.radioClass);\n\tthis.inputDomNode = this.document.createElement(\"input\");\n\tthis.inputDomNode.setAttribute(\"type\",\"radio\");\n\tif(this.getValue() == this.radioValue) {\n\t\tthis.inputDomNode.setAttribute(\"checked\",\"true\");\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\"span\");\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nRadioWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.radioTitle);\n\treturn tiddler &amp;&amp; tiddler.getFieldString(this.radioField);\n};\n\nRadioWidget.prototype.setValue = function() {\n\tif(this.radioField) {\n\t\tvar tiddler = this.wiki.getTiddler(this.radioTitle),\n\t\t\taddition = {};\n\t\taddition[this.radioField] = this.radioValue;\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,addition));\n\t}\n};\n\nRadioWidget.prototype.handleChangeEvent = function(event) {\n\tif(this.inputDomNode.checked) {\n\t\tthis.setValue();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRadioWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.radioTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.radioField = this.getAttribute(\"field\",\"text\");\n\tthis.radioValue = this.getAttribute(\"value\");\n\tthis.radioClass = this.getAttribute(\"class\",\"\");\n\tif(this.radioClass !== \"\") {\n\t\tthis.radioClass += \" \";\n\t}\n\tthis.radioClass += \"tw-radio\";\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRadioWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.value || changedAttributes[\"class\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.radioTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue() === this.radioValue;\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.radio = RadioWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/radio.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/raw.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/raw.js\ntype: application/javascript\nmodule-type: widget\n\nRaw widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar RawWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRawWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRawWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar div = this.document.createElement(\"div\");\n\tdiv.innerHTML=this.parseTreeNode.html;\n\tparent.insertBefore(div,nextSibling);\n\tthis.domNodes.push(div);\t\n};\n\n/*\nCompute the internal state of the widget\n*/\nRawWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRawWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.raw = RawWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/raw.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/reveal.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/reveal.js\ntype: application/javascript\nmodule-type: widget\n\nReveal widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar RevealWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRevealWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRevealWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar domNode = this.document.createElement(this.parseTreeNode.isBlock ? \"div\" : \"span\");\n\tvar classes = this[\"class\"].split(\" \") || [];\n\tclasses.push(\"tw-reveal\");\n\tdomNode.className = classes.join(\" \");\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \"popup\" &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\"tw-popup\"); // Make sure that clicks don't dismiss popups within the revealed content\n\t}\n\tif(!this.isOpen) {\n\t\tdomNode.setAttribute(\"hidden\",\"true\")\n\t}\n\tthis.domNodes.push(domNode);\n};\n\nRevealWidget.prototype.positionPopup = function(domNode) {\n\tdomNode.style.position = \"absolute\";\n\tdomNode.style.zIndex = \"1000\";\n\tswitch(this.position) {\n\t\tcase \"left\":\n\t\t\tdomNode.style.left = (this.popup.left - domNode.offsetWidth) + \"px\";\n\t\t\tdomNode.style.top = this.popup.top + \"px\";\n\t\t\tbreak;\n\t\tcase \"above\":\n\t\t\tdomNode.style.left = this.popup.left + \"px\";\n\t\t\tdomNode.style.top = (this.popup.top - domNode.offsetHeight) + \"px\";\n\t\t\tbreak;\n\t\tcase \"aboveright\":\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width) + \"px\";\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height - domNode.offsetHeight) + \"px\";\n\t\t\tbreak;\n\t\tcase \"right\":\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width) + \"px\";\n\t\t\tdomNode.style.top = this.popup.top + \"px\";\n\t\t\tbreak;\n\t\tcase \"belowleft\":\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width - domNode.offsetWidth) + \"px\";\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height) + \"px\";\n\t\t\tbreak;\n\t\tdefault: // Below\n\t\t\tdomNode.style.left = this.popup.left + \"px\";\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height) + \"px\";\n\t\t\tbreak;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRevealWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.state = this.getAttribute(\"state\");\n\tthis.type = this.getAttribute(\"type\");\n\tthis.text = this.getAttribute(\"text\");\n\tthis.position = this.getAttribute(\"position\");\n\tthis[\"class\"] = this.getAttribute(\"class\",\"\");\n\tthis[\"default\"] = this.getAttribute(\"default\",\"\");\n\tthis.animate = this.getAttribute(\"animate\",\"no\");\n\tthis.retain = this.getAttribute(\"retain\",\"no\");\n\tthis.openAnimation = this.animate === \"no\" ? undefined : \"open\";\n\tthis.closeAnimation = this.animate === \"no\" ? undefined : \"close\";\n\t// Compute the title of the state tiddler and read it\n\tthis.stateTitle = this.state;\n\tthis.readState();\n\t// Construct the child widgets\n\tvar childNodes = this.isOpen ? this.parseTreeNode.children : [];\n\tthis.hasChildNodes = this.isOpen;\n\tthis.makeChildWidgets(childNodes);\n};\n\n/*\nRead the state tiddler\n*/\nRevealWidget.prototype.readState = function() {\n\t// Read the information from the state tiddler\n\tif(this.stateTitle) {\n\t\tvar state = this.wiki.getTextReference(this.stateTitle,this[\"default\"],this.getVariable(\"currentTiddler\"));\n\t\tswitch(this.type) {\n\t\t\tcase \"popup\":\n\t\t\t\tthis.readPopupState(state);\n\t\t\t\tbreak;\n\t\t\tcase \"match\":\n\t\t\t\tthis.readMatchState(state);\n\t\t\t\tbreak;\n\t\t\tcase \"nomatch\":\n\t\t\t\tthis.readMatchState(state);\n\t\t\t\tthis.isOpen = !this.isOpen;\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\nRevealWidget.prototype.readMatchState = function(state) {\n\tthis.isOpen = state === this.text;\n};\n\nRevealWidget.prototype.readPopupState = function(state) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/,\n\t\tmatch = popupLocationRegExp.exec(state);\n\t// Check if the state matches the location regexp\n\tif(match) {\n\t\t// If so, we're open\n\t\tthis.isOpen = true;\n\t\t// Get the location\n\t\tthis.popup = {\n\t\t\tleft: parseFloat(match[1]),\n\t\t\ttop: parseFloat(match[2]),\n\t\t\twidth: parseFloat(match[3]),\n\t\t\theight: parseFloat(match[4])\n\t\t};\n\t} else {\n\t\t// If not, we're closed\n\t\tthis.isOpen = false;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRevealWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.state || changedAttributes.type || changedAttributes.text || changedAttributes.position || changedAttributes[\"default\"] || changedAttributes.animate) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false,\n\t\t\tcurrentlyOpen = this.isOpen;\n\t\tthis.readState();\n\t\tif(this.isOpen !== currentlyOpen) {\n\t\t\tif(this.retain === \"yes\") {\n\t\t\t\tthis.updateState();\n\t\t\t} else {\n\t\t\t\tthis.refreshSelf();\n\t\t\t\trefreshed = true;\n\t\t\t}\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\n/*\nCalled by refresh() to dynamically show or hide the content\n*/\nRevealWidget.prototype.updateState = function() {\n\t// Read the current state\n\tthis.readState();\n\t// Construct the child nodes if needed\n\tvar domNode = this.domNodes[0];\n\tif(this.isOpen &amp;&amp; !this.hasChildNodes) {\n\t\tthis.hasChildNodes = true;\n\t\tthis.makeChildWidgets(this.parseTreeNode.children);\n\t\tthis.renderChildren(domNode,null);\n\t}\n\t// Animate our DOM node\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \"popup\" &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\"tw-popup\"); // Make sure that clicks don't dismiss popups within the revealed content\n\n\t}\n\tif(this.isOpen) {\n\t\tdomNode.removeAttribute(\"hidden\");\n        $tw.anim.perform(this.openAnimation,domNode);\n\t} else {\n\t\t$tw.anim.perform(this.closeAnimation,domNode,{callback: function() {\n\t\t\tdomNode.setAttribute(\"hidden\",\"true\");\n        }});\n\t}\n};\n\nexports.reveal = RevealWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/reveal.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/scrollable.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/scrollable.js\ntype: application/javascript\nmodule-type: widget\n\nScrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ScrollableWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.scaleFactor = 1;\n\tthis.addEventListeners([\n\t\t{type: \"tw-scroll\", handler: \"handleScrollEvent\"}\n\t]);\n\tif($tw.browser) {\n\t\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t\t};\n\t\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\tfunction(id) {\n\t\t\t\twindow.clearTimeout(id);\n\t\t\t};\n\t}\n};\n\n/*\nInherit from the base widget class\n*/\nScrollableWidget.prototype = new Widget();\n\nScrollableWidget.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle a scroll event\n*/\nScrollableWidget.prototype.handleScrollEvent = function(event) {\n\t// Pass the scroll event through if our offsetsize is larger than our scrollsize\n\tif(this.outerDomNode.scrollWidth &lt;= this.outerDomNode.offsetWidth &amp;&amp; this.outerDomNode.scrollHeight &lt;= this.outerDomNode.offsetHeight &amp;&amp; this.fallthrough === \"yes\") {\n\t\treturn true;\n\t}\n\tthis.scrollIntoView(event.target);\n\treturn false; // Handled event\n};\n\n/*\nScroll an element into view\n*/\nScrollableWidget.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = {\n\t\tx: this.outerDomNode.scrollLeft,\n\t\ty: this.outerDomNode.scrollTop\n\t};\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar scrollableBounds = this.outerDomNode.getBoundingClientRect(),\n\t\tclientTargetBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientTargetBounds.left + scrollPosition.x - scrollableBounds.left,\n\t\t\ttop: clientTargetBounds.top + scrollPosition.y - scrollableBounds.top,\n\t\t\twidth: clientTargetBounds.width,\n\t\t\theight: clientTargetBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\t// If the target is already visible then stay where we are\n\t\t\tif(targetPos &gt;= currentPos &amp;&amp; (targetPos + targetSize) &lt;= (currentPos + currentSize)) {\n\t\t\t\treturn currentPos;\n\t\t\t// If the target is above/left of the current view, then scroll to its top/left\n\t\t\t} else if(targetPos &lt;= currentPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\treturn targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\treturn currentPos;\n\t\t\t}\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,this.outerDomNode.offsetWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,this.outerDomNode.offsetHeight);\n\t// Only scroll if necessary\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\tself.outerDomNode.scrollLeft = scrollPosition.x + (endX - scrollPosition.x) * t;\n\t\t\tself.outerDomNode.scrollTop = scrollPosition.y + (endY - scrollPosition.y) * t;\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(window,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nScrollableWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create elements\n\tthis.outerDomNode = this.document.createElement(\"div\");\n\t$tw.utils.setStyle(this.outerDomNode,[\n\t\t{overflowY: \"auto\"},\n\t\t{overflowX: \"auto\"},\n\t\t{webkitOverflowScrolling: \"touch\"}\n\t]);\n\tthis.innerDomNode = this.document.createElement(\"div\");\n\tthis.outerDomNode.appendChild(this.innerDomNode);\n\t// Assign classes\n\tthis.outerDomNode.className = this[\"class\"] || \"\";\n\t// Insert element\n\tparent.insertBefore(this.outerDomNode,nextSibling);\n\tthis.renderChildren(this.innerDomNode,null);\n\tthis.domNodes.push(this.outerDomNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nScrollableWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.fallthrough = this.getAttribute(\"fallthrough\",\"yes\");\n\tthis[\"class\"] = this.getAttribute(\"class\");\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nScrollableWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\"class\"]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.scrollable = ScrollableWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/scrollable.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/select.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/select.js\ntype: application/javascript\nmodule-type: widget\n\nSelect widget:\n\n```\n&lt;$select tiddler=\"MyTiddler\" field=\"text\"&gt;\n&lt;$list filter=\"[tag[chapter]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$view field=\"description\"/&gt;\n&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar SelectWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSelectWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSelectWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\tthis.setSelectValue();\n\t$tw.utils.addEventListeners(this.getSelectDomNode(),[\n\t\t{name: \"change\", handlerObject: this, handlerMethod: \"handleChangeEvent\"}\n\t]);\n};\n\n/*\nHandle a change event\n*/\nSelectWidget.prototype.handleChangeEvent = function(event) {\n\tvar value = this.getSelectDomNode().value;\n\tthis.wiki.setText(this.selectTitle,this.selectField,this.selectIndex,value);\n};\n\n/*\nIf necessary, set the value of the select element to the current value\n*/\nSelectWidget.prototype.setSelectValue = function() {\n\tvar value = this.selectDefault;\n\t// Get the value\n\tif(this.selectIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.selectTitle,this.selectIndex);\n\t} else {\n\t\tvar tiddler = this.wiki.getTiddler(this.selectTitle);\n\t\tif(tiddler) {\n\t\t\tif(this.selectField === \"text\") {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.selectTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.selectField)) {\n\t\t\t\t\tvalue = tiddler.getFieldString(this.selectField);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.selectField === \"title\") {\n\t\t\t\tvalue = this.selectTitle;\n\t\t\t}\n\t\t}\n\t}\n\t// Assign it to the select element if it's different than the current value\n\tvar domNode = this.getSelectDomNode();\n\tif(domNode.value !== value) {\n\t\tdomNode.value = value;\n\t}\n};\n\n/*\nGet the DOM node of the select element\n*/\nSelectWidget.prototype.getSelectDomNode = function() {\n\treturn this.children[0].domNodes[0];\n};\n\n/*\nCompute the internal state of the widget\n*/\nSelectWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.selectTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.selectField = this.getAttribute(\"field\",\"text\");\n\tthis.selectIndex = this.getAttribute(\"index\");\n\tthis.selectClass = this.getAttribute(\"class\");\n\tthis.selectDefault = this.getAttribute(\"default\");\n\t// Make the child widgets\n\tvar selectNode = {\n\t\ttype: \"element\",\n\t\ttag: \"select\",\n\t\tchildren: this.parseTreeNode.children\n\t};\n\tif(this.selectClass) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\"class\",this.selectClass);\n\t}\n\tthis.makeChildWidgets([selectNode]);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSelectWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// If we're using a different tiddler/field/index then completely refresh ourselves\n\tif(changedAttributes.selectTitle || changedAttributes.selectField || changedAttributes.selectIndex) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t// If the target tiddler value has changed, just update setting and refresh the children\n\t} else {\n\t\tif(changedTiddlers[this.selectTitle]) {\n\t\t\tthis.setSelectValue();\n\t\t} \n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.select = SelectWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/select.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/set.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/set.js\ntype: application/javascript\nmodule-type: widget\n\nSet variable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar SetWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.setName = this.getAttribute(\"name\",\"currentTiddler\");\n\tthis.setValue = this.getAttribute(\"value\");\n\t// Set context variable\n\tthis.setVariable(this.setName,this.setValue,this.parseTreeNode.params);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSetWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name || changedAttributes.value) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.setvariable = SetWidget;\nexports.set = SetWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/set.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/text.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/text.js\ntype: application/javascript\nmodule-type: widget\n\nText node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar TextNodeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTextNodeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTextNodeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar text = this.getAttribute(\"text\",this.parseTreeNode.text),\n\t\ttextNode = this.document.createTextNode(text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTextNodeWidget.prototype.execute = function() {\n\t// Nothing to do for a text node\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTextNodeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.text) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.text = TextNodeWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/text.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/tiddler.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/tiddler.js\ntype: application/javascript\nmodule-type: widget\n\nTiddler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar TiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTiddlerWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.tiddlerTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\t// Set context variables\n\tthis.setVariable(\"currentTiddler\",this.tiddlerTitle);\n\tthis.setVariable(\"missingTiddlerClass\",(this.wiki.tiddlerExists(this.tiddlerTitle) || this.wiki.isShadowTiddler(this.tiddlerTitle)) ? \"tw-tiddler-exists\" : \"tw-tiddler-missing\");\n\tthis.setVariable(\"shadowTiddlerClass\",this.wiki.isShadowTiddler(this.tiddlerTitle) ? \"tw-tiddler-shadow\" : \"\");\n\tthis.setVariable(\"systemTiddlerClass\",this.wiki.isSystemTiddler(this.tiddlerTitle) ? \"tw-tiddler-system\" : \"\");\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.tiddler = TiddlerWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/tiddler.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/transclude.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/transclude.js\ntype: application/javascript\nmodule-type: widget\n\nTransclude widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar TranscludeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTranscludeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTranscludeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTranscludeWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.transcludeTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.transcludeField = this.getAttribute(\"field\");\n\tthis.transcludeIndex = this.getAttribute(\"index\");\n\tthis.transcludeMode = this.getAttribute(\"mode\");\n\t// Check for recursion\n\tvar recursionMarker = this.makeRecursionMarker();\n\tif(this.parentWidget &amp;&amp; this.parentWidget.hasVariable(\"transclusion\",recursionMarker)) {\n\t\tthis.makeChildWidgets([{type: \"text\", text: \"Recursive transclusion error in transclude widget\"}]);\n\t\treturn;\n\t}\n\t// Set context variables for recursion detection\n\tthis.setVariable(\"transclusion\",recursionMarker);\n\t// Parse the text reference\n\tvar parseAsInline = !this.parseTreeNode.isBlock;\n\tif(this.transcludeMode === \"inline\") {\n\t\tparseAsInline = true;\n\t} else if(this.transcludeMode === \"block\") {\n\t\tparseAsInline = false;\n\t}\n\tvar parser = this.wiki.parseTextReference(\n\t\t\t\t\t\tthis.transcludeTitle,\n\t\t\t\t\t\tthis.transcludeField,\n\t\t\t\t\t\tthis.transcludeIndex,\n\t\t\t\t\t\t{parseAsInline: parseAsInline}),\n\t\tparseTreeNodes = parser ? parser.tree : this.parseTreeNode.children;\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nCompose a string comprising the title, field and/or index to identify this transclusion for recursion detection\n*/\nTranscludeWidget.prototype.makeRecursionMarker = function() {\n\tvar output = [];\n\toutput.push(\"{\");\n\toutput.push(this.getVariable(\"currentTiddler\",{defaultValue: \"\"}));\n\toutput.push(\"|\");\n\toutput.push(this.transcludeTitle || \"\");\n\toutput.push(\"|\");\n\toutput.push(this.transcludeField || \"\");\n\toutput.push(\"|\");\n\toutput.push(this.transcludeIndex || \"\");\n\toutput.push(\"}\");\n\treturn output.join(\"\");\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTranscludeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedTiddlers[this.transcludeTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.transclude = TranscludeWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/transclude.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/view.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/view.js\ntype: application/javascript\nmodule-type: widget\n\nView widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\nvar ViewWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nViewWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nViewWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tif(this.text) {\n\t\tvar textNode = this.document.createTextNode(this.text);\n\t\tparent.insertBefore(textNode,nextSibling);\n\t\tthis.domNodes.push(textNode);\n\t} else {\n\t\tthis.makeChildWidgets();\n\t\tthis.renderChildren(parent,nextSibling);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nViewWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.viewTitle = this.getAttribute(\"tiddler\",this.getVariable(\"currentTiddler\"));\n\tthis.viewField = this.getAttribute(\"field\",\"text\");\n\tthis.viewIndex = this.getAttribute(\"index\");\n\tthis.viewFormat = this.getAttribute(\"format\",\"text\");\n\tthis.viewTemplate = this.getAttribute(\"template\",\"\");\n\tswitch(this.viewFormat) {\n\t\tcase \"htmlwikified\":\n\t\t\tthis.text = this.getValueAsHtmlWikified();\n\t\t\tbreak;\n\t\tcase \"htmlencoded\":\n\t\t\tthis.text = this.getValueAsHtmlEncoded();\n\t\t\tbreak;\n\t\tcase \"urlencoded\":\n\t\t\tthis.text = this.getValueAsUrlEncoded();\n\t\t\tbreak;\n\t\tcase \"doubleurlencoded\":\n\t\t\tthis.text = this.getValueAsDoubleUrlEncoded();\n\t\t\tbreak;\n\t\tcase \"date\":\n\t\t\tthis.text = this.getValueAsDate(this.viewTemplate);\n\t\t\tbreak;\n\t\tcase \"relativedate\":\n\t\t\tthis.text = this.getValueAsRelativeDate();\n\t\t\tbreak;\n\t\tcase \"stripcomments\":\n\t\t\tthis.text = this.getValueAsStrippedComments();\n\t\t\tbreak;\n\t\tcase \"jsencoded\":\n\t\t\tthis.text = this.getValueAsJsEncoded();\n\t\t\tbreak;\n\t\tdefault: // \"text\"\n\t\t\tthis.text = this.getValueAsText();\n\t\t\tbreak;\n\t}\n};\n\n/*\nThe various formatter functions are baked into this widget for the moment. Eventually they will be replaced by macro functions\n*/\n\n/*\nRetrieve the value of the widget. Options are:\nasString: Optionally return the value as a string\n*/\nViewWidget.prototype.getValue = function(options) {\n\toptions = options || {};\n\tvar value = options.asString ? \"\" : undefined;\n\tif(this.viewIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.viewTitle,this.viewIndex);\n\t} else {\n\t\tvar tiddler = this.wiki.getTiddler(this.viewTitle);\n\t\tif(tiddler) {\n\t\t\tif(this.viewField === \"text\") {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.viewTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.viewField)) {\n\t\t\t\t\tif(options.asString) {\n\t\t\t\t\t\tvalue = tiddler.getFieldString(this.viewField);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = tiddler.fields[this.viewField];\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.viewField === \"title\") {\n\t\t\t\tvalue = this.viewTitle;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\nViewWidget.prototype.getValueAsText = function() {\n\treturn this.getValue({asString: true});\n};\n\nViewWidget.prototype.getValueAsHtmlWikified = function() {\n\treturn this.wiki.renderText(\"text/html\",\"text/vnd.tiddlywiki\",this.getValueAsText(),{parentWidget: this});\n};\n\nViewWidget.prototype.getValueAsHtmlEncoded = function() {\n\treturn $tw.utils.htmlEncode(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsUrlEncoded = function() {\n\treturn encodeURIComponent(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsDoubleUrlEncoded = function() {\n\treturn encodeURIComponent(encodeURIComponent(this.getValueAsText()));\n};\n\nViewWidget.prototype.getValueAsDate = function(format) {\n\tformat = format || \"YYYY MM DD 0hh:0mm\";\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \"Invalid Date\") {\n\t\treturn $tw.utils.formatDateString(value,format);\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nViewWidget.prototype.getValueAsRelativeDate = function(format) {\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \"Invalid Date\") {\n\t\treturn $tw.utils.getRelativeDate((new Date()) - (new Date(value))).description;\n\t} else {\n\t\treturn \"\";\n\t}\n};\n\nViewWidget.prototype.getValueAsStrippedComments = function() {\n\tvar lines = this.getValueAsText().split(\"\\n\"),\n\t\tout = [];\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar text = lines[line];\n\t\tif(!/^\\s*\\/\\/#/.test(text)) {\n\t\t\tout.push(text);\n\t\t}\n\t}\n\treturn out.join(\"\\n\");\n};\n\nViewWidget.prototype.getValueAsJsEncoded = function() {\n\treturn $tw.utils.stringify(this.getValueAsText());\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nViewWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes.template || changedAttributes.format || changedTiddlers[this.viewTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.view = ViewWidget;\n\n})();\n",
            "title": "$:/core/modules/widgets/view.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/widgets/widget.js": {
            "text": "/*\\\ntitle: $:/core/modules/widgets/widget.js\ntype: application/javascript\nmodule-type: widget\n\nWidget base class\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\nCreate a widget object for a parse tree node\n\tparseTreeNode: reference to the parse tree node to be rendered\n\toptions: see below\nOptions include:\n\twiki: mandatory reference to wiki associated with this render tree\n\tvariables: optional hashmap of context variables (see below)\n\tparentWidget: optional reference to a parent renderer node for the context chain\n\tdocument: optional document object to use instead of global document\nContext variables include:\n\tcurrentTiddler: title of the tiddler providing the context\n*/\nvar Widget = function(parseTreeNode,options) {\n\tif(arguments.length &gt; 0) {\n\t\tthis.initialise(parseTreeNode,options);\n\t}\n};\n\n/*\nInitialise widget properties. These steps are pulled out of the constructor so that we can reuse them in subclasses\n*/\nWidget.prototype.initialise = function(parseTreeNode,options) {\n\toptions = options || {};\n\t// Save widget info\n\tthis.parseTreeNode = parseTreeNode;\n\tthis.wiki = options.wiki;\n\tthis.parentWidget = options.parentWidget;\n\tthis.variablesConstructor = function() {};\n\tthis.variablesConstructor.prototype = this.parentWidget ? this.parentWidget.variables : {};\n\tthis.variables = new this.variablesConstructor();\n\tthis.document = options.document;\n\tthis.attributes = {};\n\tthis.children = [];\n\tthis.domNodes = [];\n\tthis.eventListeners = {};\n\t// Hashmap of the widget classes\n\tif(!this.widgetClasses) {\n\t\tWidget.prototype.widgetClasses = $tw.modules.applyMethods(\"widget\");\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nWidget.prototype.execute = function() {\n\tthis.makeChildWidgets();\n};\n\n/*\nSet the value of a context variable\nname: name of the variable\nvalue: value of the variable\nparams: array of {name:, default:} for each parameter\n*/\nWidget.prototype.setVariable = function(name,value,params) {\n\tthis.variables[name] = {value: value, params: params};\n};\n\n/*\nGet the prevailing value of a context variable\nname: name of variable\noptions: see below\nOptions include\nparams: array of {name:, value:} for each parameter\ndefaultValue: default value if the variable is not defined\n*/\nWidget.prototype.getVariable = function(name,options) {\n\toptions = options || {};\n\tvar actualParams = options.params || [],\n\t\tparentWidget = this.parentWidget;\n\t// Check for the variable defined in the parent widget (or an ancestor in the prototype chain)\n\tif(parentWidget &amp;&amp; name in parentWidget.variables) {\n\t\tvar variable = parentWidget.variables[name],\n\t\t\tvalue = variable.value;\n\t\t// Substitute any parameters specified in the definition\n\t\tvalue = this.substituteVariableParameters(value,variable.params,actualParams);\n\t\tvalue = this.substituteVariableReferences(value);\n\t\treturn value;\n\t}\n\t// If the variable doesn't exist in the parent widget then look for a macro module\n\treturn this.evaluateMacroModule(name,actualParams,options.defaultValue);\n};\n\nWidget.prototype.substituteVariableParameters = function(text,formalParams,actualParams) {\n\tif(formalParams) {\n\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\tparamInfo, paramValue;\n\t\t// Step through each of the parameters in the macro definition\n\t\tfor(var p=0; p&lt;formalParams.length; p++) {\n\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\tparamInfo = formalParams[p];\n\t\t\tparamValue = undefined;\n\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\tnextAnonParameter++;\n\t\t\t}\n\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t}\n\t\t\t// If we've still not got a value, use the default, if any\n\t\t\tparamValue = paramValue || paramInfo[\"default\"] || \"\";\n\t\t\t// Replace any instances of this parameter\n\t\t\ttext = text.replace(new RegExp(\"\\\\$\" + $tw.utils.escapeRegExp(paramInfo.name) + \"\\\\$\",\"mg\"),paramValue);\n\t\t}\n\t}\n\treturn text;\n};\n\nWidget.prototype.substituteVariableReferences = function(text) {\n\tvar self = this;\n\treturn text.replace(/\\$\\(([^\\)\\$]+)\\)\\$/g,function(match,p1,offset,string) {\n\t\treturn self.getVariable(p1,{defaultValue: \"\"});\n\t});\n};\n\nWidget.prototype.evaluateMacroModule = function(name,actualParams,defaultValue) {\n\tif($tw.utils.hop($tw.macros,name)) {\n\t\tvar macro = $tw.macros[name],\n\t\t\targs = [];\n\t\tif(macro.params.length &gt; 0) {\n\t\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\t\tparamInfo, paramValue;\n\t\t\t// Step through each of the parameters in the macro definition\n\t\t\tfor(var p=0; p&lt;macro.params.length; p++) {\n\t\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\t\tparamInfo = macro.params[p];\n\t\t\t\tparamValue = undefined;\n\t\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\t\tnextAnonParameter++;\n\t\t\t\t}\n\t\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t\t}\n\t\t\t\t// If we've still not got a value, use the default, if any\n\t\t\t\tparamValue = paramValue || paramInfo[\"default\"] || \"\";\n\t\t\t\t// Save the parameter\n\t\t\t\targs.push(paramValue);\n\t\t\t}\n\t\t}\n\t\telse for(var i=0; i&lt;actualParams.length; ++i) {\n\t\t\targs.push(actualParams[i].value);\n\t\t}\n\t\treturn macro.run.apply(this,args)\n\t} else {\n\t\treturn defaultValue;\n\t}\n};\n\n/*\nCheck whether a given context variable value exists in the parent chain\n*/\nWidget.prototype.hasVariable = function(name,value) {\n\tvar node = this;\n\twhile(node) {\n\t\tif($tw.utils.hop(node.variables,name) &amp;&amp; node.variables[name].value === value) {\n\t\t\treturn true;\n\t\t}\n\t\tnode = node.parentWidget;\n\t}\n\treturn false;\n};\n\n/*\nConstruct a qualifying string based on a hash of concatenating the values of a given variable in the parent chain\n*/\nWidget.prototype.getStateQualifier = function(name) {\n\tname = name || \"transclusion\";\n\tvar output = [],\n\t\tnode = this;\n\twhile(node &amp;&amp; node.parentWidget) {\n\t\tif($tw.utils.hop(node.parentWidget.variables,name)) {\n\t\t\toutput.push(node.getVariable(name));\n\t\t}\n\t\tnode = node.parentWidget;\n\t}\n\treturn \"{\" + $tw.utils.hashString(output.join(\"\")) + \"}\";\n};\n\n/*\nCompute the current values of the attributes of the widget. Returns a hashmap of the names of the attributes that have changed\n*/\nWidget.prototype.computeAttributes = function() {\n\tvar changedAttributes = {},\n\t\tself = this,\n\t\tvalue;\n\t$tw.utils.each(this.parseTreeNode.attributes,function(attribute,name) {\n\t\tif(attribute.type === \"indirect\") {\n\t\t\tvalue = self.wiki.getTextReference(attribute.textReference,\"\",self.getVariable(\"currentTiddler\"));\n\t\t} else if(attribute.type === \"macro\") {\n\t\t\tvalue = self.getVariable(attribute.value.name,{params: attribute.value.params});\n\t\t} else { // String attribute\n\t\t\tvalue = attribute.value;\n\t\t}\n\t\t// Check whether the attribute has changed\n\t\tif(self.attributes[name] !== value) {\n\t\t\tself.attributes[name] = value;\n\t\t\tchangedAttributes[name] = true;\n\t\t}\n\t});\n\treturn changedAttributes;\n};\n\n/*\nCheck for the presence of an attribute\n*/\nWidget.prototype.hasAttribute = function(name) {\n\treturn $tw.utils.hop(this.attributes,name);\n};\n\n/*\nGet the value of an attribute\n*/\nWidget.prototype.getAttribute = function(name,defaultText) {\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\treturn this.attributes[name];\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nAssign the computed attributes of the widget to a domNode\noptions include:\nexcludeEventAttributes: ignores attributes whose name begins with \"on\"\n*/\nWidget.prototype.assignAttributes = function(domNode,options) {\n\toptions = options || {};\n\tvar self = this;\n\t$tw.utils.each(this.attributes,function(v,a) {\n\t\t// Check exclusions\n\t\tif(options.excludeEventAttributes &amp;&amp; a.substr(0,2) === \"on\") {\n\t\t\tv = undefined;\n\t\t}\n\t\tif(v !== undefined) {\n\t\t\t// Setting certain attributes can cause a DOM error (eg xmlns on the svg element)\n\t\t\ttry {\n\t\t\t\tdomNode.setAttributeNS(null,a,v);\n\t\t\t} catch(e) {\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nMake child widgets correspondng to specified parseTreeNodes\n*/\nWidget.prototype.makeChildWidgets = function(parseTreeNodes) {\n\tthis.children = [];\n\tvar self = this;\n\t$tw.utils.each(parseTreeNodes || (this.parseTreeNode &amp;&amp; this.parseTreeNode.children),function(childNode) {\n\t\tself.children.push(self.makeChildWidget(childNode));\n\t});\n};\n\n/*\nConstruct the widget object for a parse tree node\n*/\nWidget.prototype.makeChildWidget = function(parseTreeNode) {\n\tvar WidgetClass = this.widgetClasses[parseTreeNode.type];\n\tif(!WidgetClass) {\n\t\tWidgetClass = this.widgetClasses[\"text\"];\n\t\tparseTreeNode = {type: \"text\", text: \"Undefined widget '\" + parseTreeNode.type + \"'\"};\n\t}\n\treturn new WidgetClass(parseTreeNode,{\n\t\twiki: this.wiki,\n\t\tvariables: {},\n\t\tparentWidget: this,\n\t\tdocument: this.document\n\t});\n};\n\n/*\nGet the next sibling of this widget\n*/\nWidget.prototype.nextSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &lt; this.parentWidget.children.length-1) {\n\t\t\treturn this.parentWidget.children[index+1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the previous sibling of this widget\n*/\nWidget.prototype.previousSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &gt; 0) {\n\t\t\treturn this.parentWidget.children[index-1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRender the children of this widget into the DOM\n*/\nWidget.prototype.renderChildren = function(parent,nextSibling) {\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\tchildWidget.render(parent,nextSibling);\n\t});\n};\n\n/*\nAdd a list of event listeners from an array [{type:,handler:},...]\n*/\nWidget.prototype.addEventListeners = function(listeners) {\n\tvar self = this;\n\t$tw.utils.each(listeners,function(listenerInfo) {\n\t\tself.addEventListener(listenerInfo.type,listenerInfo.handler);\n\t});\n};\n\n/*\nAdd an event listener\n*/\nWidget.prototype.addEventListener = function(type,handler) {\n\tvar self = this;\n\tif(typeof handler === \"string\") { // The handler is a method name on this widget\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn self[handler].call(self,event);\n\t\t};\n\t} else { // The handler is a function\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn handler.call(self,event);\n\t\t}\n\n\t}\n};\n\n/*\nDispatch an event to a widget. If the widget doesn't handle the event then it is also dispatched to the parent widget\n*/\nWidget.prototype.dispatchEvent = function(event) {\n\t// Dispatch the event if this widget handles it\n\tvar listener = this.eventListeners[event.type];\n\tif(listener) {\n\t\t// Don't propagate the event if the listener returned false\n\t\tif(!listener(event)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Dispatch the event to the parent widget\n\tif(this.parentWidget) {\n\t\treturn this.parentWidget.dispatchEvent(event);\n\t}\n\treturn true;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nRebuild a previously rendered widget\n*/\nWidget.prototype.refreshSelf = function() {\n\tvar nextSibling = this.findNextSiblingDomNode();\n\tthis.removeChildDomNodes();\n\tthis.render(this.parentDomNode,nextSibling);\n};\n\n/*\nRefresh all the children of a widget\n*/\nWidget.prototype.refreshChildren = function(changedTiddlers) {\n\tvar self = this,\n\t\trefreshed = false;\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\trefreshed = childWidget.refresh(changedTiddlers) || refreshed;\n\t});\n\treturn refreshed;\n};\n\n/*\nFind the next sibling in the DOM to this widget. This is done by scanning the widget tree through all next siblings and their descendents that share the same parent DOM node\n*/\nWidget.prototype.findNextSiblingDomNode = function(startIndex) {\n\t// Refer to this widget by its index within its parents children\n\tvar parent = this.parentWidget,\n\t\tindex = startIndex !== undefined ? startIndex : parent.children.indexOf(this);\nif(index === -1) {\n\tthrow \"node not found in parents children\";\n}\n\t// Look for a DOM node in the later siblings\n\twhile(++index &lt; parent.children.length) {\n\t\tvar domNode = parent.children[index].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\t// Go back and look for later siblings of our parent if it has the same parent dom node\n\tvar grandParent = parent.parentWidget;\n\tif(grandParent &amp;&amp; parent.parentDomNode === this.parentDomNode) {\n\t\tindex = grandParent.children.indexOf(parent);\n\t\treturn parent.findNextSiblingDomNode(index);\n\t}\n\treturn null;\n};\n\n/*\nFind the first DOM node generated by a widget or its children\n*/\nWidget.prototype.findFirstDomNode = function() {\n\t// Return the first dom node of this widget, if we've got one\n\tif(this.domNodes.length &gt; 0) {\n\t\treturn this.domNodes[0];\n\t}\n\t// Otherwise, recursively call our children\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar domNode = this.children[t].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRemove any DOM nodes created by this widget or its children\n*/\nWidget.prototype.removeChildDomNodes = function() {\n\t// If this widget has directly created DOM nodes, delete them and exit. This assumes that any child widgets are contained within the created DOM nodes, which would normally be the case\n\tif(this.domNodes.length &gt; 0) {\n\t\t$tw.utils.each(this.domNodes,function(domNode) {\n\t\t\tdomNode.parentNode.removeChild(domNode);\n\t\t});\n\t\tthis.domNodes = [];\n\t} else {\n\t\t// Otherwise, ask the child widgets to delete their DOM nodes\n\t\t$tw.utils.each(this.children,function(childWidget) {\n\t\t\tchildWidget.removeChildDomNodes();\n\t\t});\n\t}\n};\n\nexports.widget = Widget;\n\n})();\n",
            "title": "$:/core/modules/widgets/widget.js",
            "type": "application/javascript",
            "module-type": "widget"
        },
        "$:/core/modules/wiki.js": {
            "text": "/*\\\ntitle: $:/core/modules/wiki.js\ntype: application/javascript\nmodule-type: wikimethod\n\nExtension methods for the $tw.Wiki object\n\nAdds the following properties to the wiki object:\n\n* `eventListeners` is a hashmap by type of arrays of listener functions\n* `changedTiddlers` is a hashmap describing changes to named tiddlers since wiki change events were last dispatched. Each entry is a hashmap containing two fields:\n\tmodified: true/false\n\tdeleted: true/false\n* `changeCount` is a hashmap by tiddler title containing a numerical index that starts at zero and is incremented each time a tiddler is created changed or deleted\n* `caches` is a hashmap by tiddler title containing a further hashmap of named cache objects. Caches are automatically cleared when a tiddler is modified or deleted\n* `globalCache` is a hashmap by cache name of cache objects that are cleared whenever any tiddler change occurs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\nvar widget = require(\"$:/core/modules/widgets/widget.js\");\n\nvar USER_NAME_TITLE = \"$:/status/UserName\";\n\n/*\nGet the value of a text reference. Text references can have any of these forms:\n\t&lt;tiddlertitle&gt;\n\t&lt;tiddlertitle&gt;!!&lt;fieldname&gt;\n\t!!&lt;fieldname&gt; - specifies a field of the current tiddlers\n\t&lt;tiddlertitle&gt;##&lt;index&gt;\n*/\nexports.getTextReference = function(textRef,defaultText,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tif(tr.field) {\n\t\tvar tiddler = this.getTiddler(title);\n\t\tif(tr.field === \"title\") { // Special case so we can return the title of a non-existent tiddler\n\t\t\treturn title;\n\t\t} else if(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\treturn tiddler.getFieldString(tr.field);\n\t\t} else {\n\t\t\treturn defaultText;\n\t\t}\n\t} else if(tr.index) {\n\t\treturn this.extractTiddlerDataItem(title,tr.index,defaultText);\n\t} else {\n\t\treturn this.getTiddlerText(title,defaultText);\n\t}\n};\n\nexports.setTextReference = function(textRef,value,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tthis.setText(title,tr.field,tr.index,value);\n};\n\nexports.setText = function(title,field,index,value) {\n\t// Check if it is a reference to a tiddler field\n\tif(index) {\n\t\tvar data = this.getTiddlerData(title,Object.create(null));\n\t\tdata[index] = value;\n\t\tthis.setTiddlerData(title,data,this.getModificationFields());\n\t} else {\n\t\tvar tiddler = this.getTiddler(title),\n\t\t\tfields = {title: title};\n\t\tfields[field || \"text\"] = value;\n\t\tthis.addTiddler(new $tw.Tiddler(tiddler,fields,this.getModificationFields()));\n\t}\n};\n\nexports.deleteTextReference = function(textRef,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle,tiddler,fields;\n\t// Check if it is a reference to a tiddler\n\tif(tr.title &amp;&amp; !tr.field) {\n\t\tthis.deleteTiddler(tr.title);\n\t// Else check for a field reference\n\t} else if(tr.field) {\n\t\ttitle = tr.title || currTiddlerTitle;\n\t\ttiddler = this.getTiddler(title);\n\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\tfields = Object.create(null);\n\t\t\tfields[tr.field] = undefined;\n\t\t\tthis.addTiddler(new $tw.Tiddler(tiddler,fields,this.getModificationFields()));\n\t\t}\n\t}\n};\n\nexports.addEventListener = function(type,listener) {\n\tthis.eventListeners = this.eventListeners || {};\n\tthis.eventListeners[type] = this.eventListeners[type]  || [];\n\tthis.eventListeners[type].push(listener);\t\n};\n\nexports.removeEventListener = function(type,listener) {\n\tvar listeners = this.eventListeners[type];\n\tif(listeners) {\n\t\tvar p = listeners.indexOf(listener);\n\t\tif(p !== -1) {\n\t\t\tlisteners.splice(p,1);\n\t\t}\n\t}\n};\n\nexports.dispatchEvent = function(type /*, args */) {\n\tvar args = Array.prototype.slice.call(arguments,1),\n\t\tlisteners = this.eventListeners[type];\n\tif(listeners) {\n\t\tfor(var p=0; p&lt;listeners.length; p++) {\n\t\t\tvar listener = listeners[p];\n\t\t\tlistener.apply(listener,args);\n\t\t}\n\t}\n};\n\n/*\nCauses a tiddler to be marked as changed, incrementing the change count, and triggers event handlers.\nThis method should be called after the changes it describes have been made to the wiki.tiddlers[] array.\n\ttitle: Title of tiddler\n\tisDeleted: defaults to false (meaning the tiddler has been created or modified),\n\t\ttrue if the tiddler has been deleted\n*/\nexports.enqueueTiddlerEvent = function(title,isDeleted) {\n\t// Record the touch in the list of changed tiddlers\n\tthis.changedTiddlers = this.changedTiddlers || Object.create(null);\n\tthis.changedTiddlers[title] = this.changedTiddlers[title] || Object.create(null);\n\tthis.changedTiddlers[title][isDeleted ? \"deleted\" : \"modified\"] = true;\n\t// Increment the change count\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\tthis.changeCount[title]++;\n\t} else {\n\t\tthis.changeCount[title] = 1;\n\t}\n\t// Trigger events\n\tthis.eventListeners = this.eventListeners || [];\n\tif(!this.eventsTriggered) {\n\t\tvar self = this;\n\t\t$tw.utils.nextTick(function() {\n\t\t\tvar changes = self.changedTiddlers;\n\t\t\tself.changedTiddlers = Object.create(null);\n\t\t\tself.eventsTriggered = false;\n\t\t\tif($tw.utils.count(changes) &gt; 0) {\n\t\t\t\tself.dispatchEvent(\"change\",changes);\n\t\t\t}\n\t\t});\n\t\tthis.eventsTriggered = true;\n\t}\n};\n\nexports.clearTiddlerEventQueue = function() {\n\tthis.changedTiddlers = Object.create(null);\n\tthis.changeCount = Object.create(null)\n};\n\nexports.getChangeCount = function(title) {\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\treturn this.changeCount[title];\n\t} else {\n\t\treturn 0;\n\t}\n};\n\n/*\nGenerate an unused title from the specified base\n*/\nexports.generateNewTitle = function(baseTitle,options) {\n\toptions = options || {};\n\tvar c = 0,\n\t    title = baseTitle;\n\twhile(this.tiddlerExists(title) || this.isShadowTiddler(title)) {\n\t\ttitle = baseTitle + \n\t\t\t(options.prefix || \" \") + \n\t\t\t(++c);\n\t};\n\treturn title;\n};\n\nexports.isSystemTiddler = function(title) {\n\treturn title.indexOf(\"$:/\") === 0;\n};\n\nexports.isTemporaryTiddler = function(title) {\n\treturn title.indexOf(\"$:/temp/\") === 0;\n};\n\nexports.isImageTiddler = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\t\t\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \"text/vnd.tiddlywiki\"];\n\t\treturn !!contentTypeInfo &amp;&amp; contentTypeInfo.flags.indexOf(\"image\") !== -1;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLike addTiddler() except it will silently reject any plugin tiddlers that are older than the currently loaded version. Returns true if the tiddler was imported\n*/\nexports.importTiddler = function(tiddler) {\n\tvar existingTiddler = this.getTiddler(tiddler.fields.title);\n\t// Check if we're dealing with a plugin\n\tif(tiddler &amp;&amp; tiddler.hasField(\"plugin-type\") &amp;&amp; tiddler.hasField(\"version\") &amp;&amp; existingTiddler &amp;&amp; existingTiddler.hasField(\"plugin-type\") &amp;&amp; existingTiddler.hasField(\"version\")) {\n\t\t// Reject the incoming plugin if it is older\n\t\tif($tw.utils.checkVersions(existingTiddler.fields.version,tiddler.fields.version)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Fall through to adding the tiddler\n\tthis.addTiddler(tiddler);\n\treturn true;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is created\n*/\nexports.getCreationFields = function() {\n\tvar fields = {\n\t\t\tcreated: new Date()\n\t\t},\n\t\tcreator = this.getTiddlerText(USER_NAME_TITLE);\n\tif(creator) {\n\t\tfields.creator = creator;\n\t}\n\treturn fields;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is modified\n*/\nexports.getModificationFields = function() {\n\tvar fields = Object.create(null),\n\t\tmodifier = this.getTiddlerText(USER_NAME_TITLE);\n\tfields.modified = new Date();\n\tif(modifier) {\n\t\tfields.modifier = modifier;\n\t}\n\treturn fields;\n};\n\n/*\nReturn a sorted array of tiddler titles.  Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.getTiddlers = function(options) {\n\toptions = options || Object.create(null);\n\tvar self = this,\n\t\tsortField = options.sortField || \"title\",\n\t\ttiddlers = [], t, titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tif(options.includeSystem || !self.isSystemTiddler(title)) {\n\t\t\tif(!options.excludeTag || !tiddler.hasTag(options.excludeTag)) {\n\t\t\t\ttiddlers.push(tiddler);\n\t\t\t}\n\t\t}\n\t});\n\ttiddlers.sort(function(a,b) {\n\t\tvar aa = a.fields[sortField].toLowerCase() || \"\",\n\t\t\tbb = b.fields[sortField].toLowerCase() || \"\";\n\t\tif(aa &lt; bb) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(aa &gt; bb) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n\tfor(t=0; t&lt;tiddlers.length; t++) {\n\t\ttitles.push(tiddlers[t].fields.title);\n\t}\n\treturn titles;\n};\n\nexports.countTiddlers = function(excludeTag) {\n\tvar tiddlers = this.getTiddlers({excludeTag: excludeTag});\n\treturn $tw.utils.count(tiddlers);\n};\n\n/*\nReturns a function iterator(callback) that iterates through the specified titles, and invokes the callback with callback(tiddler,title)\n*/\nexports.makeTiddlerIterator = function(titles) {\n\tvar self = this;\n\tif(!$tw.utils.isArray(titles)) {\n\t\ttitles = Object.keys(titles);\n\t} else {\n\t\ttitles = titles.slice(0);\n\t}\n\treturn function(callback) {\n\t\ttitles.forEach(function(title) {\n\t\t\tcallback(self.getTiddler(title),title);\n\t\t});\n\t};\n};\n\n/*\nSort an array of tiddler titles by a specified field\n\ttitles: array of titles (sorted in place)\n\tsortField: name of field to sort by\n\tisDescending: true if the sort should be descending\n\tisCaseSensitive: true if the sort should consider upper and lower case letters to be different\n*/\nexports.sortTiddlers = function(titles,sortField,isDescending,isCaseSensitive,isNumeric) {\n\tvar self = this;\n\ttitles.sort(function(a,b) {\n\t\tif(sortField !== \"title\") {\n\t\t\ta = self.getTiddler(a).fields[sortField] || \"\";\n\t\t\tb = self.getTiddler(b).fields[sortField] || \"\";\n\t\t}\n\t\tif(isNumeric) {\n\t\t\ta = Number(a);\n\t\t\tb = Number(b);\n\t\t\treturn isDescending ? b - a : a - b;\n\t\t} else if($tw.utils.isDate(a) &amp;&amp; $tw.utils.isDate(b)) {\n\t\t\treturn isDescending ? b - a : a - b;\n\t\t} else {\n\t\t\ta = String(a);\n\t\t\tb = String(b);\n\t\t\tif(!isCaseSensitive) {\n\t\t\t\ta = a.toLowerCase();\n\t\t\t\tb = b.toLowerCase();\n\t\t\t}\n\t\t\treturn isDescending ? b.localeCompare(a) : a.localeCompare(b);\n\t\t}\n\t});\n};\n\n/*\nFor every tiddler invoke a callback(title,tiddler) with `this` set to the wiki object. Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.forEachTiddler = function(/* [options,]callback */) {\n\tvar arg = 0,\n\t\toptions = arguments.length &gt;= 2 ? arguments[arg++] : {},\n\t\tcallback = arguments[arg++],\n\t\ttitles = this.getTiddlers(options),\n\t\tt, tiddler;\n\tfor(t=0; t&lt;titles.length; t++) {\n\t\ttiddler = this.getTiddler(titles[t]);\n\t\tif(tiddler) {\n\t\t\tcallback.call(this,tiddler.fields.title,tiddler);\n\t\t}\n\t}\n};\n\n/*\nReturn an array of tiddler titles that are directly linked from the specified tiddler\n*/\nexports.getTiddlerLinks = function(title) {\n\tvar self = this;\n\t// We'll cache the links so they only get computed if the tiddler changes\n\treturn this.getCacheForTiddler(title,\"links\",function() {\n\t\t// Parse the tiddler\n\t\tvar parser = self.parseTiddler(title);\n\t\t// Count up the links\n\t\tvar links = [],\n\t\t\tcheckParseTree = function(parseTree) {\n\t\t\t\tfor(var t=0; t&lt;parseTree.length; t++) {\n\t\t\t\t\tvar parseTreeNode = parseTree[t];\n\t\t\t\t\tif(parseTreeNode.type === \"link\" &amp;&amp; parseTreeNode.attributes.to &amp;&amp; parseTreeNode.attributes.to.type === \"string\") {\n\t\t\t\t\t\tvar value = parseTreeNode.attributes.to.value;\n\t\t\t\t\t\tif(links.indexOf(value) === -1) {\n\t\t\t\t\t\t\tlinks.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(parseTreeNode.children) {\n\t\t\t\t\t\tcheckParseTree(parseTreeNode.children);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\tif(parser) {\n\t\t\tcheckParseTree(parser.tree);\n\t\t}\n\t\treturn links;\n\t});\n};\n\n/*\nReturn an array of tiddler titles that link to the specified tiddler\n*/\nexports.getTiddlerBacklinks = function(targetTitle) {\n\tvar self = this,\n\t\tbacklinks = [];\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\tif(links.indexOf(targetTitle) !== -1) {\n\t\t\tbacklinks.push(title);\n\t\t}\n\t});\n\treturn backlinks;\n};\n\n/*\nReturn a hashmap of tiddler titles that are referenced but not defined. Each value is the number of times the missing tiddler is referenced\n*/\nexports.getMissingTitles = function() {\n\tvar self = this,\n\t\tmissing = [];\n// We should cache the missing tiddler list, even if we recreate it every time any tiddler is modified\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tif((!self.tiddlerExists(link) &amp;&amp; !self.isShadowTiddler(link)) &amp;&amp; missing.indexOf(link) === -1) {\n\t\t\t\tmissing.push(link);\n\t\t\t}\n\t\t});\n\t});\n\treturn missing;\n};\n\nexports.getOrphanTitles = function() {\n\tvar self = this,\n\t\torphans = this.getTiddlers();\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tvar p = orphans.indexOf(link);\n\t\t\tif(p !== -1) {\n\t\t\t\torphans.splice(p,1);\n\t\t\t}\n\t\t});\n\t});\n\treturn orphans; // Todo\n};\n\n/*\nRetrieves a list of the tiddler titles that are tagged with a given tag\n*/\nexports.getTiddlersWithTag = function(tag) {\n\tvar self = this;\n\treturn this.getGlobalCache(\"taglist-\" + tag,function() {\n\t\tvar tagmap = self.getTagMap();\n\t\treturn self.sortByList(tagmap[tag],tag);\n\t});\n};\n\n/*\nGet a hashmap by tag of arrays of tiddler titles\n*/\nexports.getTagMap = function() {\n\tvar self = this;\n\treturn this.getGlobalCache(\"tagmap\",function() {\n\t\tvar tags = Object.create(null),\n\t\t\tstoreTags = function(tagArray,title) {\n\t\t\t\tif(tagArray) {\n\t\t\t\t\tfor(var index=0; index&lt;tagArray.length; index++) {\n\t\t\t\t\t\tvar tag = tagArray[index];\n\t\t\t\t\t\tif($tw.utils.hop(tags,tag)) {\n\t\t\t\t\t\t\ttags[tag].push(title)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[tag] = [title];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle, tiddler;\n\t\t// Collect up all the tags\n\t\tself.eachShadow(function(tiddler,title) {\n\t\t\tif(!self.tiddlerExists(title)) {\n\t\t\t\ttiddler = self.getTiddler(title);\n\t\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t\t}\n\t\t});\n\t\tself.each(function(tiddler,title) {\n\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t});\n\t\treturn tags;\n\t});\n};\n\n/*\nLookup a given tiddler and return a list of all the tiddlers that include it in the specified list field\n*/\nexports.findListingsOfTiddler = function(targetTitle,fieldName) {\n\tfieldName = fieldName || \"list\";\n\tvar titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tvar list = $tw.utils.parseStringArray(tiddler.fields[fieldName]);\n\t\tif(list &amp;&amp; list.indexOf(targetTitle) !== -1) {\n\t\t\ttitles.push(title);\n\t\t}\n\t});\n\treturn titles;\n};\n\n/*\nSorts an array of tiddler titles according to an ordered list\n*/\nexports.sortByList = function(array,listTitle) {\n\tvar list = this.getTiddlerList(listTitle);\n\tif(!array || array.length === 0) {\n\t\treturn [];\n\t} else {\n\t\tvar titles = [], t, title;\n\t\t// First place any entries that are present in the list\n\t\tfor(t=0; t&lt;list.length; t++) {\n\t\t\ttitle = list[t];\n\t\t\tif(array.indexOf(title) !== -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Then place any remaining entries\n\t\tfor(t=0; t&lt;array.length; t++) {\n\t\t\ttitle = array[t];\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Finally obey the list-before and list-after fields of each tiddler in turn\n\t\tvar sortedTitles = titles.slice(0);\n\t\tfor(t=0; t&lt;sortedTitles.length; t++) {\n\t\t\ttitle = sortedTitles[t];\n\t\t\tvar currPos = titles.indexOf(title),\n\t\t\t\tnewPos = -1,\n\t\t\t\ttiddler = this.getTiddler(title);\n\t\t\tif(tiddler) {\n\t\t\t\tvar beforeTitle = tiddler.fields[\"list-before\"],\n\t\t\t\t\tafterTitle = tiddler.fields[\"list-after\"];\n\t\t\t\tif(beforeTitle === \"\") {\n\t\t\t\t\tnewPos = 0;\n\t\t\t\t} else if(beforeTitle) {\n\t\t\t\t\tnewPos = titles.indexOf(beforeTitle);\n\t\t\t\t} else if(afterTitle) {\n\t\t\t\t\tnewPos = titles.indexOf(afterTitle);\n\t\t\t\t\tif(newPos &gt;= 0) {\n\t\t\t\t\t\t++newPos;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(newPos === -1) {\n\t\t\t\t\tnewPos = currPos;\n\t\t\t\t}\n\t\t\t\tif(newPos !== currPos) {\n\t\t\t\t\ttitles.splice(currPos,1);\n\t\t\t\t\tif(newPos &gt;= currPos) {\n\t\t\t\t\t\tnewPos--;\n\t\t\t\t\t}\n\t\t\t\t\ttitles.splice(newPos,0,title);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn titles;\n\t}\n};\n\n/*\nRetrieve a tiddler as a JSON string of the fields\n*/\nexports.getTiddlerAsJson = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\tvar fields = Object.create(null);\n\t\t$tw.utils.each(tiddler.fields,function(value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\treturn JSON.stringify(fields);\n\t} else {\n\t\treturn JSON.stringify({title: title});\n\t}\n};\n\n/*\nGet a tiddlers content as a JavaScript object. How this is done depends on the type of the tiddler:\n\napplication/json: the tiddler JSON is parsed into an object\napplication/x-tiddler-dictionary: the tiddler is parsed as sequence of name:value pairs\n\nOther types currently just return null.\n*/\nexports.getTiddlerData = function(title,defaultData) {\n\tvar tiddler = this.getTiddler(title),\n\t\tdata;\n\tif(tiddler &amp;&amp; tiddler.fields.text) {\n\t\tswitch(tiddler.fields.type) {\n\t\t\tcase \"application/json\":\n\t\t\t\t// JSON tiddler\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(tiddler.fields.text);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\treturn defaultData;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\tcase \"application/x-tiddler-dictionary\":\n\t\t\t\treturn $tw.utils.parseFields(tiddler.fields.text);\n\t\t}\n\t}\n\treturn defaultData;\n};\n\n/*\nExtract an indexed field from within a data tiddler\n*/\nexports.extractTiddlerDataItem = function(title,index,defaultText) {\n\tvar data = this.getTiddlerData(title,Object.create(null)),\n\t\ttext;\n\tif(data &amp;&amp; $tw.utils.hop(data,index)) {\n\t\ttext = data[index];\n\t}\n\tif(typeof text === \"string\" || typeof text === \"number\") {\n\t\treturn text.toString();\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nSet a tiddlers content to a JavaScript object. Currently this is done by setting the tiddler's type to \"application/json\" and setting the text to the JSON text of the data.\ntitle: title of tiddler\ndata: object that can be serialised to JSON\nfields: optional hashmap of additional tiddler fields to be set\n*/\nexports.setTiddlerData = function(title,data,fields) {\n\tvar existingTiddler = this.getTiddler(title),\n\t\tnewFields = {\n\t\t\ttitle: title\n\t};\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.type === \"application/x-tiddler-dictionary\") {\n\t\tnewFields.text = $tw.utils.makeTiddlerDictionary(data);\n\t} else {\n\t\tnewFields.type = \"application/json\";\n\t\tnewFields.text = JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);\n\t}\n\tthis.addTiddler(new $tw.Tiddler(existingTiddler,fields,newFields,this.getModificationFields()));\n};\n\n/*\nReturn the content of a tiddler as an array containing each line\n*/\nexports.getTiddlerList = function(title,field,index) {\n\tif(index) {\n\t\treturn $tw.utils.parseStringArray(this.extractTiddlerDataItem(title,index,\"\"));\n\t}\n\tfield = field || \"list\";\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\treturn ($tw.utils.parseStringArray(tiddler.fields[field]) || []).slice(0);\n\t}\n\treturn [];\n};\n\n// Return a named global cache object. Global cache objects are cleared whenever a tiddler change occurs\nexports.getGlobalCache = function(cacheName,initializer) {\n\tthis.globalCache = this.globalCache || Object.create(null);\n\tif($tw.utils.hop(this.globalCache,cacheName)) {\n\t\treturn this.globalCache[cacheName];\n\t} else {\n\t\tthis.globalCache[cacheName] = initializer();\n\t\treturn this.globalCache[cacheName];\n\t}\n};\n\nexports.clearGlobalCache = function() {\n\tthis.globalCache = Object.create(null);\n}\n\n// Return the named cache object for a tiddler. If the cache doesn't exist then the initializer function is invoked to create it\nexports.getCacheForTiddler = function(title,cacheName,initializer) {\n\n// Temporarily disable caching so that tweakParseTreeNode() works\nreturn initializer();\n\n\tthis.caches = this.caches || Object.create(null);\n\tvar caches = this.caches[title];\n\tif(caches &amp;&amp; caches[cacheName]) {\n\t\treturn caches[cacheName];\n\t} else {\n\t\tif(!caches) {\n\t\t\tcaches = Object.create(null);\n\t\t\tthis.caches[title] = caches;\n\t\t}\n\t\tcaches[cacheName] = initializer();\n\t\treturn caches[cacheName];\n\t}\n};\n\n// Clear all caches associated with a particular tiddler\nexports.clearCache = function(title) {\n\tthis.caches = this.caches || Object.create(null);\n\tif($tw.utils.hop(this.caches,title)) {\n\t\tdelete this.caches[title];\n\t}\n};\n\nexports.initParsers = function(moduleType) {\n\t// Install the parser modules\n\t$tw.Wiki.parsers = {};\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(\"parser\",function(title,module) {\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\t$tw.Wiki.parsers[f] = module[f]; // Store the parser class\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nParse a block of text of a specified MIME type\n\ttype: content type of text to be parsed\n\ttext: text\n\toptions: see below\nOptions include:\n\tparseAsInline: if true, the text of the tiddler will be parsed as an inline run\n\t_canonical_uri: optional string of the canonical URI of this content\n*/\nexports.old_parseText = function(type,text,options) {\n\toptions = options || {};\n\t// Select a parser\n\tvar Parser = $tw.Wiki.parsers[type];\n\tif(!Parser &amp;&amp; $tw.config.fileExtensionInfo[type]) {\n\t\tParser = $tw.Wiki.parsers[$tw.config.fileExtensionInfo[type].type];\n\t}\n\tif(!Parser) {\n\t\tParser = $tw.Wiki.parsers[options.defaultType || \"text/vnd.tiddlywiki\"];\n\t}\n\tif(!Parser) {\n\t\treturn null;\n\t}\n\t// Return the parser instance\n\treturn new Parser(type,text,{\n\t\tparseAsInline: options.parseAsInline,\n\t\twiki: this,\n\t\t_canonical_uri: options._canonical_uri\n\t});\n};\n\n/*\nParse a tiddler according to its MIME type\n*/\nexports.old_parseTiddler = function(title,options) {\n\toptions = $tw.utils.extend({},options);\n\tvar cacheType = options.parseAsInline ? \"newInlineParseTree\" : \"newBlockParseTree\",\n\t\ttiddler = this.getTiddler(title),\n\t\tself = this;\n\treturn tiddler ? this.getCacheForTiddler(title,cacheType,function() {\n\t\t\tif(tiddler.hasField(\"_canonical_uri\")) {\n\t\t\t\toptions._canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t}\n\t\t\treturn self.old_parseText(tiddler.fields.type,tiddler.fields.text,options);\n\t\t}) : null;\n};\n\nvar tweakMacroDefinition = function(nodeList) {\n\tif(nodeList &amp;&amp; nodeList[0] &amp;&amp; nodeList[0].type === \"macrodef\") {\n\t\tnodeList[0].type = \"set\";\n\t\tnodeList[0].attributes = {\n\t\t\tname: {type: \"string\", value: nodeList[0].name},\n\t\t\tvalue: {type: \"string\", value: nodeList[0].text}\n\t\t};\n\t\tnodeList[0].children = nodeList.slice(1);\n\t\tnodeList.splice(1,nodeList.length-1);\n\t\ttweakMacroDefinition(nodeList[0].children);\n\t}\n};\n\nvar tweakParser = function(parser) {\n\t// Move any macro definitions to contain the body tree\n\ttweakMacroDefinition(parser.tree);\n};\n\nexports.parseText = function(type,text,options) {\n\tvar parser = this.old_parseText(type,text,options);\n\tif(parser) {\n\t\ttweakParser(parser)\n\t};\n\treturn parser;\n};\n\nexports.parseTiddler = function(title,options) {\n\tvar parser = this.old_parseTiddler(title,options);\n\tif(parser) {\n\t\ttweakParser(parser)\n\t};\n\treturn parser;\n};\n\nexports.parseTextReference = function(title,field,index,options) {\n\tif(field === \"text\" || (!field &amp;&amp; !index)) {\n\t\t// Force the tiddler to be lazily loaded\n\t\tthis.getTiddlerText(title);\n\t\t// Parse it\n\t\treturn this.parseTiddler(title,options);\n\t} else {\n\t\tvar text;\n\t\tif(field) {\n\t\t\tif(field === \"title\") {\n\t\t\t\ttext = title;\n\t\t\t} else {\n\t\t\t\tvar tiddler = this.getTiddler(title);\n\t\t\t\tif(!tiddler || !tiddler.hasField(field)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\ttext = tiddler.fields[field];\n\t\t\t}\n\t\t\treturn this.parseText(\"text/vnd.tiddlywiki\",text.toString(),options);\n\t\t} else if(index) {\n\t\t\ttext = this.extractTiddlerDataItem(title,index,\"\");\n\t\t\tif(text === undefined) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this.parseText(\"text/vnd.tiddlywiki\",text,options);\n\t\t}\n\t}\n};\n\n/*\nMake a widget tree for a parse tree\nparser: parser object\noptions: see below\nOptions include:\ndocument: optional document to use\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.makeWidget = function(parser,options) {\n\toptions = options || {};\n\tvar widgetNode = {\n\t\t\ttype: \"widget\",\n\t\t\tchildren: []\n\t\t},\n\t\tcurrWidgetNode = widgetNode;\n\t// Create set variable widgets for each variable\n\t$tw.utils.each(options.variables,function(value,name) {\n\t\tvar setVariableWidget = {\n\t\t\ttype: \"set\",\n\t\t\tattributes: {\n\t\t\t\tname: {type: \"string\", value: name},\n\t\t\t\tvalue: {type: \"string\", value: value}\n\t\t\t},\n\t\t\tchildren: []\n\t\t};\n\t\tcurrWidgetNode.children = [setVariableWidget];\n\t\tcurrWidgetNode = setVariableWidget;\n\t});\n\t// Add in the supplied parse tree nodes\n\tcurrWidgetNode.children = parser ? parser.tree : [];\n\t// Create the widget\n\treturn new widget.widget(widgetNode,{\n\t\twiki: this,\n\t\tdocument: options.document || $tw.fakeDocument,\n\t\tparentWidget: options.parentWidget\n\t});\n};\n\n/*\nMake a widget tree for transclusion\ntitle: target tiddler title\noptions: as for wiki.makeWidget() (including parseAsInline)\n*/\nexports.makeTranscludeWidget = function(title,options) {\n\toptions = options || {};\n\tvar parseTree = {tree: [{\n\t\ttype: \"transclude\",\n\t\tattributes: {\n\t\t\ttiddler: {\n\t\t\t\tname: \"tiddler\",\n\t\t\t\ttype: \"string\",\n\t\t\t\tvalue: title}},\n\t\tisBlock: !options.parseAsInline}\n\t]};\n\treturn $tw.wiki.makeWidget(parseTree,options);\n};\n\n/*\nParse text in a specified format and render it into another format\n\toutputType: content type for the output\n\ttextType: content type of the input text\n\ttext: input text\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderText = function(outputType,textType,text,options) {\n\toptions = options || {};\n\tvar parser = this.parseText(textType,text,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\"div\");\n\twidgetNode.render(container,null);\n\treturn outputType === \"text/html\" ? container.innerHTML : container.textContent;\n};\n\n/*\nParse text from a tiddler and render it into another format\n\toutputType: content type for the output\n\ttitle: title of the tiddler to be rendered\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderTiddler = function(outputType,title,options) {\n\toptions = options || {};\n\tvar parser = this.parseTiddler(title,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\"div\");\n\twidgetNode.render(container,null);\n\treturn outputType === \"text/html\" ? container.innerHTML : (outputType === \"text/plain-formatted\" ? container.formattedTextContent : container.textContent);\n};\n\n/*\nReturn an array of tiddler titles that match a search string\n\ttext: The text string to search for\n\toptions: see below\nOptions available:\n\tsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\n\texclude: An array of tiddler titles to exclude from the search\n\tinvert: If true returns tiddlers that do not contain the specified string\n\tcaseSensitive: If true forces a case sensitive search\n\tliteral: If true, searches for literal string, rather than separate search terms\n*/\nexports.search = function(text,options) {\n\toptions = options || {};\n\tvar self = this,t;\n\t// Convert the search string into a regexp for each term\n\tvar terms, searchTermsRegExps,\n\t\tflags = options.caseSensitive ? \"\" : \"i\";\n\tif(options.literal) {\n\t\tif(text.length === 0) {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [new RegExp(\"(\" + $tw.utils.escapeRegExp(text) + \")\",flags)];\n\t\t}\n\t} else {\n\t\tterms = text.split(/ +/);\n\t\tif(terms.length === 1 &amp;&amp; terms[0] === \"\") {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [];\n\t\t\tfor(t=0; t&lt;terms.length; t++) {\n\t\t\t\tsearchTermsRegExps.push(new RegExp(\"(\" + $tw.utils.escapeRegExp(terms[t]) + \")\",flags));\n\t\t\t}\n\t\t}\n\t}\n\t// Function to check a given tiddler for the search term\n\tvar searchTiddler = function(title) {\n\t\tif(!searchTermsRegExps) {\n\t\t\treturn true;\n\t\t}\n\t\tvar tiddler = self.getTiddler(title);\n\t\tif(!tiddler) {\n\t\t\ttiddler = new $tw.Tiddler({title: title, text: \"\", type: \"text/vnd.tiddlywiki\"});\n\t\t}\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type] || $tw.config.contentTypeInfo[\"text/vnd.tiddlywiki\"],\n\t\t\tmatch;\n\t\tfor(var t=0; t&lt;searchTermsRegExps.length; t++) {\n\t\t\t// Search title, tags and body\n\t\t\tmatch = false;\n\t\t\tif(contentTypeInfo.encoding === \"utf8\") {\n\t\t\t\tmatch = match || searchTermsRegExps[t].test(tiddler.fields.text);\n\t\t\t}\n\t\t\tvar tags = tiddler.fields.tags ? tiddler.fields.tags.join(\"\\0\") : \"\";\n\t\t\tmatch = match || searchTermsRegExps[t].test(tags) || searchTermsRegExps[t].test(tiddler.fields.title);\n\t\t\tif(!match) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\t// Loop through all the tiddlers doing the search\n\tvar results = [],\n\t\tsource = options.source || this.each;\n\tsource(function(tiddler,title) {\n\t\tif(!!searchTiddler(title) === !options.invert) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\t// Remove any of the results we have to exclude\n\tif(options.exclude) {\n\t\tfor(t=0; t&lt;options.exclude.length; t++) {\n\t\t\tvar p = results.indexOf(options.exclude[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tresults.splice(p,1);\n\t\t\t}\n\t\t}\n\t}\n\treturn results;\n};\n\n/*\nTrigger a load for a tiddler if it is skinny. Returns the text, or undefined if the tiddler is missing, null if the tiddler is being lazily loaded.\n*/\nexports.getTiddlerText = function(title,defaultText) {\n\tvar tiddler = this.getTiddler(title);\n\t// Return undefined if the tiddler isn't found\n\tif(!tiddler) {\n\t\treturn defaultText;\n\t}\n\tif(tiddler.fields.text !== undefined) {\n\t\t// Just return the text if we've got it\n\t\treturn tiddler.fields.text;\n\t} else {\n\t\t// Tell any listeners about the need to lazily load this tiddler\n\t\tthis.dispatchEvent(\"lazyLoad\",title);\n\t\t// Indicate that the text is being loaded\n\t\treturn null;\n\t}\n};\n\n/*\nRead an array of browser File objects, invoking callback(tiddlerFieldsArray) once they're all read\n*/\nexports.readFiles = function(files,callback) {\n\tvar result = [],\n\t\toutstanding = files.length;\n\tfor(var f=0; f&lt;files.length; f++) {\n\t\tthis.readFile(files[f],function(tiddlerFieldsArray) {\n\t\t\tresult.push.apply(result,tiddlerFieldsArray);\n\t\t\tif(--outstanding === 0) {\n\t\t\t\tcallback(result);\n\t\t\t}\n\t\t});\n\t};\n\treturn files.length;\n};\n\n/*\nRead a browser File object, invoking callback(tiddlerFieldsArray) with an array of tiddler fields objects\n*/\nexports.readFile = function(file,callback) {\n\t// Get the type, falling back to the filename extension\n\tvar self = this,\n\t\ttype = file.type;\n\tif(type === \"\" || !type) {\n\t\tvar dotPos = file.name.lastIndexOf(\".\");\n\t\tif(dotPos !== -1) {\n\t\t\tvar fileExtensionInfo = $tw.config.fileExtensionInfo[file.name.substr(dotPos)];\n\t\t\tif(fileExtensionInfo) {\n\t\t\t\ttype = fileExtensionInfo.type;\n\t\t\t}\n\t\t}\n\t}\n\t// Figure out if we're reading a binary file\n\tvar contentTypeInfo = $tw.config.contentTypeInfo[type],\n\t\tisBinary = contentTypeInfo ? contentTypeInfo.encoding === \"base64\" : false;\n\t// Create the FileReader\n\tvar reader = new FileReader();\n\t// Onload\n\treader.onload = function(event) {\n\t\t// Deserialise the file contents\n\t\tvar text = event.target.result,\n\t\t\ttiddlerFields = {title: file.name || \"Untitled\", type: type};\n\t\t// Are we binary?\n\t\tif(isBinary) {\n\t\t\t// The base64 section starts after the first comma in the data URI\n\t\t\tvar commaPos = text.indexOf(\",\");\n\t\t\tif(commaPos !== -1) {\n\t\t\t\ttiddlerFields.text = text.substr(commaPos+1);\n\t\t\t\tcallback([tiddlerFields]);\n\t\t\t}\n\t\t} else {\n\t\t\t// Check whether this is an encrypted TiddlyWiki file\n\t\t\tvar encryptedJson = $tw.utils.extractEncryptedStoreArea(text);\n\t\t\tif(encryptedJson) {\n\t\t\t\t// If so, attempt to decrypt it with the current password\n\t\t\t\t$tw.utils.decryptStoreAreaInteractive(encryptedJson,function(tiddlers) {\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Otherwise, just try to deserialise any tiddlers in the file\n\t\t\t\tcallback(self.deserializeTiddlers(type,text,tiddlerFields));\n\t\t\t}\n\t\t}\n\t};\n\t// Kick off the read\n\tif(isBinary) {\n\t\treader.readAsDataURL(file);\n\t} else {\n\t\treader.readAsText(file);\n\t}\n};\n\n/*\nCheck whether the specified draft tiddler has been modified\n*/\nexports.isDraftModified = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(!tiddler.isDraft()) {\n\t\treturn false;\n\t}\n\tvar ignoredFields = [\"created\", \"modified\", \"title\", \"draft.title\", \"draft.of\"],\n\t\torigTiddler = this.getTiddler(tiddler.fields[\"draft.of\"]);\n\tif(!origTiddler) {\n\t\treturn true;\n\t}\n\treturn !tiddler.isEqual(origTiddler,ignoredFields);\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\nhistoryTitle: title of history tiddler (defaults to $:/HistoryList)\n*/\nexports.addToHistory = function(title,fromPageRect,historyTitle) {\n\thistoryTitle = historyTitle || \"$:/HistoryList\";\n\tvar titles = $tw.utils.isArray(title) ? title : [title];\n\t// Add a new record to the top of the history stack\n\tvar historyList = this.getTiddlerData(historyTitle,[]);\n\t$tw.utils.each(titles,function(title) {\n\t\thistoryList.push({title: title, fromPageRect: fromPageRect});\n\t});\n\tthis.setTiddlerData(historyTitle,historyList,{\"current-tiddler\": titles[titles.length-1]});\n};\n\n})();\n",
            "title": "$:/core/modules/wiki.js",
            "type": "application/javascript",
            "module-type": "wikimethod"
        },
        "$:/palettes/Blanca": {
            "title": "$:/palettes/Blanca",
            "name": "Blanca",
            "description": "A clean white palette to let you focus",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndownload-background: #66cccc\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: \nexternal-link-background-visited: \nexternal-link-background: \nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ffffff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #7897f3\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ccc\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ffffff\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #7897f3\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #fffffffff\ntab-background: #eeeeee\ntab-border-selected: #cccccc\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffeedd\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: #eee\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #ff9900\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Blue": {
            "title": "$:/palettes/Blue",
            "name": "Blue",
            "description": "A blue theme",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #fff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour foreground&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: \nexternal-link-background-visited: \nexternal-link-background: \nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333353\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ddddff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #5959c0\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: #ccccdd\ntab-border-selected: #ccccdd\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #eeeeff\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #666666\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #ffffff\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #ffffff\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #5959c0\ntoolbar-new-button: #5eb95e\ntoolbar-options-button: rgb(128, 88, 165)\ntoolbar-save-button: #0e90d2\ntoolbar-info-button: #0e90d2\ntoolbar-edit-button: rgb(243, 123, 29)\ntoolbar-close-button: #dd514c\ntoolbar-delete-button: #dd514c\ntoolbar-cancel-button: rgb(243, 123, 29)\ntoolbar-done-button: #5eb95e\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Muted": {
            "title": "$:/palettes/Muted",
            "name": "Muted",
            "description": "Bright tiddlers on a muted background",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: \nexternal-link-background-visited: \nexternal-link-background: \nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #6f6f70\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #29a6ee\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #c2c1c2\nsidebar-foreground-shadow: rgba(255,255,255,0)\nsidebar-foreground: #d3d2d4\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #6f6f70\nsidebar-tab-background: #666667\nsidebar-tab-border-selected: #999\nsidebar-tab-border: #515151\nsidebar-tab-divider: #999\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: #999\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #d1d0d2\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Contrast": {
            "title": "$:/palettes/Contrast",
            "name": "Contrast",
            "description": "High contrast and unambiguous",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: \nexternal-link-background-visited: \nexternal-link-background: \nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #000000\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,0,0, 0.5)\nsidebar-foreground: #ffffff\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ececec\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #999999\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Rocker": {
            "title": "$:/palettes/Rocker",
            "name": "Rocker",
            "description": "A dark theme",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: \nexternal-link-background-visited: \nexternal-link-background: \nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #000\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #cc0000\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.0)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #000\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #ffbb99\nsidebar-tiddler-link-foreground: #cc0000\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffbb99\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #cc0000\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/palettes/Vanilla": {
            "title": "$:/palettes/Vanilla",
            "name": "Vanilla",
            "description": "Pale and unobtrusive",
            "tags": "$:/tags/Palette",
            "type": "application/x-tiddler-dictionary",
            "text": "alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: \nexternal-link-background-visited: \nexternal-link-background: \nexternal-link-foreground-hover: \nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ececec\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ececec\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: #e4e4e4\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #999999\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n"
        },
        "$:/core/templates/MOTW.html": {
            "title": "$:/core/templates/MOTW.html",
            "text": "\\rules only filteredtranscludeinline transcludeinline entity\n&lt;!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension --&gt;\n&lt;!-- saved from url=(0021)http://tiddlywiki.com --&gt;&amp;#13;&amp;#10;"
        },
        "$:/core/templates/alltiddlers.content": {
            "title": "$:/core/templates/alltiddlers.content",
            "text": "{{{ [!is[system]sort[title]] ||$:/core/templates/static-tiddler}}}"
        },
        "$:/core/templates/alltiddlers.template.html": {
            "title": "$:/core/templates/alltiddlers.template.html",
            "type": "text/vnd.tiddlywiki-html",
            "text": "\\define tw-wikilink-template() #$uri_encoded$\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"{{$:/core/templates/version}}\" /&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\"styleArea\"&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\"text/css\"&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\"tw-body\"&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n&lt;section class=\"story-river\"&gt;\n{{$:/core/templates/alltiddlers.content||$:/core/templates/html-tiddler}}\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n"
        },
        "$:/core/templates/canonical-uri-external-image": {
            "title": "$:/core/templates/canonical-uri-external-image",
            "text": "&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external images.\n\nChange the `./images/` part to a different base URI. The URI can be relative or absolute.\n\n--&gt;\n./images/&lt;$view field=\"title\" format=\"doubleurlencoded\"/&gt;"
        },
        "$:/core/templates/css-tiddler": {
            "title": "$:/core/templates/css-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving CSS tiddlers as a style tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;style`&lt;$fields template=' data-tiddler-$name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;` type=\"text/css\"&gt;`&lt;$view field=\"text\" format=\"text\" /&gt;`&lt;/style&gt;`"
        },
        "$:/core/templates/html-div-tiddler": {
            "title": "$:/core/templates/html-div-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers as an HTML DIV tag with attributes representing the tiddler fields.\n\n--&gt;`&lt;div`&lt;$fields template=' $name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;`&gt;\n&lt;pre&gt;`&lt;$view field=\"text\" format=\"htmlencoded\" /&gt;`&lt;/pre&gt;\n&lt;/div&gt;`\n"
        },
        "$:/core/templates/html-tiddler": {
            "title": "$:/core/templates/html-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers as raw HTML\n\n--&gt;&lt;$view field=\"text\" format=\"htmlwikified\" /&gt;"
        },
        "$:/core/templates/javascript-tiddler": {
            "title": "$:/core/templates/javascript-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;` type=\"text/javascript\"&gt;`&lt;$view field=\"text\" format=\"text\" /&gt;`&lt;/script&gt;`"
        },
        "$:/core/templates/module-tiddler": {
            "title": "$:/core/templates/module-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields. The body of the tiddler is wrapped in a call to the `$tw.modules.define` function in order to define the body of the tiddler as a module\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\"$encoded_value$\"'&gt;&lt;/$fields&gt;` type=\"text/javascript\" data-module=\"yes\"&gt;$tw.modules.define(\"`&lt;$view field=\"title\" format=\"jsencoded\" /&gt;`\",\"`&lt;$view field=\"module-type\" format=\"jsencoded\" /&gt;`\",function(module,exports,require) {`&lt;$view field=\"text\" format=\"text\" /&gt;`});\n&lt;/script&gt;`"
        },
        "$:/core/templates/plain-text-tiddler": {
            "title": "$:/core/templates/plain-text-tiddler",
            "text": "&lt;$view field=\"text\" format=\"text\" /&gt;"
        },
        "$:/core/save/all": {
            "title": "$:/core/save/all",
            "text": "\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/save/empty": {
            "title": "$:/core/save/empty",
            "text": "\\define saveTiddlerFilter()\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/save/lazy-images": {
            "title": "$:/core/save/lazy-images",
            "text": "\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] -[!is[system]is[image]] +[sort[title]] \n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n"
        },
        "$:/core/templates/split-recipe": {
            "title": "$:/core/templates/split-recipe",
            "text": "&lt;$list filter=\"[!is[system]]\"&gt;\ntiddler: &lt;$view field=\"title\" format=\"urlencoded\"/&gt;.tid\n&lt;/$list&gt;\n"
        },
        "$:/core/templates/static-tiddler": {
            "title": "$:/core/templates/static-tiddler",
            "text": "&lt;a name=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ViewTemplate\"/&gt;\n&lt;/a&gt;"
        },
        "$:/core/templates/static.area": {
            "title": "$:/core/templates/static.area",
            "text": "&lt;$reveal type=\"nomatch\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n{{$:/core/templates/static.content||$:/core/templates/html-tiddler}}\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\nThis file contains an encrypted ~TiddlyWiki. Enable ~JavaScript and enter the decryption password when prompted.\n&lt;/$reveal&gt;\n"
        },
        "$:/core/templates/static.content": {
            "title": "$:/core/templates/static.content",
            "type": "text/vnd.tiddlywiki",
            "text": "&lt;!-- For Google, and people without JavaScript--&gt;\nThis [[TiddlyWiki|http://tiddlywiki.com]] contains the following tiddlers:\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt;&gt;\n&lt;li&gt;&lt;$view field=\"title\" format=\"text\"&gt;&lt;/$view&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n"
        },
        "$:/core/templates/static.template.css": {
            "title": "$:/core/templates/static.template.css",
            "text": "{{$:/boot/boot.css||$:/core/templates/plain-text-tiddler}}\n\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n"
        },
        "$:/core/templates/static.template.html": {
            "title": "$:/core/templates/static.template.html",
            "type": "text/vnd.tiddlywiki-html",
            "text": "\\define tw-wikilink-template() static/$uri_doubleencoded$.html\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"{{$:/core/templates/version}}\" /&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\"styleArea\"&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\"text/css\"&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\"tw-body\"&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n{{$:/core/ui/PageTemplate||$:/core/templates/html-tiddler}}\n&lt;/body&gt;\n&lt;/html&gt;\n"
        },
        "$:/core/templates/static.tiddler.html": {
            "title": "$:/core/templates/static.tiddler.html",
            "text": "\\define tw-wikilink-template() $uri_doubleencoded$.html\n`&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"`{{$:/core/templates/version}}`\" /&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;link rel=\"stylesheet\" href=\"static.css\"&gt;\n&lt;title&gt;`{{$:/core/wiki/title}}`&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class=\"tw-body\"&gt;\n`{{$:/StaticBanner||$:/core/templates/html-tiddler}}`\n&lt;section class=\"story-river\"&gt;\n`&lt;$importvariables filter=\"[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\"&gt;\n&lt;$view tiddler=\"$:/core/ui/ViewTemplate\" format=\"htmlwikified\"/&gt;\n&lt;/$importvariables&gt;`\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n`"
        },
        "$:/core/templates/store.area.template.html": {
            "title": "$:/core/templates/store.area.template.html",
            "text": "&lt;$reveal type=\"nomatch\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n`&lt;div id=\"storeArea\" style=\"display:none;\"&gt;`\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt; template=\"$:/core/templates/html-div-tiddler\"/&gt;\n`&lt;/div&gt;`\n&lt;/$reveal&gt;\n&lt;$reveal type=\"match\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n`&lt;!--~~ Encrypted tiddlers ~~--&gt;`\n`&lt;pre id=\"encryptedStoreArea\" type=\"text/plain\" style=\"display:none;\"&gt;`\n&lt;$encrypt filter=&lt;&lt;saveTiddlerFilter&gt;&gt;/&gt;\n`&lt;/pre&gt;`\n&lt;/$reveal&gt;"
        },
        "$:/core/templates/tid-tiddler": {
            "title": "$:/core/templates/tid-tiddler",
            "text": "&lt;!--\n\nThis template is used for saving tiddlers in TiddlyWeb *.tid format\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;`\n`&lt;$view field=\"text\" format=\"text\" /&gt;"
        },
        "$:/core/templates/tiddler-metadata": {
            "title": "$:/core/templates/tiddler-metadata",
            "text": "&lt;!--\n\nThis template is used for saving tiddler metadata *.meta files\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;"
        },
        "$:/core/templates/tiddlywiki5.html": {
            "title": "$:/core/templates/tiddlywiki5.html",
            "text": "\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n{{$:/core/templates/MOTW.html}}&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\t\t&lt;!-- Force IE standards mode for Intranet and HTA - should be the first meta --&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" /&gt;\n&lt;meta name=\"application-name\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"generator\" content=\"TiddlyWiki\" /&gt;\n&lt;meta name=\"tiddlywiki-version\" content=\"{{$:/core/templates/version}}\" /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n&lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /&gt;\n&lt;meta name=\"format-detection\" content=\"telephone=no\" /&gt;\n&lt;meta name=\"copyright\" content=\"{{$:/core/copyright.txt}}\" /&gt;\n&lt;link id=\"faviconLink\" rel=\"shortcut icon\" href=\"favicon.ico\"&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--&gt;\n\n&lt;!--~~ Raw markup ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/core/wiki/rawmarkup]] [all[shadows+tiddlers]tag[$:/tags/RawMarkup]] ||$:/core/templates/plain-text-tiddler}}}\n&lt;/head&gt;\n&lt;body class=\"tw-body\"&gt;\n&lt;!--~~ Static styles ~~--&gt;\n&lt;div id=\"styleArea\"&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Static content for Google and browsers without JavaScript ~~--&gt;\n&lt;noscript&gt;\n&lt;div id=\"splashArea\"&gt;\n{{$:/core/templates/static.area}}\n&lt;/div&gt;\n&lt;/noscript&gt;\n&lt;!--~~ Ordinary tiddlers ~~--&gt;\n{{$:/core/templates/store.area.template.html}}\n&lt;!--~~ Library modules ~~--&gt;\n&lt;div id=\"libraryModules\" style=\"display:none;\"&gt;\n{{{ [is[system]type[application/javascript]library[yes]] ||$:/core/templates/javascript-tiddler}}}\n&lt;/div&gt;\n&lt;!--~~ Boot kernel prologue ~~--&gt;\n&lt;div id=\"bootKernelPrefix\" style=\"display:none;\"&gt;\n{{ $:/boot/bootprefix.js ||$:/core/templates/javascript-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Boot kernel ~~--&gt;\n&lt;div id=\"bootKernel\" style=\"display:none;\"&gt;\n{{ $:/boot/boot.js ||$:/core/templates/javascript-tiddler}}\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n"
        },
        "$:/core/templates/version": {
            "title": "$:/core/templates/version",
            "text": "&lt;&lt;version&gt;&gt;"
        },
        "$:/core/templates/wikified-tiddler": {
            "title": "$:/core/templates/wikified-tiddler",
            "text": "&lt;$transclude /&gt;"
        },
        "$:/core/ui/AdvancedSearch/Filter": {
            "title": "$:/core/ui/AdvancedSearch/Filter",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/Filter/Caption}}",
            "text": "\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\"$:/temp/advancedsearch\"&gt;\n\n&lt;&lt;lingo Filter/Hint&gt;&gt;\n\n&lt;div class=\"tw-search tw-advanced-search\"&gt;&lt;$edit-text tiddler=\"$:/temp/advancedsearch\" type=\"search\" tag=\"input\"/&gt; &lt;$button popup=&lt;&lt;qualify \"$:/state/filterDropdown\"&gt;&gt; class=\"btn-invisible\"&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt; &lt;$link to=\"\" class=\"btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$link&gt;&lt;/$reveal&gt;&lt;/div&gt;\n\n&lt;div class=\"tw-block-dropdown-wrapper\"&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/filterDropdown\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tw-block-dropdown tw-edit-type-dropdown\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Filter]]\"&gt;&lt;$link to={{!!filter}}&gt;&lt;$transclude field=\"description\"/&gt;&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n&lt;div class=\"tw-search-results\"&gt;\n&lt;&lt;lingo Filter/Matches&gt;&gt;\n&lt;$list filter={{$:/temp/advancedsearch}} template=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Shadows": {
            "title": "$:/core/ui/AdvancedSearch/Shadows",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/Shadows/Caption}}",
            "text": "\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\"$:/temp/advancedsearch\"&gt;\n\n&lt;&lt;lingo Shadows/Hint&gt;&gt;\n\n&lt;div class=\"tw-search\"&gt;&lt;$edit-text tiddler=\"$:/temp/advancedsearch\" type=\"search\" tag=\"input\"/&gt;&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt; &lt;$link to=\"\" class=\"btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$link&gt;&lt;/$reveal&gt;&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n\n&lt;div class=\"tw-search-results\"&gt;\n\n&lt;&lt;lingo Shadows/Matches&gt;&gt;\n\n&lt;$list filter=\"[all[shadows]search{$:/temp/advancedsearch}sort[title]limit[250]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"match\" text=\"\"&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/Standard": {
            "title": "$:/core/ui/AdvancedSearch/Standard",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/Standard/Caption}}",
            "text": "\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\"$:/temp/advancedsearch\"&gt;\n\n&lt;&lt;lingo Standard/Hint&gt;&gt;\n\n&lt;div class=\"tw-search\"&gt;&lt;$edit-text tiddler=\"$:/temp/advancedsearch\" type=\"search\" tag=\"input\"/&gt;&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt; &lt;$link to=\"\" class=\"btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$link&gt;&lt;/$reveal&gt;&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n\n&lt;div class=\"tw-search-results\"&gt;\n\n&lt;&lt;lingo Standard/Matches&gt;&gt;\n\n&lt;$list filter=\"[!is[system]search{$:/temp/advancedsearch}sort[title]limit[250]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"match\" text=\"\"&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/AdvancedSearch/System": {
            "title": "$:/core/ui/AdvancedSearch/System",
            "tags": "$:/tags/AdvancedSearch",
            "caption": "{{$:/language/Search/System/Caption}}",
            "text": "\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\"$:/temp/advancedsearch\"&gt;\n\n&lt;&lt;lingo System/Hint&gt;&gt;\n\n&lt;div class=\"tw-search\"&gt;&lt;$edit-text tiddler=\"$:/temp/advancedsearch\" type=\"search\" tag=\"input\"/&gt;&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt; &lt;$link to=\"\" class=\"btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$link&gt;&lt;/$reveal&gt;&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"nomatch\" text=\"\"&gt;\n\n&lt;div class=\"tw-search-results\"&gt;\n\n&lt;&lt;lingo System/Matches&gt;&gt;\n\n&lt;$list filter=\"[is[system]search{$:/temp/advancedsearch}sort[title]limit[250]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/temp/advancedsearch\" type=\"match\" text=\"\"&gt;\n\n&lt;/$reveal&gt;\n"
        },
        "$:/AdvancedSearch": {
            "title": "$:/AdvancedSearch",
            "text": "&lt;div class=\"tw-advanced-search\"&gt;\n&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/AdvancedSearch]!has[draft.of]]\" \"$:/core/ui/AdvancedSearch/System\"&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/AlertTemplate": {
            "title": "$:/core/ui/AlertTemplate",
            "text": "&lt;div class=\"tw-alert\"&gt;\n&lt;div class=\"tw-alert-toolbar\"&gt;\n&lt;$button message=\"tw-delete-tiddler\" class=\"btn-invisible\"&gt;\n{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/div&gt;\n&lt;div class=\"tw-alert-subtitle\"&gt;\n&lt;$view field=\"component\"/&gt; - &lt;$view field=\"modified\" format=\"date\" template=\"0hh:0mm:0ss DD MM YYYY\"/&gt; &lt;$reveal type=\"nomatch\" state=\"!!count\" text=\"\"&gt;&lt;span class=\"tw-alert-highlight\"&gt;(count: &lt;$view field=\"count\"/&gt;)&lt;/span&gt;&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\"tw-alert-body\"&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/BinaryWarning": {
            "title": "$:/core/ui/BinaryWarning",
            "text": "\\define lingo-base() $:/language/BinaryWarning/\n&lt;div class=\"tw-binary-warning\"&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Advanced/EditorTypes": {
            "title": "$:/core/ui/ControlPanel/Advanced/EditorTypes",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/Advanced/EditorTypes/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Advanced/EditorTypes/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Type/Caption&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Editor/Caption&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]prefix[$:/config/EditorTypeMappings/]sort[title]]\"&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$link&gt;\n&lt;$list filter=\"[all[current]removeprefix[$:/config/EditorTypeMappings/]]\"&gt;\n&lt;$text text={{!!title}}/&gt;\n&lt;/$list&gt;\n&lt;/$link&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=\"text\"/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/ControlPanel/Advanced/LoadedModules": {
            "title": "$:/core/ui/ControlPanel/Advanced/LoadedModules",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/Advanced/LoadedModules/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Advanced/\n&lt;&lt;lingo LoadedModules/Hint&gt;&gt;\n\n{{$:/snippets/modules}}\n"
        },
        "$:/core/ui/ControlPanel/Advanced/Settings/NavigationAddressBar": {
            "title": "$:/core/ui/ControlPanel/Advanced/Settings/NavigationAddressBar",
            "tags": "$:/tags/ControlPanel/Advanced/Settings",
            "caption": "{{$:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Advanced/Settings/NavigationAddressBar/\n\n&lt;$link to=\"$:/config/Navigation/UpdateAddressBar\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateAddressBar\" value=\"permaview\"&gt; &lt;&lt;lingo Permaview/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateAddressBar\" value=\"permalink\"&gt; &lt;&lt;lingo Permalink/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateAddressBar\" value=\"no\"&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Advanced/Settings/NavigationHistory": {
            "title": "$:/core/ui/ControlPanel/Advanced/Settings/NavigationHistory",
            "tags": "$:/tags/ControlPanel/Advanced/Settings",
            "caption": "{{$:/language/ControlPanel/Advanced/Settings/NavigationHistory/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Advanced/Settings/NavigationHistory/\n&lt;$link to=\"$:/config/Navigation/UpdateHistory\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateHistory\" value=\"yes\"&gt; &lt;&lt;lingo Yes/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\"$:/config/Navigation/UpdateHistory\" value=\"no\"&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n"
        },
        "$:/core/ui/ControlPanel/Advanced/Settings": {
            "title": "$:/core/ui/ControlPanel/Advanced/Settings",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/Advanced/Settings/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Advanced/Settings/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Advanced/Settings]]\"&gt;\n\n&lt;div style=\"border-top:1px solid #eee;\"&gt;\n\n!! &lt;$link&gt;&lt;$transclude field=\"caption\"/&gt;&lt;/$link&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/ControlPanel/Advanced/TiddlerFields": {
            "title": "$:/core/ui/ControlPanel/Advanced/TiddlerFields",
            "tags": "$:/tags/ControlPanel/Advanced",
            "caption": "{{$:/language/ControlPanel/Advanced/TiddlerFields/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Advanced/\n\n&lt;&lt;lingo TiddlerFields/Hint&gt;&gt;\n\n{{$:/snippets/allfields}}"
        },
        "$:/core/ui/ControlPanel/Advanced": {
            "title": "$:/core/ui/ControlPanel/Advanced",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Advanced/Caption}}",
            "text": "{{$:/language/ControlPanel/Advanced/Hint}}\n\n&lt;div class=\"tw-control-panel\"&gt;\n&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Advanced]!has[draft.of]]\" \"$:/core/ui/ControlPanel/Advanced/TiddlerFields\"&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Appearance/Palette": {
            "title": "$:/core/ui/ControlPanel/Appearance/Palette",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/Appearance/Palette/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Appearance/Palette/\n\n{{$:/snippets/paletteswitcher}}\n\n&lt;$reveal type=\"nomatch\" state=\"$:/state/ShowPaletteEditor\" text=\"yes\"&gt;\n\n&lt;$button set=\"$:/state/ShowPaletteEditor\" setTo=\"yes\"&gt;&lt;&lt;lingo ShowEditor/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal type=\"match\" state=\"$:/state/ShowPaletteEditor\" text=\"yes\"&gt;\n\n&lt;$button set=\"$:/state/ShowPaletteEditor\" setTo=\"no\"&gt;&lt;&lt;lingo HideEditor/Caption&gt;&gt;&lt;/$button&gt;\n{{$:/snippets/paletteeditor}}\n\n&lt;/$reveal&gt;\n\n"
        },
        "$:/core/ui/ControlPanel/Appearance/StoryView": {
            "title": "$:/core/ui/ControlPanel/Appearance/StoryView",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/Appearance/StoryView/Caption}}",
            "text": "{{$:/snippets/viewswitcher}}\n"
        },
        "$:/core/ui/ControlPanel/Appearance/Theme": {
            "title": "$:/core/ui/ControlPanel/Appearance/Theme",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "{{$:/language/ControlPanel/Appearance/Theme/Caption}}",
            "text": "{{$:/snippets/themeswitcher}}\n"
        },
        "$:/core/ui/ControlPanel/Appearance": {
            "title": "$:/core/ui/ControlPanel/Appearance",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Appearance/Caption}}",
            "text": "{{$:/language/ControlPanel/Appearance/Hint}}\n\n&lt;div class=\"tw-control-panel\"&gt;\n&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Appearance]!has[draft.of]]\" \"$:/core/ui/ControlPanel/Appearance/Theme\"&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ControlPanel/Basics": {
            "title": "$:/core/ui/ControlPanel/Basics",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Basics/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Basics/\n|&lt;&lt;lingo Version/Prompt&gt;&gt; |''&lt;&lt;version&gt;&gt;'' |\n|&lt;$link to=\"$:/SiteTitle\"&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/SiteTitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/SiteSubtitle\"&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/SiteSubtitle\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/status/UserName\"&gt;&lt;&lt;lingo Username/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/status/UserName\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/config/AnimationDuration\"&gt;&lt;&lt;lingo AnimDuration/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\"$:/config/AnimationDuration\" default=\"\" tag=\"input\"/&gt; |\n|&lt;$link to=\"$:/DefaultTiddlers\"&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit-text tag=\"textarea\" tiddler=\"$:/DefaultTiddlers\"/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n|&lt;&lt;lingo Language/Prompt&gt;&gt; |{{$:/snippets/minilanguageswitcher}} |\n|&lt;&lt;lingo Tiddlers/Prompt&gt;&gt; |''&lt;$count filter=\"[!is[system]]\"/&gt;'' |\n|&lt;&lt;lingo Tags/Prompt&gt;&gt; |''&lt;$count filter=\"[tags[]]\"/&gt;'' |\n|&lt;&lt;lingo SystemTiddlers/Prompt&gt;&gt; |''&lt;$count filter=\"[is[system]]\"/&gt;'' |\n|&lt;&lt;lingo ShadowTiddlers/Prompt&gt;&gt; |''&lt;$count filter=\"[all[shadows]]\"/&gt;'' |\n|&lt;&lt;lingo OverriddenShadowTiddlers/Prompt&gt;&gt; |''&lt;$count filter=\"[is[tiddler]is[shadow]]\"/&gt;'' |\n"
        },
        "$:/core/ui/ControlPanel/Plugins": {
            "title": "$:/core/ui/ControlPanel/Plugins",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Plugins/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Plugins/\n\\define plugin-table(type)\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;\n&lt;&lt;lingo Fields/Description&gt;&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Fields/Version&gt;&gt;\n&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\"[!has[draft.of]plugin-type[$type$]sort[description]]\"&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$link to={{!!title}}&gt;\n''&lt;$view field=\"description\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;''&lt;br&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=\"version\"/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n\\end\n\n! &lt;&lt;lingo Plugin/Prompt&gt;&gt;\n\n&lt;&lt;plugin-table plugin&gt;&gt;\n\n! &lt;&lt;lingo Theme/Prompt&gt;&gt;\n\n&lt;&lt;plugin-table theme&gt;&gt;\n\n! &lt;&lt;lingo Language/Prompt&gt;&gt;\n\n&lt;&lt;plugin-table language&gt;&gt;\n"
        },
        "$:/core/ui/ControlPanel/Saving": {
            "title": "$:/core/ui/ControlPanel/Saving",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Saving/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/\n\\define backupURL()\nhttp://$(userName)$.tiddlyspot.com/backup/\n\\end\n\\define backupLink()\n&lt;$reveal type=\"nomatch\" state=\"$:/UploadName\" text=\"\"&gt;\n&lt;$set name=\"userName\" value={{$:/UploadName}}&gt;\n&lt;a href=&lt;&lt;backupURL&gt;&gt;&gt;&lt;$macrocall $name=\"backupURL\" $type=\"text/plain\" $output=\"text/plain\"/&gt;&lt;/a&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n\\end\n! &lt;&lt;lingo Saving/Heading&gt;&gt;\n\n|&lt;&lt;lingo AutoSave&gt;&gt; |{{$:/snippets/autosavestatus}} |\n\n! &lt;&lt;lingo TiddlySpot/Heading&gt;&gt;\n\n|&lt;&lt;lingo TiddlySpot/UserName&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadName\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo TiddlySpot/Password&gt;&gt; |&lt;$password name=\"upload\"/&gt; |\n|&lt;&lt;lingo TiddlySpot/Backups&gt;&gt; |&lt;&lt;backupLink&gt;&gt; |\n\n!! &lt;&lt;lingo TiddlySpot/Advanced/Heading&gt;&gt;\n\n|&lt;&lt;lingo TiddlySpot/ServerURL&gt;&gt;  |&lt;$edit-text tiddler=\"$:/UploadURL\" default=\"\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo TiddlySpot/Filename&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadFilename\" default=\"index.html\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo TiddlySpot/UploadDir&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadDir\" default=\".\" tag=\"input\"/&gt; |\n|&lt;&lt;lingo TiddlySpot/BackupDir&gt;&gt; |&lt;$edit-text tiddler=\"$:/UploadBackupDir\" default=\".\" tag=\"input\"/&gt; |\n\n&lt;&lt;lingo TiddlySpot/Hint&gt;&gt;\n\n"
        },
        "$:/core/ui/ControlPanel/Tools": {
            "title": "$:/core/ui/ControlPanel/Tools",
            "tags": "$:/tags/ControlPanel",
            "caption": "{{$:/language/ControlPanel/Tools/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/Tools/\n! &lt;&lt;lingo Import/Heading&gt;&gt;\n\n&lt;$browse/&gt;\n\n&lt;&lt;lingo Import/Hint&gt;&gt;\n\n! &lt;&lt;lingo Export/Heading&gt;&gt;\n\n&lt;$button message=\"tw-download-file\" param=\"$:/core/templates/alltiddlers.template.html\" class=\"btn-big-green\"&gt;&lt;&lt;lingo Export/AllAsStaticHTML/Caption&gt;&gt; {{$:/core/images/save-button}}&lt;/$button&gt;\n\n! &lt;&lt;lingo Encryption/Heading&gt;&gt;\n\n{{$:/snippets/encryptionstatus}}\n"
        },
        "$:/ControlPanel": {
            "title": "$:/ControlPanel",
            "text": "&lt;div class=\"tw-control-panel\"&gt;\n&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/ControlPanel]!has[draft.of]]\" \"$:/core/ui/ControlPanel/Basics\"&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/EditTemplate/body": {
            "title": "$:/core/ui/EditTemplate/body",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/Body/\n&lt;$list filter=\"[is[current]has[_canonical_uri]]\"&gt;\n\n&lt;div class=\"tw-message-box\"&gt;\n\n&lt;&lt;lingo External/Hint&gt;&gt;\n\n&lt;a href={{!!_canonical_uri}}&gt;&lt;$text text={{!!_canonical_uri}}/&gt;&lt;/a&gt;\n\n&lt;$edit-text field=\"_canonical_uri\" class=\"tw-edit-fields\"&gt;&lt;/$edit-text&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[is[current]!has[_canonical_uri]]\"&gt;\n\n&lt;$reveal state=\"$:/state/showeditpreview\" type=\"match\" text=\"yes\"&gt;\n\n&lt;em class=\"tw-edit\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/em&gt; &lt;$button type=\"set\" set=\"$:/state/showeditpreview\" setTo=\"no\"&gt;&lt;&lt;lingo Preview/Button/Hide&gt;&gt;&lt;/$button&gt;\n\n&lt;div class=\"tw-tiddler-preview\"&gt;\n&lt;div class=\"tw-tiddler-preview-preview\"&gt;\n\n&lt;$transclude /&gt;\n\n&lt;/div&gt;\n\n&lt;div class=\"tw-tiddler-preview-edit\"&gt;\n&lt;$edit field=\"text\" class=\"tw-edit-texteditor\" placeholder={{$:/language/EditTemplate/Body/Placeholder}}/&gt;\n\n&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/state/showeditpreview\" type=\"nomatch\" text=\"yes\"&gt;\n\n&lt;em class=\"tw-edit\"&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/em&gt; &lt;$button type=\"set\" set=\"$:/state/showeditpreview\" setTo=\"yes\"&gt;&lt;&lt;lingo Preview/Button/Show&gt;&gt;&lt;/$button&gt;\n&lt;$edit field=\"text\" class=\"tw-edit-texteditor\" placeholder={{$:/language/EditTemplate/Body/Placeholder}}/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/EditTemplate/controls": {
            "title": "$:/core/ui/EditTemplate/controls",
            "tags": "$:/tags/EditTemplate",
            "text": "&lt;span class=\"tw-tiddler-controls titlebar\"&gt; &lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\" variable=\"listItem\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt; &lt;/span&gt;\n"
        },
        "$:/core/ui/EditTemplate/fields": {
            "title": "$:/core/ui/EditTemplate/fields",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/\n&lt;$fieldmangler&gt;\n&lt;div class=\"tw-edit-fields\"&gt;\n&lt;table class=\"tw-edit-fields\"&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[current]fields[]] -title -tags -text -creator -created -modified -modifier -type -[[draft.title]] -[[draft.of]] +[sort[title]]\" variable=\"currentField\"&gt;\n&lt;tr class=\"tw-edit-field\"&gt;\n&lt;td class=\"tw-edit-field-name\"&gt;\n&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;:&lt;/td&gt;\n&lt;td class=\"tw-edit-field-value\"&gt;\n&lt;$edit-text tiddler=&lt;&lt;currentTiddler&gt;&gt; field=&lt;&lt;currentField&gt;&gt; placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}}/&gt;\n&lt;/td&gt;\n&lt;td class=\"tw-edit-field-remove\"&gt;\n&lt;$button message=\"tw-remove-field\" param=&lt;&lt;currentField&gt;&gt; class=\"btn-invisible\"&gt;{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n\n&lt;div class=\"tw-edit-field-add\"&gt;\n&lt;em class=\"tw-edit\"&gt;\n&lt;&lt;lingo Fields/Add/Prompt&gt;&gt;\n&lt;/em&gt; &lt;span class=\"tw-edit-field-add-name\"&gt;\n&lt;$edit-text tiddler=\"$:/temp/newfieldname\" tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}} class=\"tw-edit-texteditor\"/&gt;\n&lt;/span&gt; &lt;span class=\"tw-edit-field-add-button\"&gt;\n&lt;$button message=\"tw-add-field\" param={{$:/temp/newfieldname}} set=\"$:/temp/newfieldname\" setTo=\"\" class=\"\"&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n\n&lt;/$fieldmangler&gt;\n"
        },
        "$:/core/ui/EditTemplate/shadow": {
            "title": "$:/core/ui/EditTemplate/shadow",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/Shadow/\n&lt;$list filter=\"[all[current]get[draft.of]is[shadow]!is[tiddler]]\"&gt;\n&lt;div class=\"tw-message-box\"&gt;\n\n&lt;&lt;lingo Warning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]get[draft.of]is[shadow]is[tiddler]]\"&gt;\n&lt;div class=\"tw-message-box\"&gt;\n\n&lt;&lt;lingo OverriddenWarning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/EditTemplate/tags": {
            "title": "$:/core/ui/EditTemplate/tags",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/\n\\define tag-styles()\nbackground-color:$(backgroundColor)$;\n\\end\n&lt;div class=\"tw-edit-tags\"&gt;\n&lt;$fieldmangler&gt;\n&lt;$list filter=\"[all[current]tags[]sort[title]]\" storyview=\"pop\"&gt;&lt;$set name=\"backgroundColor\" value={{!!color}}&gt;&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\"tw-tag-label\"&gt;\n&lt;$view field=\"title\" format=\"text\" /&gt;\n&lt;$button message=\"tw-remove-tag\" param={{!!title}} class=\"btn-invisible tw-remove-tag-button\"&gt;&amp;times;&lt;/$button&gt;&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;div class=\"tw-edit-add-tag\"&gt;\n&lt;span class=\"tw-add-tag-name\"&gt;\n&lt;$edit-text tiddler=\"$:/temp/NewTagName\" tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}} focusPopup=&lt;&lt;qualify \"$:/state/popup/tags-auto-complete\"&gt;&gt; class=\"tw-edit-texteditor\"/&gt;\n&lt;/span&gt; &lt;$button popup=&lt;&lt;qualify \"$:/state/popup/tags-auto-complete\"&gt;&gt; class=\"btn-invisible btn-dropdown\"&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;span class=\"tw-add-tag-button\"&gt;\n&lt;$button message=\"tw-add-tag\" param={{$:/temp/NewTagName}} set=\"$:/temp/NewTagName\" setTo=\"\" class=\"\"&gt;\n&lt;&lt;lingo Tags/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n\n&lt;div class=\"tw-block-dropdown-wrapper\"&gt;\n\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/tags-auto-complete\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n\n&lt;div class=\"tw-block-dropdown\"&gt;\n\n&lt;$linkcatcher set=\"$:/temp/NewTagName\" setTo=\"\" message=\"tw-add-tag\"&gt;\n&lt;$list filter=\"[!is[shadow]tags[]search{$:/temp/NewTagName}sort[title]]\"&gt;\n&lt;$link&gt;\n&lt;$set name=\"backgroundColor\" value={{!!color}}&gt;\n&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\"tw-tag-label\"&gt;\n&lt;$view field=\"title\" format=\"text\"/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$fieldmangler&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/EditTemplate/title": {
            "title": "$:/core/ui/EditTemplate/title",
            "tags": "$:/tags/EditTemplate",
            "text": "&lt;$view field=\"title\"/&gt;\n\n&lt;$edit-text field=\"draft.title\" class=\"titlebar tw-edit-texteditor\"/&gt;\n"
        },
        "$:/core/ui/EditTemplate/type": {
            "title": "$:/core/ui/EditTemplate/type",
            "tags": "$:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/EditTemplate/\n&lt;p&gt;&lt;$fieldmangler&gt;&lt;em class=\"tw-edit\"&gt;&lt;&lt;lingo Type/Prompt&gt;&gt;&lt;/em&gt; &lt;$edit-text field=\"type\" tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Type/Placeholder}} focusPopup=&lt;&lt;qualify \"$:/state/popup/type-dropdown\"&gt;&gt; class=\"tw-edit-typeeditor\"/&gt; &lt;$button popup=&lt;&lt;qualify \"$:/state/popup/type-dropdown\"&gt;&gt; class=\"btn-invisible btn-dropdown\"&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;$button message=\"tw-remove-field\" param=\"type\" class=\"btn-invisible btn-icon\"&gt;{{$:/core/images/delete-button}}&lt;/$button&gt;&lt;/$fieldmangler&gt;&lt;/p&gt;\n\n&lt;div class=\"tw-block-dropdown-wrapper\"&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/type-dropdown\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;div class=\"tw-block-dropdown tw-edit-type-dropdown\"&gt;\n&lt;$linkcatcher to=\"!!type\"&gt;\n&lt;$list filter='[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]each[group]sort[group]]'&gt;\n&lt;div class=\"tw-dropdown-item\"&gt;\n&lt;$text text={{!!group}}/&gt;\n&lt;/div&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]group{!!group}] +[sort[description]]\"&gt;&lt;$link to={{!!name}}&gt;&lt;$view field=\"description\"/&gt; (&lt;$view field=\"name\"/&gt;)&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/EditTemplate": {
            "title": "$:/core/ui/EditTemplate",
            "text": "\\define frame-classes()\ntw-tiddler-frame tw-tiddler-edit-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$\n\\end\n&lt;div class=&lt;&lt;frame-classes&gt;&gt;&gt;\n&lt;$set name=\"storyTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$keyboard key=\"escape\" message=\"tw-cancel-tiddler\"&gt;\n&lt;$keyboard key=\"ctrl+enter\" message=\"tw-save-tiddler\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditTemplate]!has[draft.of]]\" variable=\"listItem\"&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/EditToolbar/cancel": {
            "title": "$:/core/ui/EditToolbar/cancel",
            "tags": "$:/tags/EditToolbar",
            "text": "&lt;$button message=\"tw-cancel-tiddler\" title={{$:/language/Buttons/Cancel/Hint}} aria-label={{$:/language/Buttons/Cancel/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/cancel-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/EditToolbar/delete": {
            "title": "$:/core/ui/EditToolbar/delete",
            "tags": "$:/tags/EditToolbar",
            "text": "&lt;$button message=\"tw-delete-tiddler\" title={{$:/language/Buttons/Delete/Hint}} aria-label={{$:/language/Buttons/Delete/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/delete-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/EditToolbar/save": {
            "title": "$:/core/ui/EditToolbar/save",
            "tags": "$:/tags/EditToolbar",
            "text": "&lt;$button message=\"tw-save-tiddler\" title={{$:/language/Buttons/Save/Hint}} aria-label={{$:/language/Buttons/Save/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/done-button}}&lt;/$button&gt;"
        },
        "$:/core/Filters/AllTags": {
            "title": "$:/core/Filters/AllTags",
            "tags": "$:/tags/Filter",
            "filter": "[tags[]!is[system]sort[title]]",
            "description": "{{$:/language/Filters/AllTags}}",
            "text": ""
        },
        "$:/core/Filters/AllTiddlers": {
            "title": "$:/core/Filters/AllTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[!is[system]sort[title]]",
            "description": "{{$:/language/Filters/AllTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/Drafts": {
            "title": "$:/core/Filters/Drafts",
            "tags": "$:/tags/Filter",
            "filter": "[has[draft.of]sort[title]]",
            "description": "{{$:/language/Filters/Drafts}}",
            "text": ""
        },
        "$:/core/Filters/Missing": {
            "title": "$:/core/Filters/Missing",
            "tags": "$:/tags/Filter",
            "filter": "[all[missing]sort[title]]",
            "description": "{{$:/language/Filters/Missing}}",
            "text": ""
        },
        "$:/core/Filters/Orphans": {
            "title": "$:/core/Filters/Orphans",
            "tags": "$:/tags/Filter",
            "filter": "[all[orphans]sort[title]]",
            "description": "{{$:/language/Filters/Orphans}}",
            "text": ""
        },
        "$:/core/Filters/OverriddenShadowTiddlers": {
            "title": "$:/core/Filters/OverriddenShadowTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[is[shadow]]",
            "description": "{{$:/language/Filters/OverriddenShadowTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/RecentTiddlers": {
            "title": "$:/core/Filters/RecentTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[!is[system]has[modified]!sort[modified]]",
            "description": "{{$:/language/Filters/RecentTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/ShadowTiddlers": {
            "title": "$:/core/Filters/ShadowTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[all[shadows]sort[title]]",
            "description": "{{$:/language/Filters/ShadowTiddlers}}",
            "text": ""
        },
        "$:/core/Filters/SystemTags": {
            "title": "$:/core/Filters/SystemTags",
            "tags": "$:/tags/Filter",
            "filter": "[all[shadows+tiddlers]tags[]is[system]sort[title]]",
            "description": "{{$:/language/Filters/SystemTags}}",
            "text": ""
        },
        "$:/core/Filters/SystemTiddlers": {
            "title": "$:/core/Filters/SystemTiddlers",
            "tags": "$:/tags/Filter",
            "filter": "[is[system]sort[title]]",
            "description": "{{$:/language/Filters/SystemTiddlers}}",
            "text": ""
        },
        "$:/core/ui/ListItemTemplate": {
            "title": "$:/core/ui/ListItemTemplate",
            "text": "&lt;div class=\"tw-menu-list-item\"&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/MissingTemplate": {
            "title": "$:/core/ui/MissingTemplate",
            "text": "&lt;div class=\"tw-tiddler-missing\"&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/missing\"&gt;&gt; class=\"btn-invisible tw-missing-tiddler-label\"&gt;\n&lt;$view field=\"title\" format=\"text\" /&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/missing\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;\n&lt;div class=\"tw-drop-down\"&gt;\n&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;hr&gt;\n&lt;$list filter=\"[all[current]backlinks[]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/MoreSideBar/All": {
            "title": "$:/core/ui/MoreSideBar/All",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/All/Caption}}",
            "text": "&lt;$list filter=\"[!is[system]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Drafts": {
            "title": "$:/core/ui/MoreSideBar/Drafts",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Drafts/Caption}}",
            "text": "&lt;$list filter=\"[has[draft.of]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Missing": {
            "title": "$:/core/ui/MoreSideBar/Missing",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Missing/Caption}}",
            "text": "&lt;$list filter=\"[all[missing]sort[title]]\" template=\"$:/core/ui/MissingTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Orphans": {
            "title": "$:/core/ui/MoreSideBar/Orphans",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Orphans/Caption}}",
            "text": "&lt;$list filter=\"[all[orphans]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Recent": {
            "title": "$:/core/ui/MoreSideBar/Recent",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Recent/Caption}}",
            "text": "{{$:/snippets/recentchanges}}\n"
        },
        "$:/core/ui/MoreSideBar/Shadows": {
            "title": "$:/core/ui/MoreSideBar/Shadows",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Shadows/Caption}}",
            "text": "&lt;$list filter=\"[all[shadows]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/System": {
            "title": "$:/core/ui/MoreSideBar/System",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/System/Caption}}",
            "text": "&lt;$list filter=\"[is[system]sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Tags": {
            "title": "$:/core/ui/MoreSideBar/Tags",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Tags/Caption}}",
            "text": "\\define lingo-base() $:/language/SideBar/Tags/\n&lt;$button to=\"$:/TagManager\" class=\"btn\"&gt;&lt;&lt;lingo TagManager/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;$list filter=\"[tags[]!is[system]sort[title]]\"&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/TagTemplate\"/&gt; &lt;small class=\"tw-menu-list-count\"&gt;&lt;$count filter=\"[all[current]tagging[]]\"/&gt;&lt;/small&gt;\n\n&lt;/$list&gt;\n\n----\n\n{{$:/core/ui/UntaggedTemplate}} &lt;small class=\"tw-menu-list-count\"&gt;&lt;$count filter=\"[untagged[]!is[system]] -[tags[]]\"/&gt;&lt;/small&gt;\n"
        },
        "$:/core/ui/MoreSideBar/Types": {
            "title": "$:/core/ui/MoreSideBar/Types",
            "tags": "$:/tags/MoreSideBar",
            "caption": "{{$:/language/SideBar/Types/Caption}}",
            "text": "&lt;$list filter=\"[!is[system]has[type]each[type]sort[type]] -[type[text/vnd.tiddlywiki]]\"&gt;\n&lt;div class=\"tw-menu-list-item\"&gt;\n&lt;$view field=\"type\"/&gt;\n&lt;$list filter=\"[type{!!type}!is[system]sort[title]]\"&gt;\n&lt;div class=\"tw-menu-list-subitem\"&gt;\n&lt;$link to={{!!title}}&gt;&lt;$view field=\"title\"/&gt;&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/PageControls/control-panel": {
            "title": "$:/core/ui/PageControls/control-panel",
            "tags": "$:/tags/PageControls",
            "text": "&lt;$button to=\"$:/ControlPanel\" title={{$:/language/Buttons/ControlPanel/Hint}} aria-label={{$:/language/Buttons/ControlPanel/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/options-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/PageControls/new-tiddler": {
            "title": "$:/core/ui/PageControls/new-tiddler",
            "tags": "$:/tags/PageControls",
            "text": "&lt;$button message=\"tw-new-tiddler\" title={{$:/language/Buttons/NewTiddler/Hint}} aria-label={{$:/language/Buttons/NewTiddler/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/new-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/PageControls/save-wiki": {
            "title": "$:/core/ui/PageControls/save-wiki",
            "tags": "$:/tags/PageControls",
            "text": "&lt;$button message=\"tw-save-wiki\" title={{$:/language/Buttons/SaveWiki/Hint}} aria-label={{$:/language/Buttons/SaveWiki/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/save-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/PageStylesheet": {
            "title": "$:/core/ui/PageStylesheet",
            "text": "\\define colour(name)\n&lt;$transclude tiddler={{$:/palette}} index=\"$name$\"/&gt;\n\\end\n\\define color(name)\n&lt;&lt;colour $name$&gt;&gt;\n\\end\n\\define box-shadow(shadow)\n```\n  -webkit-box-shadow: $shadow$;\n     -moz-box-shadow: $shadow$;\n          box-shadow: $shadow$;\n```\n\\end\n\\define filter(filter)\n```\n  -webkit-filter: $filter$;\n     -moz-filter: $filter$;\n          filter: $filter$;\n```\n\\end\n\\define transition(transition)\n```\n  -webkit-transition: $transition$;\n     -moz-transition: $transition$;\n          transition: $transition$;\n```\n\\end\n\\define transform-origin(origin)\n```\n  -webkit-transform-origin: $origin$;\n     -moz-transform-origin: $origin$;\n          transform-origin: $origin$;\n```\n\\end\n\\define background-linear-gradient(gradient)\n```\nbackground-image: linear-gradient($gradient$);\nbackground-image: -o-linear-gradient($gradient$);\nbackground-image: -moz-linear-gradient($gradient$);\nbackground-image: -webkit-linear-gradient($gradient$);\nbackground-image: -ms-linear-gradient($gradient$);\n```\n\\end\n\\define datauri(title)\n&lt;$macrocall $name=\"makedatauri\" type={{$title$!!type}} text={{$title$}}/&gt;\n\\end\n\\define if-sidebar(text)\n&lt;$reveal state=\"$:/state/sidebar\" type=\"match\" text=\"yes\" default=\"yes\"&gt;$text$&lt;/$reveal&gt;\n\\end\n\\define if-no-sidebar(text)\n&lt;$reveal state=\"$:/state/sidebar\" type=\"nomatch\" text=\"yes\" default=\"yes\"&gt;$text$&lt;/$reveal&gt;\n\\end\n\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/stylesheet]]\"&gt;\n&lt;$transclude/&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/PageTemplate/alerts": {
            "title": "$:/core/ui/PageTemplate/alerts",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;div class=\"tw-alerts\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Alert]!has[draft.of]]\" template=\"$:/core/ui/AlertTemplate\" storyview=\"pop\"/&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/PageTemplate/sidebar": {
            "title": "$:/core/ui/PageTemplate/sidebar",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;$scrollable fallthrough=\"no\" class=\"tw-sidebar-scrollable\"&gt;\n\n&lt;div class=\"sidebar-header\"&gt;\n\n&lt;$reveal state=\"$:/state/sidebar\" type=\"match\" text=\"yes\" default=\"yes\" retain=\"yes\"&gt;\n\n&lt;h1 class=\"tw-site-title\"&gt;\n\n&lt;$transclude tiddler=\"$:/SiteTitle\" mode=\"inline\"/&gt;\n\n&lt;/h1&gt;\n\n&lt;div class=\"tw-site-subtitle\"&gt;\n\n&lt;$transclude tiddler=\"$:/SiteSubtitle\" mode=\"inline\"/&gt;\n\n&lt;/div&gt;\n\n&lt;div class=\"tw-page-controls\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/div&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/SideBarLists\" mode=\"inline\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/div&gt;\n\n&lt;/$scrollable&gt;"
        },
        "$:/core/ui/PageTemplate/story": {
            "title": "$:/core/ui/PageTemplate/story",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;section class=\"story-river\"&gt;\n\n&lt;$list filter=\"[list[$:/StoryList]]\" history=\"$:/HistoryList\" template=\"$:/core/ui/ViewTemplate\" editTemplate=\"$:/core/ui/EditTemplate\" storyview={{$:/view}} /&gt;\n\n&lt;/section&gt;\n"
        },
        "$:/core/ui/PageTemplate/topleftbar": {
            "title": "$:/core/ui/PageTemplate/topleftbar",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;span class=\"tw-topbar tw-topbar-left\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n"
        },
        "$:/core/ui/PageTemplate/toprightbar": {
            "title": "$:/core/ui/PageTemplate/toprightbar",
            "tags": "$:/tags/PageTemplate",
            "text": "&lt;span class=\"tw-topbar tw-topbar-right\"&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\"inline\"/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n"
        },
        "$:/core/ui/PageTemplate": {
            "title": "$:/core/ui/PageTemplate",
            "text": "\\define containerClasses()\ntw-page-container tw-page-view-$(themeTitle)$ tw-language-$(languageTitle)$\n\\end\n\n&lt;$importvariables filter=\"[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\"&gt;\n\n&lt;$set name=\"themeTitle\" value={{$:/view}}&gt;\n\n&lt;$set name=\"currentTiddler\" value={{$:/language}}&gt;\n\n&lt;$set name=\"languageTitle\" value={{!!name}}&gt;\n\n&lt;$set name=\"currentTiddler\" value=\"\"&gt;\n\n&lt;div class=&lt;&lt;containerClasses&gt;&gt;&gt;\n\n&lt;$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\"&gt;\n\n&lt;$dropzone&gt;\n\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/PageTemplate]!has[draft.of]]\" variable=\"listItem\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/$dropzone&gt;\n\n&lt;/$navigator&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$importvariables&gt;\n"
        },
        "$:/core/ui/SideBar/More": {
            "title": "$:/core/ui/SideBar/More",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/More/Caption}}",
            "text": "&lt;div class=\"tw-more-sidebar\"&gt;\n&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/MoreSideBar]!has[draft.of]]\" \"$:/core/ui/MoreSideBar/Tags\" \"$:/state/tab/moresidebar\" \"tw-vertical\"&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/SideBar/Open": {
            "title": "$:/core/ui/SideBar/Open",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/Open/Caption}}",
            "text": "\\define lingo-base() $:/language/CloseAll/\n&lt;$list filter=\"[list[$:/StoryList]]\" history=\"$:/HistoryList\" storyview=\"pop\"&gt;\n\n&lt;$button message=\"tw-close-tiddler\" title={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=\"btn-invisible btn-mini\"&gt;&amp;times;&lt;/$button&gt; &lt;$link to={{!!title}}&gt;&lt;$view field=\"title\"/&gt;&lt;/$link&gt;\n\n&lt;/$list&gt;\n\n&lt;$button message=\"tw-close-all-tiddlers\" class=\"btn-invisible btn-mini\"&gt;&lt;&lt;lingo Button&gt;&gt;&lt;/$button&gt;\n"
        },
        "$:/core/ui/SideBar/Recent": {
            "title": "$:/core/ui/SideBar/Recent",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/Recent/Caption}}",
            "text": "{{$:/snippets/recentchanges}}\n"
        },
        "$:/core/ui/SideBar/Tools": {
            "title": "$:/core/ui/SideBar/Tools",
            "tags": "$:/tags/SideBar",
            "caption": "{{$:/language/SideBar/Tools/Caption}}",
            "text": "\\define lingo-base() $:/language/ControlPanel/\n&lt;&lt;lingo Tools/Import/Prompt&gt;&gt; &lt;$browse/&gt;\n\n---\n\n{{$:/snippets/encryptionstatus}}\n\n---\n\n&lt;&lt;lingo Basics/Version/Prompt&gt;&gt; &lt;&lt;version&gt;&gt;\n\n---\n\n{{$:/snippets/viewswitcher}}\n\n---\n\n{{$:/snippets/minithemeswitcher}}\n\n---\n\n{{$:/snippets/languageswitcher}}\n"
        },
        "$:/core/ui/SideBarLists": {
            "title": "$:/core/ui/SideBarLists",
            "text": "&lt;div class=\"tw-sidebar-lists\"&gt;\n\n&lt;div class=\"tw-search\"&gt;\n&lt;$edit-text tiddler=\"$:/temp/search\" type=\"search\" tag=\"input\"/&gt;\n&lt;$reveal state=\"$:/temp/search\" type=\"nomatch\" text=\"\"&gt;\n&lt;$linkcatcher to=\"$:/temp/search\"&gt;\n&lt;$link to=\"\" class=\"btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$link&gt;\n&lt;/$linkcatcher&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\"$:/temp/search\" type=\"match\" text=\"\"&gt;&amp;nbsp;&lt;$link to=\"$:/AdvancedSearch\" tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\"btn-invisible\"&gt;&amp;hellip;&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal state=\"$:/temp/search\" type=\"nomatch\" text=\"\"&gt;\n\n&lt;div class=\"tw-search-results\"&gt;\n\n{{$:/language/Search/Matches}}\n\n&lt;$list filter=\"[!is[system]search{$:/temp/search}sort[title]limit[250]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\"$:/temp/search\" type=\"match\" text=\"\"&gt;\n\n&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/SideBar]!has[draft.of]]\" \"$:/core/ui/SideBar/Open\" \"$:/state/tab/sidebar\"&gt;&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/TagManager": {
            "title": "$:/TagManager",
            "text": "\\define lingo-base() $:/language/TagManager/\n\\define iconEditor(title)\n&lt;$edit-text field=\"icon\" tag=\"input\" size=\"20\"/&gt; &lt;$button popup=&lt;&lt;qualify \"$:/state/popup/icon/$title$\"&gt;&gt; class=\"btn-invisible btn-dropdown\"&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;div class=\"tw-block-dropdown-wrapper\"&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/icon/$title$\"&gt;&gt; type=\"nomatch\" text=\"\" default=\"\"&gt;\n&lt;$linkcatcher to=\"$title$!!icon\"&gt;\n&lt;div class=\"tw-block-dropdown tw-edit-type-dropdown\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]is[image]] [all[shadows+tiddlers]tag[$:/tags/Image]] +[sort[title]]\"&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\\end\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Tag/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Count/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\"[tags[]!is[system]sort[title]]\"&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;$transclude tiddler=\"$:/core/ui/TagTemplate\"/&gt;&lt;/td&gt;\n&lt;td&gt;&lt;$count filter=\"[all[current]tagging[]]\"/&gt;&lt;/td&gt;\n&lt;td&gt;&lt;$edit-text field=\"color\" tag=\"input\" type=\"text\" size=\"9\"/&gt; &lt;$edit-text field=\"color\" tag=\"input\" type=\"color\"/&gt;&lt;/td&gt;\n&lt;td&gt;&lt;$macrocall $name=\"iconEditor\" title={{!!title}}/&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/TagTemplate": {
            "title": "$:/core/ui/TagTemplate",
            "text": "\\define tag-styles()\nbackground-color:$(backgroundColor)$;\n\\end\n&lt;span class=\"tw-tag-list-item\"&gt;\n&lt;$set name=\"backgroundColor\" value={{!!color}}&gt;\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; class=\"btn-invisible tw-tag-label\" style=&lt;&lt;tag-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt; &lt;$view field=\"title\" format=\"text\" /&gt;\n&lt;/$button&gt;\n&lt;/$set&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; type=\"popup\" position=\"below\" animate=\"yes\"&gt;&lt;div class=\"tw-drop-down\"&gt;&lt;$transclude tiddler=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;hr&gt;\n&lt;$list filter=\"[all[current]tagging[]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n"
        },
        "$:/core/ui/TiddlerFieldTemplate": {
            "title": "$:/core/ui/TiddlerFieldTemplate",
            "text": "&lt;tr class=\"tw-view-field\"&gt;\n&lt;td class=\"tw-view-field-name\"&gt;\n&lt;$text text=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;td class=\"tw-view-field-value\"&gt;\n&lt;$view field=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;"
        },
        "$:/core/ui/TiddlerFields": {
            "title": "$:/core/ui/TiddlerFields",
            "text": "&lt;table class=\"tw-view-field-table\"&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[current]fields[]sort[title]] -text\" template=\"$:/core/ui/TiddlerFieldTemplate\" variable=\"listItem\"/&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Advanced/PluginInfo": {
            "title": "$:/core/ui/TiddlerInfo/Advanced/PluginInfo",
            "tags": "$:/tags/TiddlerInfo/Advanced",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/Advanced/PluginInfo/\n&lt;$list filter=\"[all[current]has[plugin-type]]\"&gt;\n\n! &lt;&lt;lingo Heading&gt;&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n&lt;ul&gt;\n&lt;$list filter=\"[all[current]plugintiddlers[]sort[title]]\" emptyMessage=&lt;&lt;lingo Empty/Hint&gt;&gt;&gt;\n&lt;li&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Advanced/ShadowInfo": {
            "title": "$:/core/ui/TiddlerInfo/Advanced/ShadowInfo",
            "tags": "$:/tags/TiddlerInfo/Advanced",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/Advanced/ShadowInfo/\n&lt;$set name=\"infoTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n\n''&lt;&lt;lingo Heading&gt;&gt;''\n\n&lt;$list filter=\"[all[current]!is[shadow]]\"&gt;\n\n&lt;&lt;lingo NotShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]]\"&gt;\n\n&lt;&lt;lingo Shadow/Hint&gt;&gt;\n\n&lt;$list filter=\"[all[current]shadowsource[]]\"&gt;\n\n&lt;$set name=\"pluginTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;lingo Shadow/Source&gt;&gt;\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]is[tiddler]]\"&gt;\n\n&lt;&lt;lingo OverriddenShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n\n&lt;/$list&gt;\n&lt;/$set&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Advanced": {
            "title": "$:/core/ui/TiddlerInfo/Advanced",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Advanced/Caption}}",
            "text": "&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo/Advanced]!has[draft.of]]\" variable=\"listItem\"&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Fields": {
            "title": "$:/core/ui/TiddlerInfo/Fields",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Fields/Caption}}",
            "text": "&lt;$transclude tiddler=\"$:/core/ui/TiddlerFields\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/List": {
            "title": "$:/core/ui/TiddlerInfo/List",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/List/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[list{!!title}]\" emptyMessage=&lt;&lt;lingo List/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Listed": {
            "title": "$:/core/ui/TiddlerInfo/Listed",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Listed/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[all[current]listed[]!is[system]]\" emptyMessage=&lt;&lt;lingo Listed/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/References": {
            "title": "$:/core/ui/TiddlerInfo/References",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/References/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[all[current]backlinks[]sort[title]]\" emptyMessage=&lt;&lt;lingo References/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/TiddlerInfo/Tagging": {
            "title": "$:/core/ui/TiddlerInfo/Tagging",
            "tags": "$:/tags/TiddlerInfo",
            "caption": "{{$:/language/TiddlerInfo/Tagging/Caption}}",
            "text": "\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\"[all[current]tagging[]]\" emptyMessage=&lt;&lt;lingo Tagging/Empty&gt;&gt; template=\"$:/core/ui/ListItemTemplate\"/&gt;\n"
        },
        "$:/core/ui/TiddlerInfo": {
            "title": "$:/core/ui/TiddlerInfo",
            "text": "&lt;&lt;tabs \"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo]!has[draft.of]]\" \"$:/core/ui/TiddlerInfo/References\"&gt;&gt;\n"
        },
        "$:/core/ui/TopBar/menu": {
            "title": "$:/core/ui/TopBar/menu",
            "tags": "$:/tags/TopRightBar",
            "text": "&lt;$reveal state=\"$:/state/sidebar\" type=\"nomatch\" text=\"no\"&gt;\n&lt;$button set=\"$:/state/sidebar\" setTo=\"no\" title={{$:/language/Buttons/HideSideBar/Hint}} aria-label={{$:/language/Buttons/HideSideBar/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/chevron-right}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\"$:/state/sidebar\" type=\"match\" text=\"no\"&gt;\n&lt;$button set=\"$:/state/sidebar\" setTo=\"yes\" title={{$:/language/Buttons/ShowSideBar/Hint}} aria-label={{$:/language/Buttons/ShowSideBar/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/chevron-left}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/UntaggedTemplate": {
            "title": "$:/core/ui/UntaggedTemplate",
            "text": "\\define lingo-base() $:/language/SideBar/\n&lt;$button popup=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; class=\"btn-invisible tw-untagged-label tw-tag-label\"&gt;\n&lt;&lt;lingo Tags/Untagged/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \"$:/state/popup/tag\"&gt;&gt; type=\"popup\" position=\"below\"&gt;\n&lt;div class=\"tw-drop-down\"&gt;\n&lt;$list filter=\"[untagged[]!is[system]] -[tags[]] +[sort[title]]\" template=\"$:/core/ui/ListItemTemplate\"/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n"
        },
        "$:/core/ui/ViewTemplate/body": {
            "title": "$:/core/ui/ViewTemplate/body",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;div class=\"body\"&gt;\n\n&lt;$transclude&gt;\n\n&lt;$transclude tiddler=\"$:/language/MissingTiddler/Hint\"/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ViewTemplate/classic": {
            "title": "$:/core/ui/ViewTemplate/classic",
            "tags": "$:/tags/ViewTemplate $:/tags/EditTemplate",
            "text": "\\define lingo-base() $:/language/ClassicWarning/\n&lt;$list filter=\"[all[current]type[text/x-tiddlywiki]]\"&gt;\n&lt;div class=\"tw-message-box\"&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$button set=\"!!type\" setTo=\"text/vnd.tiddlywiki\"&gt;&lt;&lt;lingo Upgrade/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n"
        },
        "$:/core/ui/ViewTemplate/subtitle": {
            "title": "$:/core/ui/ViewTemplate/subtitle",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;div class=\"tw-subtitle\"&gt;\n&lt;$link to={{!!modifier}}&gt;\n&lt;$view field=\"modifier\"/&gt;\n&lt;/$link&gt; &lt;$view field=\"modified\" format=\"relativedate\"/&gt;\n&lt;/div&gt;\n"
        },
        "$:/core/ui/ViewTemplate/tags": {
            "title": "$:/core/ui/ViewTemplate/tags",
            "tags": "$:/tags/ViewTemplate",
            "text": "&lt;div class=\"tw-tags-wrapper\"&gt;&lt;$list filter=\"[all[current]tags[]sort[title]]\" template=\"$:/core/ui/TagTemplate\" storyview=\"pop\"/&gt;&lt;/div&gt;\n"
        },
        "$:/core/ui/ViewTemplate/title": {
            "title": "$:/core/ui/ViewTemplate/title",
            "tags": "$:/tags/ViewTemplate",
            "text": "\\define title-styles()\nfill:$(foregroundColor)$;\n\\end\n&lt;div class=\"tw-tiddler-title\"&gt;\n&lt;h2 class=\"titlebar\"&gt;\n&lt;span class=\"tw-tiddler-controls\"&gt;\n&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\" variable=\"listItem\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/span&gt;\n&lt;$set name=\"foregroundColor\" value={{!!color}}&gt;\n&lt;span style=&lt;&lt;title-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;$list filter=\"[all[current]removeprefix[$:/]]\"&gt;\n&lt;span class=\"title\" title={{$:/language/SystemTiddler/Tooltip}}&gt;\n&lt;span class=\"tw-system-title-prefix\"&gt;$:/&lt;/span&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;$list filter=\"[all[current]!prefix[$:/]]\"&gt;\n&lt;span class=\"title\"&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/h2&gt;\n\n&lt;$reveal type=\"nomatch\" text=\"\" default=\"\" state=&lt;&lt;tiddlerInfoState&gt;&gt; class=\"tw-tiddler-info tw-popup\" animate=\"yes\" retain=\"yes\"&gt;\n\n&lt;$transclude tiddler=\"$:/core/ui/TiddlerInfo\"/&gt;\n\n&lt;/$reveal&gt;\n&lt;/div&gt;"
        },
        "$:/core/ui/ViewTemplate": {
            "title": "$:/core/ui/ViewTemplate",
            "text": "\\define frame-classes()\ntw-tiddler-frame tw-tiddler-view-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$\n\\end\n&lt;$set name=\"storyTiddler\" value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$set name=\"tiddlerInfoState\" value=&lt;&lt;qualify \"$:/state/popup/tiddler-info\"&gt;&gt;&gt;&lt;$tiddler tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;div class=&lt;&lt;frame-classes&gt;&gt;&gt;&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]]\" variable=\"listItem\"&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$tiddler&gt;&lt;/$set&gt;&lt;/$set&gt;\n"
        },
        "$:/core/ui/ViewToolbar/close": {
            "title": "$:/core/ui/ViewToolbar/close",
            "tags": "$:/tags/ViewToolbar",
            "text": "&lt;$button message=\"tw-close-tiddler\" title={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/close-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/ViewToolbar/edit": {
            "title": "$:/core/ui/ViewToolbar/edit",
            "tags": "$:/tags/ViewToolbar",
            "text": "&lt;$button message=\"tw-edit-tiddler\" title={{$:/language/Buttons/Edit/Hint}} aria-label={{$:/language/Buttons/Edit/Caption}} class=\"btn-invisible\"&gt;{{$:/core/images/edit-button}}&lt;/$button&gt;"
        },
        "$:/core/ui/ViewToolbar/info": {
            "title": "$:/core/ui/ViewToolbar/info",
            "tags": "$:/tags/ViewToolbar",
            "text": "&lt;$button popup=&lt;&lt;tiddlerInfoState&gt;&gt; title={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=\"btn-invisible\" selectedClass=\"tw-selected\"&gt;{{$:/core/images/info-button}}&lt;/$button&gt;"
        },
        "$:/DefaultTiddlers": {
            "title": "$:/DefaultTiddlers",
            "text": "GettingStarted\n[!is[system]has[modified]!sort[modified]limit[25]]"
        },
        "$:/temp/advancedsearch": {
            "title": "$:/temp/advancedsearch",
            "text": ""
        },
        "$:/snippets/allfields": {
            "title": "$:/snippets/allfields",
            "text": "\\define renderfield(title)\n&lt;tr class=\"tw-view-field\"&gt;&lt;td class=\"tw-view-field-name\"&gt;''$title$'':&lt;/td&gt;&lt;td class=\"tw-view-field-value\"&gt;//{{$:/language/Docs/Fields/$title$}}//&lt;/td&gt;&lt;/tr&gt;\n\\end\n&lt;table class=\"tw-view-field-table\"&gt;&lt;tbody&gt;&lt;$list filter=\"[fields[]sort[title]]\" variable=\"listItem\"&gt;&lt;$macrocall $name=\"renderfield\" title=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n"
        },
        "$:/snippets/autosavestatus": {
            "title": "$:/snippets/autosavestatus",
            "text": "\\define lingo-base() $:/language/ControlPanel/Saving/\n&lt;$reveal type=\"match\" state=\"$:/config/AutoSave\" text=\"yes\"&gt;\n&lt;&lt;lingo AutoSave/Enabled/Prompt&gt;&gt;\n&lt;$linkcatcher to=\"$:/config/AutoSave\"&gt;&lt;$button to=\"no\"&gt;&lt;&lt;lingo AutoSave/Enabled/Button&gt;&gt;\n&lt;/$button&gt;&lt;/$linkcatcher&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"nomatch\" state=\"$:/config/AutoSave\" text=\"yes\"&gt;\n&lt;&lt;lingo AutoSave/Disabled/Prompt&gt;&gt;\n&lt;$linkcatcher to=\"$:/config/AutoSave\"&gt;&lt;$button to=\"yes\"&gt;&lt;&lt;lingo AutoSave/Disabled/Button&gt;&gt;&lt;/$button&gt;&lt;/$linkcatcher&gt;\n&lt;/$reveal&gt;"
        },
        "$:/config/AnimationDuration": {
            "title": "$:/config/AnimationDuration",
            "text": "400"
        },
        "$:/config/AutoSave": {
            "title": "$:/config/AutoSave",
            "text": "yes"
        },
        "$:/config/BitmapEditor/Colour": {
            "title": "$:/config/BitmapEditor/Colour",
            "text": "#ff0"
        },
        "$:/config/BitmapEditor/LineWidth": {
            "title": "$:/config/BitmapEditor/LineWidth",
            "text": "3"
        },
        "$:/config/Navigation/UpdateAddressBar": {
            "title": "$:/config/Navigation/UpdateAddressBar",
            "text": "permaview"
        },
        "$:/config/Navigation/UpdateHistory": {
            "title": "$:/config/Navigation/UpdateHistory",
            "text": "no"
        },
        "$:/config/SyncFilter": {
            "title": "$:/config/SyncFilter",
            "text": "[is[tiddler]] -[[$:/HistoryList]] -[[$:/StoryList]] -[[$:/isEncrypted]] -[prefix[$:/status]] -[prefix[$:/state]] -[prefix[$:/temp]]"
        },
        "$:/snippets/currpalettepreview": {
            "title": "$:/snippets/currpalettepreview",
            "text": "\\define swatchStyle()\nbackground-color: $(swatchColour)$;\n\\end\n\\define swatch(colour)\n&lt;$set name=\"swatchColour\" value={{##$colour$}}&gt;\n&lt;div class=\"tw-swatch\" style=&lt;&lt;swatchStyle&gt;&gt;/&gt;\n&lt;/$set&gt;\n\\end\n&lt;div class=\"tw-swatches-horiz\"&gt;\n&lt;&lt;swatch foreground&gt;&gt;\n&lt;&lt;swatch background&gt;&gt;\n&lt;&lt;swatch muted-foreground&gt;&gt;\n&lt;&lt;swatch primary&gt;&gt;\n&lt;&lt;swatch page-background&gt;&gt;\n&lt;&lt;swatch tab-background&gt;&gt;\n&lt;&lt;swatch tiddler-info-background&gt;&gt;\n&lt;/div&gt;\n"
        },
        "$:/snippets/download-wiki-button": {
            "title": "$:/snippets/download-wiki-button",
            "text": "\\define lingo-base() $:/language/ControlPanel/Tools/Download/\n&lt;$button message=\"tw-download-file\" param=\"$:/core/save/all\" class=\"btn-big-green\"&gt;&lt;&lt;lingo Full/Caption&gt;&gt; {{$:/core/images/save-button}}&lt;/$button&gt;"
        },
        "$:/snippets/encryptionstatus": {
            "title": "$:/snippets/encryptionstatus",
            "text": "\\define lingo-base() $:/language/ControlPanel/Tools/Encryption/\n&lt;$reveal type=\"match\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n&lt;&lt;lingo Enabled/Prompt&gt;&gt;\n&lt;$button message=\"tw-clear-password\" class=\"btn btn-danger\"&gt;&lt;&lt;lingo ClearPassword/Button&gt;&gt;&lt;/$button&gt;\n&lt;$button message=\"tw-set-password\" class=\"btn btn-warning\"&gt;&lt;&lt;lingo ChangePassword/Button&gt;&gt;&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\"nomatch\" state=\"$:/isEncrypted\" text=\"yes\"&gt;\n&lt;&lt;lingo Disabled/Prompt&gt;&gt;\n&lt;$button message=\"tw-set-password\" class=\"btn btn-warning\"&gt;&lt;&lt;lingo SetPassword/Button&gt;&gt;&lt;/$button&gt;\n&lt;/$reveal&gt;"
        },
        "$:/snippets/languageswitcher": {
            "title": "$:/snippets/languageswitcher",
            "text": "{{$:/language/ControlPanel/Basics/Language/Prompt}} &lt;$select tiddler=\"$:/language\"&gt;\n&lt;$list filter=\"[[$:/languages/en-GB]] [plugin-type[language]sort[title]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\"description\"&gt;&lt;$view field=\"name\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;"
        },
        "$:/core/macros/CSS": {
            "title": "$:/core/macros/CSS",
            "tags": "$:/tags/Macro",
            "text": "\\define colour(name)\n&lt;$transclude tiddler={{$:/palette}} index=\"$name$\"/&gt;\n\\end\n\n\\define color(name)\n&lt;&lt;colour $name$&gt;&gt;\n\\end\n"
        },
        "$:/core/macros/lingo": {
            "title": "$:/core/macros/lingo",
            "tags": "$:/tags/Macro",
            "text": "\\define lingo-base()\n$:/language/\n\\end\n\n\\define lingo(title)\n{{$(lingo-base)$$title$}}\n\\end\n"
        },
        "$:/core/macros/tabs": {
            "title": "$:/core/macros/tabs",
            "tags": "$:/tags/Macro",
            "text": "\\define tabs(tabsList,default,state:\"$:/state/tab\",class)\n&lt;div class=\"tw-tab-set $class$\"&gt;\n&lt;div class=\"tw-tab-buttons $class$\"&gt;\n&lt;$list filter=\"$tabsList$\" variable=\"currentTab\"&gt;\n&lt;$button set=&lt;&lt;qualify \"$state$\"&gt;&gt; setTo=&lt;&lt;currentTab&gt;&gt; default=\"$default$\" selectedClass=\"tw-tab-selected\"&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; field=\"caption\"&gt;\n&lt;$macrocall $name=\"currentTab\" $type=\"text/plain\" $output=\"text/plain\"/&gt;\n&lt;/$transclude&gt;\n&lt;/$button&gt;\n&lt;/$list&gt;\n&lt;/div&gt;&lt;div class=\"tw-tab-divider $class$\"/&gt;&lt;div class=\"tw-tab-content $class$\"&gt;\n&lt;$list filter=\"$tabsList$\" variable=\"currentTab\"&gt;\n\n&lt;$reveal type=\"match\" state=&lt;&lt;qualify \"$state$\"&gt;&gt; text=&lt;&lt;currentTab&gt;&gt; default=\"$default$\"&gt;\n\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; mode=\"block\"/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n"
        },
        "$:/snippets/minilanguageswitcher": {
            "title": "$:/snippets/minilanguageswitcher",
            "text": "&lt;$select tiddler=\"$:/language\"&gt;\n&lt;$list filter=\"[[$:/languages/en-GB]] [plugin-type[language]sort[title]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\"description\"&gt;&lt;$view field=\"name\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;"
        },
        "$:/snippets/minithemeswitcher": {
            "title": "$:/snippets/minithemeswitcher",
            "text": "\\define lingo-base() $:/language/ControlPanel/Appearance/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\"$:/theme\"&gt;\n&lt;$list filter=\"[plugin-type[theme]sort[title]]\"&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\"name\"&gt;&lt;$view field=\"title\"/&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;"
        },
        "$:/snippets/modules": {
            "title": "$:/snippets/modules",
            "text": "\\define describeModuleType(type)\n{{$:/language/Docs/ModuleTypes/$type$}}\n\\end\n&lt;$list filter=\"[moduletypes[]]\"&gt;\n\n!! &lt;$macrocall $name=\"currentTiddler\" $type=\"text/plain\" $output=\"text/plain\"/&gt;\n\n&lt;$macrocall $name=\"describeModuleType\" type=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\n&lt;ul&gt;&lt;$list filter=\"[all[current]modules[]]\"&gt;&lt;li&gt;&lt;$link&gt;&lt;&lt;currentTiddler&gt;&gt;&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n&lt;/$list&gt;\n"
        },
        "$:/palette": {
            "title": "$:/palette",
            "text": "$:/palettes/Vanilla"
        },
        "$:/snippets/paletteeditor": {
            "title": "$:/snippets/paletteeditor",
            "text": "\\define lingo-base() $:/language/ControlPanel/Appearance/Palette/Editor/\n\\define describePaletteColour(colour)\n{{$:/language/Docs/PaletteColours/$colour$}}\n\\end\n&lt;$set name=\"currentTiddler\" value={{$:/palette}}&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$link to={{$:/palette}}&gt;&lt;$macrocall $name=\"currentTiddler\" $output=\"text/plain\"/&gt;&lt;/$link&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]is[tiddler]]\" variable=\"listItem\"&gt;\n&lt;&lt;lingo Prompt/Modified&gt;&gt;\n&lt;$button message=\"tw-delete-tiddler\" param={{$:/palette}}&gt;&lt;&lt;lingo Reset/Caption&gt;&gt;&lt;/$button&gt;\n&lt;/$list&gt;\n\n&lt;$list filter=\"[all[current]is[shadow]!is[tiddler]]\" variable=\"listItem\"&gt;\n&lt;&lt;lingo Clone/Prompt&gt;&gt;\n&lt;/$list&gt;\n\n&lt;$button message=\"tw-new-tiddler\" param={{$:/palette}}&gt;&lt;&lt;lingo Clone/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;$list filter=\"[all[current]indexes[]]\" variable=\"colourName\"&gt;\n&lt;tr&gt;\n&lt;td&gt;\n''&lt;$macrocall $name=\"describePaletteColour\" colour=&lt;&lt;colourName&gt;&gt;/&gt;''&lt;br/&gt;\n&lt;$macrocall $name=\"colourName\" $output=\"text/plain\"/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; tag=\"input\"/&gt;\n&lt;br&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; type=\"color\" tag=\"input\"/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/$set&gt;\n"
        },
        "$:/snippets/palettepreview": {
            "title": "$:/snippets/palettepreview",
            "text": "&lt;$set name=\"currentTiddler\" value={{$:/palette}}&gt;\n&lt;$transclude tiddler=\"$:/snippets/currpalettepreview\"/&gt;\n&lt;/$set&gt;\n"
        },
        "$:/snippets/paletteswitcher": {
            "title": "$:/snippets/paletteswitcher",
            "text": "\\define lingo-base() $:/language/ControlPanel/Appearance/Palette/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$view tiddler={{$:/palette}} field=\"name\"/&gt;\n\n&lt;$linkcatcher to=\"$:/palette\"&gt;\n&lt;div class=\"tw-chooser\"&gt;&lt;$list filter=\"[all[shadows+tiddlers]tag[$:/tags/Palette]sort[description]]\"&gt;&lt;div class=\"tw-chooser-item\"&gt;&lt;$link to={{!!title}}&gt;&lt;div&gt;&lt;$reveal state=\"$:/palette\" type=\"match\" text={{!!title}}&gt;&amp;bull;&lt;/$reveal&gt;&lt;$reveal state=\"$:/palette\" type=\"nomatch\" text={{!!title}}&gt;&amp;nbsp;&lt;/$reveal&gt; ''&lt;$view field=\"name\" format=\"text\"/&gt;'' - &lt;$view field=\"description\" format=\"text\"/&gt;&lt;/div&gt;&lt;$transclude tiddler=\"$:/snippets/currpalettepreview\"/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;"
        },
        "$:/snippets/recentchanges": {
            "title": "$:/snippets/recentchanges",
            "text": "&lt;$list filter=\"[!is[system]has[modified]!sort[modified]limit[100]eachday[modified]]\"&gt;\n&lt;div class=\"tw-menu-list-item\"&gt;\n&lt;$view field=\"modified\" format=\"date\" template={{$:/language/RecentChanges/DateFormat}}/&gt;\n&lt;$list filter=\"[sameday{!!modified}!is[system]!sort[modified]]\"&gt;\n&lt;div class=\"tw-menu-list-subitem\"&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\"title\"/&gt;\n&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n"
        },
        "$:/temp/search": {
            "title": "$:/temp/search",
            "text": ""
        },
        "$:/tags/AdvancedSearch": {
            "title": "$:/tags/AdvancedSearch",
            "list": "[[$:/core/ui/AdvancedSearch/Standard]] [[$:/core/ui/AdvancedSearch/System]] [[$:/core/ui/AdvancedSearch/Shadows]] [[$:/core/ui/AdvancedSearch/Filter]]"
        },
        "$:/tags/ControlPanel": {
            "title": "$:/tags/ControlPanel",
            "list": "$:/core/ui/ControlPanel/Basics $:/core/ui/ControlPanel/Appearance $:/core/ui/ControlPanel/Saving $:/core/ui/ControlPanel/Plugins $:/core/ui/ControlPanel/Tools $:/core/ui/ControlPanel/Internals"
        },
        "$:/tags/EditTemplate": {
            "title": "$:/tags/EditTemplate",
            "list": "[[$:/core/ui/EditTemplate/controls]] [[$:/core/ui/EditTemplate/title]] [[$:/core/ui/EditTemplate/tags]] [[$:/core/ui/EditTemplate/shadow]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/EditTemplate/body]] [[$:/core/ui/EditTemplate/type]] [[$:/core/ui/EditTemplate/fields]]"
        },
        "$:/tags/EditToolbar": {
            "title": "$:/tags/EditToolbar",
            "list": "[[$:/core/ui/EditToolbar/delete]] [[$:/core/ui/EditToolbar/cancel]] [[$:/core/ui/EditToolbar/save]]"
        },
        "$:/tags/MoreSideBar": {
            "title": "$:/tags/MoreSideBar",
            "list": "[[$:/core/ui/MoreSideBar/All]] [[$:/core/ui/MoreSideBar/Recent]] [[$:/core/ui/MoreSideBar/Tags]] [[$:/core/ui/MoreSideBar/Missing]] [[$:/core/ui/MoreSideBar/Drafts]] [[$:/core/ui/MoreSideBar/Orphans]] [[$:/core/ui/MoreSideBar/Types]] [[$:/core/ui/MoreSideBar/System]] [[$:/core/ui/MoreSideBar/Shadows]]",
            "text": ""
        },
        "$:/tags/PageControls": {
            "title": "$:/tags/PageControls",
            "list": "[[$:/core/ui/PageControls/new-tiddler]] [[$:/core/ui/PageControls/control-panel]] [[$:/core/ui/PageControls/save-wiki]]"
        },
        "$:/tags/PageTemplate": {
            "title": "$:/tags/PageTemplate",
            "list": "[[$:/core/ui/PageTemplate/sidebar]] [[$:/core/ui/PageTemplate/story]] [[$:/core/ui/PageTemplate/alerts]] [[$:/core/ui/PageTemplate/topleftbar]] [[$:/core/ui/PageTemplate/toprightbar]]",
            "text": ""
        },
        "$:/tags/SideBar": {
            "title": "$:/tags/SideBar",
            "list": "[[$:/core/ui/SideBar/Open]] [[$:/core/ui/SideBar/Recent]] [[$:/core/ui/SideBar/Tools]] [[$:/core/ui/SideBar/More]]",
            "text": ""
        },
        "$:/tags/TiddlerInfo": {
            "title": "$:/tags/TiddlerInfo",
            "list": "[[$:/core/ui/TiddlerInfo/References]] [[$:/core/ui/TiddlerInfo/Tagging]] [[$:/core/ui/TiddlerInfo/List]] [[$:/core/ui/TiddlerInfo/Listed]] [[$:/core/ui/TiddlerInfo/Fields]]",
            "text": ""
        },
        "$:/tags/TiddlerInfo/Advanced": {
            "title": "$:/tags/TiddlerInfo/Advanced",
            "list": "[[$:/core/ui/TiddlerInfo/Advanced/ShadowInfo]] [[$:/core/ui/TiddlerInfo/Advanced/PluginInfo]]"
        },
        "$:/tags/ViewTemplate": {
            "title": "$:/tags/ViewTemplate",
            "list": "[[$:/core/ui/ViewTemplate/title]] [[$:/core/ui/ViewTemplate/subtitle]] [[$:/core/ui/ViewTemplate/tags]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/ViewTemplate/body]]"
        },
        "$:/tags/ViewToolbar": {
            "title": "$:/tags/ViewToolbar",
            "list": "[[$:/core/ui/ViewToolbar/info]] [[$:/core/ui/ViewToolbar/edit]] [[$:/core/ui/ViewToolbar/close]]"
        },
        "$:/snippets/themeswitcher": {
            "title": "$:/snippets/themeswitcher",
            "text": "\\define lingo-base() $:/language/ControlPanel/Appearance/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$view tiddler={{$:/theme}} field=\"name\"/&gt;\n\n&lt;$linkcatcher to=\"$:/theme\"&gt;\n&lt;$list filter=\"[plugin-type[theme]sort[title]]\"&gt;&lt;div&gt;&lt;$reveal state=\"$:/theme\" type=\"match\" text={{!!title}}&gt;&amp;bull;&lt;/$reveal&gt;&lt;$reveal state=\"$:/theme\" type=\"nomatch\" text={{!!title}}&gt;&amp;nbsp;&lt;/$reveal&gt; &lt;$link to={{!!title}}&gt;''&lt;$view field=\"name\" format=\"text\"/&gt;'' &lt;$view field=\"description\" format=\"text\"/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;"
        },
        "$:/core/wiki/title": {
            "title": "$:/core/wiki/title",
            "type": "text/vnd.tiddlywiki",
            "text": "{{$:/SiteTitle}} --- {{$:/SiteSubtitle}}"
        },
        "$:/view": {
            "title": "$:/view",
            "text": "classic"
        },
        "$:/snippets/viewswitcher": {
            "title": "$:/snippets/viewswitcher",
            "text": "\\define lingo-base() $:/language/ControlPanel/Appearance/StoryView/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\"$:/view\"&gt;\n&lt;$list filter=\"[storyviews[]]\"&gt;\n&lt;option&gt;&lt;$view field=\"title\"/&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;"
        }
    }
}</pre>
</div>
<div created="20140802142432376" modified="20140802144334461" title="$:/DefaultTiddlers">
<pre>Home</pre>
</div>
<div current-tiddler="GitDirectory" modified="20140817160023472" modifier="WillRogers" title="$:/HistoryList" type="application/json">
<pre>[
    {
        "title": "GettingStarted"
    },
    {
        "title": "GettingStarted"
    },
    {
        "title": "Draft of 'New Tiddler'"
    },
    {
        "title": "New Tiddler"
    },
    {
        "title": "$:/temp/ImportReport"
    },
    {
        "title": "$:/AdvancedSearch",
        "fromPageRect": {
            "top": 194,
            "left": 954,
            "width": 14,
            "right": 968,
            "bottom": 210,
            "height": 16
        }
    },
    {
        "title": "Home",
        "fromPageRect": {
            "top": 560,
            "left": 770,
            "width": 38,
            "right": 808,
            "bottom": 577,
            "height": 17
        }
    },
    {
        "title": "$:/ControlPanel",
        "fromPageRect": {
            "top": 144,
            "left": 806.328125,
            "width": 36.328125,
            "right": 842.65625,
            "bottom": 172,
            "height": 28
        }
    },
    {
        "title": "Home",
        "fromPageRect": {
            "top": 580,
            "left": 770,
            "width": 38,
            "right": 808,
            "bottom": 597,
            "height": 17
        }
    },
    {
        "title": "HomeNotes",
        "fromPageRect": {
            "top": 137,
            "left": 125,
            "width": 75,
            "right": 200,
            "bottom": 154,
            "height": 17
        }
    },
    {
        "title": "Draft of 'HomeNotes'"
    },
    {
        "title": "HomeNotes"
    },
    {
        "title": "Draft of 'HomeNotes'"
    },
    {
        "title": "HomeNotes"
    },
    {
        "title": "HomeNotes"
    },
    {
        "title": "MetaTiddly",
        "fromPageRect": {
            "top": 280,
            "left": 770,
            "width": 69,
            "right": 839,
            "bottom": 297,
            "height": 17
        }
    },
    {
        "title": "SpaceSettings",
        "fromPageRect": {
            "top": 103,
            "left": 320,
            "width": 93,
            "right": 413,
            "bottom": 120,
            "height": 17
        }
    },
    {
        "title": "Untitled"
    },
    {
        "title": "Untitled 1"
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Home"
    },
    {
        "title": "Draft of 'PhysicsSoftware'"
    },
    {
        "title": "PhysicsSoftware"
    },
    {
        "title": "Draft of 'PhysicsSoftware'"
    },
    {
        "title": "PhysicsSoftware"
    },
    {
        "title": "PhysicsSoftware"
    },
    {
        "title": "willrogers",
        "fromPageRect": {
            "top": 113,
            "left": 85,
            "width": 57,
            "right": 142,
            "bottom": 127,
            "height": 14
        }
    },
    {
        "title": "$:/ControlPanel",
        "fromPageRect": {
            "top": 144,
            "left": 806.328125,
            "width": 36.328125,
            "right": 842.65625,
            "bottom": 172,
            "height": 28
        }
    },
    {
        "title": "Home"
    },
    {
        "title": "$:/AdvancedSearch",
        "fromPageRect": {
            "top": 194,
            "left": 954,
            "width": 14,
            "right": 968,
            "bottom": 210,
            "height": 16
        }
    },
    {
        "title": "Untitled 1",
        "fromPageRect": {
            "top": 324.890625,
            "left": 777,
            "width": 60,
            "right": 837,
            "bottom": 341.890625,
            "height": 17
        }
    },
    {
        "title": "Draft of 'Untitled 1'"
    },
    {
        "title": "Untitled 1"
    },
    {
        "title": "Draft of 'Untitled 1'"
    },
    {
        "title": "Untitled 1"
    },
    {
        "title": "Draft of 'Untitled 1'"
    },
    {
        "title": "Untitled 1"
    },
    {
        "title": "Untitled 1",
        "fromPageRect": {
            "top": 324.890625,
            "left": 777,
            "width": 60,
            "right": 837,
            "bottom": 341.890625,
            "height": 17
        }
    },
    {
        "title": "Draft of 'Untitled 1'"
    },
    {
        "title": "Untitled",
        "fromPageRect": {
            "top": 324.890625,
            "left": 777,
            "width": 48,
            "right": 825,
            "bottom": 341.890625,
            "height": 17
        }
    },
    {
        "title": "Draft of 'Untitled'"
    },
    {
        "title": "Home"
    },
    {
        "title": "Home",
        "fromPageRect": {
            "top": 560,
            "left": 770,
            "width": 38,
            "right": 808,
            "bottom": 577,
            "height": 17
        }
    },
    {
        "title": "HomeComputer",
        "fromPageRect": {
            "top": 580,
            "left": 770,
            "width": 101,
            "right": 871,
            "bottom": 597,
            "height": 17
        }
    },
    {
        "title": "Draft of 'HomeComputer'"
    },
    {
        "title": "HomeComputer"
    },
    {
        "title": "Home"
    },
    {
        "title": "DiamondNotes",
        "fromPageRect": {
            "top": 219,
            "left": 125,
            "width": 94,
            "right": 219,
            "bottom": 236,
            "height": 17
        }
    },
    {
        "title": "Home"
    },
    {
        "title": "LinuxTerminal",
        "fromPageRect": {
            "top": 582.4833374023438,
            "left": 770,
            "width": 90,
            "right": 860,
            "bottom": 600.4833374023438,
            "height": 18
        }
    },
    {
        "title": "PythonNotes",
        "fromPageRect": {
            "top": 666.4833374023438,
            "left": 770,
            "width": 81,
            "right": 851,
            "bottom": 684.4833374023438,
            "height": 18
        }
    },
    {
        "title": "Draft of 'PythonNotes'"
    },
    {
        "title": "Draft of 'PythonNotes'"
    },
    {
        "title": "PythonNotes"
    },
    {
        "title": "Draft of 'PythonNotes'"
    },
    {
        "title": "Draft of 'PythonNotes'"
    },
    {
        "title": "PythonNotes"
    },
    {
        "title": "Draft of 'PythonNotes'"
    },
    {
        "title": "Draft of 'PythonNotes'"
    },
    {
        "title": "PythonNotes"
    },
    {
        "title": "Python3",
        "fromPageRect": {
            "top": 330.5333251953125,
            "left": 125,
            "width": 52,
            "right": 177,
            "bottom": 348.5333251953125,
            "height": 18
        }
    },
    {
        "title": "Draft of 'Python3'"
    },
    {
        "title": "Draft of 'Python3'"
    },
    {
        "title": "Python3"
    },
    {
        "title": "Draft of 'Python3'"
    },
    {
        "title": "Draft of 'Python3'"
    },
    {
        "title": "Python3"
    },
    {
        "title": "Home"
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Home"
    },
    {
        "title": "RaspberryPi",
        "fromPageRect": {
            "top": 239.98333740234375,
            "left": 125,
            "width": 78,
            "right": 203,
            "bottom": 257.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Home"
    },
    {
        "title": "RaspberryPi",
        "fromPageRect": {
            "top": 239.98333740234375,
            "left": 125,
            "width": 78,
            "right": 203,
            "bottom": 257.98333740234375,
            "height": 18
        }
    },
    {
        "title": "SpotiPi",
        "fromPageRect": {
            "top": 129.51666259765625,
            "left": 125,
            "width": 44,
            "right": 169,
            "bottom": 147.51666259765625,
            "height": 18
        }
    },
    {
        "title": "Home"
    },
    {
        "title": "$:/ControlPanel",
        "fromPageRect": {
            "top": 144.48333740234375,
            "left": 799.3333129882812,
            "width": 29.333343505859375,
            "right": 828.6666259765625,
            "bottom": 172.38333129882812,
            "height": 27.899993896484375
        }
    },
    {
        "title": "Home",
        "fromPageRect": {
            "top": 466.16668701171875,
            "left": 777,
            "width": 38,
            "right": 815,
            "bottom": 484.16668701171875,
            "height": 18
        }
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Home"
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Draft of 'Home'"
    },
    {
        "title": "Home"
    },
    {
        "title": "ComputingNotes",
        "fromPageRect": {
            "top": 199.98333740234375,
            "left": 125,
            "width": 106,
            "right": 231,
            "bottom": 217.98333740234375,
            "height": 18
        }
    },
    {
        "title": "LinuxCommands",
        "fromPageRect": {
            "top": 385.1000061035156,
            "left": 125,
            "width": 107,
            "right": 232,
            "bottom": 403.1000061035156,
            "height": 18
        }
    },
    {
        "title": "Draft of 'LinuxCommands'"
    },
    {
        "title": "Draft of 'LinuxCommands'"
    },
    {
        "title": "LinuxCommands"
    },
    {
        "title": "Draft of 'LinuxCommands'"
    },
    {
        "title": "Draft of 'LinuxCommands'"
    },
    {
        "title": "LinuxCommands"
    },
    {
        "title": "Draft of 'LinuxCommands'"
    },
    {
        "title": "Draft of 'LinuxCommands'"
    },
    {
        "title": "LinuxCommands"
    },
    {
        "title": "FindLocate",
        "fromPageRect": {
            "top": 608.75,
            "left": 125,
            "width": 71,
            "right": 196,
            "bottom": 626.75,
            "height": 18
        }
    },
    {
        "title": "Draft of 'FindLocate'"
    },
    {
        "title": "Draft of 'FindLocate'"
    },
    {
        "title": "FindLocate"
    },
    {
        "title": "FindLocate",
        "fromPageRect": {
            "top": 254.14999389648438,
            "left": 125,
            "width": 71,
            "right": 196,
            "bottom": 272.1499938964844,
            "height": 18
        }
    },
    {
        "title": "Draft of 'FindLocate'"
    },
    {
        "title": "Draft of 'FindLocate'"
    },
    {
        "title": "FindLocate"
    },
    {
        "title": "Draft of 'FindLocate'"
    },
    {
        "title": "Draft of 'FindLocate'"
    },
    {
        "title": "FindLocate"
    },
    {
        "title": "Home"
    },
    {
        "title": "ComputingNotes",
        "fromPageRect": {
            "top": 199.98333740234375,
            "left": 125,
            "width": 106,
            "right": 231,
            "bottom": 217.98333740234375,
            "height": 18
        }
    },
    {
        "title": "GitNotes",
        "fromPageRect": {
            "top": 335.933349609375,
            "left": 125,
            "width": 55,
            "right": 180,
            "bottom": 353.933349609375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Home"
    },
    {
        "title": "GitNotes",
        "fromPageRect": {
            "top": 286.16668701171875,
            "left": 777,
            "width": 55,
            "right": 832,
            "bottom": 304.16668701171875,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "GitTag",
        "fromPageRect": {
            "top": 143.98333740234375,
            "left": 125,
            "width": 43,
            "right": 168,
            "bottom": 161.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Home"
    },
    {
        "title": "ComputingNotes",
        "fromPageRect": {
            "top": 199.98333740234375,
            "left": 125,
            "width": 106,
            "right": 231,
            "bottom": 217.98333740234375,
            "height": 18
        }
    },
    {
        "title": "DiamondNotes",
        "fromPageRect": {
            "top": 219.98333740234375,
            "left": 125,
            "width": 94,
            "right": 219,
            "bottom": 237.98333740234375,
            "height": 18
        }
    },
    {
        "title": "FastArchiver",
        "fromPageRect": {
            "top": 177.39999389648438,
            "left": 125,
            "width": 80,
            "right": 205,
            "bottom": 195.39999389648438,
            "height": 18
        }
    },
    {
        "title": "Draft of 'FastArchiver'"
    },
    {
        "title": "Draft of 'FastArchiver'"
    },
    {
        "title": "FastArchiver"
    },
    {
        "title": "Draft of 'FastArchiver'"
    },
    {
        "title": "Draft of 'FastArchiver'"
    },
    {
        "title": "FastArchiver"
    },
    {
        "title": "Draft of 'FastArchiver'"
    },
    {
        "title": "Draft of 'FastArchiver'"
    },
    {
        "title": "FastArchiver"
    },
    {
        "title": "Home"
    },
    {
        "title": "DiamondNotes",
        "fromPageRect": {
            "top": 219.98333740234375,
            "left": 125,
            "width": 94,
            "right": 219,
            "bottom": 237.98333740234375,
            "height": 18
        }
    },
    {
        "title": "ControlsAde",
        "fromPageRect": {
            "top": 522.2666625976562,
            "left": 125,
            "width": 78,
            "right": 203,
            "bottom": 540.2666625976562,
            "height": 18
        }
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "ControlsAde"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "ControlsAde"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "ControlsAde"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "ControlsAde"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "Draft of 'ControlsAde'"
    },
    {
        "title": "ControlsAde"
    },
    {
        "title": "DiamondPython",
        "fromPageRect": {
            "top": 298.6499938964844,
            "left": 125,
            "width": 101,
            "right": 226,
            "bottom": 316.6499938964844,
            "height": 18
        }
    },
    {
        "title": "Draft of 'DiamondPython'"
    },
    {
        "title": "Draft of 'DiamondPython'"
    },
    {
        "title": "DiamondPython"
    },
    {
        "title": "Draft of 'DiamondPython'"
    },
    {
        "title": "Draft of 'DiamondPython'"
    },
    {
        "title": "DiamondPython"
    },
    {
        "title": "Home"
    },
    {
        "title": "DiamondNotes",
        "fromPageRect": {
            "top": 219.98333740234375,
            "left": 125,
            "width": 94,
            "right": 219,
            "bottom": 237.98333740234375,
            "height": 18
        }
    },
    {
        "title": "CsStudio",
        "fromPageRect": {
            "top": 317.3999938964844,
            "left": 125,
            "width": 57,
            "right": 182,
            "bottom": 335.3999938964844,
            "height": 18
        }
    },
    {
        "title": "Draft of 'CsStudio'"
    },
    {
        "title": "Draft of 'CsStudio'"
    },
    {
        "title": "CsStudio"
    },
    {
        "title": "Draft of 'CsStudio'"
    },
    {
        "title": "Draft of 'CsStudio'"
    },
    {
        "title": "CsStudio"
    },
    {
        "title": "EpicsDiirt",
        "fromPageRect": {
            "top": 218.48333740234375,
            "left": 125,
            "width": 59,
            "right": 184,
            "bottom": 236.48333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "EpicsDiirt"
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "EpicsDiirt"
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "EpicsDiirt"
    },
    {
        "title": "FastArchiver",
        "fromPageRect": {
            "top": 406.16668701171875,
            "left": 777,
            "width": 80,
            "right": 857,
            "bottom": 424.16668701171875,
            "height": 18
        }
    },
    {
        "title": "Draft of 'CsStudio'"
    },
    {
        "title": "Draft of 'CsStudio'"
    },
    {
        "title": "CsStudio"
    },
    {
        "title": "Home"
    },
    {
        "title": "EpicsDiirt",
        "fromPageRect": {
            "top": 286.16668701171875,
            "left": 777,
            "width": 59,
            "right": 836,
            "bottom": 304.16668701171875,
            "height": 18
        }
    },
    {
        "title": "HaskellTypes",
        "fromPageRect": {
            "top": 642.1666870117188,
            "left": 777,
            "width": 85,
            "right": 862,
            "bottom": 660.1666870117188,
            "height": 18
        }
    },
    {
        "title": "Home"
    },
    {
        "title": "EpicsDiirt",
        "fromPageRect": {
            "top": 326.16668701171875,
            "left": 777,
            "width": 59,
            "right": 836,
            "bottom": 344.16668701171875,
            "height": 18
        }
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "Draft of 'EpicsDiirt'"
    },
    {
        "title": "EpicsDiirt"
    },
    {
        "title": "ComputingNotes",
        "fromPageRect": {
            "top": 199.98333740234375,
            "left": 125,
            "width": 106,
            "right": 231,
            "bottom": 217.98333740234375,
            "height": 18
        }
    },
    {
        "title": "JavaNotes",
        "fromPageRect": {
            "top": 285.0333251953125,
            "left": 125,
            "width": 67,
            "right": 192,
            "bottom": 303.0333251953125,
            "height": 18
        }
    },
    {
        "title": "Draft of 'JavaNotes'"
    },
    {
        "title": "Draft of 'JavaNotes'"
    },
    {
        "title": "JavaNotes"
    },
    {
        "title": "JavaGenerics",
        "fromPageRect": {
            "top": 730,
            "left": 125,
            "width": 87,
            "right": 212,
            "bottom": 748,
            "height": 18
        }
    },
    {
        "title": "Draft of 'JavaGenerics'"
    },
    {
        "title": "Draft of 'JavaGenerics'"
    },
    {
        "title": "JavaGenerics"
    },
    {
        "title": "Draft of 'JavaGenerics'"
    },
    {
        "title": "Draft of 'JavaGenerics'"
    },
    {
        "title": "JavaGenerics"
    },
    {
        "title": "JavaKeywords",
        "fromPageRect": {
            "top": 372.51666259765625,
            "left": 125,
            "width": 92,
            "right": 217,
            "bottom": 390.51666259765625,
            "height": 18
        }
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaGenerics'"
    },
    {
        "title": "Draft of 'JavaGenerics'"
    },
    {
        "title": "JavaGenerics"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "Draft of 'JavaKeywords'"
    },
    {
        "title": "JavaKeywords"
    },
    {
        "title": "EffectiveJava",
        "fromPageRect": {
            "top": 312.01666259765625,
            "left": 125,
            "width": 84,
            "right": 209,
            "bottom": 330.01666259765625,
            "height": 18
        }
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "EffectiveJava"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "EffectiveJava"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "EffectiveJava"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "EffectiveJava"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "Draft of 'EffectiveJava'"
    },
    {
        "title": "EffectiveJava"
    },
    {
        "title": "Home"
    },
    {
        "title": "GitNotes",
        "fromPageRect": {
            "top": 588.1666870117188,
            "left": 777,
            "width": 55,
            "right": 832,
            "bottom": 606.1666870117188,
            "height": 18
        }
    },
    {
        "title": "GitShow",
        "fromPageRect": {
            "top": 183.98333740234375,
            "left": 125,
            "width": 53,
            "right": 178,
            "bottom": 201.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitShow'"
    },
    {
        "title": "Draft of 'GitShow'"
    },
    {
        "title": "GitShow"
    },
    {
        "title": "GitTag",
        "fromPageRect": {
            "top": 185.98333740234375,
            "left": 125,
            "width": 43,
            "right": 168,
            "bottom": 203.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "Draft of 'GitTag'"
    },
    {
        "title": "GitTag"
    },
    {
        "title": "GitBranch",
        "fromPageRect": {
            "top": 165.98333740234375,
            "left": 125,
            "width": 63,
            "right": 188,
            "bottom": 183.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "GitBranch"
    },
    {
        "title": "Home"
    },
    {
        "title": "GitBranch",
        "fromPageRect": {
            "top": 288.16668701171875,
            "left": 777,
            "width": 63,
            "right": 840,
            "bottom": 306.16668701171875,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "GitBranch"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "GitBranch"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "GitBranch"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "Draft of 'GitBranch'"
    },
    {
        "title": "GitBranch"
    },
    {
        "title": "ComputingNotes",
        "fromPageRect": {
            "top": 199.98333740234375,
            "left": 125,
            "width": 106,
            "right": 231,
            "bottom": 217.98333740234375,
            "height": 18
        }
    },
    {
        "title": "GitNotes",
        "fromPageRect": {
            "top": 491.933349609375,
            "left": 125,
            "width": 55,
            "right": 180,
            "bottom": 509.933349609375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "GitPush",
        "fromPageRect": {
            "top": 164.23333740234375,
            "left": 125,
            "width": 50,
            "right": 175,
            "bottom": 182.23333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitPush'"
    },
    {
        "title": "Draft of 'GitPush'"
    },
    {
        "title": "GitPush"
    },
    {
        "title": "Draft of 'GitPush'"
    },
    {
        "title": "Draft of 'GitPush'"
    },
    {
        "title": "GitPush"
    },
    {
        "title": "Draft of 'GitPush'"
    },
    {
        "title": "Draft of 'GitPush'"
    },
    {
        "title": "GitPush"
    },
    {
        "title": "Home"
    },
    {
        "title": "GitNotes",
        "fromPageRect": {
            "top": 308.16668701171875,
            "left": 777,
            "width": 55,
            "right": 832,
            "bottom": 326.16668701171875,
            "height": 18
        }
    },
    {
        "title": "GitPush",
        "fromPageRect": {
            "top": 163.98333740234375,
            "left": 125,
            "width": 50,
            "right": 175,
            "bottom": 181.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "Draft of 'GitNotes'"
    },
    {
        "title": "GitNotes"
    },
    {
        "title": "GitDirectory",
        "fromPageRect": {
            "top": 283.98333740234375,
            "left": 125,
            "width": 75,
            "right": 200,
            "bottom": 301.98333740234375,
            "height": 18
        }
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "GitDirectory"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "GitDirectory"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "GitDirectory"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "GitDirectory"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "GitDirectory"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "Draft of 'GitDirectory'"
    },
    {
        "title": "GitDirectory"
    }
]</pre>
</div>
<div title="$:/isEncrypted">
<pre>no</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="Adds support for HTML5 full screen mode" plugin-type="plugin" title="$:/plugins/tiddlywiki/fullscreen" type="application/json" version="5.0.13-beta">
<pre>{
    "tiddlers": {
        "$:/plugins/tiddlywiki/fullscreen/init.js": {
            "text": "/*\\\ntitle: $:/plugins/tiddlywiki/fullscreen/init.js\ntype: application/javascript\nmodule-type: startup\n\nMessage handler for full screen mode\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, Element: false */\n\"use strict\";\n\n// Export name and synchronous status\nexports.name = \"full-screen\";\nexports.platforms = [\"browser\"];\nexports.after = [\"startup\"];\nexports.synchronous = true;\n\nexports.startup = function() {\n\tvar d = document,\n\t\tdb = d.body,\n\t\t_requestFullscreen = db.webkitRequestFullscreen !== undefined ? \"webkitRequestFullscreen\" :\n\t\t\t\t\t\t\tdb.mozRequestFullScreen !== undefined ? \"mozRequestFullScreen\" :\n\t\t\t\t\t\t\tdb.msRequestFullscreen !== undefined ? \"msRequestFullscreen\" :\n\t\t\t\t\t\t\tdb.requestFullscreen !== undefined ? \"requestFullscreen\" : \"\",\n\t\t_exitFullscreen = d.webkitExitFullscreen !== undefined ? \"webkitExitFullscreen\" :\n\t\t\t\t\t\t\td.mozCancelFullScreen !== undefined ? \"mozCancelFullScreen\" :\n\t\t\t\t\t\t\td.msExitFullscreen !== undefined ? \"msExitFullscreen\" :\n\t\t\t\t\t\t\td.exitFullscreen !== undefined ? \"exitFullscreen\" : \"\",\n\t\t_fullscreenElement = d.webkitFullscreenElement !== undefined ? \"webkitFullscreenElement\" :\n\t\t\t\t\t\t\td.mozFullScreenElement !== undefined ? \"mozFullScreenElement\" :\n\t\t\t\t\t\t\td.msFullscreenElement !== undefined ? \"msFullscreenElement\" :\n\t\t\t\t\t\t\td.fullscreenElement !== undefined ? \"fullscreenElement\" : \"\";\n\t// Install the full screen handler\n\tif(_requestFullscreen) {\n\t\t$tw.rootWidget.addEventListener(\"tw-full-screen\",function(event) {\n\t\t\tif(document[_fullscreenElement]) {\n\t\t\t\tdocument[_exitFullscreen]();\n\t\t\t} else {\n\t\t\t\tdocument.documentElement[_requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t});\n\t}\n};\n\n})();\n",
            "title": "$:/plugins/tiddlywiki/fullscreen/init.js",
            "type": "application/javascript",
            "module-type": "startup"
        }
    }
}</pre>
</div>
<div created="20140804084136389" modified="20140804084140157" title="$:/SiteSubtitle">
<pre>Miscellaneous notes</pre>
</div>
<div created="20140804084123280" modified="20140804084127411" title="$:/SiteTitle">
<pre>Will Rogers</pre>
</div>
<div modified="20140802143200712" title="$:/state/showeditpreview">
<pre>no</pre>
</div>
<div modified="20140812151300746" modifier="WillRogers" title="$:/state/sidebar">
<pre>yes</pre>
</div>
<div modified="20140802144445806" title="$:/state/tab-{-1887685055}">
<pre>$:/core/ui/TiddlerInfo/References</pre>
</div>
<div modified="20140804084117027" title="$:/state/tab/sidebar-{312696086}">
<pre>$:/core/ui/SideBar/Recent</pre>
</div>
<div created="20140804084144277" creator="W" modified="20140804084145856" modifier="WillRoger" title="$:/status/UserName">
<pre>WillRogers</pre>
</div>
<div list="GitNotes GitDirectory GitPush Home" title="$:/StoryList">
<pre></pre>
</div>
<div created="20140802142234280" modified="20140802142234280" title="$:/temp/ImportReport">
<pre># [[CPPClasses]]
# [[MetaLang]]
# [[FreeXperia]]
# [[OpiBuilderRunmode]]
# [[RepeaterBeater]]
# [[CFunctionPointers]]
# [[DlsEnvironment]]
# [[UbuntuTwelveTen]]
# [[CKeywords]]
# [[CssStartup]]
# [[CEnums]]
# [[VirtualMint]]
# [[LinuxFilesystem]]
# [[FakenhamFair]]
# [[AccountingConsolidation]]
# [[EmiCollaborations]]
# [[EpicsEdm]]
# [[VirtualSL6]]
# [[EmiSA2]]
# [[EmiSA1]]
# [[PThreads]]
# [[PythonClasses]]
# [[ThingsIdLike]]
# [[HaskellIO]]
# [[CoThread]]
# [[EclipseDiamond]]
# [[VirtualBox]]
# [[MatlabBuiltins]]
# [[CsscStuff]]
# [[NikonCamera]]
# [[RevisionsCommandPlugin]]
# [[.bashrc]]
# [[BinaryTiddlersPlugin]]
# [[NewFlatCosts]]
# [[ExternalConnection]]
# [[JavaClasspath]]
# [[PythonMachine]]
# [[DiamondScripts]]
# [[close.svg]]
# [[MessagingPatterns]]
# [[AndroidDistribute]]
# [[AndroidApiGuides]]
# [[How to socialise]]
# [[MetaLangSyntax]]
# [[DatabaseTheory]]
# [[StyleSheetTiddlySpace]]
# [[SsmException]]
# [[willrogersSetupFlag]]
# [[MatlabLicenses]]
# [[UbuntuThirteenTen]]
# [[MatlabFunctions]]
# [[GitCommit]]
# [[CStdFunctions]]
# [[SedAndAwk]]
# [[NagiosNotes]]
# [[CarThings]]
# [[HaskellTypeConversions]]
# [[Home]]
# [[PythonNone]]
# [[ViewTemplate]]
# [[GotoPlugin]]
# [[OrthoticInsoles]]
# [[DvdRipping]]
# [[RawFiles]]
# [[MainMenu]]
# [[WindowsLicences]]
# [[PythonSetupTools]]
# [[EgiSummary]]
# [[EclipsePerspectives]]
# [[DpmTalk]]
# [[NewComputer]]
# [[PythonSyntax]]
# [[EclipseDisplay]]
# [[EclipseSwt]]
# [[GitStash]]
# [[PythonProfiler]]
# [[SlowFeedback]]
# [[unsyncedIcon]]
# [[EpelPackaging]]
# [[CPPSyntax]]
# [[NewYorkGirls]]
# [[BigONotation]]
# [[TiddlySpaceRevisionView]]
# [[NikonLenses]]
# [[FranceFlights]]
# [[StyleSheet]]
# [[PythonMock]]
# [[StorageAccounting]]
# [[JavaScript]]
# [[HaskellImports]]
# [[JobSources]]
# [[NewLaptop]]
# [[DlsRelease]]
# [[deleteTiddler]]
# [[BashSyntax]]
# [[CompilingEdm]]
# [[TiddlyWebConfig]]
# [[PythonSoftIoc]]
# [[BashControlFlow]]
# [[GuitarDrills]]
# [[RecordNotes]]
# [[Euro2012Sweepstake]]
# [[DigitalMusic]]
# [[TStoRM]]
# [[MiscLinks]]
# [[DifficultSpellings]]
# [[FastArchiver]]
# [[UnixDos]]
# [[CyanogenMod]]
# [[ContactLenses]]
# [[UbuntuFourteenFour]]
# [[I06]]
# [[UbuntuGrub]]
# [[I04]]
# [[StickyBit]]
# [[SiteSubtitle [draft]]]
# [[ExtensionPoints]]
# [[BatchSystems]]
# [[spaceIcon]]
# [[ABSLight]]
# [[OgfUrTalk]]
# [[CDocumentation]]
# [[MpiAccounting]]
# [[_account]]
# [[EmiCanl]]
# [[HaskellTypes]]
# [[EclipseShell]]
# [[RaspBMC]]
# [[ApelNotes]]
# [[FollowTiddlersBlackList]]
# [[ComputeAccounting]]
# [[TechnicolorRouter]]
# [[SqlNull]]
# [[spaceTitle]]
# [[GitRemote]]
# [[FastFeedbackExcite]]
# [[DefaultTiddlers]]
# [[RevisionTemplate]]
# [[SlurmTalk]]
# [[LizSize]]
# [[TiddlySpaceBackstage]]
# [[CsStudio]]
# [[missingIcon]]
# [[PossibleFlats]]
# [[privateAndPublicIcon]]
# [[ImageMacroPlugin]]
# [[FastFeedback]]
# [[CPrintf]]
# [[ColorPalette]]
# [[AndroidAppFiles]]
# [[PyGtk]]
# [[PossibleLaptops]]
# [[CPointersAndArrays]]
# [[editTiddler]]
# [[ApelWarnings]]
# [[MessagingQuestions]]
# [[EpicsPython]]
# [[PhysicsSoftware]]
# [[I10ChicaneMagnets]]
# [[TopupUnitTests]]
# [[DiamondBeamlines]]
# [[GoogleContacts]]
# [[B18]]
# [[TiddlySpaceCSRF]]
# [[JavaMaven]]
# [[JavaNotes]]
# [[BashStrings]]
# [[CPointers]]
# [[DiamondMagnets]]
# [[LauncherProgram]]
# [[CEscapeChars]]
# [[EgiTfPrague]]
# [[EuropeanFunding]]
# [[CBasics]]
# [[AndroidDevelopment]]
# [[EmiAhmPadova]]
# [[StomProtocol]]
# [[LauncherScripts]]
# [[GnuMake]]
# [[PythonThreading]]
# [[FileSystems]]
# [[NetworkDrive]]
# [[CssCore]]
# [[EmiReleases]]
# [[PortingToSL6]]
# [[CollaborationBoard]]
# [[ConfigureScripts]]
# [[SamsungLaptop]]
# [[colorScheme]]
# [[PlusNet]]
# [[EmiSummary]]
# [[CStrings]]
# [[DisappearingBug]]
# [[CssBasics]]
# [[GitReset]]
# [[ToolbarCommands]]
# [[PoloToDo]]
# [[StfcVpn]]
# [[MySQLFiles]]
# [[EmiJRA1]]
# [[HaskellLists]]
# [[EmiUserSupport]]
# [[PyQt]]
# [[I13L]]
# [[HaskellFunctions]]
# [[MiddleLayer]]
# [[ForwardingAddress]]
# [[EclipseNotes]]
# [[AddPrinters]]
# [[EclipsePlatform4]]
# [[HomeComputer]]
# [[FastFeedbackVariables]]
# [[MobileProblems]]
# [[Start writing]]
# [[SshKeyAuthentication]]
# [[I03]]
# [[MessageHashes]]
# [[GitNotes]]
# [[closeTiddler]]
# [[EmiSoftwareTools]]
# [[MessageChannel]]
# [[SkiingCosts]]
# [[EpicsSource]]
# [[ErrorHandler]]
# [[PythonFunctions]]
# [[BerkeleyDB]]
# [[VirtualMachines]]
# [[LocalInstallations]]
# [[HomeNotes]]
# [[TiddlySpaceTiddlerIconsPlugin]]
# [[ServerSideSavingPlugin]]
# [[GroupByPlugin]]
# [[TiddlySpaceFilters]]
# [[DiffFormatter]]
# [[TabletComputer]]
# [[LinuxCommands]]
# [[ControlsGit]]
# [[DiamondSetup]]
# [[EclipsePlatformUI]]
# [[FutureWork]]
# [[OtherAccountingServices]]
# [[SpotifyProxy]]
# [[EmiDevelopment]]
# [[TiddlyFileImporter]]
# [[PythonDecorators]]
# [[DiamondMachine]]
# [[SqlFunctions]]
# [[OpiBuilderUtil]]
# [[EmiOutlook]]
# [[TiddlySpaceConfig]]
# [[HaskellBasics]]
# [[EmiConsolidation]]
# [[CBasicIO]]
# [[PythonDaemon]]
# [[VimNotes]]
# [[SiteInfo]]
# [[EpicsArchiver]]
# [[EmiQualityControl]]
# [[TtyWtf]]
# [[PoloCosts]]
# [[AndroidDocumentation]]
# [[MoreOnPorting]]
# [[UbuntuElevenTen]]
# [[TvHeadEnd]]
# [[BuildingCss]]
# [[DiamondPython]]
# [[CloudUbuntu]]
# [[MatlabLoco]]
# [[NorthernLights]]
# [[JGApelTalk]]
# [[backstage.svg]]
# [[NumPy]]
# [[TiddlySpaceFollowingPlugin]]
# [[PylintProfile]]
# [[PythonPackages]]
# [[EmiQA]]
# [[JavaKeywords]]
# [[BitwiseOperators]]
# [[GchqPuzzles]]
# [[PastAddresses]]
# [[moreCommand]]
# [[SqlSyntax]]
# [[PythonBoolean]]
# [[CvsNotes]]
# [[CaToolsImplementation]]
# [[BashScriptingBasics]]
# [[EclipseProduct]]
# [[OpiBuilderWidgetsPlugin]]
# [[CMemory]]
# [[GitShow]]
# [[LizPresents]]
# [[SideBarOptions]]
# [[EclipseWorkbench]]
# [[CPPBasics]]
# [[shadowIcon]]
# [[TopupTesting]]
# [[FofbConfig]]
# [[EpicsExtensions]]
# [[I24]]
# [[GitBranch]]
# [[OSGi]]
# [[MetaLangRecursion]]
# [[PossibleRequirements]]
# [[favicon.ico]]
# [[BinaryUploadPlugin]]
# [[OpiBuilderScripts]]
# [[TenerifeFlights]]
# [[HaskellBuiltins]]
# [[WindowsNotes]]
# [[TiddlySpaceInit]]
# [[EclipsePlugins]]
# [[GitSvn]]
# [[SpotiPi]]
# [[DiamondLauncher]]
# [[UbuntuHashes]]
# [[LinuxPartitions]]
# [[EclipseCommands]]
# [[EmiWorkPackages]]
# [[LinuxLinks]]
# [[SpaceSettings]]
# [[PythonSelf]]
# [[SiteSubtitle]]
# [[ParticleAccelerators]]
# [[WorkAccounts]]
# [[FastFeedbackSrc]]
# [[MatPlotLib]]
# [[PhotoOrganisation]]
# [[CodePython]]
# [[UbuntuElevenFour]]
# [[Topup]]
# [[SiteTitle]]
# [[EclipsePackages]]
# [[EpicsDiirt]]
# [[DiamondModules]]
# [[CssWorkspaces]]
# [[CssBoy]]
# [[CTypedef]]
# [[BashNumbers]]
# [[EdmBug]]
# [[TiddlySpaceSearcher]]
# [[StructuredMarkup]]
# [[PoloForSale]]
# [[RaspberryPi]]
# [[EffectiveJava]]
# [[Backstage]]
# [[TiddlySpaceRevertRevision]]
# [[saveTiddler]]
# [[ControlsAde]]
# [[SvnNotes]]
# [[ChristmasPresents]]
# [[BankAccounts]]
# [[CaTools]]
# [[setDefaultTiddlers]]
# [[_space]]
# [[MysqlNotes]]
# [[PythonDistutils]]
# [[CStructs]]
# [[TeachingPython]]
# [[EmiStandards]]
# [[TiddlySpaceViewTypes]]
# [[BashConditions]]
# [[TiddlySpaceCloneCommand]]
# [[GnuDebugger]]
# [[SideBarTabs]]
# [[BuildingAndroid]]
# [[AndroidDevelop]]
# [[LinuxProfiles]]
# [[RefreshTiddlerCommand]]
# [[PiCam]]
# [[BashSubScripts]]
# [[BashFunctions]]
# [[DlsScripts]]
# [[PythonExceptions]]
# [[privateIcon]]
# [[CryptographyNotes]]
# [[MiniCosts]]
# [[DiamondRedirector]]
# [[_reply]]
# [[RegexNotes]]
# [[ToggleTiddlerPrivacyPlugin]]
# [[.vimrc]]
# [[TiddlyWebAdaptor]]
# [[SiteIcon]]
# [[GuitarTabs]]
# [[StyleSheetTiddler]]
# [[ScienceSoft]]
# [[EmiNA2]]
# [[EmiNA3]]
# [[EmiNA1]]
# [[ReadingFlats]]
# [[VirtualUbuntu]]
# [[CssProblems]]
# [[EmiMessaging]]
# [[GettingStarted]]
# [[SvnUbuntu]]
# [[TiddlySpacePublishingCommands]]
# [[PythonDocstrings]]
# [[TiddlySpaceTabs]]
# [[InfrastructureSummary]]
# [[TiddlySpaceSanitizer]]
# [[LinuxLocations]]
# [[MarkupPreHead]]
# [[MySQLIndices]]
# [[MatlabBasics]]
# [[FindLocate]]
# [[SelfSignedCert]]
# [[GenericDevice]]
# [[QtBasics]]
# [[DataSummary]]
# [[publicIcon]]
# [[RpmBuild]]
# [[editTiddlerReadOnly]]
# [[PythonStructs]]
# [[I10Switching]]
# [[SystemSettings]]
# [[PythonLists]]
# [[chrjs]]
# [[EuropeanMiddlewareInitiative]]
# [[BasicCompSci]]
# [[CssPositioning]]
# [[WindowsPrograms]]
# [[EmiAhmBudapest]]
# [[RaspBian]]
# [[AlbumsWanted]]
# [[JFace]]
# [[FastFeedbackOpi]]
# [[MatlabArrays]]
# [[CPPDataTypes]]
# [[SearchOptionsPlugin]]
# [[cancelTiddler]]
# [[ProjectEuler]]
# [[EdmConverter]]
# [[CPrimitiveTypes]]
# [[SudokuPython]]
# [[HtmlBasics]]
# [[EgiCfMunich]]
# [[PossibleJobs]]
# [[ProgrammingTypes]]
# [[LaptopProcessors]]
# [[ComputingNotes]]
# [[apps]]
# [[BashSpecialCharacters]]
# [[PageTemplate]]
# [[BashScripting]]
# [[OpiBuilderPlugin]]
# [[LinuxTerminal]]
# [[AndroidAppBasics]]
# [[TiddlySpaceLinkPlugin]]
# [[privateNotPublicIcon]]
# [[I14]]
# [[CssClassesIds]]
# [[I10]]
# [[AndroidManifest]]
# [[AndroidDesign]]
# [[PythonGarbage]]
# [[PythonBuiltins]]
# [[AustenEmail]]
# [[PythonNotes]]
# [[ComputeSummary]]
# [[JavaAnt]]
# [[MetaTiddly]]
# [[SaxPython]]
# [[CPPFunctions]]
# [[PythonRegex]]
# [[EclipseEditorsAndViews]]
# [[AddressChanges]]
# [[EmiAhmHamburg]]
# [[DiamondNotes]]
# [[ConcludingRemarks]]
# [[AndroidUIs]]
# [[TiddlySpaceToolbar]]
# [[DynamicDns]]
# [[CampingFrance]]
# [[CNumbers]]
# [[LdapBdii]]
# [[EditTemplate]]
# [[PythonDocumentation]]
# [[MatlabNotes]]
# [[RandomColorPalettePlugin]]
# [[EclipsePlatform]]
# [[VirtualDebian]]
# [[RecurrenceRelations]]
# [[saveDraft]]
# [[robots]]
# [[CLinking]]
# [[EpicsQt]]
# [[BuyingACar]]
# [[AllCosts]]
# [[LocateCygwin]]
# [[IfcfgEth0]]
# [[ToothIssue]]
</pre>
</div>
<div created="20140802142219789" modified="20140804084108445" title="$:/temp/search">
<pre></pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="$:/themes/tiddlywiki/vanilla" description="A clean theme that emphasises individual tiddlers" name="Snow White" plugin-type="theme" title="$:/themes/tiddlywiki/snowwhite" type="application/json" version="5.0.13-beta">
<pre>{
    "tiddlers": {
        "$:/themes/tiddlywiki/snowwhite/base": {
            "title": "$:/themes/tiddlywiki/snowwhite/base",
            "tags": "[[$:/tags/stylesheet]]",
            "text": "\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n.sidebar-header {\n\ttext-shadow: 0 1px 0 &lt;&lt;colour sidebar-foreground-shadow&gt;&gt;;\n}\n\n.tw-tiddler-info {\n\t&lt;&lt;box-shadow \"inset 1px 2px 3px rgba(0,0,0,0.1)\"&gt;&gt;\n}\n\n@media screen {\n\t.tw-tiddler-frame {\n\t\t&lt;&lt;box-shadow \"5px 5px 5px rgba(0, 0, 0, 0.1)\"&gt;&gt;\n\t}\n}\n\n@media (max-width: 770px) {\n\t.tw-tiddler-frame {\n\t\t&lt;&lt;box-shadow none&gt;&gt;\n\t}\n}\n\n.tw-page-controls button svg, .tw-tiddler-controls button svg, .tw-topbar button svg {\n\t&lt;&lt;transition \"fill 150ms ease-in-out\"&gt;&gt;\n}\n\n.tw-tiddler-controls button.tw-selected svg {\n\t&lt;&lt;filter \"drop-shadow(0px -1px 2px rgba(0,0,0,0.25))\"&gt;&gt;\n}\n\n.tw-tiddler-frame input.tw-edit-texteditor {\n\t&lt;&lt;box-shadow \"inset 0 1px 8px rgba(0, 0, 0, 0.15)\"&gt;&gt;\n}\n\n.tw-edit-tags {\n\t&lt;&lt;box-shadow \"inset 0 1px 8px rgba(0, 0, 0, 0.15)\"&gt;&gt;\n}\n\n.tw-tiddler-frame .tw-edit-tags input.tw-edit-texteditor {\n\t&lt;&lt;box-shadow \"none\"&gt;&gt;\n\tborder: none;\n\toutline: none;\n}\n\ncanvas.tw-edit-bitmapeditor  {\n\t&lt;&lt;box-shadow \"2px 2px 5px rgba(0, 0, 0, 0.5)\"&gt;&gt;\n}\n\n.tw-drop-down {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\"&gt;&gt;\n}\n\n.tw-block-dropdown {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\"&gt;&gt;\n}\n\n.tw-modal-displayed {\n\t-webkit-filter: blur(4px);\n}\n\n.modal {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \"0 3px 7px rgba(0,0,0,0.3)\"&gt;&gt;\n}\n\n.modal-footer {\n\tborder-radius: 0 0 6px 6px;\n\t&lt;&lt;box-shadow \"inset 0 1px 0 #fff\"&gt;&gt;;\n}\n\n\n.tw-alert {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \"0 3px 7px rgba(0,0,0,0.6)\"&gt;&gt;\n}\n\n.tw-notification {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \"0 3px 7px rgba(0,0,0,0.3)\"&gt;&gt;\n\ttext-shadow: 0 1px 0 rgba(255,255,255, 0.8);\n}\n\n.tw-sidebar-lists .tw-tab-divider {\n\t&lt;&lt;background-linear-gradient \"left, rgb(216,216,216) 0%, rgb(236,236,236) 250px\"&gt;&gt;\n}\n\n.tw-more-sidebar .tw-tab-buttons button {\n\t&lt;&lt;background-linear-gradient \"left, rgb(236,236,236) 0%, rgb(224,224,224) 100%\"&gt;&gt;\n}\n\n.tw-more-sidebar .tw-tab-buttons button.tw-tab-selected {\n\t&lt;&lt;background-linear-gradient \"left, rgb(236,236,236) 0%, rgb(248,248,248) 100%\"&gt;&gt;\n}\n\n.tw-message-box img {\n\t&lt;&lt;box-shadow \"1px 1px 3px rgba(0,0,0,0.5)\"&gt;&gt;\n}\n"
        }
    }
}</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="A basic default theme" name="Vanilla" plugin-type="theme" title="$:/themes/tiddlywiki/vanilla" type="application/json" version="5.0.13-beta">
<pre>{
    "tiddlers": {
        "$:/themes/tiddlywiki/vanilla/themetweaks": {
            "title": "$:/themes/tiddlywiki/vanilla/themetweaks",
            "tags": "$:/tags/ControlPanel/Appearance",
            "caption": "Theme Tweaks",
            "text": "You can tweak certain aspects of the ''Vanilla'' theme.\n\n//Take care to preserve any backticks (&amp;#96;) in the settings//\n\n! Settings\n\n* Font family: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/settings\" index=\"fontfamily\" default=\"\" tag=\"input\"/&gt;\n\n! Sizes\n\n* Font size: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"fontsize\" default=\"\" tag=\"input\"/&gt;\n* Line height: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"lineheight\" default=\"\" tag=\"input\"/&gt;\n* Story left position //(the distance between the left of the screen and the left margin of the story river or tiddler area)//: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"storyleft\" default=\"\" tag=\"input\"/&gt;\n* Story top position //(the distance between the top of the screen ad the top margin of the story river or tiddler area)//: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"storytop\" default=\"\" tag=\"input\"/&gt;\n* Story right //(the distance between the left side of the screen and the left margin of the sidebar area)//: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"storyright\" default=\"\" tag=\"input\"/&gt;\n* Story width //(the width of the story river or tiddler area)//: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"storywidth\" default=\"\" tag=\"input\"/&gt;\n* Tiddler width //(the width of individual tiddlers -- used for zoomin storyview)//: &lt;$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics\" index=\"tiddlerwidth\" default=\"\" tag=\"input\"/&gt;\n\n"
        },
        "$:/themes/tiddlywiki/vanilla/base": {
            "title": "$:/themes/tiddlywiki/vanilla/base",
            "tags": "[[$:/tags/stylesheet]]",
            "text": "\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n/*\n** Start with the normalize CSS reset, and then belay some of its effects\n*/\n\n{{$:/themes/tiddlywiki/vanilla/reset}}\n\n*, input[type=\"search\"] {\n\tbox-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n}\n\nhtml button {\n\tline-height: 1.2;\n}\n\n/*\n** Basic element styles\n*/\n\nhtml {\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings##fontfamily}};\n\ttext-rendering: optimizeLegibility; /* Enables kerning and ligatures etc. */\t\n}\n\nhtml:-webkit-full-screen {\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\nbody.tw-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics##fontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics##lineheight}};\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n\tword-wrap: break-word;\n}\n\nh1, h2, h3, h4, h5, h6 {\n\tline-height: 1.2;\n\tfont-weight: 300;\n}\n\npre {\n\tdisplay: block;\n\tpadding: 14px;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n\tword-break: normal;\n\tword-wrap: break-word;\n\twhite-space: pre;\n\twhite-space: pre-wrap;\n\tbackground-color: &lt;&lt;colour pre-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour pre-border&gt;&gt;;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n}\n\ncode {\n\tcolor: &lt;&lt;colour code-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour code-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour code-border&gt;&gt;;\n    white-space: pre-wrap;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n}\n\nblockquote {\n\tborder-left: 5px solid &lt;&lt;colour blockquote-bar&gt;&gt;;\n\tmargin-left: 25px;\n\tpadding-left: 10px;\n}\n\ndl dt {\n\tfont-weight: bold;\n\tmargin-top: 6px;\n}\n\n/*\nMarkdown likes putting code elements inside pre elements\n*/\npre &gt; code {\n\tpadding: 0;\n\tborder: none;\n\tbackground-color: inherit;\n\tcolor: inherit;\n}\n\ntable {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\twidth: auto;\n\tmax-width: 100%;\n\tcaption-side: bottom;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n}\n\ntable th, table td {\n\tpadding: 0 7px 0 7px;\n\tborder-top: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\ntable thead tr td, table th {\n\tbackground-color: &lt;&lt;colour table-header-background&gt;&gt;;\n\tfont-weight: bold;\n}\n\ntable tfoot tr td {\n\tbackground-color: &lt;&lt;colour table-footer-background&gt;&gt;;\n}\n\n.tw-csv-table {\n\twhite-space: nowrap;\n}\n\n.tw-tiddler-frame img,\n.tw-tiddler-frame svg,\n.tw-tiddler-frame canvas,\n.tw-tiddler-frame embed,\n.tw-tiddler-frame iframe {\n\tmax-width: 100%;\n}\n\n.tw-tiddler-frame embed,\n.tw-tiddler-frame iframe {\n\twidth: 100%;\n\theight: 600px;\n}\n\n/*\n** Links\n*/\n\na.tw-tiddlylink {\n\ttext-decoration: none;\n\tfont-weight: normal;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\t-webkit-user-select: inherit; /* Otherwise the draggable attribute makes links impossible to select */\n}\n\n.tw-sidebar-lists a.tw-tiddlylink {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground&gt;&gt;;\n}\n\n.tw-sidebar-lists a.tw-tiddlylink:hover {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground-hover&gt;&gt;;\n}\n\na.tw-tiddlylink:hover {\n\ttext-decoration: underline;\n}\n\na.tw-tiddlylink-resolves {\n}\n\na.tw-tiddlylink-shadow {\n\tfont-weight: bold;\n}\n\na.tw-tiddlylink-shadow.tw-tiddlylink-resolves {\n\tfont-weight: normal;\n}\n\na.tw-tiddlylink-missing {\n\tfont-style: italic;\n}\n\na.tw-tiddlylink-external {\n\ttext-decoration: underline;\n\tcolor: &lt;&lt;colour external-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background&gt;&gt;;\n}\n\na.tw-tiddlylink-external:visited {\n\tcolor: &lt;&lt;colour external-link-foreground-visited&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-visited&gt;&gt;;\n}\n\na.tw-tiddlylink-external:hover {\n\tcolor: &lt;&lt;colour external-link-foreground-hover&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-hover&gt;&gt;;\n}\n\n/*\n** Drag and drop styles\n*/\n\n.tw-tiddler-dragger {\n\tposition: relative;\n\tz-index: -10000;\n}\n\n.tw-tiddler-dragger-inner {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tpadding: 8px 20px;\n\tfont-size: 16.9px;\n\tfont-weight: bold;\n\tline-height: 20px;\n\tcolor: &lt;&lt;colour dragger-foreground&gt;&gt;;\n\ttext-shadow: 0 1px 0 rgba(0, 0, 0, 1);\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour dragger-background&gt;&gt;;\n\tborder-radius: 20px;\n}\n\n.tw-tiddler-dragger-cover {\n\tposition: absolute;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\n.tw-dropzone {\n\tposition: relative;\n}\n\n.tw-dropzone.tw-dragover:before {\n\tz-index: 10000;\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: &lt;&lt;colour dropzone-background&gt;&gt;;\n\ttext-align: center;\n\tcontent: \"Drop here\";\n}\n\n/*\n** Buttons\n*/\n\n.btn-invisible {\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n}\n\n.btn-icon svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.btn-big-green {\n\tpadding: 8px;\n\tmargin: 4px 8px 4px 8px;\n\tbackground: &lt;&lt;colour download-background&gt;&gt;;\n\tcolor: &lt;&lt;colour download-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour download-foreground&gt;&gt;;\n\tborder: none;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n}\n\n.tw-sidebar-lists input {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tw-sidebar-lists button.btn {\n\tcolor: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n}\n\n.tw-sidebar-lists button.btn-mini {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground&gt;&gt;;\n}\n\n.tw-sidebar-lists button.btn-mini:hover {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground-hover&gt;&gt;;\n}\n\n.tw-image-button {\n\theight: 1em;\n}\n\n/*\n** Tags and missing tiddlers\n*/\n\n.tw-tag-list-item {\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin-right: 7px;\n}\n\n.tw-tags-wrapper {\n\tmargin: 4px 0 14px 0;\n}\n\n.tw-missing-tiddler-label {\n\tfont-style: italic;\n\tfont-weight: normal;\n\tdisplay: inline-block;\n\tfont-size: 11.844px;\n\tline-height: 14px;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n}\n\n.tw-tag-label {\n\tdisplay: inline-block;\n\tpadding: 2px 9px;\n\tfont-size: 0.9em;\n\tfont-weight: 300;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tag-foreground&gt;&gt;;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour tag-background&gt;&gt;;\n\tborder-radius: 8px;\n}\n\n.tw-untagged-label {\n\tbackground-color: &lt;&lt;colour untagged-background&gt;&gt;;\n}\n\n.tw-tag-label svg, .tw-tag-label img {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour tag-foreground&gt;&gt;;\n}\n\n/*\n** Page layout\n*/\n\n.tw-topbar {\n\tposition: fixed;\n\tz-index: 1200;\n}\n\n.tw-topbar-left {\n\tleft: 29px;\n\ttop: 5px;\n}\n\n.tw-topbar-right {\n\ttop: 5px;\n\tright: 29px;\n}\n\n.tw-topbar button {\n\tpadding: 8px;\n}\n\n.tw-topbar svg {\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tw-topbar button:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.sidebar-header {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.sidebar-header .title a.tw-tiddlylink-resolves {\n\tfont-weight: 300;\n}\n\n.sidebar-header .tw-sidebar-lists p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.sidebar-header .tw-missing-tiddler-label {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tw-advanced-search input {\n\twidth: 60%;\n}\n\n.tw-search {\n\tpadding-top: 14px;\n}\n\n.tw-search a svg {\n\theight: 0.75em;\n}\n\n.tw-search-results {\n\tpadding-top: 14px;\n}\n\n.tw-page-controls {\n\tmargin-top: 14px;\n}\n\n.tw-page-controls a.tw-tiddlylink:hover {\n\ttext-decoration: none;\n}\n\n.tw-page-controls svg {\n\theight: 1.75em;\n\tmin-width: 1px;\n\tpadding-right: 0.5em;\n\tfill: &lt;&lt;colour sidebar-controls-foreground&gt;&gt;;\n}\n\n.tw-page-controls button:hover svg, .tw-page-controls a:hover svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;;\n}\n\n.tw-menu-list-item {\n\twhite-space: nowrap;\n}\n\n.tw-menu-list-count {\n\tfont-weight: bold;\n}\n\n.tw-open-tiddler-list {\n\t&lt;&lt;transform-origin \"0% 0%\"&gt;&gt;\n}\n\n.tw-menu-list-subitem {\n\tpadding-left: 7px;\n}\n\n.story-river {\n\tposition: relative;\n}\n\n.tw-story-spacer {\n\tposition: absolute;\n\tmin-height: 100%;\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics##storywidth}}) {\n\n\t.sidebar-header {\n\t\tpadding: 14px;\n\t\tmin-height: 32px;\n\t}\n\n\t.story-river {\n\t\tposition: relative;\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics##storywidth}}) {\n\n\t.tw-message-box {\n\t\tmargin: 21px -21px 21px -21px;\n\t}\n\n\t.tw-sidebar-scrollable {\n\t\tposition: fixed;\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics##storytop}};\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics##storyright}};\n\t\tbottom: 0;\n\t\tright: 0;\n\t\toverflow-y: auto;\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t\tmargin: 0 0 0 -42px;\n\t\tpadding: 71px 0 28px 42px;\n\t}\n\n\t.story-river {\n\t\tposition: relative;\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics##storyleft}};\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics##storytop}};\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics##storywidth}};\n\t\tpadding: 42px 42px 42px 42px;\n\t}\n\n&lt;&lt;if-no-sidebar \"\n\n\t.story-river {\n\t\twidth: auto;\n\t}\n\n\"&gt;&gt;\n\n}\n\n@media print {\n\t.sidebar-header, .tw-topbar {\n\t\tdisplay: none;\n\t}\n\n\t.story-river {\n\t\tmargin-left: 14px;\n\t}\n}\n\n/*\n** Tiddler styles\n*/\n\n.tw-tiddler-frame {\n\tmargin-bottom: 28px;\n\tbackground-color: &lt;&lt;colour tiddler-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour tiddler-border&gt;&gt;;\n}\n\n\n@media print {\n\t.tw-tiddler-frame {\n\t\tborder: none;\n\t}\n}\n\n.tw-tiddler-info {\n\tpadding: 14px 42px 14px 42px;\n\tbackground-color: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n}\n\n.tw-tiddler-info .tw-tab-buttons button.tw-tab-selected {\n\tbackground-color: &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n}\n\n.tw-view-field-table {\n\twidth: 100%;\n}\n\n.tw-view-field-name {\n\twidth: 1%; /* Makes this column be as narrow as possible */\n\ttext-align: right;\n\tfont-style: italic;\n\tfont-weight: 200;\n}\n\n.tw-view-field-value {\n}\n\n@media (max-width: 770px) {\n\t.tw-tiddler-frame {\n\t\tpadding: 14px 14px 14px 14px;\n\t}\n\n\t.tw-tiddler-info {\n\t\tmargin: 0 -14px 0 -14px;\n\t}\n}\n\n@media (min-width: 770px) {\n\t.tw-tiddler-frame {\n\t\tpadding: 28px 42px 42px 42px;\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics##tiddlerwidth}};\n\t}\n\n&lt;&lt;if-no-sidebar \"\n\n\t.tw-tiddler-frame {\n\t\twidth: 100%;\n\t}\n\n\"&gt;&gt;\n\n\t.tw-tiddler-info {\n\t\tmargin: 0 -42px 0 -42px;\n\t}\n}\n\n.tw-site-title,\n.titlebar {\n\tfont-weight: 300;\n\tfont-size: 2.35em;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tiddler-title-foreground&gt;&gt;;\n\tmargin: 0;\n}\n\n.tw-system-title-prefix {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.titlebar img {\n\theight: 1em;\n}\n\n.tw-subtitle {\n\tfont-size: 0.9em;\n\tcolor: &lt;&lt;colour tiddler-subtitle-foreground&gt;&gt;;\n\tfont-weight: 300;\n}\n\n.tw-tiddler-missing .title {\n  font-style: italic;\n  font-weight: normal;\n}\n\n.tw-tiddler-frame .tw-tiddler-controls {\n\tfloat: right;\n}\n\n.tw-tiddler-controls button {\n\tmargin: 0 0 0 5px;\n\tvertical-align: baseline;\n}\n\n.tw-tiddler-controls button svg {\n\theight: 0.75em;\n\tfill: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n}\n\n.tw-tiddler-controls button.tw-selected svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n}\n\n.tw-tiddler-controls button.btn-invisible:hover svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;;\n}\n\n@media print {\n\t.tw-tiddler-controls {\n\t\tdisplay: none;\n\t}\n}\n\n.tw-tiddler-help { /* Help prompts within tiddler template */\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tmargin-top: 14px;\n}\n\n.tw-tiddler-help a.tw-tiddlylink {\n\tcolor: &lt;&lt;colour very-muted-foreground&gt;&gt;;\n}\n\n.tw-tiddler-frame input.tw-edit-texteditor, .tw-tiddler-frame textarea.tw-edit-texteditor {\n\twidth: 100%;\n\tpadding: 3px 3px 3px 3px;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tline-height: 1.3em;\n\t-webkit-appearance: none;\n\tmargin: 4px 0 4px 0;\n}\n\n.tw-tiddler-frame .tw-binary-warning {\n\twidth: 100%;\n\theight: 5em;\n\ttext-align: center;\n\tpadding: 3em 3em 6em 3em;\n\tbackground: &lt;&lt;colour alert-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour alert-border&gt;&gt;;\n}\n\n.tw-tiddler-frame input.tw-edit-texteditor {\n\tbackground-color: &lt;&lt;colour tiddler-editor-background&gt;&gt;;\n}\n\ncanvas.tw-edit-bitmapeditor  {\n\tborder: 6px solid &lt;&lt;colour tiddler-editor-border-image&gt;&gt;;\n\tcursor: crosshair;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tmargin-top: 6px;\n\tmargin-bottom: 6px;\n}\n\n.tw-edit-bitmapeditor-width {\n\tdisplay: block;\n}\n\n.tw-edit-bitmapeditor-height {\n\tdisplay: block;\n}\n\n/*\n** Toolbar buttons\n*/\n\n.tw-page-controls svg.tw-image-new-button {\n  fill: &lt;&lt;colour toolbar-new-button&gt;&gt;;\n}\n\n.tw-page-controls svg.tw-image-options-button {\n  fill: &lt;&lt;colour toolbar-options-button&gt;&gt;;\n}\n\n.tw-page-controls svg.tw-image-save-button {\n  fill: &lt;&lt;colour toolbar-save-button&gt;&gt;;\n}\n\n.tw-tiddler-controls button svg.tw-image-info-button {\n  fill: &lt;&lt;colour toolbar-info-button&gt;&gt;;\n}\n\n.tw-tiddler-controls button svg.tw-image-edit-button {\n  fill: &lt;&lt;colour toolbar-edit-button&gt;&gt;;\n}\n\n.tw-tiddler-controls button svg.tw-image-close-button {\n  fill: &lt;&lt;colour toolbar-close-button&gt;&gt;;\n}\n\n.tw-tiddler-controls button svg.tw-image-delete-button {\n  fill: &lt;&lt;colour toolbar-delete-button&gt;&gt;;\n}\n\n.tw-tiddler-controls button svg.tw-image-cancel-button {\n  fill: &lt;&lt;colour toolbar-cancel-button&gt;&gt;;\n}\n\n.tw-tiddler-controls button svg.tw-image-done-button {\n  fill: &lt;&lt;colour toolbar-done-button&gt;&gt;;\n}\n\n/*\n** Tiddler edit mode\n*/\n\n.tw-tiddler-edit-frame em.tw-edit {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tfont-style: normal;\n}\n\n.tw-edit-type-dropdown a.tw-tiddlylink-missing {\n\tfont-style: normal;\n}\n\n.tw-edit-tags {\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tpadding: 4px 8px 4px 8px;\n}\n\n.tw-edit-add-tag {\n\tdisplay: inline-block;\n}\n\n.tw-edit-add-tag .tw-add-tag-name input {\n\twidth: 50%;\n}\n\n.tw-edit-tags .tw-tag-label {\n\tdisplay: inline-block;\n}\n\n.tw-edit-tags-list {\n\tmargin: 14px 0 14px 0;\n}\n\n.tw-tag-editor-label {\n\tdisplay: inline-block;\n\tmargin-right: 7px;\n}\n\n.tw-remove-tag-button {\n\tpadding-left: 4px;\n}\n\n.tw-tiddler-preview {\n\toverflow: auto;\n}\n\n.tw-tiddler-preview-preview {\n\tfloat: right;\n\twidth: 48%;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tmargin: 4px 3px 3px 3px;\n\tpadding: 3px 3px 3px 3px;\n}\n\n.tw-tiddler-preview-edit {\n\twidth: 48%;\n}\n\n.tw-edit-fields {\n\twidth: 100%;\n}\n\n\n.tw-edit-fields table, .tw-edit-fields tr, .tw-edit-fields td {\n\tborder: none;\n\tpadding: 4px;\n}\n\n.tw-edit-fields &gt; tbody &gt; .tw-edit-field:nth-child(odd) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;;\n}\n\n.tw-edit-fields &gt; tbody &gt; .tw-edit-field:nth-child(even) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;;\n}\n\n.tw-edit-field-name {\n\ttext-align: right;\n}\n\n.tw-edit-field-value input {\n\twidth: 100%;\n}\n\n.tw-edit-field-remove {\n}\n\n.tw-edit-field-remove svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tvertical-align: middle;\n}\n\n.tw-edit-field-add-name {\n\tdisplay: inline-block;\n\twidth: 15%;\n}\n\n.tw-edit-field-add-button {\n\tdisplay: inline-block;\n\twidth: 10%;\n}\n\n/*\n** Dropdowns\n*/\n\n.btn-dropdown svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tw-drop-down {\n\tmin-width: 280px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n}\n\n.tw-drop-down p {\n\tpadding: 0 14px 0 14px;\n}\n\n.tw-drop-down a {\n\tdisplay: block;\n\tpadding: 0 14px 0 14px;\n}\n\n.tw-drop-down a:hover {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n.tw-drop-down .tw-tab-buttons button {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background&gt;&gt;;\n}\n\n.tw-drop-down .tw-tab-buttons button.tw-tab-selected {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n}\n\n.tw-drop-down .tw-tab-contents a {\n\tpadding: 0 0.5em 0 0.5em;\n}\n\n.tw-block-dropdown-wrapper {\n\tposition: relative;\n}\n\n.tw-block-dropdown {\n\tposition: absolute;\n\tmin-width: 280px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 0 0 0 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\tz-index: 1000;\n}\n\n.tw-block-dropdown a {\n\tdisplay: block;\n\tpadding: 4px 14px 4px 14px;\n}\n\n.tw-block-dropdown .tw-dropdown-item {\n\tpadding: 4px 14px 4px 7px;\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tw-block-dropdown a:hover {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n/*\n** Modals\n*/\n\n.modal-wrapper {\n\tposition: fixed;\n\toverflow: auto;\n\toverflow-y: scroll;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n}\n\n.modal-backdrop {\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 1000;\n\tbackground-color: &lt;&lt;colour modal-backdrop&gt;&gt;;\n}\n\n.modal {\n\tz-index: 1100;\n\tbackground-color: &lt;&lt;colour modal-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour modal-border&gt;&gt;;\n}\n\n@media (max-width: 55em) {\n\t.modal {\n\t\tposition: fixed;\n\t\ttop: 1em;\n\t\tleft: 1em;\n\t\tright: 1em;\n\t}\n\n\t.modal-body {\n\t\toverflow-y: auto;\n\t\tmax-height: 400px;\n\t}\n}\n\n@media (min-width: 55em) {\n\t.modal {\n\t\tposition: relative;\n\t\twidth: 50%;\n\t\tmargin: 30px auto;\n\t}\n}\n\n.modal-header {\n\tpadding: 9px 15px;\n\tborder-bottom: 1px solid &lt;&lt;colour modal-header-border&gt;&gt;;\n}\n\n.modal-header h3 {\n\tmargin: 0;\n\tline-height: 30px;\n}\n\n.modal-body {\n\tpadding: 15px;\n}\n\n.modal-footer {\n\tpadding: 14px 15px 15px;\n\tmargin-bottom: 0;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour modal-footer-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour modal-footer-border&gt;&gt;;\n}\n\n/*\n** Notifications\n*/\n\n.tw-notification {\n\tposition: fixed;\n\ttop: 14px;\n\tright: 42px;\n\tz-index: 1000;\n\tmax-width: 280px;\n\tpadding: 0 14px 0 14px;\n\tbackground-color: &lt;&lt;colour notification-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour notification-border&gt;&gt;;\n}\n\n/*\n** Tabs\n*/\n\n.tw-tab-set.tw-vertical {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tw-tab-buttons {\n\tfont-size: 0.85em;\n\tpadding-top: 1em;\n\tmargin-bottom: -1px;\n}\n\n.tw-tab-buttons.tw-vertical  {\n\tz-index: 100;\n\tdisplay: block;\n\tpadding-top: 14px;\n\tvertical-align: top;\n\ttext-align: right;\n\tmargin-bottom: inherit;\n\tmargin-right: -1px;\n\tmax-width: 33%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n}\n\n.tw-tab-buttons button.tw-tab-selected {\n\tcolor: &lt;&lt;colour tab-foreground-selected&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n}\n\n.tw-tab-buttons button {\n\tcolor: &lt;&lt;colour tab-foreground&gt;&gt;;\n\tpadding: 3px 5px 3px 5px;\n\tfont-weight: 300;\n\tborder: none;\n\tbackground: inherit;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tw-tab-buttons.tw-vertical button {\n\tdisplay: block;\n\twidth: 100%;\n\tmargin-top: 3px;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: none;\n}\n\n.tw-tab-buttons.tw-vertical button.tw-tab-selected {\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-background-selected&gt;&gt;;\n}\n\n.tw-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\n.tw-tab-divider.tw-vertical  {\n\tdisplay: none;\n}\n\n.tw-tab-content {\n\tmargin-top: 14px;\n}\n\n.tw-tab-content.tw-vertical  {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-top: 0;\n\tpadding-left: 14px;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 0 0 70%;\n\tflex: 0 0 70%;\n}\n\n.tw-sidebar-lists .tw-tab-buttons button.tw-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n}\n\n.tw-sidebar-lists .tw-tab-buttons button {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n}\n\n.tw-sidebar-lists .tw-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-divider&gt;&gt;;\n}\n\n.tw-more-sidebar .tw-tab-buttons button {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom: none;\n\tborder-right: 1px solid #ccc;\n\tmargin-bottom: inherit;\n}\n\n.tw-more-sidebar .tw-tab-buttons button.tw-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tborder: none;\n}\n\n/*\n** Alerts\n*/\n\n.tw-alerts {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tmax-width: 500px;\n\tz-index: 20000;\n}\n\n.tw-alert {\n\tposition: relative;\n\tmargin: 28px;\n\tpadding: 14px 14px 14px 14px;\n\tborder: 2px solid &lt;&lt;colour alert-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour alert-background&gt;&gt;;\n}\n\n.tw-alert-toolbar {\n\tposition: absolute;\n\ttop: 14px;\n\tright: 14px;\n}\n\n.tw-alert-toolbar svg {\n\tfill: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n}\n\n.tw-alert-subtitle {\n\tcolor: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n\tfont-weight: bold;\n}\n\n.tw-alert-highlight {\n\tcolor: &lt;&lt;colour alert-highlight&gt;&gt;;\t\n}\n\n.tw-static-alert {\n\tposition: relative;\n}\n\n.tw-static-alert-inner {\n\tpadding: 0 2px 2px 42px;\n\tcolor: &lt;&lt;colour static-alert-foreground&gt;&gt;;\n\tposition: absolute;\n}\n\n/*\n** Grids\n*/\n\n.tw-grid-frame td {\n\twidth: 1em;\n\theight: 1em;\n}\n\n/*\n** Control panel\n*/\n\n.tw-control-panel td {\n\tpadding: 4px;\n}\n\n.tw-control-panel table, .tw-control-panel table input, .tw-control-panel table textarea {\n\twidth: 100%;\n}\n\n/*\n** Message boxes\n*/\n\n.tw-message-box {\n\tborder: 1px solid &lt;&lt;colour message-border&gt;&gt;;\n\tbackground: &lt;&lt;colour message-background&gt;&gt;;\n\tpadding: 0px 21px 0px 21px;\n\tfont-size: 12px;\n\tline-height: 18px;\n\tcolor: &lt;&lt;colour message-foreground&gt;&gt;;\n}\n\n.tw-message-box img {\n\tfloat: right;\n\twidth: 150px;\n\tmargin: 0px 0px 12px 12px;\n}\n\n/*\n** Chooser\n*/\n\n.tw-chooser {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\n.tw-chooser-item {\n\tborder: 8px;\n}\n\n.tw-chooser-item a.tw-tiddlylink {\n\tdisplay: block;\n\ttext-decoration: none;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tmargin: 4px;\n}\n\n.tw-chooser-item a.tw-tiddlylink:hover {\n\ttext-decoration: none;\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n}\n\n/*\n** Palette swatches\n*/\n\n.tw-swatches-horiz {\n}\n\n.tw-swatches-horiz .tw-swatch {\n\tdisplay: inline-block;\n}\n\n.tw-swatch {\n\twidth: 2em;\n\theight: 2em;\n\tmargin: 4px;\n\tborder: 1px solid #000;\n}\n\n/*\n** Table of contents\n*/\n\n.tw-sidebar-lists .tw-table-of-contents {\n\twhite-space: nowrap;\n}\n\n.tw-table-of-contents svg {\n\twidth: 0.7em;\n\theight: 0.7em;\n\tvertical-align: middle;\n}\n\n.tw-table-of-contents ol {\n\tlist-style-type: none;\n\tpadding-left: 0;\n}\n\n.tw-table-of-contents ol ol {\n\tpadding-left: 1em;\n}\n\n.tw-table-of-contents li {\n\tfont-size: 1.0em;\n\tfont-weight: bold;\n}\n\n.tw-table-of-contents li a {\n\tfont-weight: bold;\n}\n\n.tw-table-of-contents li li {\n\tfont-size: 0.95em;\n\tfont-weight: normal;\n\tline-height: 1.4;\n}\n\n.tw-table-of-contents li li a {\n\tfont-weight: normal;\n}\n\n.tw-table-of-contents li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n\tline-height: 1.5;\n}\n\n.tw-table-of-contents li li li a {\n\tfont-weight: bold;\n}\n\n.tw-table-of-contents li li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n}\n"
        },
        "$:/themes/tiddlywiki/vanilla/metrics": {
            "title": "$:/themes/tiddlywiki/vanilla/metrics",
            "type": "application/x-tiddler-dictionary",
            "text": "fontsize: `14px`\nlineheight: `20px`\nstoryleft: `0px`\nstorytop: `0px`\nstoryright: `770px`\nstorywidth: `770px`\ntiddlerwidth: `686px`\n"
        },
        "$:/themes/tiddlywiki/vanilla/reset": {
            "title": "$:/themes/tiddlywiki/vanilla/reset",
            "type": "text/plain",
            "text": "/*! normalize.css v3.0.0 | MIT License | git.io/normalize */\n\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS text size adjust after orientation change, without disabling\n *    user zoom.\n */\n\nhtml {\n  font-family: sans-serif; /* 1 */\n  -ms-text-size-adjust: 100%; /* 2 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/**\n * Remove default margin.\n */\n\nbody {\n  margin: 0;\n}\n\n/* HTML5 display definitions\n   ========================================================================== */\n\n/**\n * Correct `block` display not defined in IE 8/9.\n */\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nnav,\nsection,\nsummary {\n  display: block;\n}\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\n\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block; /* 1 */\n  vertical-align: baseline; /* 2 */\n}\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\n\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\n\n/**\n * Address `[hidden]` styling not present in IE 8/9.\n * Hide the `template` element in IE, Safari, and Firefox &lt; 22.\n */\n\n[hidden],\ntemplate {\n  display: none;\n}\n\n/* Links\n   ========================================================================== */\n\n/**\n * Remove the gray background color from active links in IE 10.\n */\n\na {\n  background: transparent;\n}\n\n/**\n * Improve readability when focused and also mouse hovered in all browsers.\n */\n\na:active,\na:hover {\n  outline: 0;\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Address styling not present in IE 8/9, Safari 5, and Chrome.\n */\n\nabbr[title] {\n  border-bottom: 1px dotted;\n}\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.\n */\n\nb,\nstrong {\n  font-weight: bold;\n}\n\n/**\n * Address styling not present in Safari 5 and Chrome.\n */\n\ndfn {\n  font-style: italic;\n}\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari 5, and Chrome.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/**\n * Address styling not present in IE 8/9.\n */\n\nmark {\n  background: #ff0;\n  color: #000;\n}\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsup {\n  top: -0.5em;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove border when inside `a` element in IE 8/9.\n */\n\nimg {\n  border: 0;\n}\n\n/**\n * Correct overflow displayed oddly in IE 9.\n */\n\nsvg:not(:root) {\n  overflow: hidden;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * Address margin not present in IE 8/9 and Safari 5.\n */\n\nfigure {\n  margin: 1em 40px;\n}\n\n/**\n * Address differences between Firefox and other browsers.\n */\n\nhr {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  height: 0;\n}\n\n/**\n * Contain overflow in all browsers.\n */\n\npre {\n  overflow: auto;\n}\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\n\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit; /* 1 */\n  font: inherit; /* 2 */\n  margin: 0; /* 3 */\n}\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10.\n */\n\nbutton {\n  overflow: visible;\n}\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8+, and Opera\n * Correct `select` style inheritance in Firefox.\n */\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\n\nbutton,\nhtml input[type=\"button\"], /* 1 */\ninput[type=\"reset\"],\ninput[type=\"submit\"] {\n  -webkit-appearance: button; /* 2 */\n  cursor: pointer; /* 3 */\n}\n\n/**\n * Re-set default cursor for disabled elements.\n */\n\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default;\n}\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\n\ninput {\n  line-height: normal;\n}\n\n/**\n * It's recommended that you don't attempt to style these elements.\n * Firefox's implementation doesn't respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\n\ninput[type=\"checkbox\"],\ninput[type=\"radio\"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Fix the cursor style for Chrome's increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\n\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome\n *    (include `-moz` to future-proof).\n */\n\ninput[type=\"search\"] {\n  -webkit-appearance: textfield; /* 1 */\n  -moz-box-sizing: content-box;\n  -webkit-box-sizing: content-box; /* 2 */\n  box-sizing: content-box;\n}\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\n\ninput[type=\"search\"]::-webkit-search-cancel-button,\ninput[type=\"search\"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * Define consistent border, margin, and padding.\n */\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em;\n}\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9.\n * 2. Remove padding so people aren't caught out if they zero out fieldsets.\n */\n\nlegend {\n  border: 0; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Remove default vertical scrollbar in IE 8/9.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * Don't inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\n\noptgroup {\n  font-weight: bold;\n}\n\n/* Tables\n   ========================================================================== */\n\n/**\n * Remove most spacing between table cells.\n */\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\ntd,\nth {\n  padding: 0;\n}\n"
        },
        "$:/themes/tiddlywiki/vanilla/settings": {
            "title": "$:/themes/tiddlywiki/vanilla/settings",
            "type": "application/x-tiddler-dictionary",
            "text": "fontfamily: `\"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif`\n"
        }
    }
}</pre>
</div>
<div _hash="fd80c1d9b50032a41bca792aa72365c8cf22d66f" created="20130112175553000" creator="willrogers" modified="20130715141813000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ABSLight/1308838:bd95166092bf1eb90f33169b30e0061afdd40922&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1308838" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ABSLight" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ABSLight" type="text/x-tiddlywiki">
<pre>I had a search on the internet for ABS warning lights for polo 6n2.  It seems like it's quite a common problem.  The sensors may be faulty, and there are fuses that may go.

It seems like the car does a check each time it gets up to ~15mph, which fits with what I've seen.

Here was the most useful thread:
* http://www.vwaudiforum.co.uk/forum/showthread.php?927-POLO-Abs-Light

I ended up having to replace the ABS pump.</pre>
</div>
<div _hash="9b48ab9821523564b6bdd4e1d6409450258fcd44" created="20111017085448000" creator="willrogers" modified="20111017090206000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AccountingConsolidation/363646:1c49f70165052ef17986570615bea0a0b0740e14&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363646" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AccountingConsolidation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AccountingConsolidation" type="text/x-tiddlywiki">
<pre>One of EMI's aims is consolidation.  We've got some stuff.  We want to rationalise this stuff.  Here's the accounting part of that consolidation.

Information models
* Usage records more or less defined

Messaging systems 'adopted' by both APEL and DGAS, although I think Laurence was a bit optimistic about this.  Although DGAS information gets to APEL, you can hardly say that they are interoperable.

Harmonization of publishing clients
** DGAS Sensor
** APEL parsers
* What does EGI want?
* Is there a discussion for this? Do we need to know what's going on?  Does what is required filter through to us?

APEL or DGAS need to pick up some of this work?  John reckons there's no effort in APEL for this.  Storage?

In terms of other accounting, Laurence reckons we're not going to get through defining these etc within the last 18 months of EMI.</pre>
</div>
<div _hash="e5ef75d48f411987d271deaeb9e5811654aa0bfb" created="20110508143147000" creator="willrogers" modified="20110508143147000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AddPrinters/363647:fdf62450a7232905513b9df21e26777eac720f0b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363647" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AddPrinters" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AddPrinters" type="text/x-tiddlywiki">
<pre>Type the text for 'AddPrinters'</pre>
</div>
<div _hash="322e6e9867a84a3aca60e6739ccb42ea6f548a89" created="20110711174925000" creator="willrogers" modified="20131124141711000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/AddressChanges/1557667:3ae27cea2cd6723742cdbed5a1c8355dbb4a8446&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1557667" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AddressChanges" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="AddressChanges" type="text/x-tiddlywiki">
<pre>Note of different things I have to change address of when I move house:

* Work address (done)
* HSBC - easy online, but occasionally you have to send a secure message (done)
* 3 - easy online (done)
* Tesco clubcard and Tesco - now fairly easy online (done)
* Nectar card - easy online (done)
* CSSC - easy online (done)
* www.alumni.cam.ac.uk - CAM etc. (done)
* First Direct - you've got to ring.  My memorable date is Ed's birthday, and my memorable address is my uni one (done)
* Virgin Money - fairly easy online (done)
* Car insurance - have to ring and there's a fee (done)
* Paypal - easy online once HSBC address has changed? (done)
* TV licence - easy online (done)
* Tesco Bank
* Catz - there's a form here: http://www.caths.cam.ac.uk/alumni/society/home/?m=page&amp;id=479

* Specsavers? - I can do this when next there
* Car registration - best to do this: http://www.direct.gov.uk/en/Motoring/OwningAVehicle/ChangesToYourRegistrationCertificate/DG_4022055
** You have to send off the form to DVLA (done)
* Driving licence - you can change address online, but you need documents: http://www.direct.gov.uk/en/Motoring/Motoringtransactions/BeforeyouapplyC/DG_066944.  You've also got to send the old licence back to the DVLA, so I'm going to wait until we move house again before I do it.  The documents are:
** Driving licence (both parts)
** Passport 
** National insurance number

Water, electricity, gas are sort of by default.</pre>
</div>
<div _hash="27e8c04420fae142d7385ff738c07ad79c2a74ef" created="20120520113141000" creator="willrogers" modified="20120520145056000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AlbumsWanted/715983:9ae40e0fb3baea60295e05e75bcffb948d4f62fd&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="715983" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AlbumsWanted" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AlbumsWanted" type="text/x-tiddlywiki">
<pre>!!Wanted
George Harrison - All Things Must Pass
The Orb - Metallic Spheres
CSNY - Deja Vu
Bob Dylan - Together Through Life

!!Minidisc only
Metallica - Black Album
At The Drive-In - Relationship of Command
Godspeed - Lift Yr Skinny Fists
King Crimson - The Court of The Crimson King
Pink Floyd - The Piper at the Gates of Dawn


!!Got
Bellowhead - Matachin - now on Spotify
Bob Dylan - Together Through Life - now on Spotify
The Smiths - The Smiths - now on Spotify
The Smiths - Strangeways Here We Come - now on Spotify
Mew - And the Glass Handed Kites - MP3
Apparatjik - We Are Here - MP3</pre>
</div>
<div _hash="bd777b8440064c9cf6a17420ab163f83afc47f26" created="20120103195610000" creator="willrogers" modified="20121216135258000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/AllCosts/995638:a92941b8cd522271d528fb8d25c03d79ba3810b8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="995638" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AllCosts" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="AllCosts" type="text/x-tiddlywiki">
<pre>I'm going to try and keep track of all my expenditure for a while.

For the car, see PoloCosts and Google Docs.
For skiing, see SkiingCosts.
For rent, bills and food we're keeping track on paper.
Mobile is about £15 a month.
Spotify is £10 a month.

!!Cash
15/1 £50
5/2 £50
7/3 £50 (7/3 Indian Dream £15, 10/3 Trichy Dosa £15, 11/3 Mario's pizza £8)
18/3 £50 (18/3 £5 car wash)
30/3 £30 (£20 swimming)
14/4 £50 (£25 Alex's party, £11.50 takeaway at John's)
19/4 £50 (£10 Red Star, £13 pub lunch, £6 swimming)
1/5 £50
12/5 £40
25/5 £50 (+£2 fee)
8/6 £50
21/6 £50
28/7 £20
8/8 £50 (£15 Med meal w/ Ben Mc)
17/8 £50
19/8 £50
28/8 £50
15/9 £50
30/9 £50
13/10 £50
19/10 £50
28/10 £50

!!Clothes
1/1 £8 boxers * 3
2/2 £30 Musto trousers
4/2 £16 Puma trainers
4/2 £25 Tog24 top
26/2 £6.75 boxers * 3
26/2 £3.75 t-shirt
24/3 £15 polo shirt
6/4 £4 boxers * 3
7/5 £5 t-shirt
7/5 £17 Craghoppers fleece
9/6 £25 Gap chinos
9/6 £2.50 t-shirt
16/6 £12 Primark cargos
3/7 £40 smart shoes
3/7 £25 smart shirt
30/9 £20 Brown fleece
1/10 £10 Merrell t-shirt
1/10 £30 Merrell fleece
1/10 £9 Karrimor shirt
3/10 £18 Gola shoes
3/10 £16.50 Berghaus t-shirt
4/10 £7 Sprayway trousers
11/10 £4 football shorts
17/11 £33 Gap jeans
17/11 £9 H&amp;M t-shirts * 2
17/11 £10 pyjama bottoms
17/11 £13 Craghoppers fleece
17/11 £8 H&amp;M boxers * 3


!!Holidays
£200 for the windmill, but we paid in 2011
£830 for skiing, lots of which was in 2011.  See SkiingCosts.
CampingFrance

!!!Stuff
2/1 £5 car mount for phone
4/1 £40 radio (reduced from £80)
4/1 £35 32GB microsd card
5/1 £85 running shoes
7/1 £6 4GB microsd card w/adapter
11/2 £14 fan heater
24/3 £4 wallet
1/4 £4 half a float
9/6 £15 TV aerial
9/6 £4 Free, card games book
29/6 £15 X-Mini speaker
16/8 £5 Humble Bundle
14/8 £5 Paddington
14/8 £17 Liz food presents
12/9 £10 16GB SD card
17/9 £17 pillow
1/10 £10 new travel towel
11/10 £25 football boots
11/10 £5 boot bag
11/10 £4 goggles mk. 2
29/10 £5 GT85 + bike bell
2/11 £400 laptop
5/11 £15 Windows 8
17/11 £5 Humble Bundle

!!!Other
2/1 £5.30 M6 Toll 
3/1 £33.50 half marathon
15/1 £8 cinema
10/2 £12.50 Action for blind people
10/2 £12.50 Oxfam
17/2 £6 sending sat-nav home
8/3 Extra £5 phone credit for leaving internet on
24/3 £25 crossword club
Mar £68 food while Liz was away
21/4 £15 sailing
24/4 £10 Oxfam
15/5 £76 Olympics tickets
15/6 £6 Chambers android app
6/8 £30 Hyde park Olympics trip
10/8 £8 pub lunch
11/8 £16.50 Olympics train
3/9 £25 30 contact lenses
5/10 £50 Alan Davies tickets
17/10 £33.50 half marathon mk. 2
18/10 £30 eye test + contact lens check
19/10 £14 return train to Oxford
16/12 £3 Chambers Thesaurus App

17/1 2nd half of tooth £350
</pre>
</div>
<div _hash="8043dd0205eb0e9ebe5efa7b21189f3d45cd4c7d" created="20131111195529000" creator="willrogers" modified="20131111195529000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidApiGuides/1522067:49ff0c2dde1b1f67a9538ba2ba712ddbb994faeb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1522067" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidApiGuides" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidApiGuides" type="text/x-tiddlywiki">
<pre>There are a lot of API guides in the AndroidDocumentation.</pre>
</div>
<div _hash="364fddfa81e2f3303cfc411bf12ac3522cf86eb8" created="20131026144544000" creator="willrogers" modified="20131027094227000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidAppBasics/1486138:646eddc902645c5cc7cc8cd2b8f546e6e35734bf&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1486138" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidAppBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidAppBasics" type="text/x-tiddlywiki">
<pre>There is a good introductory page here: http://developer.android.com/guide/components/fundamentals.html

!!Components
There are four basic components in an Android app:
* an `Activity` represents a single screen with a user interface
** an app typically has several activities, and other apps could open any one
* a `Service` runs in the background to perform some task
** an activity could start a service - for example, playing music in the background
* a {{{ContentProvider}}} manages a set of application data
** the data (files, SQLite database) could be private or shared
* a `BroadcastReceiver` listens for various broadcasts
** broadcasts could come from the system or other apps

* Activities, services, and broadcast receivers can be activated by an asynchronous message called an `Inten`t

* You can make a hierarchy of activities within an app, which allows automatic navigation
* Every `Activity` is invoked by an `Intent`, available via `getIntent()`.

!!Context
The `Context` provides global information about the app environment.  You can retrieve it with:
* `getContext()`
* `getApplicationContext()`
* `getBaseContext()`

`Activity` is an indirect subclass of Context, so it can be used to provide a context.  This question is a good explanation: http://stackoverflow.com/questions/3572463/what-is-context-in-android</pre>
</div>
<div _hash="6d53610f241892ce96037f790c1850c5bef2cd92" created="20131026144409000" creator="willrogers" modified="20131026150358000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidAppFiles/1484110:5f7b4dc69ec9dd07644156b3bdf8388c609cb145&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1484110" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidAppFiles" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidAppFiles" type="text/x-tiddlywiki">
<pre>An Android project in eclipse has the following files:
* `src/` - Java code
* `gen/` - generated Java code
* `Android 4.3` - jar file
* `Android Private Libraries` - jar file
* `assets/`
* `bin/`
* `libs/`
* `res/` - resources, including images and layout XML
* AndroidManifest
* `ic_launcher-web.png`
* `proguard-project.txt`
* `project.properties`</pre>
</div>
<div _hash="b346c45bbe999d5070a660fca38104ca235106e2" created="20131110203215000" creator="willrogers" modified="20131110203322000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidDesign/1519412:b1d23e3914eba94b7ac519b5c7a4e25aece70d70&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1519412" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidDesign" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidDesign" type="text/x-tiddlywiki">
<pre>[[Design|http://developer.android.com/design/index.html]] is the first part of the Android documentation.  It has the following sections:

* Get Started
* Style
* Patterns
* Building Blocks

It also has links for Downloads and Videos.
</pre>
</div>
<div _hash="4d32695d8a6aa1fdd3ac6cd6f6946f7615a13b1b" created="20131110203531000" creator="willrogers" modified="20131111192410000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidDevelop/1521840:656d753f9e92affbba54c0dc1be82ed38fba5344&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521840" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidDevelop" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidDevelop" type="text/x-tiddlywiki">
<pre>[[Develop|http://developer.android.com/develop/index.html]] is the second and largest part of the Android documentation.  It has the following sections:

* Training
* AndroidApiGuides
* Reference - javadocs for the Android libraries, including Android's implementation of the standard java libraries
* Tools
* Google Services
* Samples

Each of these sections is large.</pre>
</div>
<div _hash="b23f8337e9d8108282bffcd74bf524468ad191e6" created="20130728104044000" creator="willrogers" modified="20131110203111000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidDevelopment/1519407:eb2c9de0d0e165b18a135d5df63be447828deffb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1519407" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidDevelopment" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidDevelopment" type="text/x-tiddlywiki">
<pre>!!Android apps
There is a well-defined framework for building Android apps.  Probably the most difficult part of it is supporting the wide range of Android phones.

* AndroidDocumentation
* AndroidAppBasics
* AndroidUIs
* AndroidAppFiles
* AndroidManifest

!!Android itself
See CyanogenMod.
BuildingAndroid</pre>
</div>
<div _hash="6aa6a86836a7c0f540d3228886d8607a1a73300e" created="20131110203736000" creator="willrogers" modified="20131110203736000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidDistribute/1519431:01c63492f3e51f7c23bc257343a552062d524b7b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1519431" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidDistribute" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidDistribute" type="text/x-tiddlywiki">
<pre>[[Distribute|http://developer.android.com/distribute/index.html]] is the third part of the Android developer documentation.  It's least likely to be interesting to me for a while.  Its parts are:

* Google Play
* Publishing 
* Promoting
* App Quality 
* Policies 
* Spotlight
* Google Play for Education
* Open Distribution
</pre>
</div>
<div _hash="64e97727b7d0db0a3136ee7f01851dee7c35c35e" created="20131110203106000" creator="willrogers" modified="20131110203138000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidDocumentation/1519408:092e607e9c8717ce8043080a6351056e9bd30faf&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1519408" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidDocumentation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidDocumentation" type="text/x-tiddlywiki">
<pre>There is good documentation for writing Android apps at http://developer.android.com/index.html.  It is split into three sections:
* AndroidDesign
* AndroidDevelop
* AndroidDistribute</pre>
</div>
<div _hash="e7c252549ff64ef3e29770d5a9462acb9447a1f0" created="20131026150259000" creator="willrogers" modified="20131026150956000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidManifest/1484122:dd00349b268929b1619407998083f96705e1749f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1484122" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidManifest" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidManifest" type="text/x-tiddlywiki">
<pre>This file contains important metadata about the app.  It has a custom view as well as raw XML.  The documentation is here: http://developer.android.com/guide/topics/manifest/manifest-intro.html

Its primary purpose is to declare the components of the app.  You must declare all the app's components in this file (except possibly broadcast receivers).

You can also declare the capabilities of your app.  This shows that your app can fulfil certain intents, and means that your app is offered when another app wants to do something.

The manifest also specifies requirements for the app, in terms of screen size and Android version.</pre>
</div>
<div _hash="b1c7b2c732ba0fbacd46f44b7c40b510135a6407" created="20131027092948000" creator="willrogers" modified="20131027093050000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AndroidUIs/1486134:c68e42d2490a57cff10768ca37f329ea8ce0c661&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1486134" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AndroidUIs" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AndroidUIs" type="text/x-tiddlywiki">
<pre>Here's the UI page: http://developer.android.com/guide/topics/ui/overview.html

Android ~UIs are made up of {{{View}}}s and {{{ViewGroup}}}s.  Anything that you can see on the screen is a view.  View groups are invisible containers which hold views.</pre>
</div>
<div _hash="d7f5c71157a552f27916e54efb49fc10465bb397" created="20131003074741000" creator="willrogers" modified="20131003074741000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ApelNotes/1437125:e88b6da3b156c3df2b6e1ef578fac364439df1dc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1437125" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ApelNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ApelNotes" type="text/x-tiddlywiki">
<pre>!!APEL
LdapBdii
BatchSystems
OtherAccountingServices
StomProtocol
EuropeanMiddlewareInitiative
EmiAhmPadova
EgiCfMunich
EmiAhmHamburg
EgiTfPrague
EmiAhmBudapest
OgfUrTalk

SsmException</pre>
</div>
<div _hash="0c8c43c08329abbe94e2afe05e4b6d0edafdd8d6" created="20111018122017000" creator="willrogers" modified="20111019094546000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ApelWarnings/363656:c065a9f8a301bed1c8df42f9297249bb6a8e34e2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363656" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ApelWarnings" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ApelWarnings" type="text/x-tiddlywiki">
<pre>There were several things which popped up at the EMI AHM which are relevant to APEL.

* Code freeze: 14th December - 'very serious deadline'
** The next version of APEL will need to be ready by then, if it's going to be ready.
** This is not in practice very long.
** All tasks for EMI 2 must be in the dev tracker!
* One talk mentioned that we should have a build of APEL on SL6 ready and working by November 7th.
** We didn't really know about this before!  We don't even have any VMs operational yet!
** The Debian process is moving slower, but will need to be borne in mind.
* Messaging
** Messaging guidelines online, live, but will be considered final at month 22 (Laurence Field - where are they?)
** Consumer connecting to more than one broker - the SSM doesn't do this
** The messaging team are talking about a library which sounds ''extremely'' similar to the SSM.  Who's going to write this?  Could it be the SSM?
** How do we test against multiple brokers?  As far as we know only the prod broker network has more than one broker at the moment.
* We are getting talked into accepting XML - this must be planned for if we're going to do it.
* OpenSSL
** Some libraries in SL6 are apparently linked against NSS instead of OpenSSL - some people are getting a bit stressed about this
** SL6 ships with (I believe) OpenSSL 1.0, so we need to make sure we can work with that too.
** David Groep: "Try to precent spreading of Network Security Services (NSS) library use in m/w."
* What is Nagios?  I don't understand why it keeps getting mentioned in terms of EMI development or product teams.
** Here's the EMI twiki page: https://twiki.cern.ch/twiki/bin/view/EMI/NagiosProbes.  It looks like Cristina's ones count, and they don't need to be released... ... ...?</pre>
</div>
<div _hash="901ce9fdbc458a92f3643134f0bd968fc1f69cb1" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/html" server.etag="&quot;tiddlyspace/apps/1521891:c04d44c66606bd35bf5bc286027991bad1381705&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521891" server.permissions="read" server.recipe="willrogers_private" server.title="apps" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="apps" type="text/x-tiddlywiki">
<pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="utf-8"/&gt;
	&lt;title&gt;TiddlySpace Apps&lt;/title&gt;
	&lt;link rel="stylesheet" href="/bags/common/tiddlers/reset.css" /&gt;
	&lt;link rel="stylesheet" href="/bags/common/tiddlers/appspage.css" /&gt;
	&lt;!--[if lt IE 7 ]&gt;
	&lt;link rel="stylesheet" href="/bags/common/tiddlers/appspageie6.css" /&gt;
	&lt;![endif]--&gt;
&lt;/head&gt;
&lt;body&gt;
	
	&lt;div id="wrapper"&gt;
		&lt;div id="TSbar"&gt;&lt;/div&gt;
		&lt;div id="main-content"&gt;
			&lt;div id="space-details"&gt;
				&lt;a href="/_space"&gt;&lt;img class="siteicon"&gt;&lt;/a&gt;
				&lt;div id="title-subtitle"&gt;
					&lt;h1 class="spaceaddress"&gt;
						&lt;span class="spaceName"&gt;&lt;/span&gt;&lt;span class="hostName"&gt;&lt;/span&gt;
					&lt;/h1&gt;
					&lt;p class="tagline"&gt;&lt;span class="subTitle"&gt;&lt;/span&gt;&lt;a class="managespaces" href="/_space"&gt;manage space&lt;/a&gt;&lt;/p&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div id="holder"&gt;
				&lt;div id="appswitcher-wrapper"&gt;
					&lt;div id="appswitcher"&gt;
						&lt;h2&gt;Your Apps&lt;/h2&gt;
						&lt;ul id="app-list"&gt;
							&lt;li class="htmlserialisation"&gt;
								&lt;a href="/tiddlers.html?select=tag:!excludeLists;sort=-modified"&gt;
									&lt;img src="/bags/common/tiddlers/browse_read_blue.png" alt="Icon for the HTML Serialisation" class="app-img" /&gt;
									BROWSE
								&lt;/a&gt;
							&lt;/li&gt;
							&lt;li class="tiddlywiki"&gt;
								&lt;a href="/tiddlers.wiki"&gt;
									&lt;img src="/bags/common/tiddlers/tiddlywiki2_blue.png" alt="Icon for TiddlyWiki" class="app-img" /&gt;
									TIDDLYWIKI
								&lt;/a&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;div id="addapp"&gt;
							&lt;button class="inactive"&gt;Add More!&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div id="app-desc"&gt;
						&lt;ul&gt;
							&lt;li class="htmlserialisationdesc"&gt;&lt;p&gt;an easy to understand HTML representation of your content.&lt;/p&gt;&lt;/li&gt;
							&lt;li class="tiddlywikidesc"&gt;&lt;p&gt;use TiddlyWiki to create, edit and organise your content.&lt;/p&gt;&lt;/li&gt;
						&lt;/ul&gt;
					&lt;/div&gt;
					&lt;div style="clear: both;"&gt;&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div id="footer"&gt;&lt;!-- ie doesn't support footer tag --&gt;
			&lt;div id="footer-content"&gt;
				&lt;div class="links"&gt;
					&lt;a href="http://blog.tiddlyspace.com"&gt;blog&lt;/a&gt;
					&lt;a href="http://featured.tiddlyspace.com"&gt;featured&lt;/a&gt;
					&lt;a href="http://docs.tiddlyspace.com"&gt;documentation&lt;/a&gt;
					&lt;a href="https://github.com/TiddlySpace/tiddlyspace"&gt;source&lt;/a&gt;
				&lt;/div&gt;
				&lt;p&gt;TiddlySpace 2011, created by &lt;a href="http://osmosoft.com"&gt;Osmosoft&lt;/a&gt;&lt;/p&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	
	&lt;script type="text/javascript" src="/bags/common/tiddlers/backstage.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/jquery.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/tiddlyspace/tiddlers/chrjs"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/chrjs-store.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/jquery-json.js"&gt;&lt;/script&gt;
	&lt;script type="text/javascript" src="/bags/common/tiddlers/appspage.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<div _hash="8cc8e565224465eb4a0c2e916e340101e77b2bbb" created="20140114143003000" creator="willrogers" modified="20140114143003000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/AustenEmail/1624885:4450d5a92538041b1aa3ef1445fcc205956a1f65&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1624885" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="AustenEmail" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="AustenEmail" type="text/x-tiddlywiki">
<pre>Hi All,
 
We are in the process of updating the local state controllers to integrate the control of the offsets written to the power supply controller’s SETI pv. This should be available for the beginning of the next run.
 
The purpose of this is to correctly sequence the application of an offset value to the power supply controllers on the ramp up and to then correctly remove the offset during the ramp down. This ensures that the controller setpoints are at 0 after the ramp down and it is thus possible to simply turn the controllers off after use.
 
This has been tested and the results can be seen in the archiver from 13:00 to 14:00 yesterday (Thur 2nd Jan).
 
There is a new OFFSET pv for each controller. This pv is an input to a CALCOUT record (called FILTER)  that implements a low-pass filter on the value to ensure a smooth ramp over a reasonable time (~ 4 seconds). The FILTER pv then writes the filtered demand to the SETI of the controller. Note that the offset is only written to the filter once during ramp up and then during the cycling state. This means that the offset value can be configured when the magnets are off and then tuned when the magnets are cycling. During the ramp down, 0.0 is written to the filter.
 
Details of the FILTER CALCOUT record:
A – the value of the offset required from the OFFSET pv.
B – the last value of the filter (n – 1).
C – Filter coefficient, set to 0.15 giving a rise time of about 4 seconds.
D – Threshold to halt the filter after the target is within 0.001 Amps.
This record is on a 0.2 second scan.
 
This means that any scripts that were writing to SETI should now write to:
SR09A-PC-CTRL-01:OFFSET
SR09A-PC-CTRL-02:OFFSET
SR10S-PC-CTRL-03:OFFSET
SR10S-PC-CTRL-04:OFFSET
SR10S-PC-CTRL-05:OFFSET
 
The GUI has been updated to support this change.
 
We need to allocate some machine development time to testing of this feature when we plan to do further work with the I10 switching mechanism.
 
Regards,
 
 
Austen Rose
(x8495)
</pre>
</div>
<div _hash="902f314bb39002802bb94472920c2009a4c86f81" created="20140117155842000" creator="willrogers" modified="20140117155842000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/B18/1627019:bb19fcd6980e52ada1923326e29c6b21cfbce663&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1627019" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="B18" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="B18" type="text/x-tiddlywiki">
<pre>!!Science
Geochemistry: Investigating the mobility of certain radioactive elements.</pre>
</div>
<div _hash="374716f48c21298abb095093dce2176965648975" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="" server.etag="&quot;tiddlyspace/Backstage/1521902:8c276419061cf879172d34ea15003d30871df63d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521902" server.permissions="read" server.recipe="willrogers_private" server.title="Backstage" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeMissing excludeSearch" title="Backstage" type="text/x-tiddlywiki">
<pre>!SpaceUnplugged
{{unpluggedSpaceTab{
{{wizard{
&lt;&lt;image unsyncedIcon width:48&gt;&gt; Sync is currently unavailable in ~TiddlyWiki due to security constraints in modern browsers. Research is being done to build a suitable alternative. In the meantime if you have changed content in an offline ~TiddlyWiki, you can get your content back into ~TiddlySpace by using the ''import'' functionality from the backstage of the online wiki.
}}}
}}}

!Menu
&lt;&lt;message messages.memberStatus&gt;&gt; &lt;&lt;homeLink&gt;&gt;
{{unsyncedList{&lt;&lt;message messages.syncListHeading&gt;&gt; &lt;&lt;list filter [is[unsynced]]&gt;&gt;}}}

running TiddlySpace@glossary version &lt;&lt;message extensions.tiddlyweb.status.tiddlyspace_version&gt;&gt;
{{autotable{
&lt;&lt;tiddler Backstage##Resources&gt;&gt;
}}}

!Resources
[[blog|@@blog]] [[documentation|@@docs]] [[featured spaces|@@featured]] 

!ImportExport
&lt;&lt;fileImport&gt;&gt;
You can download this TiddlySpace as an offline TiddlyWiki:

{{chunkyButton{&lt;&lt;exportSpace&gt;&gt;}}}

!BackstageTiddlers
|upload a &lt;&lt;message messages.privacySetting&gt;&gt; file: &lt;&lt;binaryUpload&gt;&gt;|&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal "DD MMM YYYY" "journal"&gt;&gt;&lt;&lt;saveChanges&gt;&gt;|
|&gt;|&lt;&lt;search&gt;&gt;|
|&gt;|&lt;&lt;tiddler Backstage##Tiddlers&gt;&gt;|

!Tiddlers
&lt;&lt;tabs
	txtMainTab
	"Recent" "Recently edited tiddlers" TabTimeline
	"All" "All tiddlers" TabAll
	"Public" "All public tiddlers" [[TiddlySpaceTabs##Public]]
	"Private" "All private tiddlers" [[TiddlySpaceTabs##Private]]
	"Tags" "All tags" TabTags
	"Spaces" "Tiddlers grouped by space" [[TiddlySpaceTabs##Spaces]]
	"Missing" "Missing tiddlers" TabMoreMissing
	"Orphans" "Orphaned tiddlers" TabMoreOrphans
	"Shadows" "Shadowed tiddlers" TabMoreShadowed
&gt;&gt;

!BatchOps
&lt;&lt;tabs
	txtPublisherTab
	"Private" "Move tiddlers from private to public" Backstage##BatchPrivate
	"Public" "Move tiddlers from public to private" Backstage##BatchPublic
&gt;&gt;

!BatchPrivate
&lt;&lt;TiddlySpacePublisher type:private&gt;&gt;

!BatchPublic
&lt;&lt;TiddlySpacePublisher type:public&gt;&gt;

!Plugins
''Note:'' Many of these plugins are core TiddlySpace plugins and cannot be changed unless first cloned.

&lt;&lt;tiddler PluginManager&gt;&gt;

!Tweaks
These options change behavior in TiddlyWiki //only// and may be ineffective in TiddlySpace.

&lt;&lt;tiddler AdvancedOptions&gt;&gt;</pre>
</div>
<div _hash="c1cd42462c1b10a4e77a891408b9c2a24da3b2e6" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/svg+xml" server.etag="&quot;tiddlyspace/backstage.svg/1521885:0f08ef45bb4779e703be75b72e9f1776ff6b1a9d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521885" server.permissions="read" server.recipe="willrogers_private" server.title="backstage.svg" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="backstage.svg" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 40 40"&gt;&lt;metadata&gt;&lt;rdf:RDF&gt;&lt;cc:Work rdf:about=""&gt;&lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;&lt;dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/&gt;&lt;dc:title/&gt;&lt;/cc:Work&gt;&lt;/rdf:RDF&gt;&lt;/metadata&gt;&lt;defs&gt;&lt;linearGradient id="lG3826" x1="7.0996" gradientUnits="userSpaceOnUse" y1="18.829" gradientTransform="matrix(1.5858347,0,0,1.8078238,1098.1851,351.13716)" x2="1.5461" y2="-0.95166"&gt;&lt;stop stop-color="#000" offset="0"/&gt;&lt;stop stop-color="#9c9b99" offset="1"/&gt;&lt;/linearGradient&gt;&lt;linearGradient id="lG3828" y2="372.44" gradientUnits="userSpaceOnUse" y1="375.7" x2="1111.7" x1="1097.7"&gt;&lt;stop style="stop-color:#ac9393;" offset="0"/&gt;&lt;stop style="stop-color:#c8b7b7;" offset="1"/&gt;&lt;/linearGradient&gt;&lt;/defs&gt;&lt;g transform="translate(-1080.9375,-357.3329)"&gt;&lt;path style="stroke-width:0;stroke-miterlimit:4;fill:url(#lG3826);" d="m1080.9,357.32,39.996-0.0426-0.01,40.008c-15.507-25.519-15.36-25.95-39.988-39.965z"/&gt;&lt;path style="stroke-dashoffset:0;stroke:#7aa3be;stroke-linecap:round;stroke-miterlimit:4;stroke-width:1.49999988;fill:#c1e6fd;" d="m1091.9,363.55c6.5716-6.4925,16.576-7.3925,23.147-0.90003,6.5717,6.4925,6.5717,17.019,0,23.511-4.4424-8.6113-12.288-15.713-23.147-22.611z"/&gt;&lt;path style="stroke-dashoffset:0;stroke:#ce81b0;stroke-linecap:round;stroke-miterlimit:4;stroke-width:1.5;fill:#f4c4e2;" d="m1110.2,367.62c3.217,3.2168,3.217,8.4323,0,11.649-3.8194-4.2357-8.3307-8.1824-11.649-11.649,3.217-3.2168,8.4325-3.2168,11.649-0.00002z"/&gt;&lt;path style="stroke-linejoin:bevel;stroke:#000000;stroke-linecap:round;stroke-dasharray:none;stroke-miterlimit:4;stroke-width:0.80000001;fill:url(#lG3828);" d="m1081,357.34c18.79,6.4752,32.53,16.56,39.894,39.892-11.19-17.028-14.878-19.19-27.352-14.96,6.2984-12.098,3.9371-13.19-12.542-24.932z"/&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div _hash="7dbb4fc99786567370025f6b991c0475416e601b" created="20110515122013000" creator="willrogers" modified="20140426154446000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/BankAccounts/1732872:86731c05620da8718f1278afe1c174920b0db12f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1732872" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BankAccounts" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="BankAccounts" type="text/x-tiddlywiki">
<pre>| Bank accounts |c
|HSBC current account | 40-18-01 | 61361821 | | Inheritance |
|HSBC credit card | | | Mastercard | |
|First Direct e-Savings account | 40-47-58 | 83819787 |  | Savings (closed) |
|Northern Rock ~E-Saver | 08-60-64 | 61167886 | ....XQT (Username) | Inheritance |
|Stuart Smith's S + S ISA | | | Cofunds | Inheritance |
|Yorkshire Building Society | 60-92-04 | 55540152 | Ref 5554015207 | Savings |
|Britannia 1 year bond | | | | Inheritance |</pre>
</div>
<div _hash="a988e5ae8265f653d3ebe7daf0e5602291213987" created="20111101100238000" creator="willrogers" modified="20140406100004000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashConditions/1711855:2487f67e00e65f6f67fcea3891b6c6565e80bbbe&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1711855" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashConditions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title="BashConditions" type="text/x-tiddlywiki">
<pre>!!How conditions are used
if statements in bash work something like this (see BashControlFlow):
{{{
if [ &lt;condition&gt; ] ; then
   &lt;do something&gt;
fi
}}}
You can also use {{{if test &lt;condition&gt;}}}.

You can also use double brackets - see bottom.

!!What conditions there are
There are quite a few of these conditions: 
* {{{ -e &lt;file&gt; }}} - file exists
* {{{ -s &lt;file&gt; }}} - file exists and has length &gt; 0
* {{{ -f &lt;file&gt; }}} - file is a regular file
* {{{ -d &lt;file&gt; }}} - file is a directory
* {{{ -r,w,x &lt;file&gt; }}} - file is readable, writable, executable by me
* {{{ -n &lt;string&gt; }}} - string length &gt; 0
* {{{ -z &lt;string&gt; }}} - string length = 0
* {{{ &lt;no1&gt; -eq &lt;no2&gt; }}} - integers equal
* {{{ &lt;no1&gt; -gt, ge, lt, le, ne &lt;no2&gt; }}} - integers greater than, greater than or equal to, less than, less than or equal to, not equal (see also BashNumbers)
* {{{ == }}} - string equal
* {{{ =! }}} - string not equal

!!and, or, not
* {{{ -e &lt;file&gt; -a -f &lt;file&gt; }}} - use of {{{-a}}} as and (probably illogically)
* {{{ -e &lt;file&gt; -o -f &lt;file&gt; }}} - use of {{{-o}}} as or 
* {{{ ! -e &lt;file&gt; }}} - use of ! to negate expression
* {{{ [[ (a == b) &amp;&amp; (c == d) ]] }}} - and two separate conditions

!!Double brackets
You can use the doubled logical operators {{{&amp;&amp;}}} and {{{||}}} as follows:
{{{
# ls a-file &gt;&gt; /dev/null 2&gt;&amp;1 &amp;&amp; echo "executed"
executed
# ls not-a-file &gt;&gt; /dev/null 2&gt;&amp;1 &amp;&amp; echo "executed"
# ls a-file &gt;&gt; /dev/null 2&gt;&amp;1 || echo "executed"
# ls not-a-file &gt;&gt; /dev/null 2&gt;&amp;1 || echo "executed"
executed
}}}
So:
* the second operand to {{{&amp;&amp;}}} is executed if the first one succeeds.
* the second operand to {{{||}}} is executed if the first one fails.</pre>
</div>
<div _hash="ba7f376e20d34feafec5dcacd82a2b380e195638" created="20120305151411000" creator="willrogers" modified="20131125131927000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashControlFlow/1560310:3db2778a1be143c9ebe34b0dc1fdd175ace5e338&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1560310" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashControlFlow" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title="BashControlFlow" type="text/x-tiddlywiki">
<pre>I don't find these exactly intuitive.

!!if
The basic form is as follows:
{{{
if [ condition1 ] 
then
    &lt;do something&gt;
elif [ condition2 ]
then
    &lt;do something else&gt;
else
    &lt;do a third thing&gt;
fi
}}}
For the conditions, see BashConditions.

The new lines in this format are compulsory, but you can save space by putting semicolons:
{{{
if [ condition ] ; then &lt;do-something&gt; ; fi
}}}

!!while
Here's a simple example:
{{{
x=0
while [ $x -lt 10 ]
do 
    let x=$x+1
    echo $x
done
}}}

!!for
You can use this for looping through a number of items, such as command line arguments.   You can use the {{{shift}}} command to move all the arguments left by one (losing the first one) or {{{shift n}}} to shift more than one left.  Then you can work with $1 each time.
{{{
for item in 1 2 3 ; do
    echo "This number is $item"
done
}}}
You can use {{{ {1..10} }}} to expand into the relevant numbers.  You can also use {{{seq}}} but I've found the first version fine.

There's also a C-style for loop:
{{{
for ((i=0; i&lt;10; i++)); do 
        printf "%02d " $i; 
done
}}}

!!case
This works similarly to in programming languages, comparing strings:
{{{
case $var in 
...
...
esac
}}}

!!Redirection
You can redirect a file into the loop:
{{{
while read dept name sal
do
    echo “$name $sal”
done &lt; people
}}}
The while loop is terminated by the EOF.</pre>
</div>
<div _hash="5982703bb295a0b9fc1f7a320f71aee7b8245f49" created="20120306113345000" creator="willrogers" modified="20140613111059000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashFunctions/1791856:fffcc8158a633df4c8b0572db96a3db2f259c100&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1791856" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BashFunctions" type="text/x-tiddlywiki">
<pre>Functions have a special use in bash.  You can type them from the command line:

{{{
function hello () { echo "Hello World"; }
# OR
hello() { echo "Hello World"; }
# OR 
function hello { echo "Hello World"; }
# NOT
hello { echo "Hello World"; }
}}}

The hello function is then available for you to use.  You can add them to your .bashrc, and you can use them in scripts.
* To get arguments, use {{{$1}}}, {{{$#}}} etc
* You can list functions with {{{typeset -f}}}
* You can export functions with {{{typeset -fx &lt;name&gt;}}}
* {{{type hello}}} will tell you that {{{hello is a function}}} and display it
* Use {{{return}}} to exit the function, and {{{return n}}} to return success or failure.

</pre>
</div>
<div _hash="318c2968a3f21944f674b54a916b92b3522d4d3f" created="20120305152952000" creator="willrogers" modified="20120306095451000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashNumbers/363708:aeb5ba922af7ee5fa9890404ae2ad0ecc78953a5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363708" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashNumbers" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title="BashNumbers" type="text/x-tiddlywiki">
<pre>Bash doesn't seem to get on with numbers all that well, but you can do integer calculations.  You can define negative numbers: {{{x=-1}}}.

For testing numbers, see BashConditions.

There are two ways of calculation, and they both mysteriously don't need to use $ to reference variables:
{{{
let x=$x+1                  #  or let x=x+1
}}}
{{{
((z=$x-1))                  #  or ((z=x-1)) or ((z = z + 1))
}}}
You can use +,-,*,/,% for integer calculations.

There's also a command called {{{expr}}} which evaluates expressions, but I found it a little fiddly (e.g. escaping *).  It looks like you wouldn't use it for this kind of thing in bash, but it does do other things as well.
{{{
expr 10 \* 3
}}}</pre>
</div>
<div _hash="e6ecd2f482a8c3785e8547b38a20988d82cbc0ec" created="20111031101701000" creator="willrogers" modified="20131206171807000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashScripting/1580471:4dccc15964426fc596674110c6a03bb0c2960e4a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1580471" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashScripting" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title="BashScripting" type="text/x-tiddlywiki">
<pre>This is something I find difficult.  

* BashScriptingBasics
* BashSyntax
* BashSpecialCharacters
* BashControlFlow
* BashConditions
* BashSubScripts
* BashFunctions
* BashStrings
* SedAndAwk
* LinuxCommands - the strength of bash is that it has access to all the Linux commands, and can use them as though they were part of the language.</pre>
</div>
<div _hash="703da07354bfcb6ec78857ad0b3041abf2941a5c" created="20111031101829000" creator="willrogers" modified="20120307095448000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashScriptingBasics/363723:f1874007d91b6b52a06f84ba858d1d7787993e48&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363723" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashScriptingBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BashScriptingBasics" type="text/x-tiddlywiki">
<pre>A shell is the interface between the user and the kernel.  It interprets the user's commands and executes the appropriate system calls.

A bash script just consists of a number of lines of commands inside a file.  These are all executed much as they would if you typed them in one by one, according to the defined environment.

You can specify the program which will execute the script at the top of the file:  {{{#!/bin/bash}}} or {{{#!/usr/bin/env python}}} are examples.

!!Running

To run a script, change the permissions so that the current user has execute, and specify the file:  {{{./script}}}.  The reason that you need the './' is that the current directory is not part of the PATH variable.

To run the commands in the script in the current shell use the dot command:
{{{
. .bashrc
}}}
If you run the file ({{{./.bashrc}}}) a second shell will be created to run the file.  In this case it doesn't make sense, because then the variables in the file will be lost when the second shell exits.

A well-written bash script returns a number between 0 and 255, only zero denoting success.

You can get debugging information from bash by running {{{bash -xv}}}.</pre>
</div>
<div _hash="3df1ff7315d72db9195e361602183094ca5325fa" created="20111010104600000" creator="willrogers" modified="20140725183509000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashSpecialCharacters/1844808:0c3643b68c46d2ff9653752bdc234b7071718c3b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1844808" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashSpecialCharacters" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title="BashSpecialCharacters" type="text/x-tiddlywiki">
<pre>* - is the last directory you were at.  So {{{ cd - }}} goes back to where you were before.
* {{{:}}} does nothing except expand any substitutions

* {{{$#}}} is the number of parameters provided to the script (not including the command)
* {{{$0}}} is the command that was run
* {{{$1}}} is the first parameter
* {{{$*}}} is the string of all parameters passed (not the command run), which you can loop through with {{{for}}}
* {{{$$}}} is the PID of the current process 
* {{{$?}}} is the exit code of the last command run
* {{{\$}}} gives you a literal $.


!!Bash patterns
Bash has its own version of regular expressions:

* {{{*}}} matches any number of any characters
* {{{?}}} matches any single character
* {{{[abc]}}} matches a, b or c
* {{{[a-c]}}} matches a, b or c
* {{{[!abc]}}} matches anything but a, b or c
* {{{[^7]}}} matches anything but 7 (really?)
* {{{ls !(*,c)}}} inverts the match, in newer versions of bash

!!Bash history
{{{history}}} shows all the commands stored in the bash history.  Each command is numbered.
If you search {{{man bash}}} for {{{HISTORY EXPANSION}}} you can find some special commands:
* {{{!n}}} - the nth command
* {{{!-n}}} - nth most recent command
* {{{!$}}} - the last word from the most recent command
* {{{!^}}} - the first word from the most recent command
* {{{!!}}} - the last command


!!Misc
{{{mv /path/to/file.{txt,xml}}}}
{{{sudo cp /etc/rc.conf{,-old}}}}</pre>
</div>
<div _hash="ad26165c56f84caa857f17a8f3b33388461842ee" created="20111101095157000" creator="willrogers" modified="20140613160101000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashStrings/1792200:479fbe36c2fec722885a680238a3678bccce7c01&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1792200" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashStrings" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BashStrings" type="text/x-tiddlywiki">
<pre>!Strings in bash

Bash treats pretty much everything as a string, which means that e.g. arithmetic is a little complicated.

To concatenate strings, just put them next to each other:
{{{
# $cp$cp
-bash: /usr/share/java/usr/share/java: No such file or directory
}}}

Use echo to print to the display.

You can use both single and double quotes to denote strings, but only inside double quotes are variables substituted.

!!!Substrings
* {{{${item:5} }}} will remove the first five characters from the string
* {{{${item:5:10} }}} will provide the ten characters after the first five

To compare substrings, just use globbing.</pre>
</div>
<div _hash="2cd633db7da22e84f07b31c541b72c9a8ddb6fc7" created="20120306111601000" creator="willrogers" modified="20120306111601000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashSubScripts/363739:01e18d23c4cc3da152c07be35f2f75965ebd6e68&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363739" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashSubScripts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BashSubScripts" type="text/x-tiddlywiki">
<pre>It's simple to call scripts from other scripts.

To use  a variable from another script, you have to export it.

You can return 0 or another integer from a script to denote success or failure, then:
{{{
if ./subscr ; then 
    echo "success"
else 
    echo "failure"
fi
}}}</pre>
</div>
<div _hash="88c767b901f289cadc9f17b2be95f0c14bc68971" created="20111031100417000" creator="willrogers" modified="20131125122435000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BashSyntax/1560276:ed4fc31ddc00fc5a71a4dd861421586533ef2b05&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1560276" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BashSyntax" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BashSyntax" type="text/x-tiddlywiki">
<pre>See also BashSpecialCharacters, BashStrings, BashConditions


You can continue on to a new line  using a {{{\}}} to escape the newline character.

!!!Variables

To define a variable, just set it (no spaces).  By definition, constants are in all caps.  To dereference it, add a $:
{{{
# cp=/usr/share/java
# echo $cp
/usr/share/java
}}}

You can assign a default value to a variable:
{{{
VISA=${1:-Visa}
}}}
This will set VISA to $1 (the first parameter) or Visa if $1 is not set.

You can separate a variable from surrounding text like this:
{{{
$ thing=bike
$ echo "Three $things."
Three .
$ echo "Three ${thing}s."
Three bikes.
}}}

!!!Strings
Inside 's, variables aren't expanded.  Inside "s variable are expanded.
{{{
name=Will
echo "My name is $name."
My name is Will.
echo 'My name is $name.'
My name is $name.
}}}

You can avoid problems with variables having spaces by quoting the variable expansion:

{{{
[hgs15624@pc0072 ~]$ q=hello\ world
[hgs15624@pc0072 ~]$ for i in $q; do echo $i; done
hello
world
[hgs15624@pc0072 ~]$ for i in "$q"; do echo $i; done
hello world
}}}

!!Backticks
You can run a command on the output of another command by putting the second command inside backticks, or inside {{{$(...)}}}:
{{{
ls `pwd`
ls $(pwd)
}}}

!!!Redirection
{{{
ls &gt; lsfile  # stdout to the file
ls 1&gt; lsfile  # stdout to the file
ls 2&gt; lsfile  # stderr to the file
ls &gt;&gt; lsfile  # appends
ls &gt; lsfile 2&gt;&amp;1  # error follows stdout
}}}
</pre>
</div>
<div _hash="ffe69c6a23087918c02091e3f76e3297c2fe878d" created="20120331172306000" creator="willrogers" modified="20120402193741000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BasicCompSci/665426:0b433b79cd075bdf62515b4e95c52484f5750d13&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="665426" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BasicCompSci" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BasicCompSci" type="text/x-tiddlywiki">
<pre>For the moment, this is coming from my notes on ML.

!!Programming
The idea is to describe a computation so that it can be done mechanically
* expressions compute values
* commands cause effects
The difficulty comes in:
* doing it correctly - solving the right problem
* doing it efficiently - in coding and execution
* allowing easy modification
Skills required are:
* communicating requirements
* analysis of problems
* organising solutions
* estimating costs of a given approach
* using mathematics(?)

!!Types
A data type is:
* how a value is represented
* the available operations

Early languages required variables to be declared (eg as integer and real) and prevented mixing number types in calculation.  Newer languages have well-defined ways of handling this.  Usually, a compiler generates machine code, and types aren't stored during program execution.

!!Functions
Functions perform a well-defined task.

Recursive functions call themselves.

!!Efficiency
BigONotation
RecurrenceRelations

Efficiency is relevant in both time (number of operations) and space (stack slots required).  Few things can be O(1) - storing the number n requires log(n) bits.  Multiplication is one operation, but for very large n it gets more complicated.</pre>
</div>
<div _hash="e6e2e431802b84425f3a6554d2805cdf40bbaa11" created="20110712125927000" creator="willrogers" modified="20110810074036000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BatchSystems/363763:c9c369511c4bdecb9dee65651cca81f8eb49e4d0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363763" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BatchSystems" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BatchSystems" type="text/x-tiddlywiki">
<pre>I've known practically since I was born that APEL supports four batch systems: 

!!SGE - Sun Grid Engine
This was free and open source, but characteristically since Oracle have taken over, they've stopped contributing to the open source version.  They have released OGE which is a proprietary version.

A company called Univa have created UGE from the source of SGE.

There is also an open source version called Open Grid Scheduler.

!!PBS 
PBS stands for Portable Batch System.  People actually use Torque, which is a newer clone of it.

!!LSF - Load Sharing Facility
This is a proprietary program, with a swish website here: http://www.platform.com/workload-management/high-performance-computing.  The documentation is not freely available online, as far as I can tell.

!!Condor
This is developed by the University of Wisconsin, with a website here: http://www.cs.wisc.edu/condor/.  

As far as we're concerned, it seems to be Cambridge who are our main users of Condor.

!!Others 
Wikipedia's page on batch systems (or job schedulers) lists a few more: 
* SLURM 
* Maui 
* Moab 
I've never heard of these otherwise.</pre>
</div>
<div _hash="ad5e543022765b17493d32e020039eaa39a0e2f1" created="20120329130137000" creator="willrogers" modified="20120329135458000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BerkeleyDB/658254:62c7dbf6057f25f7ecbfc66a17b439f2d8be5af5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="658254" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BerkeleyDB" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="berkeley database sql" title="BerkeleyDB" type="text/x-tiddlywiki">
<pre>* See DatabaseTheory for my introduction to types of database

!!Intro
Berkeley DB is an open source embedded database system, with licencing from Sleepycat Software which was subsequently bought by Oracle.

'Embedded' means that it runs inside the same process as the application which is using it - there is no inter-process communication required.  Access is via a simple API, with bindings for many languages.  It is ported to most operating systems.  A user probably doesn't know that a database is running at all.

The binaries are small (300kB) but it provides many services such as concurrency, transactions and memory management.  It can handle large databases and utilise large amounts of memory.

It can also out-perform relational and object-oriented databases because there is no interprocess communication, and it uses function calls rather than parsing SQL.

!!Storage structures
BDB has four possible structures, which you should choose according to the nature of the data you wish to store:
* hash-table - good for large databases which need quick access for a random item
* Btree - good if you're likely to need items which are close together at similar times
* record-number-based storage - for if you don't have natural keys
* queue - for when you want to use items in the order they arrived.
BDB doesn't support SQL.

!!Services
BDB supports important data management services on all of its storage structures:
* concurrency
* ACID transactions
* recovery to consistent states
These services can be specified on startup.

!!Limitations
* BDB stores only key-value pairs.  You cannot select on any part of the value - they are just 'payload'
** You can put any byte string in the value
** Any application must know the structure of the key and value in advance</pre>
</div>
<div _hash="b0cddf35a898f8b91615610098d3e1e03bf40432" created="20120402193248000" creator="willrogers" modified="20120407095223000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BigONotation/671421:c16d289ecdbed57dc325b9b92a8f8eb2a8e8d007&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="671421" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BigONotation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BigONotation" type="text/x-tiddlywiki">
<pre>This concept is crucial to understanding efficiency of programs and algorithms.  The O stands for 'order of', which gives a hint as to its emphasis - the order of magnitude, not the details.

It refers to 'asymptotic complexity' - how many operations as n goes to infinity.

You can figure out an algorithm's efficiency in Big O notation using RecurrenceRelations.

!!Basics
* Look at the most significant term:
** 3n^2 + 17n -&gt; n^2
* The constant factors can depend on things like hardware and OS
* Sometimes constant factors or lower factors can be relevant and the extra complication may not be worth it
* Sometimes the theoretically most efficient algorithm is only for enormous n.

!!Maths
* f(n) is O(g(n)) if mod(f(n)) &lt;= c*mod(g(n)) 
** c is a constant, and this is valid for sufficiently large n
So:
* O(2g(n)) is O(g(n))
* O(log10(n)) is O(ln(n)) is O(lg(n))
* O(2n^2 +3n) is O(n^2)
* O(n^2) is contained in O(n^3) - O(n^2) gives a tighter bound
* O(log n) is contained in O(root(n))

* O(1) is constant
* O(log n) is logarithmic
* O(n) is linear
* O(n log n) is quasi-linear
* O(n^2) is quadratic
* O(a^n) is exponential

Matrix addition is quadratic; matrix multiplication is cubic.
Exponential growth limits you to very small inputs; remember that worst-case scenarios don't always happen.</pre>
</div>
<div _hash="bb40914e9b2e79bd868d4c824ef8e42e617f4309" created="20130924180405000" creator="FND" modified="20130924180405000" modifier="FND" server.bag="system" server.content-type="text/javascript" server.etag="&quot;system/BinaryTiddlersPlugin/1521855:92daf432500febd5ae942262a62ec28f523cc754&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521855" server.permissions="read" server.recipe="willrogers_private" server.title="BinaryTiddlersPlugin" server.type="tiddlyweb" server.workspace="bags/system" tags="excludeLists excludeSearch systemConfig" title="BinaryTiddlersPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|BinaryTiddlersPlugin|
|''Description''|renders base64-encoded binary tiddlers as images or links|
|''Author''|FND|
|''Version''|0.3.2|
|''Status''|@@beta@@|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/BinaryTiddlersPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5|
!Code
***/
//{{{
(function($) {

"use strict";

var ctfield = "server.content-type";

var plugin = config.extensions.BinaryTiddlersPlugin = {
	isWikiText: function(tiddler) {
		var ctype = tiddler.fields[ctfield];
		if(ctype) {
			if (ctype === 'text/x-tiddlywiki') {
				return true;
			}
			return !this.isBinary(tiddler) &amp;&amp; !this.isTextual(ctype);
		} else {
			return true;
		}
	},
	// NB: pseudo-binaries are considered non-binary here
	isBinary: function(tiddler) {
		var ctype = tiddler.fields[ctfield];
		return ctype ? !this.isTextual(ctype) : false;
	},
	isTextual: function(ctype) {
		return ctype.indexOf("text/") === 0
			|| this.endsWith(ctype, "+xml")
			|| ctype === 'application/json'
			|| ctype === 'application/javascript';
	},
	endsWith: function(str, suffix) {
		return str.length &gt;= suffix.length &amp;&amp;
			str.substr(str.length - suffix.length) === suffix;
	},
	isLink: function(tiddler) {
		return this.isBinary(tiddler) &amp;&amp; tiddler.text.indexOf("&lt;html&gt;") !== -1;
	}
};

// Disable edit for linked tiddlers (for now)
// This will be changed to a GET then PUT
config.commands.editTiddler.isEnabled = function(tiddler) {
    var existingTest = config.commands.editTiddler.isEnabled;
    if (existingTest) {
        return existingTest &amp;&amp; !plugin.isLink(tiddler);
    } else {
        return !plugin.isLink(tiddler);
    }
};

// hijack text viewer to add special handling for binary tiddlers
var _view = config.macros.view.views.wikified;
config.macros.view.views.wikified = function(value, place, params, wikifier,
		paramString, tiddler) {
	var ctype = tiddler.fields["server.content-type"];
	if(params[0] === "text" &amp;&amp; ctype &amp;&amp; ctype !== 'text/x-tiddlywiki' &amp;&amp;
			!tiddler.tags.contains("systemConfig") &amp;&amp; !plugin.isLink(tiddler)) {
		var el;
		if(plugin.isBinary(tiddler)) {
			var uri = "data:%0;base64,%1".format([ctype, tiddler.text]); // TODO: fallback for legacy browsers
			if(ctype.indexOf("image/") === 0) {
				el = $("&lt;img /&gt;").attr("alt", tiddler.title).attr("src", uri);
			} else {
				el = $("&lt;a /&gt;").attr("href", uri).text(tiddler.title);
			}
		} else {
			el = $("&lt;pre /&gt;").text(tiddler.text);
		}
		el.appendTo(place);
	} else {
		_view.apply(this, arguments);
	}
};

// hijack edit macro to disable editing of binary tiddlers' body
var _editHandler = config.macros.edit.handler;
config.macros.edit.handler = function(place, macroName, params, wikifier,
		paramString, tiddler) {
	if(params[0] === "text" &amp;&amp; plugin.isBinary(tiddler)) {
		return false;
	} else {
		_editHandler.apply(this, arguments);
	}
};

// hijack autoLinkWikiWords to ignore binary tiddlers
var _autoLink = Tiddler.prototype.autoLinkWikiWords;
Tiddler.prototype.autoLinkWikiWords = function() {
	return plugin.isWikiText(this) ? _autoLink.apply(this, arguments) : false;
};

}(jQuery));
//}}}</pre>
</div>
<div _hash="fa2a79fa940254cf1cdd7980c85b5efd0eff0ce5" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/BinaryUploadPlugin/1521860:153c3ea9d3de701ffcad088913bf29a62ead9437&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521860" server.permissions="read" server.recipe="willrogers_private" server.title="BinaryUploadPlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="BinaryUploadPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|BinaryUploadPlugin|
|''Version''|0.3.16|
|''Author''|Ben Gillies and Jon Robson|
|''Type''|plugin|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/BinaryUploadPlugin.js|
|''Description''|Upload a binary file to TiddlyWeb|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig TiddlyWebConfig|
!Usage
{{{
&lt;&lt;binaryUpload bag:&lt;name&gt; edit:tags edit:title tags:&lt;default tags&gt; title:&lt;title&gt; &gt;&gt;
}}}
* {{{bag:&lt;name&gt;}}}: optional; if left out, the file will be saved to the current workspace
* {{{edit:tags}}}: specifies that you want to tag the file being uploaded
* {{{edit:title}}}: specifies that you want to set the title to something other than the filename
* {{{tags:&lt;default tags&gt;}}}: specifies a default set of tags to apply to the file (requires {{{edit:tags}}} to be set)
* {{{title:&lt;title&gt;}}}: predefines the title of the binary tiddler
!Requires
TiddlyWeb
tiddlywebplugins.form
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;

var macro = config.macros.binaryUpload = {
	locale: {
		titleDefaultValue: "Please enter a title...",
		tagsDefaultValue: "Please enter some tags...",
		titlePrefix: "title: ",
		tagsPrefix: "tags: ",
		loadSuccess: 'Tiddler %0 successfully uploaded',
		loadError: "An error occurred when uploading the tiddler %0",
		uploadInProgress: "Please wait while the file is uploaded...",
		membersOnly: "Only members can upload."
	},
	renderInputFields: function(container, options) {
		var locale = macro.locale;
		var editableFields = options.edit;
		var includeFields = {
			tags:  editableFields &amp;&amp; editableFields.contains("tags") ? true : false,
			title: editableFields &amp;&amp; editableFields.contains("title") ? true : false
		};
		var fields = ["title", "tags"];
		for(var i = 0; i &lt; fields.length; i++) {
			var fieldName = fields[i];
			var userDefault = options[fieldName];
			var defaultValue = userDefault ? userDefault[0] : false;
			if(includeFields[fieldName] || defaultValue) {
				var localeDefault = locale["%0DefaultValue".format(fieldName)];
				var className = defaultValue ? "userInput" : "userInput notEdited";
				var inputEl;
				var val = defaultValue || localeDefault || "";
				var iContainer = $("&lt;div /&gt;").addClass("binaryUpload%0".format(fieldName)).
					appendTo(container);
				if(defaultValue &amp;&amp; !includeFields[fieldName]) {
					var label = locale["%0Prefix".format(fieldName)];
					$("&lt;span /&gt;").text(label).appendTo(iContainer);
					$("&lt;span /&gt;").addClass("disabledInput").text(val).appendTo(iContainer);
					inputEl = $("&lt;input /&gt;").attr("type", "hidden");
				} else {
					inputEl = $("&lt;input /&gt;").attr("type", "text");
				}
				inputEl.attr("name", fieldName).
					addClass("%0Edit".format(fieldName)).
					val(val).addClass(className).appendTo(iContainer);
			}
		}
	},
	getTiddlerName: function(fileName) {
		var fStart = fileName.lastIndexOf("\\");
		var fStart2 = fileName.lastIndexOf("/");
		fStart = fStart &lt; fStart2 ? fStart2 : fStart;
		fileName = fileName.substr(fStart+1);
		return fileName;
	},
	errorHandler: function(fileName) {
		displayMessage("upload of file %0 failed".format(fileName));
	},
	uploadFile: function(place, baseURL, workspace, options) {
		var pleaseWait = $(".uploadProgress", place);
		var iframeName = options.target;
		var form = $("form", place);
		var existingVal = $("input[name=title]", form).val();
		var fileName = existingVal || $('input:file', form).val();
		if(!fileName) {
			return false; // the user hasn't selected a file yet
		}
		fileName = macro.getTiddlerName(fileName);
		$("input[name=title]", place).val(fileName);
		// we need to go somewhere afterwards to ensure the onload event triggers
		var redirectTo = "/%0/tiddlers.txt?select=title:%1".
			format(workspace, fileName);
		var token = tiddlyspace ? tiddlyspace.getCSRFToken() : "";
		var action = "%0?csrf_token=%1&amp;redirect=%2"
			.format(baseURL, token, redirectTo);
		form[0].action = action; // dont use jquery to work with ie
		form[0].target = iframeName;
		// do not refactor following line... won't work in IE6 otherwise
		$(place).append($('&lt;iframe name="' + iframeName + '" id="' + iframeName + '"/&gt;').css('display','none'));
		macro.iFrameLoader(iframeName, function() {
			var content = document.getElementById(iframeName).contentWindow.document.documentElement;
			if($(content).text().indexOf(fileName) &gt; -1) {
				options.callback(place, fileName, workspace, baseURL);
			} else {
				macro.errorHandler(fileName);
			}
			form.show(1000);
			pleaseWait.hide(1000);
		});
		form.hide(1000);
		pleaseWait.show(1000);
		return true;
	},
	createUploadForm: function(place, options) {
		var locale = macro.locale;
		if(readOnly) {
			$('&lt;div class="annotation" /&gt;').text(locale.membersOnly).
				appendTo(place);
			return;
		}
		var bag = options.bag;
		options.callback = options.callback ? options.callback :
			function(place, fileName, workspace, baseurl) {
				macro.displayFile(place, fileName, workspace);
				displayMessage(locale.loadSuccess.format(fileName));
				$("input[type=text]", place).val("");
			};
		var defaults = config.defaultCustomFields;
		place = $("&lt;div /&gt;").addClass("container").appendTo(place)[0];
		var workspace = bag ? "bags/%0".format(bag) : config.defaultCustomFields["server.workspace"];
		var baseURL = defaults["server.host"];
		baseURL += (baseURL[baseURL.length - 1] !== "/") ? "/" : "";
		baseURL = "%0%1/tiddlers".format(baseURL, workspace);
		//create the upload form, complete with invisible iframe
		var iframeName = "binaryUploadiframe%0".format(Math.random());
		// do not refactor following line of code to work in IE6.
		var form = $('&lt;form action="%0" method="POST" enctype="multipart/form-data" /&gt;'.
					format(baseURL)).addClass("binaryUploadForm").
			appendTo(place)[0];
		macro.renderInputFields(form, options);
		$(form).
			append('&lt;div class="binaryUploadFile"&gt;&lt;input type="file" name="file" /&gt;&lt;/div&gt;').
			append('&lt;div class="binaryUploadSubmit"&gt;&lt;input type="submit" value="Upload" disabled /&gt;&lt;/div&gt;').
			submit(function(ev) {
				this.target = iframeName;
				options.target = iframeName;
				macro.uploadFile(place, baseURL, workspace, options);
			})
			.find('[type="file"]').bind('change', function() {
				$(form).find('[type="submit"]').prop('disabled', false);
			}).end();
		$('&lt;div /&gt;').addClass("uploadProgress").text(locale.uploadInProgress).hide().appendTo(place);
		$("input[name=file]", place).change(function(ev) {
			var target = $(ev.target);
			var fileName = target.val();
			var title = $("input[type=text][name=title]", place);
			if(!title.val()) {
				title.val(fileName);
			}
		});
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		params = paramString.parseParams(null, null, true);
		macro.createUploadForm(place, params[0]);
	},
	iFrameLoader: function(iframeName, callback) {
		var iframe = document.getElementById(iframeName); //jQuery doesn't seem to want to do this!?
		var locale = macro.locale;
		$(".userInput").addClass("notEdited"); // reset editing
		var finishedLoading = function() {
			callback();
		};
		var iFrameLoadHandler = function() {
			finishedLoading.apply();
			return;
		};

		iframe.onload = iFrameLoadHandler;
		//IE
		completeReadyStateChanges = 0;
		iframe.onreadystatechange = function() {
			if (++(completeReadyStateChanges) == 3) {
				iFrameLoadHandler();
			}
		};
	},
	displayFile: function(place, title, workspace) {
		var adaptor = store.getTiddlers()[0].getAdaptor();
		var context = {
			workspace: workspace,
			host: config.defaultCustomFields['server.host']
		};
		adaptor.getTiddler(title, context, null, function(context) {
			if(context.status) {
				store.addTiddler(context.tiddler);
				story.displayTiddler(place, title);
				var image = config.macros.image;
				if(image &amp;&amp; image.refreshImage) {
					image.refreshImage("/%0/tiddlers/%1".format(workspace, title));
					image.refreshImage(title);
					image.refreshImage("/%0".format(title));
					image.refreshImage("%0/%1/tiddlers/%2".format(config.extensions.tiddlyweb.host, workspace, title));
				}
			} else {
				displayMessage(macro.locale.loadError.format(title));
			}
		});
	}
};

if(tiddlyspace) {
	config.macros.binaryUploadPublic = {
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			var options = paramString.parseParams(null, null, true)[0];
			var bag = tiddlyspace.getCurrentBag("public");
			options.bag = bag;
			macro.createUploadForm(place, options);
		}
	};
	config.messages.privacySetting = config.options.chkPrivateMode ?
		"private" : "public";
	config.macros.binaryUpload.defaultWorkspace = tiddlyspace.
		getCurrentWorkspace(config.messages.privacySetting);
}

})(jQuery);
//}}}</pre>
</div>
<div _hash="69f2b1edb32389482d77c57e936c5da1dd201148" created="20111124135545000" creator="willrogers" modified="20111124140226000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BitwiseOperators/363767:79e239116c239a3030f82b496320b5cbada694fa&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363767" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BitwiseOperators" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BitwiseOperators" type="text/x-tiddlywiki">
<pre>These are really simple, so I don't know why I've puzzled about them before.  You just write the integers in binary, then execute on each pair of digits in turn.  The following examples are from python.  
The operators are:
* | - bitwise or
* &amp; - bitwise and
* ^ - bitwise exclusive or 
* x &lt;&lt; n - shift bits of x left: equivalent to multiplying by 2 to the power n
* x &gt;&gt; n - shift bits of x right.  The right-most digit is discarded
* ~x - invert all the bits of x: the effect in python is -(x+1), but this is the only bit I don't understand fully

So:
{{{
0 =&gt; 00 
1 =&gt; 01
2 =&gt; 10
3 =&gt; 11
4 =&gt; 100

1 &amp; 2 -&gt; 00 -&gt; 0
2 | 4 -&gt; 110 -&gt; 6
2 ^ 4 -&gt; 110 -&gt; 6
3 ^ 2 -&gt; 01 -&gt; 1
~3 -&gt; ...11100 -&gt; -4   # what's the difference between this and ~11?

2 &lt;&lt; 2 -&gt; 1000 -&gt; 8
6 &gt;&gt; 2 -&gt; 1 -&gt; 1
}}}</pre>
</div>
<div _hash="935af874b7958a523803b2cc386faa2c84bb1305" created="20130728104130000" creator="willrogers" modified="20130728151735000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BuildingAndroid/1325604:3a6d102b3c834fd438ad18bc85df7b8c16060415&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1325604" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BuildingAndroid" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BuildingAndroid" type="text/x-tiddlywiki">
<pre>I've now got a 64-bit Ubuntu build, so I should be able to build Android from source.  
See: http://stackoverflow.com/questions/17432090/recommended-linux-distro-for-android-development-workstation/17432425#17432425

!!Installations
I'm following the instructions here: http://source.android.com/source/.

So far I have omitted:
* The soft link
* The USB permissions (this is going to go wrong.  Actually it hasn't yet.  Maybe it will if I try to connect to a real device.)
* Using a separate output directory

!!!Java
It seems you need Sun JDK 1.6.  I have downloaded it to my {{{android}}} directory - we'll see if I need to do something more complicated.

I then added the {{{bin}}} directory to the path before building.

!!Source
I followed the instructions with a few variations, and used {{{repo sync}}} to (presumably) download the trunk.  I think it probably took about an hour.

!!Building
I had one error with java (see http://stackoverflow.com/questions/8780507/missing-symbols-building-android-on-ubuntu), apparently fixed by not appending a slash to the end of the path I gave for it.  It took about an hour and a half for {{{make -j4}}}.
</pre>
</div>
<div _hash="61969253991bd1212e382c9d8f751f6fe9a33b3d" created="20140123105735000" creator="willrogers" modified="20140123110635000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BuildingCss/1633830:c46ae95b4e5f821e7bd47cfce2ea44b3908c797b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1633830" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BuildingCss" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BuildingCss" type="text/x-tiddlywiki">
<pre>!!!Eclipse versions
It is simplest to download 'Eclipse for RCP and RAP developers'.  To download the dependencies in regular Eclipse, select all the options from 'The Eclipse Project Update Site' and install them.  This allows me to run CSS using my standard setup.

In order to build from source, the simplest way is to:
* checkout branch 3.2.x
* open eclipse indigo
* import {{{core}}}, {{{applications}}} and {{{products/CS-STUDIO}}}
** there are 2,761 errors
* select {{{org.csstudio.product.product}}} as the entry point in {{{Run Configurations...}}}
* press play
or 
* checkout branch 4.0.x
* open eclipse kepler
* import {{{core}}}, {{{applications}}} and {{{products/CS-STUDIO}}}
** there are 10,829 errors
* select {{{org.csstudio.product.product}}} as the entry point in {{{Run Configurations...}}}
* press play

CSS will build despite there being many errors in plugins.  I attempted to reduce the number of errors by deleting plugins, but there was a negative effect because things stopped working.

I downloaded an SNS source snapshot (3.2.1) and when I put into the RCP IDE, there were only 70 errors.  These mostly seemed to be related to {{{org.csstudio.auth}}}.  

!!!!Dependencies
There are some dependencies that don't seem to be available:
* {{{org.remotercp}}}
* {{{org.eclipse.rwt}}}


!!Building
Matt has written a script to build CSS using something called PDE.  We expect it will be easier to move either to Buckminster or Maven / Tycho.

The exported build version includes all the generated {{{.jar}}} files, but no source.
</pre>
</div>
<div _hash="4427ebcfa250ec0127e41e17af405ebc4a618036" created="20111010202008000" creator="willrogers" modified="20111010213014000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/BuyingACar/363770:31da276ffea7f1bf6f8379e60fde84fe90e3c650&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363770" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="BuyingACar" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="BuyingACar" type="text/x-tiddlywiki">
<pre>When I bought the Polo, I wasn't really very sure how to do it.

Having done so, with hindsight I can see a lot of things I could have done differently, mainly because of the disadvantages of the car once I got it.

So:

!!Check everything works
It really wouldn't take very long.  I didn't check:
* Aircon (fine)
* Lights (fine)
* Central locking (fine, though there's no remote central locking.
* Interior lights (fine)
* Mirror motors (fine)
* Dials (fine, I think)
** I noticed that it needed a service
** She told me about the airbag light
* Check the mileage

I checked the electric windows, but she did warn me about them.

!!Check the bodywork carefully
* I saw damage to the corner
* I missed damage to the driver's mirror
* I missed the damage to the mesh

!!Think about modifications
* The gearstick was obvious
* The alloy should have been
* The spoiler should have been too really

</pre>
</div>
<div _hash="83761365b9d4aa3576a14e64496f4dd501926b8f" created="20120618205717000" creator="willrogers" modified="20120812164532000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CampingFrance/834060:5a06fb594fab3e14dd1b6130307b7452623ad043&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="834060" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CampingFrance" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CampingFrance" type="text/x-tiddlywiki">
<pre>We're going to the south of France

!!Money 
I took €139 with me.

!!Flights
~EasyJet, Luton -&gt; Nice
£293

!!Car
Sixt
£313 + £43, presumably for the petrol

!!Transport
National Express
£41

!!Campsites
1st: Le Prieure


</pre>
</div>
<div _hash="7ec49872e728041385751b4252f6baab334f44ce" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/cancelTiddler/1521931:8a23fc51084383d093cb3ceef71b50cf9a7b4c5e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521931" server.permissions="read" server.recipe="willrogers_private" server.title="cancelTiddler" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="cancelTiddler" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="72 648 70 70" 
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 77.59005 669.34003 C 71.532745 681.90424 73.714462 697.4441 84.135193 707.86475 
		C 97.315445 721.0451 118.684715 721.0451 131.8649 707.86475 
		C 145.04515 694.68457 145.04515 673.31537 131.8649 660.13513 
		C 121.4441 649.7141 105.90419 647.53253 93.339905 653.5899 L 102.047455 662.2976 
		C 109.58637 660.2373 117.987976 662.16803 123.90997 668.08997 
		C 132.69673 676.8767 132.69673 691.12317 123.90997 699.90985 
		C 115.12313 708.6966 100.87699 708.6966 92.09012 699.90985 
		C 86.168266 693.98804 84.23744 685.58643 86.297653 678.04755 Z M 72 648 L 72 668.25 L 78.75 661.49957 
		L 99.00019 681.7502 L 105.750175 675.00006 L 85.50013 654.75012 L 92.249985 648 Z" fill="black"
		class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="b220e83c663efed36bb6afaeb3dd5368cb1a55ca" created="20111010185814000" creator="willrogers" modified="20111010201440000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CarThings/363864:2cac2e16be10578dde0b09b7a790290826331b7c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363864" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CarThings" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CarThings" type="text/x-tiddlywiki">
<pre>MiniCosts
PoloCosts
PoloForSale

PoloToDo

BuyingACar</pre>
</div>
<div _hash="0580373b47073d1ed11071fb4b543ffc555580c6" created="20130523133331000" creator="willrogers" modified="20131206161047000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CaTools/1579997:4b77cf72cbbdaf07f0e96e3766b3fb3b06687b77&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1579997" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CaTools" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="catools cothread epics python" title="CaTools" type="text/x-tiddlywiki">
<pre>This is the EPICS part of the cothread package - CA stands for channel access.  PV stands for process variable.

See also CaToolsImplementation

There are four important functions.  In general, you can supply one or more ~PVs, and you will receive the corresponding number of values in return.

!!!Common arguments:
* {{{pvs}}} 
* {{{timeout}}} - in seconds
* {{{throw}}} - whether (in the event of failure) an exception is thrown or a {{{ca_nothing}}} object is returned with {{{ok = False}}}

!!!{{{caget}}}
This gets the value of the specified PV. 

Arguments:
* {{{format}}} - how much data is returned with the data
** {{{FORMAT_RAW}}} - {{{.name}}} and {{{.ok}}}
** {{{FORMAT_TIME}}} - also {{{timestamp}}} and {{{raw_stamp}}}
** {{{FORMAT_CTRL}}} - extra information, which depends on datatype
* {{{datatype}}} - the datatype you would like to receive
* {{{count}}} - may 'limit the number of waveform points'.  I don't know what this means.

!!!{{{caput}}}
This sets the value of a certain PV

!!!{{{camonitor}}}
Receive notification when a PV changes.

Arguments:
* {{{callback}}} - the function called when the values changes:
** if one PV is specified, {{{callback(value)}}} is called
** if more than one PV is specified, {{{callback(value, index)}}} is called

!!!{{{connect}}}
Establish connection to PV before trying to interact with it.  This is apparently not terribly useful.

!!!{{{ca_nothing}}}

{{{ca_nothing}}} is an exception class.  It can mean something has gone wrong, but it could also mean that something has gone right.  The {{{maybe_throw}}} decorator changes exception handling to take this possibility into account.  When you call {{{caget}}} or {{{caput}}}, you can specify whether to throw an exception or simply return a {{{ca_nothing}}} object, which you can query to find more information.  Another useful example is when retrieving an array of values.  If some of the calls are invalid, {{{ca_nothing}}} objects are in the returned array.

</pre>
</div>
<div _hash="3e4711a54e07486652bc16ecb532a3ed8b199212" created="20131206161838000" creator="willrogers" modified="20131206161838000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CaToolsImplementation/1580189:704a00fe8282bf243e32a3b1e24340b2deb2a60c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1580189" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CaToolsImplementation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CaToolsImplementation" type="text/x-tiddlywiki">
<pre>The CaTools interface is quite simple, but the implementation is fairly complicated to allow this.

!!!{{{Channel}}}
A class which represents one connection to a PV.

!!!{{{ChannelCache}}}
A simple class which stores the {{{Channel}}} objects.  It is basically a dictionary with PV names as keys; if the item doesn't exist, it creates a new one.</pre>
</div>
<div _hash="0248adf49ade764f5bc5ec80d7a79cb729e76ece" created="20120609205659000" creator="willrogers" modified="20130717085850000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CBasicIO/1310853:f5c0c2550b5061781b395e096e7ff3f5b544cdff&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1310853" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CBasicIO" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CBasicIO" type="text/x-tiddlywiki">
<pre>This demonstrates {{{getchar()}}}, {{{putchar()}}} and the constant {{{EOF}}} (defined in {{{&lt;stdio.h&gt;}}}.  We use int because char and int are interchangeable, and EOF is defined as an int, which is not the same as any other char.
* In Linux, EOF is ^D
* In Windows, EOF is ^Z
{{{
#include &lt;stdio.h&gt;

main() {
    int c;

    c = getchar();
    while (c != EOF) {
        putchar(c);
        c = getchar();
    }
}
}}}

For files, you need to open a file pointer:
{{{
FILE *fp = fopen("file", "r");
char c = fgetc(fp);
}}}
You can use these convenience functions:
{{{
isspace(char);
ispunct(char);
isalpha(char);
}}}</pre>
</div>
<div _hash="c82ba55465079e8669dd7b2f2fc35bb323d5d01a" created="20110805140218000" creator="willrogers" modified="20140713204231000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CBasics/1827221:bc70efd6c65e6e5604ec035e2c6fc715919ea6d0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1827221" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c programming" title="CBasics" type="text/x-tiddlywiki">
<pre>The very first bits of C.  In general, things I learn about C will be transferable to C++, but not vice versa.  I'll prefix all C pages with 'C', and all C++ ones with CPP.

As well as K&amp;R, these notes seem very good to me: http://www.eskimo.com/~scs/cclass/

* CPPBasics

* CDocumentation

* CPrimitiveTypes
* CNumbers
* CPointers
* CMemory
* CEnums
* CStructs
* CStrings
* CBasicIO
* CPrintf
* CLinking
* CEscapeChars
* CStdFunctions
* CKeywords
* CTypedef
* PThreads

See also GnuMake

!!Hello World
This is quite simple: 
{{{
#include &lt;stdio.h&gt;

main()
{
   printf("Hello World!\n");
}
}}}
Then, with gcc:
{{{
will@will-VirtualBox:~/ccode$ gcc -o hello hello.c
will@will-VirtualBox:~/ccode$ ./hello 
Hello World!
}}}
It's probably a good idea  to compile with {{{-Wall}}} so that you see all the warnings that the compiler has to offer.

!!Syntax
Java was of course based somewhat on C in the first place, so a lot of the control flow works in the same way.
* Comments are the same.
** This isn't strictly true; the {{{//}}} comment was added in C99, so some C compilers won't recognise it.
* {{{ for (i = 2; i &lt; 10; i++) }}} is the same, but you can't declare {{{ int i }}} inside the brackets.
* "a string" for strings and 'c' for characters.
** a string constant is just an array of chars, and is always finished by '\0' so it's one cell in memory longer than it looks.
** that's not true of other arrays
* arrays: {{{ int intarray[10]; }}}
** {{{ char[] message = "now is the time"; }}}
** {{{int myArray[10] = { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5 };}}}
** {{{int myArray[10] = {0};}}} - initialise to 0 (strictly, if you specify one item the rest will be zeros).
* if, else if, else
* functions: {{{ return-type function(type parameter1, type parameter2) { ... } }}}
** you need to declare any variables in a function at the top of the function
* return &lt;something&gt;;
* {{{++i}}} and {{{i++}}} and {{{--i}}} and {{{i--}}}
* ternary operator
* switch (c)

* There's no public or private in C.
* There's no boolean defined by default in C; 0 is false, and anything else is true.
** Here's an example: {{{ while ((*s++ = *t++) != '\0') }}} can be written as {{{ while (*s++ = *t++) }}}
* Any variable declared outside a function is global; it can then be referenced using {{{ extern &lt;variable&gt; }}}, but if it's in the same file and declared earlier it can be used without this.
** You have to declare these variables as others used in the function
** {{{extern int x;}}} 

* C always passes by value.  This means that if you are passing something large like a struct into a function, it is generally a good idea to use a pointer rather than passing the struct itself; passing the struct would imply making a copy of it, which takes time but also uses up the stack.

\(X\subset\Gamma^n\) 

!!!Constants
There are two ways to create a constant.  You can define a constant as follows:
{{{
#define PI 3.14159
}}}
There's no type-checking here - the 'preprocessor' just substitutes this string throughout the program.  When I tried to substitute a number which was too long for an int, a compiler warning was generated and I had to change to use a {{{long long}}} instead.  Using {{{#define NOTHING}}} (i.e. no value provided) simply replaces an empty string.  I believe that this can be useful for managing the {{{ifndef}}} preprocessor directives.

The other way is to use the {{{const}}} keyword - see CKeywords. 

!!!Bitwise manipulation
* {{{&amp;}}}
* {{{|}}} 
* {{{^}}}
* {{{&lt;&lt;}}}
* {{{&gt;&gt;}}}
* {{{~}}}
</pre>
</div>
<div _hash="38be0b130272bc01db5b350e29ae7d5244a88257" created="20130216150028000" creator="willrogers" modified="20130216152935000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CDocumentation/1084137:5c3ca43e8a4288166c6ef369f0fc593c2dcebdb6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1084137" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CDocumentation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CDocumentation" type="text/x-tiddlywiki">
<pre>The best documentation for the C language is probably the C book, which I have borrowed from Cristina.

The standard library documentation is found at the GNU site: http://www.gnu.org/software/libc/manual/index.html.  The contents are here:
* http://www.gnu.org/software/libc/manual/html_node/index.html

1. Introduction
2. Errors - codes, messages, and how to handle them
3. Memory
4. Characters
5. Strings and arrays
6. Character sets
7. Locales
8. ?
9. Sorting and searching
10. Pattern matching
11. IO - an introduction
12. IO Streams
13. Low-level IO
14. Filesystem
15. Pipes and FIFOs
16. Sockets
17. Terminal Interface
18. Syslog
19. Mathematics
20. Arithmetic
21. Date and time
22. Resource usage
23. Non-local exits
24. Signal handling
25. Program/system interface
26. Processes
27. Job control
28. ?
29. Users and groups
30. System management
31. System configuration
32. Encryption and passwords
33. Debugging

</pre>
</div>
<div _hash="5444c1fdbec049b3b162222968d04280f94a0f29" created="20130709092053000" creator="willrogers" modified="20130709094914000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CEnums/1301284:1613826dfdbd38e647b607452a36fb77c1f664fa&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1301284" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CEnums" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CEnums" type="text/x-tiddlywiki">
<pre>Enums are a ways of naming different values, so that you're not just using arbitrary constants all over the place.  They also make the code read more clearly, and allow some sort of type-checking.  Here's an example from Wikipedia:
&lt;&lt;&lt;
For instance:
myColor = TRIANGLE
can be forbidden, whilst
myColor = RED
is accepted, even if TRIANGLE and RED are both internally represented as 1.
&lt;&lt;&lt;
Here's an example:
{{{
enum boolean { NO, YES };
...
enum boolean finished = NO;
}}}
By default, an enum assigns 0 to the first item and imcrements; you can specify the first and it will increment from there, or you can specify them all.  In C, enums must be assigned integer values.

You cannot define two enums using the same name for some value.  Defining an enum effectively defines those constants.  This means that it is possible to define an anonymous enum.  Here's an example from FastFeedback:
{{{
enum {
  PM_POST = 0,
  PM_START,
  PM_FREE,
  PM_STOP
};
...
if(feedback.pmode == PM_STOP || (feedback.pmode == PM_POST &amp;&amp; feedback.ok == 0))
}}}
The {{{= 0}}} isn't strictly necessary in this example, because enums begin from zero by default.</pre>
</div>
<div _hash="b5bc640956aabb3f86ab6696e3511bd957f868cb" created="20121124154116000" creator="willrogers" modified="20121124154116000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CEscapeChars/964504:4c5feb35a2cf38cc2c779158656fe2ebebdeeb42&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="964504" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CEscapeChars" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CEscapeChars" type="text/x-tiddlywiki">
<pre>For completeness:

* {{{\a}}} - alert (bell)
* {{{\b}}} - backspace
* {{{\f}}} - formfeed
* {{{\n}}} - newline
* {{{\r}}} - carriage return
* {{{\t}}} - horizontal tab
* {{{\v}}} - vertical tab
* {{{\\}}} - backslash
* {{{\?}}} - question mark
* {{{\'}}} - single quote
* {{{\"}}} - double quote 
* {{{\onn}}} - octal number
* {{{\xnn}}} - hexadecimal number

</pre>
</div>
<div _hash="ec8f3770a4190509c82729fd66367fb503b7657f" created="20130716135148000" creator="willrogers" modified="20130717143801000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CFunctionPointers/1311157:598d826928a44f31bc6b9f622c640e9ad5e2f471&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1311157" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CFunctionPointers" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CFunctionPointers" type="text/x-tiddlywiki">
<pre>Who knew that C had things as screwy as function pointers?  I think the main point is so that you are able to provide functions as callbacks.

This question is a good introduction: http://stackoverflow.com/questions/840501/how-do-function-pointers-in-c-work

!!Basics
{{{
// Function to which we will point
int addInt(int n, int m) {
    return n+m;
}

// Pointer to a function (int, int) -&gt; int
int (*functionPtr)(int,int);

// The types match, so you can point to the function.
functionPtr = &amp;addInt;

// Use the function at the end of the pointer
int sum = (*functionPtr)(2, 3); // sum == 5
}}}</pre>
</div>
<div _hash="862bc0b16d6bb2f0b77c8410640334f4e8c590f5" created="20111108120024000" creator="willrogers" modified="20121212222055000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/ChristmasPresents/991213:ee2c840f8b558ebf7db4013d4ca862abedff714a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="991213" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ChristmasPresents" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="ChristmasPresents" type="text/x-tiddlywiki">
<pre>!!2012
* Liz: How To Tell If Your Cat Is Planning To Kill You
* Liz: [[Behind the Beautiful Forevers|http://www.amazon.co.uk/Behind-Beautiful-Forevers-Death-Mumbai/dp/1846274494/ref=sr_1_1?ie=UTF8&amp;qid=1354015360&amp;sr=8-1]]
* Liz: pyjamas?
* Liz: raspberry sauce
* Cathie: Kenneth Branagh Much Ado on DVD
* E, K, A: Amazon wishlists
* L: 12-18 month girly clothes (charity shop?)

!!2011

* Liz: cuddly penguin, cat; Le Creuset mug, Thai rainbow mug; garlic press; woman saddle; alarm clock
* Dad: Alexander rugby triptych
* Ed: Harry Potter box set
* Katrine: see above
* Alexander:
* Mum: TabletComputer
* Grandad:
</pre>
</div>
<div _cache-max-age="43200" _hash="21f8cd31fb5331db45ab9f2cfbaeb97c6cdf38a9" created="20131111192332000" creator="None" modified="20131111192332000" modifier="None" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/chrjs/1521886:e107c5e7ebaf1a443a757db5c55e6cbac5010c9a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521886" server.permissions="read" server.recipe="willrogers_private" server.title="chrjs" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="chrjs" type="text/x-tiddlywiki">
<pre>/***
https://raw.github.com/tiddlyweb/chrjs/master/main.js
***/
//{{{
// TiddlyWeb adaptor
// v0.14.3

/*jslint vars: true, unparam: true, nomen: true, white: true */
/*global jQuery */

var tiddlyweb = (function($) {

"use strict";

var tw = {
	routes: {
		// host is the TiddlyWeb instance's URI (including server_prefix)
		// placeholders "_type" &amp; "name" refer to the respective bag/recipe
		root     : "{host}/",
		bags     : "{host}/bags",
		bag      : "{host}/bags/{name}",
		recipes  : "{host}/recipes",
		recipe   : "{host}/recipes/{name}",
		tiddlers : "{host}/{_type}s/{name}/tiddlers",
		tiddler  : "{host}/{_type}s/{name}/tiddlers/{title}",
		revisions: "{host}/{_type}s/{name}/tiddlers/{title}/revisions",
		revision : "{host}/{_type}s/{name}/tiddlers/{title}/revisions/{revision}",
		search   : "{host}/search?q={query}"
	}
};

var convertTimestamp, supplant;

// host (optional) is the URI of the originating TiddlyWeb instance
tw.Resource = function(type, host) {
	if(arguments.length) { // initialization
		this._type = type;
		if(host !== false) {
			this.host = host !== undefined ? host.replace(/\/$/, "") : null;
		}
	}
};
$.extend(tw.Resource.prototype, {
	// retrieves resource from server
	// callback is passed resource, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	// filters is an optional filter string (e.g. "select=tag:foo;limit=5")
	get: function(callback, errback, filters) {
		var uri = this.route();
		if(filters) {
			var separator = uri.indexOf("?") === -1 ? "?" : ";";
			uri += separator + filters;
		}
		var self = this;
		return $.ajax({
			url: uri,
			type: "GET",
			dataType: "json",
			success: function(data, status, xhr) {
				var resource = self.parse(data);
				resource.etag = xhr.getResponseHeader("Etag");
				callback(resource, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		});
	},
	// sends resource to server
	// callback is passed data, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	put: function(callback, errback) {
		var self = this;
		var options = {
			url: this.route(),
			type: "PUT",
			contentType: "application/json",
			data: JSON.stringify(this.baseData()),
			success: function(data, status, xhr) {
				callback(self, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		};
		if(this.ajaxSetup) {
			this.ajaxSetup(options);
		}
		return $.ajax(options);
	},
	// deletes resource on server
	// callback is passed data, status, XHR (cf. jQuery.ajax success)
	// errback is passed XHR, error, exception, resource (cf. jQuery.ajax error)
	"delete": function(callback, errback) {
		var self = this;
		var options = {
			url: this.route(),
			type: "DELETE",
			success: function(data, status, xhr) {
				callback(self, status, xhr);
			},
			error: function(xhr, error, exc) {
				errback(xhr, error, exc, self);
			}
		};
		if(this.ajaxSetup) {
			this.ajaxSetup(options);
		}
		return $.ajax(options);
	},
	// returns an object carrying only the essential information of the resource
	baseData: function() {
		var data = {},
			self = this;
		$.each(this.data, function(i, item) {
			var value = self[item];
			if(value !== undefined) {
				data[item] = value;
			}
		});
		return data;
	},
	// returns corresponding instance from a raw object (if applicable)
	parse: function(data) {
		return data;
	},
	// list of accepted keys in serialization
	data: [],
	// returns resource's URI
	route: function() {
		return supplant(tw.routes[this._type], this);
	}
});

var Container = function(type, name, host) {
	if(arguments.length) { // initialization
		tw.Resource.apply(this, [type, host]);
		this.name = name;
		this.desc = "";
		this.policy = new tw.Policy({});
	}
};
Container.prototype = new tw.Resource();
$.extend(Container.prototype, {
	tiddlers: function() {
		return new tw.TiddlerCollection(this);
	},
	parse: function(data) {
		var type = tw._capitalize(this._type),
			container = new tw[type](this.name, this.host);
		data.policy = new tw.Policy(data.policy);
		return $.extend(container, data);
	},
	data: ["desc", "policy"]
});

// attribs is an object whose members are merged into the instance (e.g. query)
tw.Collection = function(type, host, attribs) {
	if(arguments.length) { // initialization
		tw.Resource.apply(this, [type, host]);
		$.extend(this, attribs);
	}
};
tw.Collection.prototype = new tw.Resource();

tw.TiddlerCollection = function(container, tiddler) {
	if(arguments.length) { // initialization
		tw.Collection.apply(this, [tiddler ? "revisions" : "tiddlers"]);
		this.container = container || null;
		this.tiddler = tiddler || null;
	}
};
tw.TiddlerCollection.prototype = new tw.Collection();
$.extend(tw.TiddlerCollection.prototype, {
	parse: function(data) {
		var container = this.container;
		return $.map(data, function(item, i) {
			var tiddler = new tw.Tiddler(item.title, container),
				bag = item.bag;
			tiddler = tw.Tiddler.prototype.parse.apply(tiddler, [item]);
			if(!tiddler.bag &amp;&amp; bag) { // XXX: bag always present!?
				tiddler.bag = new tw.Bag(bag, container.host);
			}
			if(!tiddler.recipe &amp;&amp; item.recipe) {
				tiddler.recipe = new tw.Recipe(item.recipe, container.host);
			}
			delete item.recipe;
			return $.extend(tiddler, item);
		});
	},
	route: function() {
		var params = this.container;
		if(this.tiddler) {
			var container = this.tiddler.bag || this.tiddler.recipe;
			params = {
				_type: container._type,
				host: container.host,
				name: container.name,
				title: this.tiddler.title
			};
		}
		return supplant(tw.routes[this._type], params);
	}
});

tw.Search = function(query, host) {
	tw.Collection.apply(this, ["search", host]);
	this.query = query;
};
tw.Search.prototype = new tw.Collection();
$.extend(tw.Search.prototype, {
	parse: function(data) {
		this.container = { // XXX: hacky
			_type: "bag",
			host: this.host
		};
		var tiddlers = tw.TiddlerCollection.prototype.parse.apply(this, arguments);
		delete this.container;
		return tiddlers;
	}
});

// title is the name of the tiddler
// container (optional) is an instance of either Bag or Recipe
// optionally accepts a single object representing tiddler attributes
tw.Tiddler = function(title, container) {
	tw.Resource.apply(this, ["tiddler", false]);
	this.title = title;
	this.bag = container &amp;&amp; container._type === "bag" ? container : null;
	this.recipe = container &amp;&amp; container._type === "recipe" ? container : null;
	var self = this;
	$.each(this.data, function(i, item) {
		self[item] = undefined; // exposes list of standard attributes for inspectability
	});
	if(title &amp;&amp; title.title) { // title is an object of tiddler attributes
		$.extend(this, title);
	}
};
tw.Tiddler.prototype = new tw.Resource();
$.extend(tw.Tiddler.prototype, {
	revisions: function() {
		return new tw.TiddlerCollection(this.bag || this.recipe, this);
	},
	route: function() {
		var container = this.bag || this.recipe;
		var params = $.extend({}, this, {
			host: container ? container.host : null,
			_type: this.bag ? "bag" : (this.recipe ? "recipe" : null),
			name: container ? container.name : null
		});
		return supplant(tw.routes[this._type], params);
	},
	parse: function(data) {
		var tiddler = new tw.Tiddler(this.title),
			container = this.bag || this.recipe;
		if(data.bag) {
			tiddler.bag = new tw.Bag(data.bag, container.host);
			delete data.bag;
		}
		delete data.recipe;
		tiddler.created = data.created ? convertTimestamp(data.created) : new Date();
		delete data.created;
		tiddler.modified = data.modified ? convertTimestamp(data.modified) : new Date();
		delete data.modified;
		if(this.recipe) {
			tiddler.recipe = this.recipe;
		}
		return $.extend(tiddler, data);
	},
	data: ["created", "creator", "modifier", "modified", "tags", "type", "text",
			"fields"],
	ajaxSetup: function(options) {
		var self = this;
		if(this.etag &amp;&amp; (options.type === "PUT" || options.type === "DELETE")) {
			options.beforeSend = function(xhr) {
				xhr.setRequestHeader("If-Match", self.etag);
			};
		}
		if(options.type === "PUT") {
			var callback = options.success;
			options.success = function(data, status, xhr) {
				var loc = xhr.getResponseHeader("Location"),
					etag = xhr.getResponseHeader("Etag");
				if(loc &amp;&amp; etag) {
					self.etag = etag;
					if(!self.bag) {
						var bag = loc.split("/bags/").pop().split("/")[0];
						self.bag = new tw.Bag(bag, self.recipe.host);
					}
					callback(self, status, xhr);
				} else { // IE
					self.get(callback, options.error);
				}
			};
		}
	}
});

tw.Revision = function(id, tiddler) {
	var container = tiddler.bag || tiddler.recipe;
	tw.Tiddler.apply(this, [tiddler.title, container]);
	this._type = "revision";
	this.revision = id;
};
tw.Revision.prototype = new tw.Tiddler();
$.extend(tw.Revision.prototype, {
	revisions: false,
	data: false,
	put: false,
	"delete": false
});

tw.Bag = function(name, host) {
	Container.apply(this, ["bag", name, host]);
};
tw.Bag.prototype = new Container();

tw.Recipe = function(name, host) {
	Container.apply(this, ["recipe", name, host]);
	this.recipe = [];
};
tw.Recipe.prototype = new Container();
$.extend(tw.Recipe.prototype, {
	data: ["recipe"].concat(Container.prototype.data)
});

tw.Policy = function(constraints) { // TODO: validation?
	var self = this;
	$.each(this.constraints, function(i, item) {
		self[item] = constraints[item];
	});
};
tw.Policy.prototype.constraints = ["read", "write", "create", "delete",
	"manage", "accept", "owner"];

/*
 * utilities
 */

tw._capitalize = function(str) {
	return str.charAt(0).toUpperCase() + str.slice(1);
};

// convert YYYYMMDDhhmmss timestamp to Date instance
convertTimestamp = function(t) {
	if (t.match(/^\d{12,17}$/)) {
		return new Date(Date.UTC(
			parseInt(t.substr(0, 4), 10),
			parseInt(t.substr(4, 2), 10) - 1,
			parseInt(t.substr(6, 2), 10),
			parseInt(t.substr(8, 2), 10),
			parseInt(t.substr(10, 2), 10),
			parseInt(t.substr(12, 2) || "0", 10),
			parseInt(t.substr(14, 3) || "0", 10)
		));
	} else {
		return new Date(Date.parse(t));
	}
};

// adapted from Crockford (http://javascript.crockford.com/remedial.html)
supplant = function(str, obj) {
	return str.replace(/{([^{}]*)}/g, function (a, b) {
		var r = obj[b];
		r = typeof r === "string" || typeof r === "number" ? r : a;
		return $.inArray(b, ["host", "query"]) !== -1 ? r : encodeURIComponent(r); // XXX: special-casing
	});
};

return tw;

}(jQuery));
//}}}</pre>
</div>
<div _hash="c4e189bae2fb7ff7e2dce9b433eac7dcb11a5cfc" created="20130210103810000" creator="willrogers" modified="20130715155431000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CKeywords/1308988:e67eb3fc51fa1595a12d7ca633d9d97f9cbb1bef&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1308988" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CKeywords" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CKeywords" type="text/x-tiddlywiki">
<pre>This page lists them all: http://tigcc.ticalc.org/doc/keywords.html

!!!{{{void}}}
This has several purposes:
* {{{int func(void) { .. } }}}
** This means that you're not allowed to pass an argument
* {{{void func(int i) { .. } }}}
** This means that the function returns nothing
* {{{void *p;}}}
** This means that the pointer doesn't have an explicit type, but it must be cast before dereferencing:
** {{{*(int*)p = 2;}}}
** The advantage is that the pointer can point to any type; the disadvantage is that you need to keep track of what it is actually pointing to.

!!!{{{const}}}
The {{{const}}} keyword has several interpretations.  The simple one is to declare a constant value: {{{const int ten = 10;}}}.  This means that the value of x is a constant, and any attempt to change it will result in a compiler error.

It gets much more complex when pointers are involved.
{{{
char * const str = "hello, world";
}}}
This makes the pointer constant, so while you can change the underlying string, you can't change the location specified by the pointer.
{{{
const char * str = "hello, world";
}}}
This is the opposite - the pointer value can be changed, but the underlying string cannot.  You can make them both constant with 
{{{
const char * const str = "hello world"; 
}}}
!!!{{{static}}}
This has two meanings:
* an external or global variable can't be used outside its file.  The same applies for functions.
* you can also set static variables in functions, which keep their values between function calls, similar to static variables in classes

!!!{{{union}}}
A union defines a variable which might have a different type at different times.  I don't think it's useful that often.

!!!{{{inline}}}
The idea behind this keyword is that it tells the compiler that this is an important function and it should try to optimise it.  There are a few ways of doing it, but the one I have seen is {{{static inline}}}.  The function was in a header file in this case.

!!!{{{register/volatile}}}
* {{{register}}} allows you to try and optimise code by saying a variable will be used a lot, but modern compilers ignore it.
* {{{volatile}}} is used if the variable may be altered unexpectedly, so you can make sure that it is loaded from memory each time rather than a cache.  It's fairly rare you'd want to use it, perhaps when dealing directly with hardware.</pre>
</div>
<div _hash="f6b874681a7326a6aab010fa4079bce5dcbb0bcf" created="20120609211834000" creator="willrogers" modified="20130717142614000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CLinking/1311150:bb0c86fc058e45103be515bd3741b769547f3d02&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1311150" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CLinking" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c programming" title="CLinking" type="text/x-tiddlywiki">
<pre>!!Include

One way to define an interface is for {{{local.h}}} to contain the declarations for the functions defined in {{{local.c}}}.  You don't have to include both.
* {{{ #include "local.h" }}}
* {{{ #include "local.c" }}}
* {{{ #include &lt;library.h&gt; }}}

In order to use a function in a different file, its 'prototype' has to be declared at the top of the file (also known as a 'forward declaration').  This is a bit like an interface in Java.  Alternatively, you can list these prototypes in a file of the same name but with an h extension.  The names of .c and .h files don't have to match.

The {{{#include}}} directive has the effect of putting the prototypes (generally declared in a header file) at the top of the file, rather than typing out all the prototypes at the the top of the file that uses them.  It also means that a change to the API can be changed in the header file, and not everywhere that the functions are used.

A frequent risk of using header files is that one program may include a certain file more than once.  Defining a function twice causes an error.  This is why you often see {{{#ifndef}}} at the start of a file - it's a trick to make sure that each file is included once.

If you put the header file in angle brackets, the system paths are searched.  Putting it in quotes also adds the current directory.</pre>
</div>
<div _hash="b21fe0ea0a8dba52788155f5ed2188b45210d076" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/svg+xml" server.etag="&quot;tiddlyspace/close.svg/1521888:5a53de694532a867c12970ac7b3316c4c925c922&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521888" server.permissions="read" server.recipe="willrogers_private" server.title="close.svg" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="close.svg" type="text/x-tiddlywiki">
<pre>&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
&lt;!-- Created with Inkscape (http://www.inkscape.org/) --&gt;

&lt;svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   version="1.1"
   width="14pt"
   height="14pt"
   viewBox="918 510 14 14"
   id="svg3070"&gt;
  &lt;metadata
     id="metadata3089"&gt;
    &lt;rdf:RDF&gt;
      &lt;cc:Work
         rdf:about=""&gt;
        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;
        &lt;dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /&gt;
        &lt;dc:title&gt;&lt;/dc:title&gt;
      &lt;/cc:Work&gt;
    &lt;/rdf:RDF&gt;
  &lt;/metadata&gt;
  &lt;defs
     id="defs3072"&gt;
    &lt;radialGradient
       cx="0"
       cy="0"
       r="1"
       id="Gradient"
       gradientUnits="userSpaceOnUse"&gt;
      &lt;stop
         id="stop3075"
         style="stop-color:#ffffff;stop-opacity:1"
         offset="0" /&gt;
      &lt;stop
         id="stop3077"
         style="stop-color:#2b2b2b;stop-opacity:1"
         offset="1" /&gt;
    &lt;/radialGradient&gt;
    &lt;radialGradient
       id="Obj_Gradient"
       xlink:href="#Gradient"
       gradientTransform="matrix(11.473944,0,0,11.473944,922.3752,513.7837)" /&gt;
  &lt;/defs&gt;
  &lt;g
     id="g3080"
     style="fill:none;stroke:none"&gt;
    &lt;g
       id="g3082"&gt;
      &lt;path
         d="m 929.6952,512.9018 c -2.5384,-2.53843 -6.654,-2.53843 -9.1924,0 -2.5384,2.5384 -2.5384,6.654 0,9.19238 2.5384,2.53839 6.654,2.53839 9.1924,0 2.5384,-2.53838 2.5384,-6.65398 0,-9.19238 m -4.5962,2.8407 2.07733,-2.07734 1.75547,1.75549 -2.0773,2.07735 2.0773,2.07732 -1.75547,1.75548 -2.07733,-2.07732 -2.07733,2.07732 -1.75547,-1.75548 2.0773,-2.07732 -2.0773,-2.07735 1.75547,-1.75549 z"
         id="path3084"
         style="fill:url(#Obj_Gradient)" /&gt;
      &lt;path
         d="m 927.61447,515.38354 a 4.51205,4.2590378 0 1 1 -9.0241,0 4.51205,4.2590378 0 1 1 9.0241,0 z"
         transform="matrix(1.0218069,0,0,1.0462046,-18.063694,-21.648443)"
         id="path2394"
         style="fill:#000000;fill-opacity:0;fill-rule:evenodd;stroke:none;stroke-width:5;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" /&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="1ddacf68b541cb91b7b896c9c2934ec79e8997a0" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/closeTiddler/1521934:3533c4f2bb3ea6d91be01e77d0ec411b77f7722b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521934" server.permissions="read" server.recipe="willrogers_private" server.title="closeTiddler" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="closeTiddler" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="78 222 60 60" 
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 107.92718 244.14815 L 86.651474 222.89253 L 78.85206 230.69925 L 100.120415 251.9476 L 78.774 273.27396 
		L 86.57342 281.08075 L 107.927216 259.74707 L 129.39981 281.19946 L 137.19922 273.39267 L 115.73397 251.94763 
		L 137.121155 230.58054 L 129.32175 222.77374 Z" fill="black" class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="28822e6171fc4233364a669df20ef1156742a4a6" created="20120628104755000" creator="willrogers" modified="20120628104755000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CloudUbuntu/763747:1410206e9286868731f3fb1e522445903f574c65&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="763747" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CloudUbuntu" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CloudUbuntu" type="text/x-tiddlywiki">
<pre>Frazer has put an Ubuntu image on the !StratusLab marketplace.

The best way I've found to connect to it is to ssh in (username will, password wp) install freenx and gnome-shell, then use NX client for Windows to connect.

* FreeNX Ubuntu instructions are here: https://help.ubuntu.com/community/FreeNX
* {{{sudo apt-get install gnome-shell}}}
* Specify GNOME in the NX client configuration</pre>
</div>
<div _hash="b01f1141cfef401cdc04da714f615af8d1906c76" created="20130209203344000" creator="willrogers" modified="20130716124547000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CMemory/1310114:af5bb2277b5d61447c29d1a44608c5c8488d85c8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1310114" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CMemory" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c memory" title="CMemory" type="text/x-tiddlywiki">
<pre>!!!Memory
Memory is typically allocated in chunks.  One byte could hold a char, two could hold a short and four (but probably 8) might hold an int.  A ''pointer'' might be two or four bytes, and will point to one of the other bytes - that is, holding an address.

There is a distinction between memory parts called the 'stack' and the 'heap'.  There's a lot of good material here
* http://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap
* a very good presentation [[here|http://www.google.co.uk/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=4&amp;ved=0CD4QFjAD&amp;url=http%3A%2F%2Fwww.iar.com%2FGlobal%2FResources%2FSeminars%2FWorking_with_the_Stack_and_Heap.pdf&amp;ei=ZLZ3UMDLD6q40QW874HQBA&amp;usg=AFQjCNHIaLCPNqY5dGkdMcc7563kE-G9MA&amp;sig2=JnDCXgpPur8ldwXukyxSDg]] too.
!!!The stack
The stack is small and fast, and it's used for e.g. variables declared within certain scopes.  Those variables are automatically destroyed when they reach the end of their validity.  You would create an int like this:
{{{
int x = 1;
}}}

You can use a stack for this because nested function calls work in the same way as a stack - the most recently-defined variables are lost whenever a function exits.

!!!The heap
The heap is larger, and more difficult to deal with.  When you create something with the 'new' keyword (C++) or malloc() (C), it is created on the heap, and you are returned a pointer to it.  If you leave the scope you're in, the object remains, and it is up to you to delete it.  If you don't it will cause a memory leak.

To create something on the heap, you need to use the {{{malloc()}}} function.  If you do this, you must later use the {{{free()}}} function to release the memory, or it will cause a memory leak.
{{{
int *iptr = malloc(sizeof(int));
free(iptr);
}}}

You may want to do this if you're trying to pass a variable around outside of scope (you could return a pointer to that variable), or if you have large items which might use up too much space on the stack.  In practice, you don't need this too much in small programs.  You also need to do this if you don't know the size of an array that you're going to create.

</pre>
</div>
<div _hash="b965c37fc1e914495eb4fa3920808b7613b7447f" created="20110805152207000" creator="willrogers" modified="20131223112327000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CNumbers/1603930:826363e67def111c67f06e4db9d90e6a96a277f7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1603930" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CNumbers" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c programming" title="CNumbers" type="text/x-tiddlywiki">
<pre>See CPrimitiveTypes.

Arithmetic works as Java.  The double slash as in Python doesn't mean anything (it's a comment!)

* 7 / 2 -&gt; 3
* 7 % 2 -&gt; 1

* {{{7.0 / 2.0 -&gt; 3.5}}}
* 

{{{ atoi(char[] s) }}} converts a string to an integer.</pre>
</div>
<div _hash="3579ba59bd1c5e4e3b96ee21fcb0c937e964fa02" created="20110423100123000" creator="willrogers" modified="20110423100554000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CodePython/363866:a10fd81dd81bae382dd22bd44ffaa7980537e7b9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363866" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CodePython" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="gchq puzzles python" title="CodePython" type="text/x-tiddlywiki">
<pre>Here's the source code.

{{{
#!/usr/bin/env python

# This file has the first code, the second code and the decoded text.
# The two codes encode the same plain text.
f = open('strings.txt')

code1 = f.readline()
code2 = f.readline()
plain = f.readline()

f.close()



# construct the Vigenere Square
abc = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
abc2 = abc + abc
vsquare = {}

for letter in abc:
    n = abc.index(letter)
    vsquare[letter] = abc2[n:n+26]


# Get the key as a stream given the encoded version
# and the plain text version.
def get_key(code, plain):
    key_stream = ""
    # zip truncates to the length of the shorter 
    for p_letter, c_letter in zip(plain, code):

        no = vsquare[p_letter].index(c_letter)
        key = abc[no]
        key_stream += key
    return key_stream

key = get_key(code1, plain)
print key
print '\n'

# Given the code and the key stream, extract the uncoded version.
def decode(code, key):
    code = code.strip()
    key = key.strip()
    plain = ""
    for c_letter, k_letter in zip(code, key):
        
        no = vsquare[k_letter].find(c_letter)
        k = abc[no]
        plain += k
    return plain

answer = decode(code2, key)
print answer
print '\n'

key.strip()
# Get the key as numbers
number_key_list = [str(abc.find(letter)) for letter in key]
number_key = "".join(number_key_list)

print number_key
print len(number_key)

# Get the first 225 letters before it repeats
number_key2 = number_key[:225]
print '225-number key:'
print number_key2
print 'trying to get the square:\n'
row = ""
i = 1
for no in number_key2:
    if len(row) == 15:
        print row 
        row = ""
        i = i + 1
    row += str(no)

print row + '\n'
    

full_key = number_key2 + number_key2
full_key  = [str(abc[int(no)]) for no in full_key]
full_key = "".join(full_key)


answer = decode(code2, full_key)
print answer

f4 = open('raw_answer.txt', 'a')
f4.write(answer + '\n')
f4.close()
}}}</pre>
</div>
<div _hash="a2d872e6289efdb86938e67ef77a077c49e4ece8" created="20111019115651000" creator="willrogers" modified="20111021131305000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CollaborationBoard/363893:219dde83db56d13d81dee29b9cba23fc516dad1f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363893" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CollaborationBoard" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CollaborationBoard" type="text/x-tiddlywiki">
<pre>Collaboration Board meeting at the EMI AHM in Padova, led by Alberto di Meglio.

!!!Main consequence for us (as far as I can tell):
* We've got to re-estimate our usage of money, explain why we used too little and make sure that if we want to spend the rest we declare it explicitly.

!!!Everything else

''1. Attendance''
''2. Discussion over who should be chairman''
* Perhaps the host country's representative until the next meeting
''3. Project Status''
* EMI 1 released, mostly in UMD
* EMI 2 - innovation
** Development tracker
** QA process well established
** User support in place w/ SLA
** Dissemination and relationships - under way
* Now half-way through the project

''4. Recommendations from Review''
* New Strategy Director - Morris Riedel
* Improve cost forecasting, reporting and management
** Link costs with work carried out (for individual partners)
** PPTs just don't give useful detail in practice.  Plus not much use for forecasting.
* Improve resource reporting, particularly time and money
** e.g. some partners report travel, some don't
** Perhaps some people use money for effort which is meant for travel
* Reduce the number of deliverables and improve their coherence.  Reduce the size of all the reports.
* Improve sustainability plans and commit to longer support than 3 months after the end of the project
* Improve outreach, promotion, and website
** The website might be nice, but it's not relevant.  People go to the twiki instead.  They don't find what they need on the website.
* Increase the level of technical detail in ... ?
* Establish a formal relationship with PRACE.  What's PRACE?
** A high-level European research computing project
* Improve industrial engagement
** Google no longer replies
** Red Hat - 'how many licences do you want to buy?'
** We shouldn't beg that people like EMI...?
* Clouds: 
** Establish a market position
** Leverage strengths of grids over clouds
* Increase visibility of EMI, in particular in relation to standards bodies

''5. Structure of PTB (not scheduled)''
Long discussion of the structure of the PTB, which I didn't follow very well.  I think the problem is raised by the lack of a Unicore person on the PTB.  Some people say that other groups explicitly include members of all middlewares, whereas the PTB is supposed to be a purely technical group.  Including all midd

The issue is:
* Should there be a representative of all 4 middlewares on the PTB?  The 4 are: ARC, gLite, Unicore, dCache.
* Should the PTB be trusted to include Unicore in the PTB meetings whenever it is relevant.  If this causes a problem over the next 6 months, it should be raised and the topic raised again.

An alternative formulation is:
* Should we leave the PTB formulation as it is?

This was voted on.  I abstained, but leant towards agreeing and voting yes.  The motion was passed.

After coffee, this left about 40 minutes for the rest of the meeting.

''5. Budget''
** Project average is fine
** There is still discussion about each partner's usage - whether they are under- or over-spent.
** Proposal: project future spend on the basis of current spending rates.
** I think it's a case of best using the money available to the project
** But does it mean that those people underspending so far get penalised and those who are over-spending get the benefit?  This does seem to be the case.
** We've been asked to evaluate the costs for the rest of the project to complete the tasks assigned to us.  We didn't provide forecasts until today.  If we want the money, we'd better think about this...  It seems that the institutions in yellow have usually underestimated, so the money as it stands may not be available.
** Alberto di Meglio: they want to ensure that all the money available is used for the project.  The project is already half-way through - is it optimistic to assume that people will correct their budgets to the original values.  It is important to spend the money we are allocated, and the risk of a partner coming to the end of the project and saying then that they underspent.
*** We have achieved most of our aims with a significant underspend.  Why is this?
** All they want to do is to realign the spending so that it is realistic.
** There should be explanations both for underspending and overspending partners, and what the consequence is for the project and their tasks.

One thing people seem to forget is that just because we get a certain amount of money to do a certain task does not mean that that is how much money the task requires.  Actually Alberto mentioned this at a later point.</pre>
</div>
<div _hash="5102119bbe9f2f3f3e75e4dd195e96f2607acb78" created="20110421100842000" creator="willrogers" modified="20110423101451000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ColorPalette/363908:521b9eb247507cadc47d6b8f6f4326908d4b47ea&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363908" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ColorPalette" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="excludeLists excludeSearch" title="ColorPalette" type="text/x-tiddlywiki">
<pre>/*{{{*/
Background: #e3e4f2
Foreground: #0c0e1b
PrimaryPale: #edeef6
PrimaryLight: #888ec8
PrimaryMid: #3b4281
PrimaryDark: #0d0e1c
SecondaryPale: #f0f6ed
SecondaryLight: #9cc888
SecondaryMid: #51813b
SecondaryDark: #121c0d
TertiaryPale: #f6eeed
TertiaryLight: #c88f88
TertiaryMid: #81433b
TertiaryDark: #1c0f0d
Error: #f88
ColorPaletteParameters: HSL([234|47], [0.36949054803699255],[0.08225952461361885|0.3712792849012961|0.6602990451889733|0.9493188054766506])
/*}}}*/</pre>
</div>
<div _hash="bfe2408ed9b5cebf918768cae9c9e15bdb8f3309" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/colorScheme/1521879:945c691218a6d1bd26555a521e275f3d176f24fb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521879" server.permissions="read" server.recipe="willrogers_private" server.title="colorScheme" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeSearch" title="colorScheme" type="text/x-tiddlywiki">
<pre>Unless you're delighted with the default theme you can make some quick changes by generating a new random color palette, hit this button to cycle through some alternatives.

&lt;&lt;RandomColorPaletteButton saturation_pale:0.67 saturation_light:0.53
saturation_mid:0.43 saturation_dark:0.06 pale:0.99 light:0.85 mid:0.5 dark:0.31&gt;&gt;

You can also change the look and feel completely by installing a new theme. To do this, find one you like in the @themes space, note down the name, and include it in this space by going to the space menu. You can reach the space menu by clicking on the blue and pink circle at the top-right of the page and chooshing "THIS SPACE". Here are a few to check out:
* @pip
* @caspian-ii
* @basalt
* @simplicity
* @cheesecake
* @jelly-doughnut

(//Note that if you are using a custom TiddlySpace install, these themes may not be present.//)</pre>
</div>
<div _hash="6db2eeaf436d259e6241374207b4731ca5c62137" created="20130708134118000" creator="willrogers" modified="20131125155951000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CompilingEdm/1560802:a2382a8520b44b977d3bd21364049aa5b5ad871e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1560802" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CompilingEdm" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CompilingEdm" type="text/x-tiddlywiki">
<pre>It looks like it is not that difficult to compile EDM.  It doesn't compile by itself - you have to compile it in the correct location for EPICS.

!!Makefile
* The top-level makefile contains more-or-less nothing - just some files to include.  
* {{{src/Makefile}}} shows which extensions will be built

!!Compiling
{{{
svn co $SVN_ROOT/epics/trunk/extensions
}}}
This directory contains the directories {{{config}}}, {{{configure}}} and {{{src}}}, and the makefile.
* Edit {{{src/Makefile}}} and comment out all DIRS except msi and edm.  
** You can make everything except {{{makeDlsApp}}}, but that tries to install in prod
* Correct the {{{EPICS_HOST_ARCH}}} variable if necessary
*  {{{make}}}
To remove the build artefacts, use 
* {{{make clean}}}
To build using debugging symbols (that's generally a {{{-g}}} option to gcc), use:
* {{{make HOST_OPT=NO}}}


After building, we've also got additional directories
* {{{bin}}}, which includes {{{edm}}}, {{{edmMain}}} and {{{msi}}}
** {{{edm}}} is just a shell script which includes the locations of different files
** {{{edmMain}}} is the actual executable
* {{{html}}}, which has some generated documentation
* {{{include}}}, which has a bunch of {{{.h}}} files
* {{{lib}}} includes {{{.a}}} and {{{.so}}} files (with matching names)
* {{{templates}}}, which contains some fairly cryptic text files

!!Errors
* I got a set of errors because it was looking for {{{linux-x86}}} files which it couldn't find. 
{{{
Can't open perl script "/dls_sw/epics/R3.14.12.3/base/bin/linux-x86/convertRelease.pl": No such file or directory
make -C ./configure install 
Can't open perl script "/dls_sw/epics/R3.14.12.3/base/bin/linux-x86/convertRelease.pl": No such file or directory
make[1]: Entering directory `/scratch/will/extensions/configure'
}}}
I fixed this by 
** {{{export EPICS_HOST_ARCH=linux-x86_64}}}</pre>
</div>
<div _hash="431e795446fbd6e2c9011a7055bc63ab76bede7a" created="20111017103433000" creator="willrogers" modified="20111017103609000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ComputeAccounting/363910:1f8d0e77708f7bc0e46d688cb9733c202d0b0282&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363910" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ComputeAccounting" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ComputeAccounting" type="text/x-tiddlywiki">
<pre>Talk at EMI AHM by Andrea Guarise

There are four accounting sensors:
* Unicore
* ARC
* DGAS
* and APEL

Different usage records; we could do with these being able to interoperate.

Objective of the working group is define a common compute accounting Usage Record.
* Start from OGF UR 1.0
* Consider existing use cases
* Try to use OGF UR extension framework - not very useful
** Going to propose our extensions to the OGF
* We need our recommendations by the end of this month.

Work: 
* Existing records - done
* Semantic definitions - mostly done
* Syntactic definitions - not 
* 

So far
* 3 of 4 make XML UR documents (not APEL)
* But their interpretations are different, so they can't interoperate
* i.e. it's easy to make a conforming document, but not easy to make sure that the meanings are the same

OGF:
* Base properties - critical information
* Differentiated properties - more detailed but not necessary information
* Not too much difficulty locking down the semantics 
** some new required fields
** sometimes need to 'tightly restrict' the definition in the OGF UR

Aggregation 
* Not covered by OGF
* Plan to use APEL's version - works already
** But convert the format into XML

EMI Twiki: EMI/ComputeAccounting

Question: correlation with StorageAccounting
* The only point where they meet is the user...</pre>
</div>
<div _hash="9e12c7938beaf6c90d4f3323c0d1528cdb07e416" created="20111019070350000" creator="willrogers" modified="20111019070350000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ComputeSummary/363911:0edb1c9c251050c1a41582c9d29cf07e60f93a2f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363911" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ComputeSummary" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ComputeSummary" type="text/x-tiddlywiki">
<pre>Marco Cecchi

* EMI-ES - common interface for submitting jobs
** Also parallel
** Type can be MPI, OpenMP, any string
** Still some troubles defining schemas for parallel jobs, like APEL
* GLUE 2.0 in ARC
* GLUE 2.0 in gLite CREAM
* GLUE 2.0 in gLite WMS
* CREAM EMI-ES implementation; Unicore EMI-ES implementation
* CAR:
** Defining an OGF UR
** Consider use cases
** Not useing the extension framweork
** Very much getting there.
** Syntax next to do - then we can get an XSD
** End of October
** APEL aggregation -&gt; XML 
** APEL submitted something to OGF, but it never particularly caught on
**  We should submit what we get to OGF in some form or other
* Does it make sense to unify CAR and StAR? 
** I don't think so...</pre>
</div>
<div _hash="50d81cd66879be5218b5297fb36200340d103aae" created="20131026133228000" creator="willrogers" modified="20140804084310996" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ComputingNotes/1844786:1fa546bfe627ae239d81e4e5f6d8c75c452c1ba5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1844786" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ComputingNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ComputingNotes" type="text/vnd.tiddlywiki">
<pre>FutureWork
HomeComputer
TechnicolorRouter

!!Programming
* PythonNotes
* CBasics
* CPPBasics
* AndroidDevelopment
* ProgrammingTypes
* JavaNotes
* QtBasics

!!Linux
* LinuxCommands - will be subdivided when necessary
* LinuxFilesystem
* LinuxLocations
* LinuxProfiles
* LinuxTerminal
* BashScripting
* VimNotes
* VirtualBox
* VirtualUbuntu
* VirtualDebian
* VirtualMint
* VirtualSL6
* CloudUbuntu
* SvnUbuntu
* LocateCygwin
* StickyBit
* TtyWtf
* POSIX!
* RpmBuild
* GnuMake
* GnuDebugger

!!Web
* HtmlBasics
* JavaScript

!!Computer Science
* BasicCompSci
* MetaLang
* HaskellBasics
* MatlabNotes
* CryptographyNotes

!!Version control
* CvsNotes
* SvnNotes
* GitNotes

!!Other
* UnixDos
* FileSystems
* DatabaseTheory
* NewComputer
* SpotifyProxy
* EclipseNotes

* RegexNotes
* WindowsNotes
* MysqlNotes
* SqlSyntax
* WorkAccounts

* MessagingPatterns
* BitwiseOperators
* MPI!
* GoogleContacts




Google contacts API: http://code.google.com/apis/contacts/docs/3.0/developers_guide.html
This looks interesting: http://www.20thingsilearned.com/en-GB/home
Scrobble any song: http://universalscrobbler.invitationstation.org/</pre>
</div>
<div _hash="781aecc66c8a23500369bebe0c75177491656fa0" created="20111019101559000" creator="willrogers" modified="20120515083806000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ConcludingRemarks/710490:e8222861ac9de507fda7fd8f67a4c0e9af1228c8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710490" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ConcludingRemarks" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ConcludingRemarks" type="text/x-tiddlywiki">
<pre>Alberto di Meglio - Technical Director

!!EmiNA1 
* Project  restructuring
** Strategic Director
** EmiNA3 created
!!EmiNA2
* Implementing review recommendations
** New website in progress
** More proactive dissemination necessary - from everyone including technical people
** More scientific papers might be encouraged - conferences and journals
!!EmiNA3
* Newly established, operational
* Focus on sustainability and long-term strategies
** Open source initiative
** Standardisation
** Cloud / virtualisation strategy
!!EmiSA1
* Release and support processes in place
* Changes necessary for SL6/Debian 6 discussed
* Steps to move to EPEL / Debian compliance discussed
* PT need to take ownership of packaging from EMI2.
!!EmiSA2
* Changes required because of multiple platforms
** Policies, dashboards, reports
** Multi-platform testbed
** 'Clarify probes on  the testbed'
** Refine metrics
!!EmiJRA1
* Dev tracker in place and used, all area tasks defined
* Unclear cross-area objectives have been clarified
* Too many tasks - some Y2 -&gt; Y3, some cut in Y3

!!Consolidation
* Major EMI objective
* Most areas have plans
* Compute area most controversial; focus is on APIs
* Reduction of SLOC not really a realistic metric
** Consolidation can be achieved by simplifying deployment and usage without reducing lines of code
* New services:  STS, info systems, security simplifications, messaging, accounting
** Good progress
** Remember that a good product right at the end of EMI may not be useful in the long term
* Platform porting:
** Start now
** You can release some packages on SL6 before EMI2, if you want to.
* Integration testing - not yet clear
** Need an integration team - PT testers with an overall leader.

!!!Virtualisation and Clouds
* We don't understand the users' interest yet
* We need to find this out before we do stuff
* We can then modify the technical plan accordingly

!!!Sustainability and Open Source
* Simply: make sure communities use EMI services and support them after EMI
* We need some structure to make this possible
* Still need to find out about this and define some plans

The next AHM is from 8-10 May 2012 in Hamburg.</pre>
</div>
<div _hash="28e4c8b73e9e4a757661fb36b87884c1abb7e754" created="20130808085242000" creator="willrogers" modified="20130808085706000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ConfigureScripts/1336697:32577752f2e187886307f331f6f546297d949647&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1336697" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ConfigureScripts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ConfigureScripts" type="text/x-tiddlywiki">
<pre>!!Configure scripts
There are two scripts called {{{configure-ioc}}} and {{{configure-tool}}}.  They are very similar in purpose.

!!!Overview
Options:
* {{{h}}} - show usage
* {{{l}}} - list all the iocs
* {{{s &lt;name&gt;}}} - show the specified IOC
* {{{d &lt;name&gt;}}} - delete the specified IOC
* {{{b}}} - edit in batch mode
* {{{e}}} - edit in single mode

!!!{{{configure-ioc}}}
This works using the file {{{/dls_sw/prod/etc/redirector/redirect_table}}}, which is simply a mapping from an IOC name to a boot script for that IOC.

!!!{{{configure-tool}}}
The mapping file for this is {{{/dls_sw/prod/etc/build/tools_build/RELEASE.&lt;os-version&gt;}}}.  It appears to provide the correct directory if you provide the tool name.</pre>
</div>
<div _hash="6ce3f55202d930bf4f1f22dc9ac78b555826ecb2" created="20110515121234000" creator="willrogers" modified="20110515121509000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ContactLenses/363920:c6031735c044a0ad6e5fa50197c8eceebfc8324a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363920" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ContactLenses" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ContactLenses" type="text/x-tiddlywiki">
<pre>| Contact lens history |c
| | Left | Right |h
|D &amp; A | 3.50 | 4.25 |
| | 3.75 | 4.50 |
| Specsavers | 4.50 | 5.25 |
| | 4.25 | 5.00 |

The first (trial) lot I got from Specsavers seemed a bit too strong.

I've got blue and silver tops: £25 for 30 pairs.  Black tops were less high quality.  You can get higher-quality ones at £30 for 30 pairs.</pre>
</div>
<div _hash="43ad3d57752be00e7480ea488f15284d8466ff62" created="20130726100708000" creator="willrogers" modified="20140808140046514" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ControlsAde/1617024:a82ec183ab18bbda009b86c4a4fb7352fa985cfe&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1617024" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ControlsAde" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ControlsAde" type="text/vnd.tiddlywiki">
<pre>The 'Application Development Environment' is the way that Controls have agreed to manage software development.  Nominally, it is used for EPICS software, but I think other applications use this system as well.

See also ConfigureScripts

It is described in [[this document|http://diamdocs/sites/default/TECHNICAL%20DIVISION%20(TEC)/Controls%20and%20Interlocks%20CTRL/Reports%20(REP)/CTRL-XX-rpt-032%20Diamond%20EPICS%20Application%20Development%20Environment/TDI-CTRL-REP-032.doc]] hidden deep in sharepoint:  

* On page 14 there is a diagram of the `/dls_sw` filesystem 
* On page 50 there is a diagram of the subversion repository

!!Types of project
Different types of project are defined for the purposes of Diamond software development:

* IOC application (the definitions for an IOC to run, e.g. ~BL02I-CS-IOC-02)
** this is all the code loaded into an IOC
* support module (fast feedback and topup)
** these use a similar directory structure to the ~IOCs
* python code (matplotlib, cothread and iocbuilder)
* vendor software (apparently, the unchanged EPICS and extensions code)

!!Python tools
On the `/dls_sw` filesystem there are a bunch of python libraries.  Several are prepended `dls_` and refer to tools written here; others like `matplotlib` and `numpy` are external tools.  Each tool is stored as an egg, which means that it is possible to define dependencies on specific versions of other tools.  More than one version of each tool may be stored.

`configure-tool` (below) points to specific versions of these tools. 

See DiamondScripts for the internal tools used to manage SVN, building and releasing.


!!!External tools
These include `matplotlib` and `numpy`.  

* In the Red Hat 6 versions, external python tools have been moved to `/dls_sw/prod/tools/RHEL6-x86_64/`, along with non-python tools.

!!!Importing
In order to import a library which is in an egg, you have to use the following lines:
`
from pkg_resources import require
require('numpy')
import numpy
`
Eggs allow you to specify requirements - either for libraries to depend on each other, or for you to specify when requiring.  

You can `import dls_packages` if you want all eggs available, at your own risk.

!!Releases
Diamond software is released to the `dls_sw` filesystem, which is read-only to everyone except the build servers.  These are dedicated machines used to check out and build code from SVN.  There is one build server per major operating release, and only administrators can log in.

`dls_sw/work` is writable by everyone in the `dcs` group.  In particular, you can write jobs to the build server's queue in `/dls_sw/work/etc/build/queue`.  It also appears that the build servers will automatically check out and build any software it finds newly added to the `prod` part of SVN (?).  Finally, you can release and build new versions of code using the `dls-release.py` script.





</pre>
</div>
<div _hash="6f7fa721d3c6e220971609203610ef70b4ef95bf" created="20140106103233000" creator="willrogers" modified="20140106104451000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ControlsGit/1617030:27c5885e1f90c5ca6cac4a793be7db4d936d7a8f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1617030" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ControlsGit" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ControlsGit" type="text/x-tiddlywiki">
<pre>It seems like it would be a good idea to set up a git repo for Controls, initially for CSS, but allowing gradual migration.

It would be best if we could update the ControlsAde scripts to use the git repos transparently.

!!Layout
It should be possible to mirror the existing layout, except that each module now would have its own repo:
{{{
$ROOT/diamond/support/fastfeedback
$ROOT/diamond/ioc/CS-DI-IOC-09
$ROOT/diamond/java/CSS
}}}

!!!Branches
Branches must live inside each repository.  The {{{master}}} branch should correspond to the existing {{{trunk}}} in SVN.

!!!Releases
Likewise, releases must live inside the relevant repo.  The release process should {{{git clone}}} then {{{git checkout}}} the correct version rather than SVN checkout.  I expect the git version will take up more space on the filesystem than the SVN version.

!!Misc
* How would you specify the module owners?
</pre>
</div>
<div _hash="bf50c09366ad7a09801cf356ff1f77bbc623fc86" created="20130520145949000" creator="willrogers" modified="20131129142942000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CoThread/1567168:3a3825b9858547eef54d37b5887b13430343ecaa&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1567168" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CoThread" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="cothread epics python" title="CoThread" type="text/x-tiddlywiki">
<pre>The EPICS python library, maintained by Michael Abbott, is built on top of the {{{cothread}}} package.  This is quite complex, because it requires a C python extension and even assembler to enable the frame switching needed by the coroutines.

To build cothread, use the magic command
{{{
dls-python setup.py build_ext -i
}}}

!!Usage
The top-level script must import cothread, spawn any child cothreads, and finally call {{{WaitForQuit()}}} or {{{WaitForAll()}}} before exiting.  This allows any cothreads to finish before the main thread exits.

Create a new cothread using {{{Spawn()}}}.  A function is passed; that function will be executed inside the cothread.

Each thread must take responsibility for ceding control when it doesn't need it, by calling one of the methods {{{Sleep()}}}, {{{SleepUntil()}}}, {{{Yield()}}}, {{{event.Wait()}}}.  

{{{caget()}}} is always a suspension point. {{{caput()}}} is generally a suspension point.  {{{camonitor()}}} does not suspend, so any code calling {{{camonitor()}}} will happily continue until a a suspension point is reached.

!!!Events
There are four types of event object, each a subclass of {{{EventBase}}}:
* {{{Event}}}
* {{{Spawn}}}
* {{{EventQueue}}}
* {{{Pulse}}}
You can create your own events, and use {{{event.Signal()}}} and {{{event.Wait()}}} to control flow of execution.

!!{{{cothread.py}}}
This contains the following.  An asterisk means that the item is in the public interface.
!!!Classes
* {{{_TimerQueue}}}
* {{{_WakeupQueue}}}
* {{{_Wakeup}}}
* {{{_Scheduler}}}
* *{{{Timedout}}} - an exception
* {{{EventBase}}}
** *{{{Spawn}}} 
** *{{{Event}}}
** *{{{Pulse}}}
** *{{{EventQueue}}}
* *{{{ThreadedEventQueue}}}
* {{{_Callback}}}
* *{{{Callback = _Callback()}}} - not sure of the purpose of this
* *{{{Timer}}}

!!!Methods

* *{{{WaitForAll}}}
* *{{{Quit}}}
* *{{{WaitForQuit}}}
* {{{_validate_thread}}}
* *{{{SleepUntil}}}
* *{{{Sleep}}}
* *{{{Yield}}}

!!!Timeouts
These methods just manage the differences between a deadline (i.e. epoch time) and a timeout interval (a relative length of time).
* *{{{AbsTimeout}}}
* *{{{GetDeadline}}}
* *{{{Deadline}}}</pre>
</div>
<div _hash="4f99b935febd0363d2587fbeb1fce2e0ac853a6a" created="20110805154629000" creator="willrogers" modified="20140122103826000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPointers/1632837:10629b86cff12629e3add4463f8b96f476b9c863&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1632837" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPointers" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c pointers programming" title="CPointers" type="text/x-tiddlywiki">
<pre>See also CPointersAndArrays
See also CMemory
See also CFunctionPointers

!!Pointers etc.
By default, all functions call by value - a parameter passed to a function is not changed by anything the function does.

Pointers are essential if you allocate something on the heap, because they are the only way of retaining a reference to whatever it is.

It is good practice to initialise a pointer to 0 or {{{NULL}}} if you're not setting it immediately.  {{{NULL}}} is a null pointer constant.

!!!Pointers

Pointers are typed in the same way as basic types.  So {{{ int *ip }}} means a pointer to an int.

The command &amp; gives the address of an object, so:
{{{
int* ip = &amp;i;
}}}
would give p the address of the int i.  The * means that it is a pointer.  Now p points to i, so if you change p ({{{ *ip = 3; }}}) note the * to acknowledge that it's a pointer) then i would change.

!!!The 'swap' function
It doesn't make any sense to try and write a function {{{ void swap(int i, int j); }}} with the idea that i and j will change, because only the values of i and j are passed to the function.  Instead, what you can do is write a function {{{ void swap(int* ip, int* jp); }}}.  This could have the effect that afterwards, ip points to what jp was pointing at, and vice versa.  Here it is:

{{{
void swap(int* ip, int* jp) {
    int temp = *ip;
    *ip = *jp;
    *jp = temp;
}
}}}

Now, sneakily, we can run {{{ swap(&amp;a, &amp;b); }}}.  This means that a and b will have changed their values.

!!!Mistakes with pointers
If you try {{{ *ip = &amp;f; }}} where ip is an int pointer but f is a float, it will compile, but you get a warning that you're doing something risky, and in practice you'll get garbage.

If you try {{{ ip = 1; }}}, it will again compile with a warning, and then I got a Segmentation fault when trying to run it.

!!!Const pointers
* {{{const int *ip = &amp;x;}}} allows you to read the value of x, but not modify it.  You can change where the pointer points though.
* {{{const int * const jp = &amp;x;}}} - you can't change the pointer or the value pointed to
* {{{int * const kp = &amp;x;}}} - you can't change where the pointer points, but you can change the value it points to
!!!Memory addresses
If you print a pointer (you can do it with CPrintf and %p) it will produce a hex number referring to the location in memory to which it is pointing.  Each memory location is a byte, so a char would occupy one, an int four.  Incrementing the pointer moves it on in memory by the appropriate number to find the next item of that type.

This is a very good explanation: http://denniskubes.com/2012/08/17/basics-of-memory-addresses-in-c/
</pre>
</div>
<div _hash="4830f461fc2af67b724eca5e1d69284dfc2c2aca" created="20110806150307000" creator="willrogers" modified="20130718095112000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPointersAndArrays/1311840:145d50fa88dc69aa533a9b947f9bd49f746894a4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1311840" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPointersAndArrays" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="arrays c pointers programming" title="CPointersAndArrays" type="text/x-tiddlywiki">
<pre>First, see CPointers

!!Pointers and arrays

The C book reckons these should be treated together, and who am I to argue?

So, if you declare an array {{{ int a[10]; }}} this works like in Java, but the array parts work as any int in C.  So you can do {{{ int* pa = &amp;a[0]; }}} so that the pa points at the first item in the array.

!!!Pointer arithmetic
Here's a new bit: if you now add one to pa: {{{ pa += 1; }}}, pa points to the next element in the array, a[1].  This is by definition; because a[] is an int array and pa is an int pointer, it'll move on the correct number of cells.  In this way you can move on the number of cells you want.

For technical reasons, the value of a itself is the address of the first item in the array, so {{{ pa = a; }}} is the same as {{{ pa = &amp;a[0]; }}}.  Similarly, {{{ a[i] }}} is the same as {{{ *(a + i) }}} and {{{ &amp;a[i] }}} is the same as {{{ a + i }}}.

If p and q point to members of the same array, then they can be compared using ==, !=, &lt;, &gt;= etc.

!!Multidimensional arrays and arrays of pointers

{{{
int a[10][20]; // 10 * 20 array
int *b[10]; // array containing 10 pointers to ints
}}}

In practice, these can seem like similar things.  An example of the array of pointers is in the main() method:

{{{
main(int argc, char *argv[]) { ... }
}}}

* argc is the number of items in argv
* argv[0] is the name of the program
* argv[i] is the ith argument

So the array of pointers means the array of pointers to the first part of each string, and we can get the first argument by either: {{{ argv[1] }}}  or {{{ *(argv + 1) }}} 


</pre>
</div>
<div _hash="a7eed2fe14e201163d543d8d2a1d317362fa1d9e" created="20110814110717000" creator="willrogers" modified="20140122101243000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPPBasics/1632819:6588a011e67bbe6b0a4984186eabb20525b16d0a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1632819" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPPBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CPPBasics" type="text/x-tiddlywiki">
<pre>First, all the C pages on this wiki apply also to C++.  Start with CBasics.
* CPPSyntax
* CPPClasses
* CPPFunctions
* CPPDataTypes

C++ is very much built on top of C.  Development began in 1979 at Bell Labs by Bjarne Stroustrup.  It developed somewhat slowly, adding new functions as it went, and was codified only in 1998, and revised in 2003, as an ISO standard.

It offers:
* templates
* classes and objects
* inheritance and multiple inheritance
* encapsulation 
* polymorphism, by a number of methods which are somewhat more complicated than Java

It has gained a certain amount of criticism, mostly that it's too complicated and large a language.  Some say this is both because it's successful, and because many programmers who use it are not proficient.

One important part of programming in C++ is to note that it does have a different philosophy to programming in C.  It is possible to write a hybrid of C and C++, but in general it is better to write in C++ and not use C tools (like {{{malloc}}} and {{{free}}}) which have been hidden by new features ({{{new}}} and {{{delete}}}) in C++.


!!!Keywords
Here are some of the keywords I find:
* {{{friend}}} - allows certain things access to private members of a class
* {{{delete}}} - deallocate memory from the other end of a pointer

Here's the full list:
{{{
asm, auto, bool, break, case, catch, char, class, const, const_cast, continue, default, delete, do, double, dynamic_cast, else, enum, explicit, export, extern, false, float, for, friend, goto, if, inline, int, long, mutable, namespace, new, operator, private, protected, public, register, reinterpret_cast, return, short, signed, sizeof, static, static_cast, struct, switch, template, this, throw, true, try, typedef, typeid, typename, union, unsigned, using, virtual, void, volatile, wchar_t, while 
}}}
These words are also reserved:
{{{and, and_eq, bitand, bitor, compl, not, not_eq, or, or_eq, xor, xor_eq}}}</pre>
</div>
<div _hash="cb9d4e03f7cd8bf3f82e632a52c5eeef9addc069" created="20110819125713000" creator="willrogers" modified="20130710132743000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPPClasses/1302334:1599bd646250eec57c3ee23cc62537c7c667da01&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1302334" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPPClasses" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CPPClasses" type="text/x-tiddlywiki">
<pre>The most important change from C to C++ was of course the addition of classes.  With classes, as in Java, you can define your own objects, then create instances of them.  Along with this, you get encapsulation with a similar model to Java's.  There is a good introduction on this page: http://www.cplusplus.com/doc/tutorial/classes/

!!Defining a class
{{{
class ExampleClass {
    private:
        int mem;
    public:
        ExampleClass(args);
        ~ExampleClass();
        void set_mem(int);
        int get_mem();
};

ExampleClass::ExampleClass(args) {
 ...
}

ExampleClass::~ExampleClass() {
 ...
}
}}}
The first part is the class definition, which specifices the member variables and method declarations.  The second is the constructor, which may be overloaded in a similar way to Java.  The third is the destructor, which may not take any arguments.  Neither the constructor nor the destructor may return a value.

Like Java, if you don't specify a constructor there is a default one with no arguments.

!!Static members and methods
These work in the same way as Java - they are associated with the class as a whole as opposed to any instance of the class.</pre>
</div>
<div _hash="ac98174ea8662b965c9a54241d5852a5f9686fb1" created="20140122093103000" creator="willrogers" modified="20140122102837000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPPDataTypes/1632831:bb9af505b373dd598a5917f9846d947b75a05732&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1632831" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPPDataTypes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CPPDataTypes" type="text/x-tiddlywiki">
<pre>!!!Data types
C++ has all the datatypes of C, plus;
* {{{bool}}}: {{{ true }}} or {{{ false }}}
* {{{wchar_t}}}: a wide character, of which I don't know the use
* {{{long_double}}}: which doesn't seem to be very different to double, but may vary with machine implementation.
* {{{void}}} - a null type
* {{{nullptr}}} - the null pointer
Note that {{{char}}} may be used to store numbers, but if so you should declare them as signed or unsigned so that everyone knows that that is what is going on.

You can declare a type with:
* {{{auto foo = bar;}}} - this will pick up the type of bar
* {{{decltype (bar) foo;}}} - this will use the same type as bar

!!!Strings
If you include the string library:
{{{
#include &lt;string&gt;
...
string s = "this is a string";
}}}

Concatenate string literals by simply putting them next to each other.  To concatenate two string variables, use {{{a + b}}}.

You can also define strings as in C:
* {{{char myword[] = { 'H', 'e', 'l', 'l', 'o', '\0' }; }}}
* {{{char myword[] = "Hello";}}}
Standard library functions support both types of string.</pre>
</div>
<div _hash="8d6f9747c9c911fd8cc461a768c8584e44e83435" created="20140122101220000" creator="willrogers" modified="20140122101226000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPPFunctions/1632811:7ba475e5f3d1c480549471e64eff69146ce45ab2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1632811" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPPFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CPPFunctions" type="text/x-tiddlywiki">
<pre>You can use functions exactly as in C.
* Declaring an argument {{{const}}} guarantees that the function won't modify the argument
* You can provide default parameters like in Python: {{{int divide (int a, int b=2)}}}
You also use prototypes.  Either:
* define all functions before {{{main()}}} in one file
* declare prototypes at the top of a file, and define the functions elsewhere
You can use recursive functions.

You can also overload functions, unlike in C.  If a function has different arguments, you can provide a different implementation.  You should generally ensure that the functions have the same intent.
* Since you might have exactly the same implementation, you can use 'templates' to have the same function for different types:
{{{
template &lt;class T&gt;
T sum(T a, T b)
{
    return a + b;
}
}}}
* You can then use {{{int x = sum(1, 2);}}} and {{{double y = sum(1.2, 3.4)}}}
* You can use more than one generic type in a template</pre>
</div>
<div _hash="27ca742de1325e5e081bf80f87e1fab209d88503" created="20131202113452000" creator="willrogers" modified="20140122104108000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPPSyntax/1632841:9e30ecb35ad5aff240f031d94edd562da4587813&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1632841" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPPSyntax" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CPPSyntax" type="text/x-tiddlywiki">
<pre>!!!!Operators
These are pretty much exactly the same as C and Java.
* the comma operator: {{{a = (b=3, b+2);}}} - executes the earlier expressions, but only uses the right-hand one to assign to a
!!!!Comments
Like Java, {{{//}}} or {{{/*...*/}}}

!!!Flow control
This is also very similar to C, with one addition: if you have some iterable, you can do:
* {{{for (char c : str)}}}
* {{{for (auto c : str)}}} - if you don't know the type

!!!!Namespaces
You can declare a namespace wherever you like:
{{{
namespace ns
{
  int a, b;
}
}}}
* You can refer to {{{ns::a}}} elsewhere.
* {{{using ns::a}}} will show what {{{a}}} you are subsequently using
* {{{using namespace ns}}} will allow you to use anything out of {{{ns}}}

!!!!Arrays
These are the same as C, with a few minor differences.
* To pass an array into a function: {{{void printarray (int arg[], int length)}}} - you'll often need the length as well
* There is also a C++ builtin library {{{&lt;array&gt;}}} with different properties.

!!!!Pointers
Pointers are also the same as C: see CPointers, CFunctionPointers, CPointersAndArrays
* You can use {{{nullptr}}} to initialise pointers

* {{{#define TEN 10}}} - replaced by the preprocessor
* {{{const int TEN = 10;}}} - now you can't change it
* {{{#include &lt;iostream&gt;}}}
** this gives access to the functions {{{std::cout}}} and {{{std::cin}}}
* {{{using namespace std;}}}
** this allows you to use {{{cout}}} and {{{cin}}} with no prefix

* {{{cout &lt;&lt; "Hello world.\n";}}}
* {{{cout &lt;&lt; "Hello world" &lt;&lt; endl;}}} - ends the line automatically
* {{{cerr}}} - standard error
* {{{clog}}} - a logging stream
* Call a static method: {{{QString s = QCoreApplication::applicationDirPath();}}}
* {{{int x = sizeof(y)}}} - the size in bytes</pre>
</div>
<div _hash="82fb80480e0c4ed1bcce627ddedab1ed3f26e7fb" created="20110805142607000" creator="willrogers" modified="20131231172546000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPrimitiveTypes/1612036:2278ac9f62afa036910ddefe4c1282cdbeae65f9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1612036" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPrimitiveTypes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c types" title="CPrimitiveTypes" type="text/x-tiddlywiki">
<pre>There are 6 different primitive data types in C:

| char | one-byte character | |
| short | short integer | at least 16 bits |
| int | standard-length integer | at least 16 bits, sometimes 32|
| long | long integer | at least 32 bits |
| float | floating-point number | generally 32 bits |
| double | double-precision floating-point number | seems to be 64-bit always |

* On my Ubuntu machine, {{{int}}} was 32bit and {{{long}}} was also 32bit.
* On my Red Hat 64-bit machine, {{{int}}} is 32-bit and {{{long}}} is 64-bit.
* {{{double}}} is 64 bits on both 32-bit and 64-bit compilers.
* You can find maximum and minimum constants in {{{&lt;limits.h&gt;}}}
* You can apply 'signed' or 'unsigned' to any of these.  Unsigned is either 0 or positive.  Append 'u' when writing them.
** {{{unsigned}}} by itself is a synonym for {{{unsigned int}}}
* You should write a long {{{ 4141L }}} or {{{ 4141l }}}.
** You should write a float {{{ 414.1f }}} or {{{ 4.1e2f }}}, otherwise it will be a double.
* Here's a very good blog post about how memory addresses work: http://denniskubes.com/2012/08/17/basics-of-memory-addresses-in-c/
* To convert a char {{{'6'}}} to an integer {{{6}}}, subtract {{{'0'}}}:
** {{{int a = c - '0'}}}
</pre>
</div>
<div _hash="445954d08570ce61d33371bb4f25ae6fef4877ac" created="20110805143509000" creator="willrogers" modified="20140416141902000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CPrintf/1722573:932f5d969902a1e293cf8cf6778486c139557884&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1722573" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CPrintf" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c format programming" title="CPrintf" type="text/x-tiddlywiki">
<pre>{{{printf}}} is a special function which can take a variable number of parameters.
* {{{%d}}} - an integer
* {{{%f}}} - a float
* {{{%ld}}} - a long
* {{{%lld}}} - a long long

Substitute {{{u}}} for {{{d}}} to get an unsigned integer.

{{{
printf("This is an int: %d\n", an_int);
printf("This is a float: %f\n", a_float);
}}}

Tab is \t and new line is \n:
{{{
printf("Here's a tab:\t&lt;-there.  Now a newline:\n");
}}}

You can specify characters allocated (notice all parameters are passed comma-separated):
{{{
printf("%4.1d "6.1d\n, fahr, celcius);
}}}
That's four for the first and 6 for the second, to 1d.p. each.

* {{{%s}}} - a string
* {{{%c}}} - a character
* {{{%%}}} - % itself.
* {{{%p}}} -  a pointer
</pre>
</div>
<div _hash="64010f39d7f499a3de1d4aa870ef4c3670dd9e55" created="20110729151137000" creator="willrogers" modified="20120331170703000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CryptographyNotes/661860:f545fd67d9c048a854ea73286b4705b093a6d43b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="661860" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CryptographyNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="crypto openssl" title="CryptographyNotes" type="text/x-tiddlywiki">
<pre>There's a lot of detail here which is difficult to take in all in one go.  There's a really good page here that describes how to do quite a few: http://www.madboa.com/geek/openssl/.

!!~OpenSSL

~OpenSSL is possibly the biggest Linux command I've seen.  It seems to have 3 sections:  
!!!Cryptography, such as:
* signing / verifiying signatures
* encryption / decryption
* hashing
* requesting, signing and verifying certificates

!!!CRLs
CRLs are just lists of revoked certificates, used to note those certificates we shouldn't accept.  In the certificates directory after install lcg-CA, there are certificates, signing policies, something, and files named &lt;something&gt;.crl_url.  To convert these into actual CRLs, you have to run the fetch-crl gadget, which is available at RAL and probably in gLite too.  The actual CRLs are called &lt;hash&gt;.r0.

* SelfSignedCert
* MessageHashes
!!!Random number generation
!!!SSL


!!Proxies
I've got some experience with the proxies from my ~MyProxyUploader days, but some of it's a bit vague, and probably some of it wasn't that well understood at the time.

Now Andrea Guarise has tried to use the SSM with a proxy, so I think I need to look at it again.

I used the ~CertWizard to create a 'local proxy' from my personal e-Science certificate, but it was only one file rather than a separate certificate and key.  This means it will need some tweaking to use with the SSM.  It will probably provide some good OpenSSL experience too.  

So, I looked inside the proxy.  It has three long strings of rubbish: certificate, rsa private key, certificate.  My guess is that this is the public and private key of the proxy plus my certificate's public key.  Let's see.

{{{
[root@apel-test grid-security]# openssl x509 -in proxy -subject
subject= /C=UK/O=eScience/OU=CLRC/L=RAL/CN=will rogers/CN=proxy
-----BEGIN CERTIFICATE-----
MIICaDCCAVCgAwIBAgICfyowDQYJKoZIhvcNAQEFBQAwUzELMAkGA1UEBhMCVUsx
...
}}}

Awesome.  I tried this again twice, with files containing just the two individual certificate parts, and one came up as the proxy and one came up as mine.  As a side note, this confirms something I'd been wondering about for a while: ''that information must be somehow encoded in the string of gobbledegook!''  Good.  As you'd expect, OpenSSL will verify ''my certifcate'', but it won't verify the proxy - it says {{{ error 20 at 0 depth lookup:unable to get local issuer certificate }}}.

!!~GnuPG
This is an open-source implementation of the PGP program developed by Phil Zimmerman in 1991.  It does some of the things that OpenSSL does, but using simply generated key pairs rather than the whole certificate infrastructure that APEL and the grid in general uses.</pre>
</div>
<div _hash="e080cd0bb8ef3b8a7a27aa2370abed24920b456f" created="20131019154211000" creator="willrogers" modified="20131019192909000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssBasics/1469710:2df720eee454f12705abfdd66acf919380484be8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1469710" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssBasics" type="text/x-tiddlywiki">
<pre>See also HtmlBasics.
See also CssClassesIds, CssPositioning

!!Basic syntax
* You need to add the following to your HTML header.
{{{
&lt;link type="text/css" rel="stylesheet" href="stylesheet.css"/&gt;
}}}
* You can also add CSS code inside a &lt;style&gt; tag inside the HTML header.

{{{
p {
	color: red;
        /* tries fonts in order until it finds one which is available */
        font-family: Verdana, Times, cursive;
}
span {
	/*Write your CSS here!*/
	color: blue;
        font-family: cursive;
}
div {
        height: 100px;
        width: 100px;
        border: 2px solid red;
}
/* only links inside two divs */
div div a {
        color: #cc0000;
        text-decoration: none;
}
/* only links directly inside divs */
div &gt; a {
        color: red;
}

  
}}}
More generally:
{{{
selector {
    property: value;
}
}}}
* {{{*}}} matches any element
* The most specific selector wins




!!Units
* pixels are dangerous; ems refer to the standard font size on whatever device.</pre>
</div>
<div _hash="4e3a40420b36e58efe23892e31ec01e432c47380" created="20140116101555000" creator="willrogers" modified="20140414101956000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssBoy/1720034:9fc0a78821e099c74c357a2e8e98b3f00dc5776e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1720034" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssBoy" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssBoy" type="text/x-tiddlywiki">
<pre>See OpiBuilderPlugin for more on the main plugin.

BOY is the visual editor and runtime for ~GUIs built using CSS.

You get to BOY using the OPI Editor perspective in CSS.  You can create ~GUIs by dragging and dropping items from the menu, then editing their properties.  You do not need to (can't?) use Java to create them.

Opening files from the command line is described here: http://cs-studio.sourceforge.net/docbook/ch29.html

!!Code
There is a top-level 'boy' feature in {{{org.csstudio.boy.feature}}}.  This has no code - only the following dependencies:
{{{
      &lt;import feature="org.csstudio.core.feature" version="3.2.0.qualifier"/&gt;
      &lt;import feature="org.csstudio.utilities.feature" version="3.2.0.qualifier"/&gt;
      &lt;import plugin="org.epics.vtype" version="2.1.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.eclipse.core.runtime"/&gt;
      &lt;import plugin="org.csstudio.simplepv" version="1.0.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.csstudio.utility.pvmanager.extra" version="3.2.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.epics.util" version="0.2.2" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.csstudio.utility.pvmanager" version="3.2.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.eclipse.ui"/&gt;
      &lt;import plugin="org.csstudio.graphene"/&gt;
      &lt;import plugin="org.csstudio.opibuilder.widgets" version="3.2.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.csstudio.opibuilder" version="3.2.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.epics.graphene"/&gt;
      &lt;import plugin="org.csstudio.utility.pvmanager.graphene"/&gt;
      &lt;import plugin="org.csstudio.utility.pvmanager.widgets" version="3.2.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.csstudio.opibuilder.widgets.extra" version="1.0.0" match="greaterOrEqual"/&gt;
      &lt;import plugin="org.csstudio.utility.pvmanager.ui.toolbox" version="3.2.0" match="greaterOrEqual"/&gt;
}}}
Most of the specific BOY code lives in the {{{org.csstudio.opibuilder}}} packages:

Listed by the BOY feature
* org.csstudio.opibuilder 37867
* org.csstudio.opibuilder.widgets 27472
* org.csstudio.opibuilder.widgets.extra 1938

Others:
* org.csstudio.opibuilder.adl2boy 3909 - MEDM to OPI converter
* org.csstudio.opibuilder.alarm 21 - very small reference to alarm system
* org.csstudio.opibuilder.converter 15121 - EDM to OPI converter
* org.csstudio.opibuilder.editor 8622
* org.csstudio.opibuilder.examples 316 - simple project allowing use of example widgets
* org.csstudio.opibuilder.imagelib 295 - some useful images in PNG and SVG
* org.csstudio.opibuilder.rap 961 - webopi code plus some helper classes
* org.csstudio.opibuilder.rcp 1038 -  a few helper classes - some defined in both rap and rcp to allow dynamic loading
* org.csstudio.opibuilder.test 611 - JUnit tests
* org.csstudio.opibuilder.tools 2364 
* org.csstudio.opibuilder.widgets.rap 273
* org.csstudio.opibuilder.widgets.rcp 1093
* org.csstudio.opibuilder.widgets.symbol 7181

The EclipsePackages used are as follows:
{{{
[hgs15624@pc0072 plugins]$ grep -hrI "^import org.eclipse" org.csstudio.opibuilder* | cut -d "." -f 1-3 | sort | uniq
import org.eclipse.core
import org.eclipse.draw2d
import org.eclipse.e4  # only 3
import org.eclipse.equinox  # only 2
import org.eclipse.gef
import org.eclipse.help  # only 5
import org.eclipse.jface
import org.eclipse.osgi  # only util.NLS
import org.eclipse.rwt # only 4 imports 
import org.eclipse.swt
import org.eclipse.ui
import org.eclipse.wb  # only SWTResourceManager
}}}


!!Keyboard shortcuts
* F8 - enter 'compact' mode
* F11 - enter full screen
Either of these retains the bumf at the bottom of the screen.

!!Niggles
* How do you align edges of objects?
* Why doesn't centred text centre-adjust?
** because the Label widget explicitly draws the text, and it would take extra calculation to draw different lines from different locations
* Why is my CSS window wider than the designed one?
** When you 'open OPI in new view', it seem to make a better guess for the size of window, but not perfect
** 'Off GUI' elements, as some people use in EDM, mean that scroll bars appear.  This is not what we want.</pre>
</div>
<div _hash="e7519a5df2e0e2a20df62877a29fd0f143fbf84f" created="20131019165318000" creator="willrogers" modified="20131019192236000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssClassesIds/1469709:d191000f19c7c998d263ed0a90fce0e6e84e1d4f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1469709" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssClassesIds" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssClassesIds" type="text/x-tiddlywiki">
<pre>!!Classes
Classes allow you to style several elements in the same way.
* {{{&lt;div class="red&gt;}}}

{{{
.red {
        color: red;
}
}}}

!!~IDs
~IDs are used for only one element.  An element with an ID can also be a member of one or more classes.
* {{{&lt;div id="first"&gt;}}}
{{{
#first {
        color: blue;
}
}}}

!!Pseudoclasses
This is the name for the way certain selectors can be qualified, eg:
{{{
a:hover {
	color: #cc0000;
	font-weight: bold;
	text-decoration: none;
}
}}}
* {{{a:link, a:visited}}} for unvisited and visited links
* {{{p:first-child}}} for first child of several parallel &lt;p&gt;s.
* {{{p:nth-child(3)}}} for third child of several parallel &lt;p&gt;s.
</pre>
</div>
<div _hash="2b16b2750c24646920af567a960dac766771f1ee" created="20140403153154000" creator="willrogers" modified="20140403153154000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssCore/1708861:ce8dc50bcafa0757c1919e5e9f16e79da983cf8d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1708861" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssCore" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssCore" type="text/x-tiddlywiki">
<pre>I haven't focused on core CSS much yet.  Here are some of the plugins:

!!!{{{org.csstudio.ui.util}}}
This has the packages:
* composites
* dialogs
* dnd
* helpers
* internal.localization
* swt.stringtable
* {{{thread}}}
** this contains only {{{UIBundlingThread.java}}}.  This is a singleton background thread used to help execute tasks from the UI thread.  It simply maintains a queue of {{{Runnables}}}, which it runs every so often.
* {{{widgets}}} - why are some widgets here?
* wizards
* {{{org.eclipse.wb.swt}}} - why?</pre>
</div>
<div _hash="303e77c3fc5e740f65394d1937f4c82e0f4d9e16" created="20121017200313000" creator="willrogers" modified="20121017200313000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/CsscStuff/910262:a2fa91f6c43dabea15892b866e4eada13163b625&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="910262" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CsscStuff" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="CsscStuff" type="text/x-tiddlywiki">
<pre>CSSC Number: 09080381.

!!Sainsbury's card
Card number: 6341751113253644243
Card ref: 69137876

</pre>
</div>
<div _hash="c9d414f15520b9f28d63df26d2bda09085364cf9" created="20131019193432000" creator="willrogers" modified="20131019195549000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssPositioning/1469727:fa40a5d237fbcf9ad17787411c4a4b8b26f4fb5c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1469727" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssPositioning" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssPositioning" type="text/x-tiddlywiki">
<pre>Each HTML element lives in a box, which you can see by setting a border using the universal CSS selector.  Each box has:
* a margin - space around the element, which separates it from others
* a border - the edge of an element
* padding - spacing between the border and the content
* content - any 'stuff' within the box

| display | block | use full width of the page |
| display | inline-block | block which may sit next to other elements |
| display | inline | as above, but don't retain dimensions |
| display | none | element disappears |
| margin | auto | automatically create even margins |
| margin-top | &lt;size&gt; | exact margin (also bottom, left, right) |
| margin | &lt;1&gt; &lt;2&gt; &lt;3&gt; &lt;4&gt; | as above from top clockwise |
| padding | dimensions | works as margin |
| float | right | |
| clear | left, right, both | move out of the way of any floating elements |
| position | static | this is the default |
| position | absolute | relative to the document, or other absolute elements |
| position | relative | relative to static elements i.e. its natural position |
| position | fixed | fixed in the screen, even if you scroll |

* You can use negative values in dimensions.
</pre>
</div>
<div _hash="379cfbfdf85dffd33a7be35efb372a624eb36a77" created="20140123112528000" creator="willrogers" modified="20140207162731000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssProblems/1654891:847c2d5ea8190ce370a0cc7fc06adf440893493d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1654891" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssProblems" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssProblems" type="text/x-tiddlywiki">
<pre>* The different perspectives don't seem very well-defined:
** OPI editor shows navigation and things - that is, an arrangement of views useful to editing
** OPI runtime removes them
* These don't correspond to whether you're running or editing your opi file though.  From a running OPI, you can't get back to the actual editor, even if you open the 'OPI editor' perspective.
** There is a slightly different icon (with a little play button) for a running opi
** Typically, pressing the play button starts a new window in the OPI runner perspective, which has no views other than the OPI itself
** Interestingly, this means that the Eclipse paradigm (different views and editors showing different things) doesn't seem to work well using BOY.
* Compact mode is not remembered between runs of CSS.
* Using the File -&gt; Open menu option opens an OPI in the OPIRuntime editor.  I don't know how to open a file in the OPIEditor editor.

!!!Windows and virtual desktops
* If you open a number of windows, then close and restart CSS, the relative positions of those windows are remembered.  It doesn't know about virtual desktops, though, so if you put CSS on different virtual desktops then restart, all the windows appear on the current virtual desktop.
* Pressing the play button from the OPI editor opens a second window.  Neither is the master window, but both use the same workspace.  The last opened window is the one which opens when you next start CSS.
* Running CSS from the command line will open the specified OPI file in a running version of Eclipse, if there is one.  If there are the two windows specified above, the new OPI will open in whichever last had focus.
* If two instances of Eclipse with different workspaces are open, any new OPI file seems to be opened in the latest-opened workspace.

We could wrap use of CSS in scripts using {{{wmctrl}}} to determine the correct instance, but it has the potential to be fiddly.  I'm not sure if we could control where ~OPIs are opened if there is more than one instance of CSS.
* one instance per desktop - but how do you open a new window in the correct instance?
* one instance, with a script to collect and redistribute windows across desktops when starting and stopping
** can you start any new windows on the current desktop?
** how do you decide when to start in the same window?
** can we open a new window for each new GUI?  See [[here|http://stackoverflow.com/questions/864224/eclipse-rcp-application-create-a-window-programatically]].
** it looks like it would be easy enough to plug this into the {{{opibuilder}}} source


!!!CSS v4
* You can drag tabs in and out of windows, but there is one master window
* Child windows seem to stay on top of parent windows</pre>
</div>
<div _hash="e53df8c4968208ef2da9a6f718f1ed7951a14810" created="20140312103022000" creator="willrogers" modified="20140312103843000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssStartup/1686867:abe36af682d52f2ae480787bdab313802cd40a90&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1686867" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssStartup" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssStartup" type="text/x-tiddlywiki">
<pre>The entry point to CSS is {{{org.csstudio.startup}}}.

!!!{{{org.csstudio.startup.application.Application}}}
This is the entry point.  The flow is:
* {{{start()}}}
* {{{startApplication()}}}
** {{{applyLocaleSetting()}}}
** {{{promptForLogin()}}}
** {{{promptForWorkspace()}}}
** {{{startServices()}}}
** {{{openProjects()}}}
** {{{wb.beforeWorkbenchCreation()}}}
** {{{wb.runWorkbench()}}}
** {{{wb.afterWorkbenchCreation()}}}
** {{{closeProjects()}}}

!!!{{{org.csstudio.startup.module}}}
This contains the definition of the extension points:
* {{{CSSStartupExtensionPoint}}}
** {{{WorkspaceExtensionPoint}}} - only one allowed
** {{{WorkbenchExtensionPoint}}} - only one allowed
** several other extension points, extending the first</pre>
</div>
<div _hash="8fb809d2fb7e35d9ee0f946df89088aab6132259" created="20140115095016000" creator="willrogers" modified="20140811152648593" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CsStudio/1828213:111ae558fb0c21c5982e96a9fda5eb72f78ff7d0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1828213" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CsStudio" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CsStudio" type="text/vnd.tiddlywiki">
<pre>See also EclipsePlatform.

* BuildingCss
* CssProblems
* CssStartup
* CssWorkspaces
* EpicsDiirt

The developer manual is here: http://cs-studio.sourceforge.net/docbook/.  CSS, along with DAWN and GDA, is a member of the [[Eclipse Science Working Group|http://wiki.eclipse.org/Science_IWG]].

!!Components

* CssCore
* CssBoy
* EdmConverter
I seem to be focused on BOY: best OPI yet.  This is only one of the core CSS components.  Others include:

* BEAUTY - the archive toolkit, developed as a replacement for the Channel Archiver.  It uses a relational database to store the data.
** The CSS DataBrowser can read from Channel Archiver's XML-RPC interface, or BEAUTY's relational database.
* BEAST - the alarm system toolkit, developed as a replacement for the alarm handler ALH.

CSS uses JMS for logging and the alarm service.
It uses JAAS to handle authentication and authorization.  It should be fairly straight-forward to tie it into LDAP.  The plugins {{{org.csstudio.security}}} and {{{org.csstudio.security.ui}}} handle this.
The CSS menu is controlled by {{{org.csstudio.ui.menu}}}.  A plugin can add items to the menu.

{{{org.cstudio.utility.pv}}} has been deprecated in favour of PVManager.
{{{org.csstudio.ui.util}}} has UI elements and functionality such as drag and drop (dnd).

!!Code

The code is here: https://github.com/ControlSystemStudio/cs-studio.  There are several branches, including:
* 3.0.x
* 3.2.x
* 4.0.x

The releases on Github tend to come off the 3.2.x branch.

The git repository itself is bigger than 1GB, of which {{{.git}}} is about half.  A built version is more like 200MB.

There are about 1.8m lines of Java code:
* {{{core}}} - 700k
** {{{hibernate}}} - 550k
** {{{pvmanager}}} - 45k
* {{{applications}}} - 1m
** {{{archive}}} - 55k
** {{{beast}}} - 35k
** {{{opibuilder}}} - 100k
** {{{utility}}} - 85k
* {{{products}}} 100k


!!!Structure
Remember that a feature is just a list of plug-ins which comprise that feature.

There are four directories:
* {{{applications}}} - features and plugins
* {{{build}}} - various build scripts and infrastructure
* {{{core}}} - features and plugins
** {{{org.csstudio.core.feature}}} is used to curate the features and plugins which every CSS installation should use
* {{{products}}} - subdirectory for different projects, each of which generally includes features or plug-ins

Essentially, any release of CSS will be a number of plug-ins - the actual code - which are grouped into features, then selected as the product.

</pre>
</div>
<div _hash="706ceb268b51961a0fce0e322b2ff87e9aff1b3c" created="20140529103824000" creator="willrogers" modified="20140529103824000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CssWorkspaces/1771566:edee35a97b5c489a32cae4ca1e8d7d863e3b4b96&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1771566" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CssWorkspaces" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CssWorkspaces" type="text/x-tiddlywiki">
<pre>!!!Development

Eclipse workspaces are in {{{~/.eclipse-workspaces}}}:

* 

Those starting with {{{runtime}}} are created by eclipse when launching products.

!!!Runtime

CSS workspaces are in {{{~/.css-workspaces}}}

</pre>
</div>
<div _hash="84150c3a58b3f2fbb936cba2a004fd7ccc6fe171" created="20121124155005000" creator="willrogers" modified="20140713204410000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CStdFunctions/1827224:0985b9c7e53c390b5cac11ea5c0c142fe66cf651&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1827224" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CStdFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CStdFunctions" type="text/x-tiddlywiki">
<pre>There are some standard functions available, and these presumably come from the standard library.  I will update here when it is more clear.

C functions may be called recursively.

!!!{{{&lt;stdlib.h&gt;}}}
* {{{void *malloc(&lt;size&gt;)}}} - allocate memory of the specified size
* {{{void *calloc(&lt;length&gt;, &lt;size-of-type&gt;)}}} - zero-initialised memory allocation
* {{{void free(void *ptr)}}} - deallocate memory assigned to the pointer.  The length of the array is stored with the array. 
* {{{void *realloc(void *ptr, &lt;size&gt;)}}} - used for changing the size of a memory block
!!!{{{&lt;ctype.h&gt;}}}
* {{{isdigit(c)}}} - returns whether a character is a digit - that is, 0 if not, and any non-zero value if so

</pre>
</div>
<div _hash="8067e3e332a77bfb9dae83bf1444b12417d61f14" created="20130710134421000" creator="willrogers" modified="20130717141135000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CStrings/1311144:81725a022793c386da63166b732e157b0045b08c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1311144" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CStrings" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CStrings" type="text/x-tiddlywiki">
<pre>In C, a string is just an array of characters.  This means that there are two ways of looking at a string:

{{{
char my_string[] = "this is a string";
char * your_string = "this is a string";
}}}

These are not exactly the same, but they are similar enough for now (for example, you can print them in the same way).  See http://www.lysator.liu.se/c/c-faq/c-2.html for more.  You can also define a string manually:
{{{
char str[] = {'a', ' ', 's', 't', 'r', '\0'};
}}}
A string is terminated with a null character; other arrays are not. </pre>
</div>
<div _hash="b8ed3631b45284bb28e303f314bac5e4e591a038" created="20130712215542000" creator="willrogers" modified="20130820144857000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CStructs/1354393:dc76f7b983291653893653a00d8742d3e787373a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1354393" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CStructs" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CStructs" type="text/x-tiddlywiki">
<pre>A structure is a collection of variables - the closest C gets to a class.  See also CTypedef.

!!Definition
{{{
struct point {
    int x;
    int y;
};
}}}
You could put a variable name between the final brace and the final semicolon, and this would declare a variable of the new struct type immediately.
To use a variable, just use a dot: {{{p.x;}}}.

You can initialise a struct immediately as follows:
{{{
struct point p = { .x = 3, .y=2 };
}}}

If you assign one struct to another, you don't need to use {{{memcpy}}} or anything.  C will copy the data from one variable to the other.

In newer versions of C, it is possible to define an anonymous struct.  Presumably this is only useful if you create an example of it at the time.

You can initialise everything in a struct to zero like this:
{{{
struct point p = {0};
}}}

!!{{{-&gt;}}}
The arrow is a special way to get to members of a struct when all you have is a pointer to that struct:

{{{
my_struct s;
my_struct *sp;

s.x = 1;
sp-&gt;x = 2;
(*sp).x = 2; // this is the same thing
}}}

You cannot define a struct of the same type as a member of a struct, but you CAN define a pointer to a struct of the same type.  This allows recursive definitions, for the purposes of binary trees and such things.  Occasionally, you may also need two structs which refer to each other.

{{{.}}} and {{{-&gt;}}} (also {{{[]}}}) have high precedence, so
{{{
&amp;conn-&gt;db-&gt;rows[i]
}}}
gets the address of the result of following all the arrows.</pre>
</div>
<div _hash="edd2c174a79ae9addc67be413c9d663e7ef21f2d" created="20130709101646000" creator="willrogers" modified="20130718105257000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CTypedef/1311999:fbef0bc57890356b43e17dd0e1e4ff66f2044131&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1311999" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CTypedef" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CTypedef" type="text/x-tiddlywiki">
<pre>{{{typedef}}} has a few meanings in C.

!!Clarification

I found
{{{
typedef double FIRTYPE;
}}}
in the FastFeedback code.  This just means that the type FIRTYPE acts exactly as a double.  It is guidance for the programmer of the semantics of the particular double that is being used.  The compiler doesn't generate warnings if the wrong type of double is used.

!!Simplification
If you declare a struct, when creating an example of it, you have to use the keyword {{{struct}}}:
{{{
/* io structure of each link */
struct io_PSC_link
{
    struct io_PSC_link_reg reg[PSC_IP_NO_OF_REGISTERS];
    struct io_PSC_link_reg breakreg;
    ...
    REG16BIT unused_3[32+64];
};
...
static struct io_PSC_link * psc_link[PSC_MAX_LINKS] = {0};
}}}
The call at the end here is creating a local array of pointers to {{{io_PSC_link}}} structs.

If you put {{{typedef}}} before the declaration, you don't have to use the {{{struct}}} keyword before creating an instance, because you've registered the struct as a type.  It would work like this:
{{{
typedef struct {
 ... 
} io_PSC_link;
...
static io_PSC_link * psc_link[PSC_MAX_LINKS] = {0};
}}}

!!More detail
This gets a bit complicated.  Generally, when you create a struct its name is in the struct namespace, and you can reference it using {{{struct &lt;name&gt;}}}.  The typedef avoids this by putting it in the 'global namespace' along with variables and function names - that's why it is at the end of the struct definition rather than the start.  You could put it in the struct namespace as well (even with a different name, but that seems a bit silly).</pre>
</div>
<div _hash="c872a90c86fbcb8c245aebc57abd7ad65f66980f" created="20111104155712000" creator="willrogers" modified="20120411153040000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CvsNotes/675014:03aab5d3ab421e42cc3901d4eda6b5ec22baaa9d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="675014" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CvsNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="apel cvs" title="CvsNotes" type="text/x-tiddlywiki">
<pre>!CVS

See also SvnNotes.

I've used SVN since I started at RAL, but the APEL client source code is in CVS.  My instinctive reaction, partly because I've heard a number of things about how SVN is a big improvement on CVS, is to bury my head in the sand and muddle through.  It would be wise to migrate the CVS repo to SVN anyway, since the CERN CVS service is scheduled to be shut down.  

In the meantime, however, I have to work with CVS for editing the client code, so I should do it properly.  The defiinitive book, like SVN, is available online here: http://cvsbook.red-bean.com/cvsbook.html.

!!Checking out code
This works a little differently to SVN.  You need to specify a 'CVSROOT', which tells CVS where to look for the code.  There are also a number of ways of authenticating, but the one that works for me is SSH - this is presumably according to the key in my Ubuntu VM, which I'll need to copy if I want to check it out from elsewhere.

So this is how I do it:
{{{
export CVSROOT=:ext:wrogers@isscvs.cern.ch:/local/reps/jra1mw
export CVS_RSH=ssh
cvs co org.glite.apel.core
}}}

!!!Checking out a tag
{{{
cvs checkout -r glite-apel-publisher_R_2_0_14_0 org.glite.apel.core
}}}

!!Working with code
A lot of CVS commands are the same or similar to those in SVN.  So:
{{{
cvs ci -m 'This is a commit'
}}}

[[You can't delete directories without admin rights.|http://stackoverflow.com/questions/204991/remove-empty-directory-from-cvs]].

!!Status
I found the output from {{{cvs status}}} a bit confusing.  It seems to go through file by file to tell you that they're up to date, whereas {{{svn status}}} will only tell you if something has changed.  I found this snippet:
* {{{cvs status 2&gt;&amp;1 | egrep "(^\? |Status: )" | grep -v Up-to-date}}}
The author claims that it will show all updated, added and deleted files, and any that CVS doesn't know about.

{{{cvs diff}}} is similar to {{{svn diff}}}, but to make it clearer you probably want {{{cvs diff -c}}}, which gives you a couple of lines each side of the changes as in SVN.

!!Tagging
This is how I got on to the whole topic, because I needed to make a tag for the publisher release.  Tagging in SVN is simple, because there's no magic - you copy the trunk to the tags directory, and promise never to touch it again.  Tags are built into CVS, so there's no tags directory; they are kept more like by magic.

To make a tag, do as follows:
{{{
cvs tag &lt;tag-name&gt;
}}}
You can also use dates as a tag, so you can go back to a particular point in time.  But to go to a tag, you use (I think) {{{cvs update}}}, which seems slightly counter-intuitive.  I think this may actually be present in SVN as well, though.

!!!Sticky tags
This is another slightly complicated part which I don't think was carried through to SVN.  Or it might be quite simple but the name is confusing.

!!Branches
I now think I need to make a branch for a version of the APEL publisher - a separate branch for glite rather than EMI, because the configuration for the two systems are different even if the java code is the same.

It's [[here|http://cvsbook.red-bean.com/cvsbook.html#Branches]] in the book.  The basic message seems to be that you should check out the tag you want to branch from (often in the past, as in our APEL case) and then re-tag that as a branch using {{{cvs tag -b}}}.</pre>
</div>
<div _hash="70c4509d7cc2b8f161f7b5151ffb221f1e4b7e7f" created="20121208160437000" creator="willrogers" modified="20130127150358000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/CyanogenMod/1040519:dad7e3aeacf1b371dd82dcab16baaac40832994e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1040519" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="CyanogenMod" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="CyanogenMod" type="text/x-tiddlywiki">
<pre>* See also FreeXperia

There are few steps to putting a custom ROM on a phone.

!!Backing up
I backed up the data using ~MyBackup - an app which is free for 30 days.  Next time, I bought Titanium Backup, and backed up all my apps and selected system settings.

Restoring was a bit odd, because for a while it didn't seem to be able to find the backup, but after a little while it showed up.

!!adb
ADB is the Android debugger, which is one of the tools provided by the Android Developer Toolkit (ADT).

!!fastboot
Fastboot is another tool provided by ADT.  It is used later on for unlocking the bootloader and flashing an image.  You can either boot from a kernel:
* {{{fastboot -i 0xfce boot &lt;name&gt;.img}}}
or flash a kernel:
* {{{fastboot -i 0xfce flash boot &lt;name&gt;.img}}}

!!SDK manager
This is part of ADT and allows you to install Android SDK components.  You can open it by running the android script in the {{{tools}}} directory.  It is required for installing USB drivers.

!!Flashtool
Flashtool is a Windows program contributed by some XDA members.  It appears to be focused on Sony phones.

Sony are planning to release [[their own flash tool| http://developer.sonymobile.com/2012/12/06/new-flash-tool-from-sony-for-unlocked-xperia-smartphones-video-beta-download/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=new-flash-tool-from-sony-for-unlocked-xperia-smartphones-video-beta-download]].  It doesn't yet support Xperia Ray.

!!Windows 8 Drivers
Here's a suggestion on how to install drivers on Windows 8: http://forum.xda-developers.com/showthread.php?t=1583801

The names were different for my phone, but I chose the Android ADB Interface from the Sony SA0102 device (in the second step) and it appeared to work.

'''Important:''' it only worked using a ~USB2 port rather than ~USB3.

!!Unlocking the bootloader
This is the official way: http://unlockbootloader.sonymobile.com/instructions
* My unlock bootloader key is: 84861A6735422247
* Hopefully done.

!!Installing CyanogenMod
Here's instructions from the CyanogenMod wiki: 
http://wiki.cyanogenmod.org/w/Install_CM_for_urushi

The note at the bottom means that you've got to flash the kernel (see fastboot above) after going through the installation process.  I didn't do this, and ended up with a Lupus kernel because that was the first one I tried with the right method.

!!Rooting
This is only for the stock Android version which I had installed before.  I failed to actually root it, but it wasn't important.
To root the phone: http://winandtips.blogspot.co.uk/2012/09/how-to-root-xperia-ray-st18i-ics-404.html
* Right now I can't download the rooting toolkit.

</pre>
</div>
<div _hash="d33e31b147a4216356b1dc572c08e5b33ce5ebd6" created="20120329124413000" creator="willrogers" modified="20120330134807000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DatabaseTheory/660165:fb46316e929550a7ea287e2fcd7337f9a75bd155&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="660165" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DatabaseTheory" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="database nosql sql theory" title="DatabaseTheory" type="text/x-tiddlywiki">
<pre>I've just found what seems to be a good introduction to Berkeley databases, which starts with a good introduction to databases in general: http://www.stanford.edu/class/cs276a/projects/docs/berkeleydb/reftoc.html.

* SqlSyntax
* BerkeleyDB 
* MysqlNotes 

I also found a good paper on ~NoSQL, which seems to me to link in to Berkeley DB, but the lack of mention of it means perhaps it doesn't: http://www.christof-strauch.de/nosqldbs.pdf.

!!Basics
Storing and retrieving data is one of the core computing needs.  It starts simple, with text files, but rapidly grows in complexity such that something more sophisticated is needed.  This leads quickly to databases.  However, there are many different types of database, so you should use one suited to the data storage needs which you have.

DBs provide basically two services: data access and data management.  ''Data access'' is adding, removing, changing and searching the data.  ''Data management'' is the services provided for doing these things, such as concurrency, transactions (ACID: atomic, consistent, isolated, durable) and recovery (checking for data integrity and recovering a consistent system).  Other services, such as data browsing and The article says that data management is more complicated than data access.

!!Database types
!!!Relational
Relational databases are the best known.  Examples are Oracle and ~MySQL.  They are based on set theory, 'relation' being another term for 'set'.  A relation or table is a set of records.  A record or tuple is just some grouping of data, specified in certain types such as integer, string, datetime.

Practically all relational databases use SQL, and this is their main advantage - it's quite a simple way of picking out the data you need from the database.  It is simpler than writing a program to filter the data you need.

!!!Object-oriented
Objects stored in such a database map on to objects in programming languages - so-called 'persistence'.  It can allow you to store a large number of objects, and those objects to appear to the language as if they were in memory.

!!!Network 
This is something to do with storing pointers to objects - I didn't follow this closely.

!!Clients and servers
There are two basic layouts for databases: 
* You can have a server managing the database, and clients connecting to the server in order to do anything
* You can have a self-contained database which does all the management locally to the database.
Commercial products tend towards the client-server paradigm, which keep application logic smaller and ease management, since all the data is in a central location.  Self-contained databases can be useful for programs which need data storage, but don't want to saddle the user with a specific database server.

</pre>
</div>
<div _hash="fb67522c9cc3809959ddcc6412c980aaa2f7356d" created="20111019071237000" creator="willrogers" modified="20111019071237000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DataSummary/363952:88e03b772369c3ff9899ed9b612425f77b0fd963&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363952" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DataSummary" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DataSummary" type="text/x-tiddlywiki">
<pre>Patrick Fuhrmann

* Competitors: dCache, StoRM, DPM
** All represented here
* Four aims:
** Improving existing components
** User satisfaction
** Standardisation
** Integration
</pre>
</div>
<div _hash="5a4ffff0ef1ae5e273ce80832366e716684e7e70" created="20110421101541000" creator="willrogers" modified="20110421102642000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DefaultTiddlers/363954:8ec87049b157fa0e56a982ebe3daeb6f3d36663b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363954" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DefaultTiddlers" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DefaultTiddlers" type="text/x-tiddlywiki">
<pre>[[Home]]</pre>
</div>
<div _hash="cdf65cc5eb8e6665817a04cc764cd8797947f799" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/deleteTiddler/1521929:211a6bb6630ee2e61049f73a6f81238099dd0ac8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521929" server.permissions="read" server.recipe="willrogers_private" server.title="deleteTiddler" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="deleteTiddler" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="450 366 38 57"
width="30" height="30"&gt;
	&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
		&lt;g&gt;
			&lt;path d="M 452.1094 421.2422 L 450 421.2422 L 450 423 L 487.9688 423 L 487.9688 421.2422 L 485.8595 421.2422 
			L 485.8595 377.29688 L 487.9688 377.29688 L 487.9688 375.53906 L 485.8595 375.53906 
			C 485.8595 375.53906 481.12463 371.59341 473.02023 370.52802 C 472.6824 368.9689 471.72098 366.75 468.9844 366.75 
			C 466.24783 366.75 465.28638 368.9689 464.94864 370.52802 
			C 456.84418 371.59341 452.1094 375.53906 452.1094 375.53906 L 450 375.53906 L 450 377.29688 L 452.1094 377.29688 
			Z M 467.12247 370.32086 L 467.12247 370.32086 C 467.3805 369.42395 467.90762 368.50781 468.9844 368.50781 
			C 470.0612 368.50781 470.5883 369.42395 470.84634 370.32086 
			C 470.24136 370.2848 469.62054 370.26562 468.9844 370.26562 
			C 468.34827 370.26562 467.72748 370.2848 467.12247 370.32086 Z M 454.21875 420.92804 L 454.21875 420.92804 
			C 455.46762 420.42087 456.32816 419.35281 456.32816 418.11716 L 456.32816 377.29688 L 458.4375 377.29688 
			L 458.4375 421.2422 L 454.21875 421.2422 Z M 460.5469 420.92804 L 460.5469 420.92804 
			C 461.79578 420.42087 462.65625 419.35281 462.65625 418.11716 L 462.65625 377.29688 L 464.76566 377.29688 
			L 464.76566 421.2422 L 460.5469 421.2422 Z M 466.87503 420.92804 L 466.87503 420.92804 
			C 468.1239 420.42087 468.9844 419.35281 468.9844 418.11716 L 468.9844 377.29688 L 471.09378 377.29688 
			L 471.09378 421.2422 L 466.87503 421.2422 Z M 473.2032 420.92804 L 473.2032 420.92804 
			C 474.45203 420.42087 475.31256 419.35281 475.31256 418.11716 L 475.31256 377.29688 L 477.4219 377.29688 
			L 477.4219 421.2422 L 473.2032 421.2422 Z M 479.5313 420.92804 L 479.5313 420.92804 
			C 480.78018 420.42087 481.64066 419.35281 481.64066 418.11716 L 481.64066 377.29688 L 483.75006 377.29688 
			L 483.75006 421.2422 L 479.5313 421.2422 Z" fill="black" class="glyph"/&gt;
		&lt;/g&gt;
	&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="29a766b6d0d18fdbac1270b94f7ac746c6abe3f8" created="20140106151203000" creator="willrogers" modified="20140211082008000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondBeamlines/1657673:c629752ee9355824db576d51ad189bfbb51653c0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1657673" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondBeamlines" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondBeamlines" type="text/x-tiddlywiki">
<pre>My notes on the Diamond beamlines:

| ''ID'' | ''Name'' | ''Energy (keV)'' | ''Controls'' | ''PBS'' | ''Status'' |
| [[I02]] | Macromolecular crystallography: MAD | 5-25 | Ronaldo Mercado | Thomas Sorensen | Operational |
| [[I03]] | Macromolecular crystallography: MAD | 5-25 | Ronaldo Mercado | Katherine McAuley | Operational |
| [[I04]] | Macromolecular crystallography: MAD | 5-25 | James O'Hea | Dave Hall | Operational |
| I04-1 | Monochromatic MX | 13.53 |  | Frank von Delft | Operational |
| I05 | ARPES | 18-240 | Linda Pratt/Peter Leicester | Moritz Hoesch | Commissioning |
| [[I06]] | Nanoscience | | Peter Leicester | Sarnjeet Dhesi | Operational |
| I07 | Surface and interface diffraction  | 6-25 | Giles Knap | Chris Nicklin | Operational |
| B07 | VERSOX | 50-2000eV |  | | Approved |
| I08 | Soft X-ray microscopy  | 250eV - 4keV | Peter Leicester |  | Design phase |
| I09 | Surface and interface structural analysis |  | James O'Hea | Tien-Lin Lee | Commissioning |
| [[I10]] | BLADE | 400-2000eV | Linda Pratt | Paul Steadman  | Operational |
| I11 | High-resolution powder diffraction | 5-30 | Tom Cobb | Chiu Tang | Operational |
| I12 | JEEP (wiggler) | 50-150 | Ulrik Pedersen / Andy Foster | Michael Drakopolous | Operational |
| I13L | X-ray imaging and coherence | 8-35; 6-20 | Jon Thompson | Christoph Rau | Operational |
| [[I14]] | Hard X-ray nanoprobe | 5-25 |  | Paul Quinn | Design phase |
| I15 | Extreme conditions | 20-70 | Jon Thompson | Heribert Wilhelm | Operational |
| I15-1 | X-ray pair distribution | | | | Approved |
| I16 | Materials and magnetism | 3.5-25  | Giles Knap | Steve Collins | Operational |
| B16 | Test beamline | 4-20 |  | Kawal Sawhney | Operational |
| I18 | Microfocus spectroscopy | 2-20 | Peter Leicester | Fred Mosselmans | Operational |
| [[B18]] | Core EXAFS | 2-25 | ? | Andy Dent | Operational |
| I19 | Small molecule single crystal diffraction | 5-25 | ? | Dave Allan | Operational |
| I20 | LOLA: X-ray spectroscopy | 6-34  | ? | Sofia ~Diaz-Moreno | Commissioning |
| B21 | High Automated Throughput SAXS | 6-23 | Tom Cobb | Robert Rambo | Operational |
| I22 | | | Tom Cobb | | |
| B22 | | | Tom Cobb -&gt; EW | | |
| B23 | | | Ed Warrick | | |
| [[I24]] | | | | |</pre>
</div>
<div _hash="53b8a964e1b2c8d7bc18fee2fbdee95fd6ddb462" created="20130704085648000" creator="willrogers" modified="20140407160649000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondLauncher/1714635:599e2c9299ff3bd55a4ff5d6b7776d825e4d28f0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1714635" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondLauncher" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondLauncher" type="text/x-tiddlywiki">
<pre>The Diamond Launcher is the way that most of the Diamond GUI interfaces are started.  It is a funny little program, written in python.

See also DiamondRedirector, LauncherScripts, LauncherProgram

It is installed in {{{/dls_sw/prod/etc/Launcher/}}}.  The code is at {{{$SVN_ROOT/etc/trunk/prod/Launcher}}}.

[[Here|http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/Adding_a_new_application_to_the_Launcher]] are instructions on how to add a program to the launcher, which give a bit of insight into how it works.  The {{{applications.xml}}} file determines what is shown, and gives you enough information to launch each program directly.  In particular, most programs are run against a port number, the default of which is 5064.  I presume that {{{applications.html}}} is merely an XSL transformation of this file.

!!Proposed behaviour
Ideally, scripts should launch using the redirector, which should point to the script which sets up the environment for that particular program.

The launcher should determine the environment in which things are launched.  In particular, if the OS is ~RHEL6, we should use EPICS 3.14.12.3, and if ~RHEL5 3.14.11.  Run scripts could do further customisation if necessary.

The main problem is that some screens want to be launched with different configuration depending on some argument.  If the script does not go in the launcher, where should it go?

!!Environment
(See LinuxProfiles)

Usually, the launcher is run from the status bar.  This inherits the environment of the user that logged in.  The {{{spawn.sh}}} script explicitly sets 
* {{{export DLS_EPICS_RELEASE="R3.14.11"}}}
* {{{export PATH=$PATH:.}}}
* and sources {{{/dls_sw/etc/profile}}}

The environment of the individual user may confuse this.  Any program's script may set further environment variables.

It would be possible to clear the environment by executing {{{spawn.sh}}} using {{{env -i}}}, but this has the potential to surprise people.

Beamline I06 sources the script {{{/dls_sw/i06/etc/i06_profile.sh}}} on login.  Potentially, this could offer a way of keeping the environment clean.

!!To do
* Determine rogue scripts and owners (see LauncherScripts):
{{{
for file in *; do echo "$file:"; git log "$file" | grep 'Author' | finger `cut -d " " -f 2` | grep Name | tr -s '\t' | cut -f 2  | uniq; echo; done &gt; owners.txt
}}}
* Plan for locating script (courtesy Paul):
** script alongside {{{.edl}}} files
** copy to {{{data}}} directory with {{{.edl}}} files when building
** use redirector to point to the script in the appropriate version

!!Source
The source code is found at {{{$SVN_ROOT/etc/trunk/prod/Launcher}}}. 
!!Program
The program is in the following files: 
* {{{launcherCommon.py}}} - common code between the two interfaces
** {{{xmlFile}}} handles parsing {{{applications.xml}}}
** {{{launcherCommon}}} is a base class for the launcher applications
** it holds a list of xmlFile objects, one for each {{{applications.xml}}} file that it can find
* {{{launcherApplication.py}}} - the standalone application - this is a Qt ~QTreeWidget
* {{{launcherStatus.py}}} - the status bar version - this is a GTK Menu
** both of these have two parents, which makes the code a little tangled

The implementation seems quite tied to the two widgets that are being created; the model cannot easily be extracted.

* {{{install-launcher.sh}}} is used to install the launcher in the Gnome status bar.
* {{{spawn.sh}}} is called to start each program.  It sources the DLS environment from {{{/dls_sw/etc/profile}}}.  The path is set in this script, currently only to the launcher's directory.
** for some reason, {{{spawn.sh}}} uses screen to launch programs.  If you run {{{screen -ls}}} - you can see all the screen sessions which have been opened.
** the options {{{-m -d}}} starts in detached mode - that is, create a session but don't attach to it.
* {{{from-configure-ioc.sh}}} takes a key and fetches a value from {{{configure-ioc}}}, before running it.
** it also exports {{{EPICS_CA_SERVER_PORT}}}
** it also sources {{{/dls_sw/epics/etc/beamline_ca_addr_list}}}
** finally it runs {{{sh $command}}} - why {{{sh}}}?  It means that whatever is run must be a shell script.
** since it spawned another process, it needs to wait for it before exiting.

!!Running 
If you check it out and run {{{python launcherApplication.py}}}, you can run all the applications, so no additional environment is needed.

All programs are run using {{{spawn.sh}}}.

!!Logging
The launcher logs to {{{/tmp/launcher-$UID.log}}}


!!Helper scripts
When additional logic is required to launch programs, an additional script is dumped in the same directory as the launcher, and this is referred to in {{{applications.xml}}}.</pre>
</div>
<div _hash="48c1c41eb0adcb42807f1862029f219b64b89394" created="20140616153756000" creator="willrogers" modified="20140618094430000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondMachine/1797765:b95096eaaa3630443909195d5bf905d00d81a9dc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1797765" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondMachine" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondMachine" type="text/x-tiddlywiki">
<pre>See also DiamondMagnets.

Diamond is a standard 3rd generation light source, of which there are several similar examples.  

!!!Key parameters
|Beam Energy|3GeV||
|Operating current|3mA |There are plans for 350mA and eventually 500mA|
|Circumference|561.6m||
|Number of bunches|936||
|Bunch spacing|~60cm, ~2ns||
|RF frequency|500MHz||
|Lap time|~2μs||
|Number of cells|24|Originally 6-fold symmetry|
|Horizontal emittance|2.7nmrad||
|Vertical emittance|8pmrad|0.3% coupling|
|Energy spread|1 x 10e-3||
|Electron beam size|123µm x 6.4µm||
|Electron beam divergence|24 x 4.2µrad|At centre of 5m ID|
|Insertion devices|4 x 8m, 18 x 5m|Two long straights used for injection and RF|
|Min ID gap|7mm|Plans for 5mm?|

</pre>
</div>
<div _hash="235e1134091de9ce79a7aa3b33acdab2405ae0a1" created="20140617145951000" creator="willrogers" modified="20140619053517000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondMagnets/1798638:486002444d6e9565154738e4c204810e4e773d66&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1798638" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondMagnets" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondMagnets" type="text/x-tiddlywiki">
<pre>There are several different types of magnet in the Diamond storage ring:

!!!Storage ring
|''Type''|''Number per cell''|''Total''|''Strength''|''Current''|''Notes''|
|Dipole magnets|2|48|1.4T||90cm long|
|Quadrupole magnets|10|240|||There are 8 extra in the mini-beta cells|
|Sextupole magnets|7|168||||
|Fast correctors|7*2|172*2|||One V,H per sextupole, plus 4 extra in mini-beta cells; extra windings on the sextupoles|
|Skew quadrupoles|4|96|||Quads rotated by 45 degrees; extra windings on the sextupoles|
|Mini betas|4|8|||Extra quadrupoles to correct for the ~IDs I09 and I13|

!!!Pulsed magnets
See [[this link|http://accelconf.web.cern.ch/accelconf/e06/PAPERS/THPLS028.PDF]].
|''Type''|''Deflection angle''|''Peak field''|''Repetition rate''|''Rise time''|''Fall time''|''Current''|
|Booster injection kicker|4.4 mrad|5mT|5Hz|n/a|150ns|65A|
|Booster extraction kicker|30 mrad|30mT|5Hz|150ns|n/a|350A|
|Booster injection septum|275 mrad|310mT|5Hz|||3800A|
|Booster extraction preseptum|4.7mrad|130mT|5Hz|||1400A|
|Booster extraction septum|108mrad|900mT|5Hz|||7500A|
|Storage ring kickers|9.6mrad|160mT|5Hz|2.5μs|2.5μs|5000A|
|Storage ring septum|150mrad|894mT|5Hz|140μs|140μs|12750A|

!!!Booster ring
There are 22 cells in the booster ring.  The circumference is 158.4m.  See [[this link|https://accelconf.web.cern.ch/accelconf/e06/PAPERS/WEPLS067.PDF]].
|''Type''|''Number per cell''|''Total''|''Strength''|''Current''|''Notes''|
|Dipole magnets|?|36|0.8T||2m long; 0.027T at injection|
|Quadrupole magnets|2|44|15T/m|180A||
|Sextupole magnets|?|28|70T/m^2|19A||
|Correctors|2|44|0.02T|||
</pre>
</div>
<div _hash="a1612bfbbe6d79ae5ef3d4fd09489cb06df38bd5" created="20130626154837000" creator="willrogers" modified="20140508132841000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondModules/1743969:381975833861076ff1ff85aae569af798afa9672&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1743969" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondModules" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondModules" type="text/x-tiddlywiki">
<pre>Diamond uses the {{{module}}} command to control environments.  The locations it looks are stored in the {{{MODULEPATH}}} variable, which includes the {{{privatemodules}}} directory which I found in my home directory.

You can see which modules are loaded with {{{module list}}}.

You can switch a module for another using {{{module swap}}}.  In particular, if you do this for EPICS versions, it knows (because of the way the scripts are set up) that it needs to remove the old EPICS version.

You can see available modules with {{{module avail}}}.  To see a group, e.g. {{{module avail matlab}}}.

!!!Default modules
* {{{controls}}} - adds module files, and loads {{{controls-tools}}}
* {{{controls_dev}}} - CVS and SVN variables
* {{{controls_tools}}} - the tools binary directory
* {{{epics/3.14.11}}} (this should be {{{epics/3.14.12.3}}} now)

!!!Matlab modules
See http://confluence.diamond.ac.uk/display/CHLP/Matlab

!!!Other modules
* any new released software</pre>
</div>
<div _hash="91df4fc3458416042140db37782ebeb671096b2a" created="20131026132842000" creator="willrogers" modified="20140802145714064" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondNotes/1822039:1e4425352cc4a485994bfd9eb221666a41ef0e10&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1822039" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondNotes" type="text/vnd.tiddlywiki">
<pre>These are things that are useful for work at Diamond.

!!!Projects
* FastArchiver
* EpicsArchiver
* EpicsPython
* EpicsQt
* [[Topup]]
* FastFeedback
* I10Switching
* CsStudio

!!!EPICS
* EpicsExtensions
* EpicsEdm
* EpicsSource


!!!Development environment
* ControlsGit
* ControlsAde
* EclipseDiamond
* DiamondLauncher 
* DiamondRedirector
* DiamondModules

!!!Python
* PyQt
* DiamondPython


* PythonSoftIoc
* PythonMachine

* TeachingPython

!!!Physics
* DiamondMachine
* DiamondMagnets
* ParticleAccelerators
* PhysicsSoftware
* MiddleLayer
* MatlabNotes

!!!IT
* ExternalConnection
* StfcVpn
* DiamondSetup

!!!Misc
* DiamondBeamlines

You can see who's using the Matlab licences at http://www.cs.diamond.ac.uk/computing/matlab.php.

If set up correctly, ~IOCs will log to {{{/dls/ops-data/epics/logs/}}}
PV regular expression: {{{grep -E "\"[A-Z0-9]+-[A-Z]+-[A-Z]+-[0-9]+:" *.py}}}
Query people who have edited a file in SVN:
{{{
for file in *; do echo "$file:"; git log "$file" | grep 'Author' | finger `cut -d " " -f 2` | grep Name | tr -s '\t' | cut -f 2  | uniq; echo; done &gt; owners.txt
}}}
</pre>
</div>
<div _hash="b077152c0d46502aa8331e7d14f386c7a096557a" created="20130626142719000" creator="willrogers" modified="20140808140222659" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondPython/1284054:24c7be7caf4db8f8b5c86a2fa0ce8348c9dbc891&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1284054" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondPython" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="diamond python" title="DiamondPython" type="text/vnd.tiddlywiki">
<pre>Links from the wiki:

* http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/Updating_python_modules_to_RHEL6_and_python2.7

Diamond has a pretty complex setup for its Python installations.  One of the DiamondModules is ~RHEL6-RHEL5, which simply puts the RHEL5 path before others.  This is the reason why the Python eggs in the RHEL5 locations are found before those in ~RHEL6 ones.

There is a program called python-config, which seems to tell you something about the python program used.  It uses the {{{distutils.sysconfig}}} module to query python itself.

!!Eggs
Diamond libraries are generally provided as Python eggs.  This allows management of versions.  Only if no egg is found are the regular python libraries used.

</pre>
</div>
<div _hash="6db9e57274a56625f07b1ddaa5d7e71ec7c182d3" created="20130819091844000" creator="willrogers" modified="20131125141852000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondRedirector/1560422:3612e991ef4f2844e02743ad6fa03699c45018b3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1560422" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondRedirector" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondRedirector" type="text/x-tiddlywiki">
<pre>The Diamond redirector is a tool used to allow a simple way to map an IOC's name to its startup script.

!!{{{configure-ioc}}}
This simply takes a string (the IOC name) and provides a path to a boot script.  The redirect table is here: {{{/dls_sw/prod/etc/redirector/redirect_table}}}.

There are options
* {{{s}}} - show one IOC
* {{{l}}} - list all ~IOCs
* {{{e}}} - edit one IOC
* {{{b}}} - batch edit several ~IOCs

!!{{{configure-tool}}}
This provides the path to some library.  The redirect table is here: {{{/dls_sw/prod/etc/build/tools_build/RELEASE.RHEL6-x86_64}}}.  I don't think there is a version for ~RHEL5.</pre>
</div>
<div _hash="9efaf02e37c3774c1a52a158568e2a9b8e259f3f" created="20130923095930000" creator="willrogers" modified="20130925122729000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondScripts/1420738:b6d628afe4e277ba7e7c1dd07b13a913f34bd64e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1420738" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondScripts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondScripts" type="text/x-tiddlywiki">
<pre>There are three python packages containing code written to help manage the DiamondAde.  They are:
* DlsEnvironment - tools providing information about the DLS filesystems
* DlsScripts - various scripts for several purposes
* DlsRelease - scripts used to automate releases

!!Location

* In Red Hat 5,  they are in {{{/dls_sw/prod/common/python}}}, with external tools
* In Red Hat 6, they are in the nested directory {{{/dls_sw/prod/common/python/RHEL6-x86_64}}}


</pre>
</div>
<div _hash="6318a4d637c9b500e0e8d35af6435b8b0bb998f9" created="20130611145037000" creator="willrogers" modified="20130823144617000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DiamondSetup/1360646:3e1993e1acfe3a5aa7a5279e5286008f89971a41&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1360646" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DiamondSetup" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DiamondSetup" type="text/x-tiddlywiki">
<pre>The Diamond PCs run Red Hat, and users do not have root.  Some software is installed, but I am having to figure out my own ways of setting up the machine.

LocalInstallations

!!Filesystem
* {{{/home/hgs15624}}}  is a network filesystem and is backed up
* {{{/scratch}}} is the local disk.  There's a lot of stuff on there, so I use {{{/scratch/will}}}
* Everyone's home directory is visible by default, but I can't list them all
* {{{/dls_sw}}} contains all the Diamond software

!!Installing software
I have installed software on {{{/scratch/will}}}.  I will put links to executables in {{{/scratch/will/bin}}}.  I added that directory to my path in {{{~/.bashrc_local}}}.

!!!Python
You can use {{{easy_install}}} to install python packages locally:
{{{
easy_install --prefix=/scratch/will/install/python pylint
}}}
This puts:
* the scripts in {{{/scratch/will/install/python/bin}}} (add this to the PATH)
* the libraries in {{{/scratch/will/install/python/lib/python2.7/site-packages}}} (add this to the PYTHONPATH)

I used easy_install-2.6 to install pylint for use with version 2.6 of python.  I also messed around a bit trying to get it to work from inside my local installation of eclipse.

!!Shortcuts
Mike Leech gave me the following command for a Windows session:
{{{
rdesktop -5 -a 16 -u hgs15624 -k en-gb -g 1920x1152 -D -K -d CLRC diamts02.diamond.ac.uk
}}}

!!!Icons
I put icons for the shortcuts in {{{/scratch/will/icons}}}

!!SSH Key
Interestingly, since my home directory is mounted on all the machines to which I want access, I can put my public key in {{{~/.ssh/authorized_keys}}}, and this allows me to SSH there.  I used the default settings on {{{ssh-keygen}}}, which worked fine.</pre>
</div>
<div _hash="2232cd0549946d29c475cec846de3378177301ae" created="20130924180405000" creator="FND" modified="20130924180405000" modifier="FND" server.bag="system" server.content-type="text/javascript" server.etag="&quot;system/DiffFormatter/1521854:1379bc1d996f10f417ef3840a2ac8b08aa85e71e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521854" server.permissions="read" server.recipe="willrogers_private" server.title="DiffFormatter" server.type="tiddlyweb" server.workspace="bags/system" tags="excludeLists excludeSearch systemConfig" title="DiffFormatter" type="text/x-tiddlywiki">
<pre>/***
|''Name''|DiffFormatter|
|''Description''|highlighting of text comparisons|
|''Author''|FND|
|''Version''|0.9.0|
|''Status''|beta|
|''Source''|http://svn.tiddlywiki.org/Trunk/contributors/FND/formatters/DiffFormatter.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/contributors/FND/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Keywords''|formatting|
!Description
Highlights changes in a unified [[diff|http://en.wikipedia.org/wiki/Diff#Unified_format]].
!Notes
Based on Martin Budden's [[DiffFormatterPlugin|http://svn.tiddlywiki.org/Trunk/contributors/MartinBudden/formatters/DiffFormatterPlugin.js]].
!Usage
The formatter is applied to blocks wrapped in &lt;html&gt;&lt;code&gt;{{{diff{..}}}&lt;/code&gt;&lt;/html&gt; within tiddlers tagged with "diff".
!Revision History
!!v0.9 (2010-04-07)
* initial release; fork of DiffFormatterPlugin
!StyleSheet
.diff { white-space: pre; font-family: monospace; }
.diff ins, .diff del { display: block; text-decoration: none; }
.diff ins { background-color: #dfd; }
.diff del { background-color: #fdd; }
.diff .highlight { background-color: [[ColorPalette::SecondaryPale]]; }
!Code
***/
//{{{
(function() {

config.shadowTiddlers.StyleSheetDiffFormatter = store.getTiddlerText(tiddler.title + "##StyleSheet");
store.addNotification("StyleSheetDiffFormatter", refreshStyles);

var formatters = [{
		name: "diffWrapper",
		match: "^\\{\\{diff\\{\n", // XXX: suboptimal
		termRegExp: /(.*\}\}\})$/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, "div", null, "diff");
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: "diffRange",
		match: "^(?:@@|[+\\-]{3}) ",
		lookaheadRegExp: /^(?:@@|[+\-]{3}) .*\n/mg,
		handler: function(w) {
			createTiddlyElement(w.output, "div", null, "highlight").
				innerHTML = "&amp;#8230;";
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	}, {
		name: "diffAdded",
		match: "^\\+",
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, "ins", null, "added");
			w.subWikifyTerm(el, this.termRegExp);
		}
	}, {
		name: "diffRemoved",
		match: "^-",
		termRegExp: /(\n)/mg,
		handler: function(w) {
			var el = createTiddlyElement(w.output, "del", null, "removed");
			w.subWikifyTerm(el, this.termRegExp);
		}
	}
];

config.parsers.diffFormatter = new Formatter(formatters);
config.parsers.diffFormatter.format = "diff";
config.parsers.diffFormatter.formatTag = "diff";

})();
//}}}</pre>
</div>
<div _hash="e99f209e224283dea37f90a2e4cb7ed046f3217d" created="20120604093325000" creator="willrogers" modified="20120604093325000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DifficultSpellings/732440:2a2d750765927a19a49b5c3f0893246d1c9cce6d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="732440" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DifficultSpellings" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DifficultSpellings" type="text/x-tiddlywiki">
<pre>* physiognomy
* inoculate
* innocuous
* Messerschmitt
* affidavit
* tonsillitis
* manoeuvre
* palisade
* sorcerer
* harass
* connoisseur
* innuendo
* Teesside
* idiosyncrasy</pre>
</div>
<div _hash="8e5e603b6e4b1c73c7558c2ba0cda76410c9fd31" created="20120624115659000" creator="willrogers" modified="20120625214349000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DigitalMusic/760941:ec08b776baf7035a2e5c43d7dcae5b7548b0dcad&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="760941" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DigitalMusic" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DigitalMusic" type="text/x-tiddlywiki">
<pre>This is a pretty complex topic, and I keep on picking up bits and pieces, but  would like to know a bit more.

There are a lot of variables which make music recording complex.  The easy one to follow is bitrate: I have mp3s varying to 56kb/s to 320 kb/s.  It is difficult to assess the most valuable rate to use, because if I record my mp3s and dispose of my CDs, it's arguable that later on I may need higher-quality music than I need now.  However, I don't like the tendency to record everything at the highest theoretical quality, because it quite often is entirely pointless.

There is quite a strong case for keeping a lossless version for future reference, even if you're going to encode it at lower quality for actual use.

!!Articles
* http://www.codinghorror.com/blog/2012/06/the-great-mp3-bitrate-experiment.html - from Coding Horror
* http://people.xiph.org/~xiphmont/demo/neil-young.html - about 24/192

!!Variables
* The simplest one to understand is bitrate.  This varies from about 56-320kb/s.
* Format - there are several: mp3, wma, ogg vorbis
* Encoder - more important than the format and the quality, because a poor encoder produces poor quality representations
* Frequency range: it is well established that humans can hear from 20Hz to 20kHz.  Extra range (up to 192kHz) can be provided, but it is of no value
* Constant or variable bit rate (CBR or VBR) - mp3 is the former, and OGG Vorbis the latter

!!Formats
* mp3 - the most widely used
* WMA - Windows format
* AAC - advanced audio coding: is supposed to be better than mp3 for the same bitrate

!!Spotify
Unless something changes unexpectedly, Spotify will be a large source of my music in future.  They have cleverly catered to audiophiles by providing 320kb/s audio if desired, but ''they don't tell you whether each piece of music is available in that quality''.  They've smartly harnessed the fact that those who care should be able to tell!

The new android app gives me three types of audio: Normal, High quality and Extreme.

[[This page|http://www.spotify.com/uk/help/faq/tech/codec-quality/]] says more, and seems to match what I've said.  I measured Normal to be ~82kbps on my mobile, so they probably compress while streaming.

!!Music collection
I checked my mp3s, and the file sizes are pretty close to what you'd expect from the bitrates.  The rate refers to thousands of bits per second, so 320kbps = 320,000 bits / second.

</pre>
</div>
<div _hash="bf6f6185ec0ff8a537022093fd669bbc1e1c2a1c" created="20140422151639000" creator="willrogers" modified="20140422153718000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DisappearingBug/1728273:09266bc64cce28323656d162c1b307252499e50e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1728273" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DisappearingBug" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DisappearingBug" type="text/x-tiddlywiki">
<pre>See http://jira.diamond.ac.uk/browse/BC-97.

For some reason, it affects all of the buttons except the first one.  It happens for edm 1-12-28, but not for edm 1-12-89.  However, in edm 1-12-89, there is a printed comment which appears to happen at the same time:
{{{
activeGroupClass::btnUp calling node btnUp
}}}

!!!Paths
* {{{/dls_sw/prod/R3.14.11/ioc/BL18B/BL/3-42/data}}}
* {{{/dls_sw/prod/R3.14.11/ioc/BL18B/BL18B-MO-IOC-01/1-14/data}}}</pre>
</div>
<div _hash="b22e355bc6e6080c782340509eedc948547ea69b" created="20130925122555000" creator="willrogers" modified="20130925122555000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DlsEnvironment/1420732:e8738def3a2cddb686c46a4fc79f743d34275566&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1420732" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DlsEnvironment" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DlsEnvironment" type="text/x-tiddlywiki">
<pre>!!!{{{dls_environment}}}
This seems to provide the locations on the {{{/dls_sw}}} filesystem.  The functions {{{devArea}}} and {{{prodArea}}} return locations on the {{{/dls_sw/prod}}} and {{{/dls_sw/work}}} filesystems respectively.  The one exception is that the prod location for EPICS is {{{/dls_sw/epics}}}, but the work location is {{{/dls_sw/work/epics}}}.

!!!{{{dls_environment.py}}}
Contains the class {{{environment}}}, which does a bunch of mappings between versions and filesystem locations, and helper methods for this purpose.
!!!{{{options.py}}}
A subclass of ~OptionParser,  with dls-specific options added as default - that is, {{{-a}}} (area), {{{-p}}} (python), {{{-i}}} (ioc)
!!!{{{svn.py}}}
A class {{{svnClient}}} which provides all the details about the DLS svn repo.  It behaves like a {{{pysvn.Client()}}} object, but doesn't inherit from the class.</pre>
</div>
<div _hash="441be7f6a5c1d086c012e5b60f072a9f14bdcccd" created="20130926073243000" creator="willrogers" modified="20130927145806000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DlsRelease/1426556:db61531703e5f0035a1c6c043f974b2e99cd911c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1426556" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DlsRelease" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DlsRelease" type="text/x-tiddlywiki">
<pre>!!Overview
The package contains two python scripts, {{{dlsbuild.py}}} and {{{dls_release.py}}}.  There is also a directory {{{dlsbuild_scripts}}} which has subdirectories {{{Linux}}} and {{{Windows}}}.  These contain only shell scripts and batch scripts respectively.

!!!{{{dlsbuild}}}
Contains the class {{{builder}}} and the subclasses {{{windows_build}}}, {{{redhat_build}}} and {{{archive_build}}}.  The subclasses provide the method {{{build_script()}}}.  The {{{archive_build}}} class overrides the {{{script_file}}} method as well.  There are also a few helper functions.

It submits builds by choosing the appropriate script from the {{{dlsbuild_scripts}}} directory, and prepending necessary variables to the front.  This is written to the build queue for execution by the build server.

!!!{{{dls_release.py}}}
Has only two functions: 

!!!{{{release()}}} 
The signature is {{{release(module, versions, options)}}}.  It follows this rough pattern:

* determines the appropriate release number
* creates the right type of {{{builder}}} class and sets options 
* check that the chosen source directory exists in SVN
* if chosen and possible, call {{{builder.test()}}} to run a test build
* create the SVN release directory and copy the source there
* call {{{builder.submit()}}} (this could still release to {{{work}}} or {{{prod}}})

!!!{{{main()}}}
Determines module, versions and options from the {{{OptionParser}}} arguments and calls {{{release(module, versions, options)}}}.</pre>
</div>
<div _hash="62d2f3b1828c8689a13c2a7b76a1987616d4ecfc" created="20130925122620000" creator="willrogers" modified="20130926072859000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DlsScripts/1423011:7dfa7820ead710e1a8fcec3c89ae0861e9cbd04c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1423011" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DlsScripts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DlsScripts" type="text/x-tiddlywiki">
<pre>!!Overview
!!!{{{dls-checkout-module.py}}}
Although it does something which is essentially simple, helps you think in terms of the areas, trunk, branches, releases that the {{{dls-release.py}}} scripts etc. use.

!!!{{{dls-include-license.py}}}
Simply prepend GPL text to the beginning of specified files, with some sensible substitutions.

!!!{{{dls-list-branches.py}}}
Given a module, list all the branches in SVN.

!!Package
There are two python packages in the distribution:  {{{dls_scripts}}} has only a few files, and {{{py_scripts}}} has many.

!!!{{{dls_scripts}}}
The only apparently useful module in here is {{{dlsgroups.py}}}.  It is used by a few of the scripts in {{{py_scripts}}}.  Perhaps this is the library package, but this is the only module which doesn't need to be executed.

!!!{{{py_scripts}}}
This contains all the python scripts which are executed, which is the vast majority.</pre>
</div>
<div _hash="540975b62a7d02b06f26d62342c8e33382bcc77e" created="20120918091416000" creator="willrogers" modified="20120918092448000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DpmTalk/879443:1d15c2e613f36c5a67845029c1cb999cc588b560&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="879443" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DpmTalk" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DpmTalk" type="text/x-tiddlywiki">
<pre>Given by Oliver Keeble, on behalf of Ricardo Rocha, at the EgiTfPrague.

DPM is the largest storage element in use
* Total 36PB
** 10 sites using more than one PB
* 300 ~VOs have access
* 200 sites

Prod version 1.8.3, in EPEL, ~EMI1 and ~EMI2 - now all exactly the same
Will still be released in EPEL after EMI.

!!Features 
* HTTP/DAV frontend
* ~NFS4.1 frontend
* Uses DMLITE (see below)
* 32-bit client support, important for HEP
* Release process will become more lightweight.

* Using Puppet for configuration
* Using Nagios for monitoring

!!DMLITE
DMLITE is a big refactoring to make DPM much more modular.  Better separation between front and back ends.  Improved performance, and better integration with standard building blocks.  Allows memcache rather than a disk database for namespace management, which improves performance by a large amount.

It has a plugin-based design, which allows easy support for different technologies.

!!Standards
* HTTP/DAV
* ~NFS4.1/pNFS (readonly)
* Xrootd (HEP specific, rewritten)
* ~GridFTP support on the way
* Old interfaces unchanged

!!Future
* DPM is big enough to be supported independently of project cycles.  Building a DPM collaboration: ~GridPP, WLCG France, Taipei....
* Members of the collaboration get influence in proportion to their contribution.
* CERN projects are finishing now, and developments are ending.  The project is moving into maintenance only.</pre>
</div>
<div _hash="6b5825d48b876c39465ba8944e5a03e4ab438d1c" created="20131231103500000" creator="willrogers" modified="20131231103939000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DvdRipping/1611276:3f571d91f640193ddbe84a49fe031699258114f1&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1611276" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DvdRipping" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DvdRipping" type="text/x-tiddlywiki">
<pre>!!Aspect ratio
There's a very good page on this on the ~HandBrake wiki: https://trac.handbrake.fr/wiki/AnamorphicGuide
!!Programs
There are a few programs you can use on Linux.  ~HandBrake was the first one I got working successfully.  {{{dvd::rip}}} is another.

!!File formats
It is slightly complicated, because you need to record video and audio streams.

!!!Containers
The main two used now are mpeg-4 (m4v) and Matrushka (mkv).  Xvid and DivX aren't so useful now.

!!!Video
{{{H.264}}} seems absolutely fine

!!!Audio
I've used AAC.



</pre>
</div>
<div _hash="b91460042c01837d266fa682df4556ecd8329541" created="20140217191518000" creator="willrogers" modified="20140217191545000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/DynamicDns/1664320:0555529b6b7d7544225f7e022f0bc9ba742e930e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1664320" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="DynamicDns" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="DynamicDns" type="text/x-tiddlywiki">
<pre>It's useful to be able to connect back to a home network.  You can do this using dynamic DNS.  I used http://duckdns.org.

I followed the instructions to update it using Raspbmc.

I also port forwarded 22 so that I can SSH.</pre>
</div>
<div _hash="3fcb0cfae42ced9b5f85524fb38f1454d78f6508" created="20140409103709000" creator="willrogers" modified="20140409122917000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseCommands/1715804:32813fb64876ba96a995910e3e7938a90059a798&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715804" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseCommands" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseCommands" type="text/x-tiddlywiki">
<pre>{{{Command}}}s allow you to separate the concept of behaviour from any button or menu item that initiates the behaviour.

Copying an example - you can use Edit -&gt; Copy anywhere in Eclipse, but it might refer to text from an editor or a file from the Package Explorer.  Different handlers may implement the behaviour depending on the context.  Eclipse determines which handler is attached to a command for each context.

Once the command exists, you need to add it to the relevant places.  For example, you can extend {{{org.eclipse.ui.menus}}} and add your command in the correct place.

!!!Handlers
When a command is called, a handler must be selected to carry out the command.  When you register a handler, you can use expressions to determine whether it is relevant.  If you specify no expressions, it will be the default handler.  The most specific expression has priority.  The most frequent expression is which view or editor is active.

You can give a command a default handler.

When you create a handler, you also need to create a class so that you can implement the behaviour.  It suggests {{{IHandler}}}, but better to use {{{org.eclipse.core.commands.AbstractHandler}}}, which has done most of the implementation for you.
</pre>
</div>
<div _hash="9deda77200b435994bf6d5531bb62db51207a29d" created="20130604130808000" creator="willrogers" modified="20130611153333000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseDiamond/1255989:57dc4738018be454744f1cb11d162d3fca1ce334&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1255989" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseDiamond" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="eclipse pydev python" title="EclipseDiamond" type="text/x-tiddlywiki">
<pre>Eclipse is installed on the Diamond machines, but I can't install addons because I don't have root.  This is how I set up eclipse locally.

!!Eclipse
Download a new version (I've got Juno service release 2)
* Unzip it to {{{/scratch/will/eclipse}}}
* You can then run it with {{{/scratch/will/eclipse/eclipse}}}

!!~PyDev
I installed this in a regular fashion (see EclipseNotes).  Same goes for Vrapper.

!!Python
This is a bit involved. 
!!!{{{dls-python2.7}}}
Its path is {{{/dls_sw/prod/tools/RHEL6-x86_64/defaults/bin/dls-python2.7}}}.  I then kept the libraries from ~RHEL6 x86_64 and python 2.7.
!!!{{{dls-python2.6}}}
Path: {{{/dls_sw/prod/tools/RHEL5/bin/python}}}.

!!~PyLint
~PyDev knows about pylint, but needs the executable.
</pre>
</div>
<div _hash="888dc02ae7cec98e5d8318be6867e62c51004f53" created="20140408201900000" creator="willrogers" modified="20140409155540000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseDisplay/1715997:7d409564fc5f617908bd9e1d83e9a06bddcfc653&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715997" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseDisplay" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseDisplay" type="text/x-tiddlywiki">
<pre>An Eclipse application will usually have one [[Display|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Display.html]] - it handles SWT talking to the operating system.  Some of this is a bit too low-level to use.

You can get the Display with
* {{{Display.getCurrent()}}} - the display created on the same thread
* {{{Display.getDefault()}}} - best way to get the Display if there is only one.

You can get shells with
* {{{display.getShells()}}}
* {{{display.getActiveShell()}}}

You can also add items to the system tray, which you can get with {{{display.getSystemTray()}}}.  Here's an example: http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet143.java
Here's an example of different widgets in a menu: http://stackoverflow.com/questions/12288028/how-to-keep-swt-menu-open-after-user-clicks-menu-item

!!!Tasks
These are used when background threads want access to parts of the UI.  Use {{{asyncExec()}}} if you don't care about when it happens, and {{{syncExec()}}} if you need to wait for the result.

* {{{display.syncExec(Runnable)}}} - run the task on the UI thread
* {{{display.asyncExec(Runnable)}}} -  the the task in a background thread

See http://stackoverflow.com/questions/11100171/difference-between-syncexec-and-asyncexec-of-display-class for a discussion of when to use either of these.</pre>
</div>
<div _hash="f880246a71cb3bded0ba30b96cf3f14a15d3d4ab" created="20140408200640000" creator="willrogers" modified="20140409090201000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseEditorsAndViews/1715736:2fd144e49dde2a62a2020213d709b06862b8de96&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715736" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseEditorsAndViews" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseEditorsAndViews" type="text/x-tiddlywiki">
<pre>See EclipseWorkbench

Editors and view are two different components in Eclipse.  An IWorkbenchPage stores editors and views in some configuration; editors and views cannot be shared by different pages. In Eclipse 3, there are fundamental differences:
* editors live in one rectangle within a workbench window
* editors cannot be detached
* you cannot remove the tab from the top of an editor
* in general, only one instance of a given view may exist in one page

The term part may refer to either an editor or a view.  You implement {{{IEditorPart}}} and {{{IViewPart}}}; these are created when needed, because you use an extension point to define the view.  Similarly, use an extension point to define any editors.

In Eclipse 4 there are fewer fundamental differences between editors and views.  

http://wiki.eclipse.org/FAQ_What_is_the_difference_between_a_view_and_an_editor%3F</pre>
</div>
<div _hash="6e1cd592a25bb6681bbed03b0e687b236c083239" created="20110603124321000" creator="willrogers" modified="20130103133717000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseNotes/1012615:5e1a553751be6865fc2cc7d5f976f48041a5972c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1012615" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="eclipse java python" title="EclipseNotes" type="text/x-tiddlywiki">
<pre>Random notes about Eclipse, which will be sorted at a later point if necessary.

!!Keyboard Shortcuts
| Run the current file | Ctrl + F11 |
| Tab between files | Ctrl+ ~PgUp/~PgDn |
| Tab through file history | Alt + Left / Right |

!!Linux installation
* On Ubuntu, I have to open Eclipse as root to install new software (via Help -&gt; Install New Software...)

!!~PyDev
* Pydev: do this through eclipse: 
** At least once I had to set up the network proxy within eclipse:
*** Window -&gt; Preferences -&gt; General -&gt; Network Connections
*** Active Provider -&gt; Manual and enter the proxy details
** Help -&gt; Install New Software... then follow the instructions here:
** http://pydev.org/manual_101_install.html

I often have problems trying to resolve imports using ~PyDev and Eclipse.  Things you can try:
* Add all library folders including parents to the PYTHONPATH window
* Remove and re-add the python interpreter 
* Restart Eclipse using the File menu option

I had a problem where Eclipse froze while it was starting up, I think after my computer crashed.  I removed the file {{{/home/will/apel/.metadata/.lock}}} and it seemed to fix it.

!!subclipse
* do this through eclipse
** apt-get install libsvn-java
** http://subclipse.tigris.org/servlets/ProjectProcess?pageID=p4wYuA
** On Debian, Eclipse wouldn't let me 'Finish' unless I'd installed all dependencies (some kind of bug).  These included GEF (for the revision graphs); instructions [[here|https://aptanastudio.tenderapp.com/discussions/problems/3279-subclipse-installation-problem]]; and Mylyn stuff from the main Eclipse repository.
** It then wanted me to install a 'connector' for Subversive.  I didn't really know what was going on at this point, but I chose the JavaHL which corresponded to my version of SVN, which was 1.6.

I had problems getting the subversion plugin subclipse to work properly on Debian, and I managed this with the instructions here:
http://blog.ethomasjoseph.com/2010/07/solving-eclipse-errors-with-svn-1-6.html

!!!python-coverage
* {{{sudo apt-get install python-coverage}}}
* Window -&gt; Show View -&gt; Code Coverage

!!!Vrapper:
** http://vrapper.sourceforge.net/home/

!!!pep8 
pep8 is an alternative to ~PyLint.
* {{{sudo apt-get install pep8}}}
* I used http://stackoverflow.com/questions/399956/how-to-integrate-pep8-py-in-eclipse to get it integrated as well.

!!!~PyLint
See PylintProfile
* {{{apt-get install pylint}}}
** Window -&gt; Preferences -&gt; ~PyDev -&gt; ~PyLint -&gt; use pylint (and find lint.py to point to)
Sometimes the ~PyLint output stops going to the console...
* You can fix this by looking in the top right corner of the console area for a drop-down menu to choose which console you see.

!!Java
To add a jar, one easy way:
* Add the jar to lib/ inside the project folder
* Refresh so that you can see the jar
* Right click on the jar and select Build Path -&gt; Add to Build Path

To change the source folders:
* Right click on the project and select Properties...
* Select Java Build Path and the Source tab</pre>
</div>
<div _hash="1dbd4a7c3f75efcbcfb921ac1da0c12cf3a9ecb3" created="20140408204230000" creator="willrogers" modified="20140531165713000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipsePackages/1775482:672f44f920be4aa00b77de61fcde9df095c9a79b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1775482" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipsePackages" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipsePackages" type="text/x-tiddlywiki">
<pre>This is simply scanning the EclipsePlatform packages in Javadoc.  There are more than 250 packages in total.

!!! Version 3: [[Javadoc|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/overview-summary.html]]

* {{{org.apache.felix.scr}}} - the only package which does not start {{{org.eclipse}}}.
* {{{ant.core}}}
* {{{compare}}} - 5
* {{{core}}} - 41
** {{{core.commands}}} - 4
** {{{core.databinding}}} - 16
** {{{core.expressions}}}
** {{{core.filebuffers}}} - 2
** {{{core.filesystem}}} - 2
** {{{core.net.proxy}}}
** {{{core.resources}}} - 6
** {{{core.runtime}}} - 8
** {{{core.variables}}}
* {{{debug}}} - 11
* {{{equinox}}} - 31
** {{{equinox.app}}}
** {{{equinox.http}}} - 3
** {{{equinox.jsp}}} - 2
** {{{equinox.p2}}} - 20
** {{{equinox.security}}} - 5 
* {{{help}}} - 9
* {{{jface}}} - 41
* {{{jsch}}} - 2 - an SSH library
* {{{ltk}}} - 10 - the 'language toolkit', for handling refactoring
** {{{ltk.core}}} - 5
** {{{ltk.ui}}} - 5
* {{{osgi}}} - 14
* {{{search}}} - 4
* {{{swt}}} - 14
* {{{team}}} - 14
* {{{text}}} - 2
* {{{ui}}} - 67
* {{{update}}} - 7 

!!! Version 4: [[Javadoc|http://help.eclipse.org/kepler/nftopic/org.eclipse.platform.doc.isv/reference/api/overview-summary.html]]

There seems to be little difference, except for the {{{org.eclipse.e4}}} packages:

* {{{e4.core.contexts}}}
* {{{e4.core.di.annotations}}}
* {{{e4.core.services.events}}} - {{{IEventBroker}}} used for passing information between views
* {{{e4.ui.di}}}
* {{{e4.ui.model.application}}} - 7 packages
* {{{e4.ui.services}}}
* {{{e4.ui.workbench}}} - 2 packages

!!! Other packages
CsStudio also uses packages which are not part of the main Eclipse library:
* {{{org.eclipse.draw2d}}} - part of GEF
* {{{org.eclipse.ecf}}} - the Eclipse Communication Framework
* {{{org.eclipse.gef}}} - part of GEF
* {{{org.eclipse.nebula}}} - extra widgets, as led by Wim Jongman
* {{{org.eclipse.rwt}}} - the RAP API
* {{{org.eclipse.wb}}} - the window builder toolkit</pre>
</div>
<div _hash="972c16e765ad01f0b83656c3125114e84c7132dd" created="20140408191406000" creator="willrogers" modified="20140602163607000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipsePerspectives/1777923:bef4b28416ba104b46e28019e2a1f92dbdec8a07&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1777923" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipsePerspectives" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipsePerspectives" type="text/x-tiddlywiki">
<pre>Every eclipse RCP application must have at least one perspective.  Each perspective has an ID.  If it creates a placeholder folder, you need to give it an ID as well; note that this ID is defined in code rather than xml, where it would be for views or perspectives.

!!!Perspectives
A perspective is effectively a layout of different EclipseEditorsAndViews within an Eclipse window - in particular, an {{{IWorkbenchPage}}} (see EclipseWorkbench).  You can use perspectives to show the relevant bits for different types of task.

You can't specify what's in an editor within a perspective - you can simply say whether it's there or not.  Similarly, a perspective is about the type of view available, rather than the content of that view.  This means that perspectives don't lend themselves to laying out different BOY screens, for example.

Some articles:
* a rather old article is [[here|http://www.eclipse.org/articles/using-perspectives/PerspectiveArticle.html]]
* the perspective extension point rerefence is [[here|http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fextension-points%2Forg_eclipse_ui_perspectiveExtensions.html]]

It's quite simple to lay out a perspective - you implement {{{IPerspectiveFactory}}} then add that class as an extension point of {{{org.eclipse.ui.perspectives}}}.

You should extend the {{{org.eclipse.ui.perspectives}}} [[extension point|ExtensionPoints]], in order to get the free functionality.  When you do this, you need to specify the class which implements {{{IPerspectiveFactory}}}.

!!!Extending perspectives
You can also extend perspectives defined by other plugins.  You do this by using the extension point
{{{org.eclipse.ui.perspectiveExtensions}}}.  See the [[reference|org.eclipse.ui.perspectiveExtensions]].

You can create a {{{PlaceholderFolder}}} in your perspective, then extend the perspective to add the views you want.  You add your views relative to views or editors that you know already exist in that perspective.</pre>
</div>
<div _hash="abf8473e8da9bb183bf704399bbd7d7b029b5fb1" created="20140115100556000" creator="willrogers" modified="20140531160101000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipsePlatform/1775463:b8a14728a87076b0f9f057c981bae84d8df8029a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1775463" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipsePlatform" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipsePlatform" type="text/x-tiddlywiki">
<pre>See also EclipsePlatform4

The Eclipse platform is a toolkit for building programs based on the components originally used in the Eclipse IDE.

This question weighs up Qt and eclipse: http://stackoverflow.com/questions/5571913/what-are-the-pros-and-cons-in-c-qt-vs-eclipse-rcp-for-cross-platform-gui-devel

!!!Documentation

* [[Javadoc for version 3.7 (Indigo)|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/overview-summary.html]]
* [[Javadoc for version 4.3 (Kepler)|http://help.eclipse.org/kepler/nftopic/org.eclipse.platform.doc.isv/reference/api/overview-summary.html]]
* [[Map of packages to plugins|http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Foverview-platform.html]]
* [[the Eclipse Extension Point Reference (Indigo)|http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fextension-points%2Findex.html]] 
* [[Eclipse performance analysis|http://www.vogella.com/tutorials/EclipsePerformance/article.html]]

* Alt-Shift-F1 gives you the 'Plug-in Selection Spy', which tells you a lot about the running program.
!!!Subpages
* EclipseSwt
* EclipsePlugins
* OSGi
* ExtensionPoints
* EclipsePerspectives
* EclipsePlatformUI
* EclipseWorkbench
* EclipseEditorsAndViews
* EclipseDisplay
* EclipseShell
* EclipsePackages
* EclipseProduct
* EclipseCommands - the replacement for the older {{{Action}}}

!!!Jargon 

* delta pack - platform dependent components allowing you to export your RCP program to other architectures.
** instructions for installing the delta pack: http://ugosan.org/eclipse-rcp-delta-pack/
* p2
* PDE - the plugin development environment
* buckminster
* Tycho
* RAP - remote application platform
* draw2d: http://www.eclipse.org/gef/draw2d/
* GEF: http://www.eclipse.org/gef/ a toolkit to create graphical editors, used for ~OPIEditor
* EMF and GMF
* [[Edit policy|http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.gef.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fgef%2Feditpolicies%2FXYLayoutEditPolicy.html]] - what governs how an editor behaves - e.g. a {{{LinkingContainer}}} has an {{{LAYOUT_ROLE}}} and a {{{CONTAINER_ROLE}}}.
* Command - a fairly generic action which may be in a menu, toolbar or assigned to a keybinding.
* Action - the original version of {{{Command}}}.  Command is more flexible and allows you to do similar things.

!!!Versions
Versioning seems a bit complicated.  The Eclipse IDE version and the Eclipse platform version are the same thing, with a new release once per year:
* Indigo (3.7) was 2011
* Juno (4.2) was 2012
* Kepler (4.3) was 2013
* Lunar (4.4) will be released in 2014

See http://en.wikipedia.org/wiki/Eclipse_%28ide%29#Releases.

!!Debugging
Matt Gerring suggested:
* VisualVM: http://visualvm.java.net/gettingstarted.html - this is now included with Java
* JProfiler: https://trac.diamond.ac.uk/gda/wiki/UsingJProfiler


</pre>
</div>
<div _hash="bedb75330d57467141e6acd33530671185f3e654" created="20140529104032000" creator="willrogers" modified="20140605094601000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipsePlatform4/1781082:70aa3a1d38175b653071ed3e812a7f077cf0ba39&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1781082" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipsePlatform4" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipsePlatform4" type="text/x-tiddlywiki">
<pre>See also EclipsePlatform for notes largely on version 3.
See also EclipsePackages.

There are seven good tutorials here,  by Jonas Helming: http://eclipsesource.com/blogs/2012/05/10/eclipse-4-final-sprint-part-1-the-e4-application-model/
He's also written a blog post on transferring between 3 and 4: http://eclipsesource.com/blogs/2012/06/18/migrating-from-eclipse-3-x-to-eclipse-4-e4/

Some fairly advanced notes on dependency injection in e4: https://www.eclipsecon.org/na2014/sites/default/files/slides/2014-EclipseCon-DI.pdf

Here's the wiki page on contexts: http://wiki.eclipse.org/E4/Contexts

Communicating between views using {{{IEventBroker}}}: http://tomsondev.bestsolution.at/2011/02/07/enhanced-rcp-how-views-can-communicate-the-e4-way/

!!! 1. The application model

* Editors and views have been combined into parts.  These represent views inside a windows.
** You create a part in the model, and you can later connect it to your implementation.
* To edit the application model, use the editor by opening {{{Application.e4xmi}}}.
* The application model is represented in the Eclipse Modelling Framework: http://www.eclipse.org/modeling/emf/
* You can programmatically change the application model

If you start an application in e4, the application model does exist, but it can be difficult to get hold of it.  It's not yet clear to me why.

!!! 4. Dependency injection
* Injected objects can be fields of a class, parameters of a constructor or parameters of a method
* {{{@Inject}}} is the simplest way of doing this
* {{{@Execute}}} does the same thing, but also marks the method in a class as the one to be executed under some circumstances
* {{{@Optional}}} allows null to be substituted if the item is not available.
* Specifying {{{@Active}}} allows you to choose whichever of that type is 'active'
* The 'Eclipse context' is effectively a map of objects that are available for injection
** By default, the object's key will be its full class name
** You can store more than one of a type by using a 'named' annotation
**  You can't ask the context for available keys, and you're not supposed to query the context explicitly.
* Since there are typically a lot of composites hanging around, injecting a composite would be ambiguous.
** In practice, different parts of the application model have their own contexts.
** See the picture in this blog post: http://eclipsesource.com/blogs/tutorials/eclipse-4-e4-tutorial-part-4-dependency-injection-basics/
** The contexts are hierarchical, so if you can't find the object in the part context, you'll get it from the window or workbench contexts.
!!!!Types of injection
* Constructor injection happens first.  It should be restricted to essential items, so that the parameter set is simple
* Fields are injected after the constructor is called.  Typically services are injected as fields
* Methods with annotations are called last.  If an injected parameter changes, the method will be called again with the new value.

Dependency injection only appears to happen if the framework injects the class - if you create the class then no injection will happen.  This makes it awkward to use injected dependencies unless you start your applictation using e4.
</pre>
</div>
<div _hash="2b58df94e8bc33742bc40242d8fe6f677be7dea7" created="20140408193048000" creator="willrogers" modified="20140409084721000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipsePlatformUI/1715717:d1b52df97c1a7c206a07fd023827da20a8233e1b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715717" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipsePlatformUI" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipsePlatformUI" type="text/x-tiddlywiki">
<pre>[[PlatformUI|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ui/PlatformUI.html]] is the 'central class for access to the Eclipse Platform User Interface'.  Compare with {{{Platform}}}, which gives you access to the backend.  It gives you access to the EclipseWorkbench.  It has only 6 methods:

* {{{createAndRunWorkbench(Display display, WorkbenchAdvisor advisor)}}}
** this creates the workbench at startup
* {{{createDisplay()}}} 
** create the Display to be used by the workbench
** applications have only one Display
* {{{getPreferenceStore()}}}
* {{{getTestableObject()}}}
* {{{getWorkbench()}}} 
** get the workbench 
* {{{isWorkbenchRunning()}}}
** whether {{{createAndRunWorkbench()}}} has been called (and the workbench hasn't been destroyed)

There will generally only be one EclipseDisplay per application.</pre>
</div>
<div _hash="99f7a4d68c4536f4292e941af386e1c99ae8d412" created="20140408105119000" creator="willrogers" modified="20140409101519000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipsePlugins/1715751:e687fef281018e0c8ae3fe1d2c1568f88d8fe83e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715751" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipsePlugins" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipsePlugins" type="text/x-tiddlywiki">
<pre>Eclipse bundles applications in terms of plugins and features.  An eclipse plugin is essentially the same as an OSGi bundle.

!!!Features and plug-ins
These are two core components of any eclipse program.  You can build an eclipse product on either plug-ins or features.
* A ''plug-in'' is the 'smallest installable or deployable component of eclipse'
* A ''feature'' is simply a list of plug-ins which form a sensible sub-component of a program
* A ''product'' is a stand-alone program.  It may comprise both features and plugins, specified in {{{&lt;name&gt;.product}}}

As an example, I have installed 'vrapper' in eclipse using the 'Install New Software' menu item.  You can find both features and plugins in the respective directories of my eclipse installation.  When you install software in this way, you select a feature and it will install the necessary plugins.

Here is a good IBM article on developing features: http://www.ibm.com/developerworks/library/os-ecfeat/.  It was written in 2003, but it still seems to apply.

!!!API
You can specify which part of your plugin forms part of the public API by choosing which packages to export in the manifest editor.  It's also possible to include packages but mark them as private.  You can also specify a version number.

It's easiest to do all these things in the manifest editor.

!!!Dependencies
You can depend on bundles in two ways:
* the bundle itself - this ties you to one implementation
* the package - this requires only the interface, which allows you to substitute another implementation of the same package

Tend to use the former only for {{{org.eclipse}}} bundles; otherwise it is best practice to use {{{Import-Package}}}.</pre>
</div>
<div _hash="4c67443852bfb3de9676f86833441167eac472fc" created="20140409091121000" creator="willrogers" modified="20140409091429000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseProduct/1715745:765d29267d89fcdcdb41ef2f05c4139598e49218&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715745" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseProduct" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseProduct" type="text/x-tiddlywiki">
<pre>Eclipse allows you to export a standalone program, including all necessary plugins and potentially a JRE as well.

It also allows you to provide a splash-screen, icons, a name and description.  You could provide different plugins to give different branding to the same program.

To define a product, use the {{{org.eclipse.core.runtime.products}}} extension point, which must specify an application ID.  There is a wizard available at New -&gt; Product Configuration.</pre>
</div>
<div _hash="11d8238d54c443eef5eb80a50ec073dda1dc9b09" created="20140409135251000" creator="willrogers" modified="20140409135251000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseShell/1715914:a06fa6c5f5be8be7902207eb1a0dcadd79c0f0b4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715914" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseShell" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseShell" type="text/x-tiddlywiki">
<pre>!!!Shells
The class org.eclipse.swt.widgets.Shell describes its purpose in its docstring - they basically represent any window.

An Eclipse window created from its constructor is known as a ''top-level shell''.  They do not have a parent.  Shells with parents are ''secondary'' or ''dialog'' shells.  It is possible for a dialog shell to block access to its parent, but it is not necessary.  Closing the parent closes also the child window.  The child windows don't seem to have titles.

The inheritance is Shell -&gt; Decorations -&gt; Canvas -&gt; Composite</pre>
</div>
<div _hash="113b68f4abe7eecbe83041eccc2a99eb7084256e" created="20140408105032000" creator="willrogers" modified="20140409161128000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseSwt/1716015:c47f09bb55cd48f119ad8d0cd54bbc74f774df7b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1716015" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseSwt" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseSwt" type="text/x-tiddlywiki">
<pre>See also EclipseDisplay, EclipseShell

!!!SWT
The Standard Widget Toolkit is the toolkit used by eclipse, in contrast to regular Java apps which use AWT or Swing.  It works by wrapping native GUI toolkit components using JNI.  This means that an SWT program will look 'native'.  Swing by contrast  is 100% Java and tends to look the same on any operating system.  This difference means that SWT is difficult to port to new native toolkits, and is why you need to download the correct version for your platform.  ~JavaFX is another toolkit, which is very good.

The ~JFace library implements a model-view-controller paradigm on top of SWT.

The current platforms are supported:
* win32 (WPF being worked upon)
* GTK+
* Cocoa (for Mac)

You can use SWT outside of Eclipse, and JFace using SWT but not Eclipse.

The Nebula project (Wim Jongman is the lead, and Xihui Chen has contributed) has created some extra widgets on top of those offered by SWT.

!!!Composites and layouts
Any widget belongs to a composite, which is its parent.  A composite must have a layout, in order to know how to lay out its widgets.  To nest layouts, you have to create a composite to store each layout.</pre>
</div>
<div _hash="14b26b517a28b751f2378ce3196352ac14811bec" created="20140408195540000" creator="willrogers" modified="20140408200538000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EclipseWorkbench/1715342:93a9936f3afa5811682b8ff096b29f020c94cbe9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715342" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EclipseWorkbench" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EclipseWorkbench" type="text/x-tiddlywiki">
<pre>In any app, there is one [[Workbench|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ui/IWorkbench.html]].  You can always get it using {{{PlatformUI.getWorkbench()}}}.  

That workbench has one or more workbench window [[(IWorkbenchWindow)|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ui/IWorkbenchWindow.html]].  These are the eclipse style windows, which have menus, toolbars and zero or more editors and views.  You can get the workbench windows with
* {{{getActiveWorkbenchWindow()}}}
* {{{getWorkbenchWindows()}}}

Each workbench window has zero or more pages [[(IWorkbenchPage)|http://help.eclipse.org/indigo/nftopic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/ui/IWorkbenchPage.html]], of which one is active at any time.  That page contains the views and editors which are laid out, although it is possible for them to be invisible.   You can get pages with
* {{{getActivePage()}}}
* {{{getPages()}}}

</pre>
</div>
<div _hash="bb2ebcb9880f563a789711fbbbec5d3bfcb1b248" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/EditTemplate/1521922:b41d71ea453e617767c60e96f8d38b701512b92c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521922" server.permissions="read" server.recipe="willrogers_private" server.title="EditTemplate" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="EditTemplate" type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar'
	macro='toolbar [[ToolbarCommands::EditToolbar]] icons:yes'&gt;
&lt;/div&gt;
&lt;div class='heading editorHeading'&gt;
	&lt;div class='editor title' macro='edit title'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='annotationsBox' macro='annotations'&gt;
	&lt;div class='editSpaceSiteIcon'
		macro='tiddlerOrigin height:16 width:16 label:no interactive:no'&gt;
	&lt;/div&gt;
	&lt;div class="privacyEdit" macro='setPrivacy label:no interactive:no'&gt;&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editorFooter'&gt;
	&lt;div class='tagTitle'&gt;tags&lt;/div&gt;
	&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;
	&lt;div class='tagAnnotation'&gt;
		&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;
		&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div _hash="3083cb53eb17cc9c4f3863af070aac156272cef1" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/editTiddler/1521932:293e50ccdbca5d78696ddb122612170eef570d3d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521932" server.permissions="read" server.recipe="willrogers_private" server.title="editTiddler" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="editTiddler" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="301 225 48 52"
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 333.00003 234 L 306 258.75003 L 301.5 270 L 312.75 265.50003 L 339.75 240.74998 Z M 337.5 229.50002 
		L 335.24988 231.75008 L 341.99997 238.50003 L 344.24997 236.24995 Z M 342 225.00003 L 339.74988 227.25009 
		L 346.5 234.00005 L 348.75 231.75003 Z M 301.5 273.9719 C 301.5 273.9719 309.59888 277.99927 317.70013 273.97183 
		C 325.80066 269.94437 341.99997 276.65686 341.99997 276.65686 L 341.99997 273.97195 
		C 341.99997 273.97195 325.80014 267.2594 317.70013 271.28687 C 309.6 275.31451 301.5 271.28683 301.5 271.28683 Z" 
		fill="#101010" class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="24d0766e948d10eb5e220d57a8c0d16a194ebe1f" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/editTiddlerReadOnly/1521933:a1cef2479f2667ef92cf7d3628bc7e0dd16d3b9a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521933" server.permissions="read" server.recipe="willrogers_private" server.title="editTiddlerReadOnly" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="editTiddlerReadOnly" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="506 234 68 36" width="30" height="30"&gt;&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;&lt;dc:date&gt;2010-09-16 14:51Z&lt;/dc:date&gt;&lt;!-- Produced by OmniGraffle Professional 5.2.3 --&gt;&lt;/metadata&gt;&lt;defs&gt;&lt;/defs&gt;&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;&lt;rect width="1118" height="783"/&gt;&lt;g&gt;&lt;path d="M 538.68195 244.31807 C 540.43927 246.07547 540.43927 248.9247 538.68195 250.68204 C 536.92456 252.4394 534.07532 252.4394 532.318 250.68204 C 530.5606 248.9247 530.5606 246.07547 532.318 244.31807 C 534.07532 242.56075 536.92456 242.56075 538.68195 244.31807 M 511.12607 257.99356 C 511.26108 258.13019 511.39728 258.26608 511.53473 258.40121 C 527.2556 273.86606 552.74414 273.86606 568.46515 258.40121 C 568.60248 258.26617 568.73853 258.13037 568.87354 257.9938 C 568.8736 257.99374 568.8736 257.99371 568.8736 257.99362 C 568.87366 257.99371 568.87366 257.9938 568.87372 257.9939 C 570.72504 256.12051 572.35046 254.11153 573.74994 252 C 573.74994 251.99997 573.74994 251.99994 573.74994 251.99992 C 572.35046 249.8884 570.72504 247.87938 568.87372 246.00606 C 568.87366 246.00613 568.87366 246.00621 568.8736 246.00627 C 568.73865 245.86966 568.60254 245.73383 568.46515 245.5987 C 552.74414 230.13387 527.2556 230.13387 511.53473 245.5987 C 511.39728 245.73383 511.26108 245.86974 511.12613 246.00635 C 511.126 246.00624 511.126 246.00616 511.12595 246.00606 C 509.2748 247.87938 507.64954 249.88837 506.24994 251.9998 L 506.24994 251.99983 C 506.24994 251.9999 506.25 251.99992 506.25 251.99997 C 506.25 252 506.24994 252.00005 506.24994 252.00009 L 506.24994 252.00012 C 507.64954 254.11157 509.2748 256.12051 511.12595 257.9939 C 511.126 257.99377 511.126 257.99365 511.12607 257.99359 Z M 515.44916 252 C 515.8548 251.55469 516.27502 251.11778 516.71014 250.68985 C 522.16632 245.32257 529.06055 242.23206 536.17273 241.41824 C 534.6662 241.96199 533.2525 242.83762 532.04498 244.04512 C 527.65155 248.43852 527.65155 255.56163 532.04498 259.95502 C 533.2522 261.16226 534.6656 262.03778 536.17175 262.58154 C 529.05988 261.76761 522.16608 258.6771 516.71014 253.31009 C 516.2751 252.88219 515.85486 252.44528 515.44922 252 Z M 564.55054 251.99995 C 564.14502 252.44525 563.7248 252.88217 563.28973 253.31009 C 557.83368 258.67712 550.93988 261.76764 543.828 262.58157 C 545.33423 262.03781 546.74756 261.1623 547.9549 259.95502 C 552.34833 255.56163 552.34833 248.43852 547.9549 244.04512 C 546.74744 242.83765 545.33374 241.96202 543.82715 241.41824 C 550.9394 242.23206 557.83356 245.3226 563.28973 250.68985 C 563.7248 251.11775 564.14502 251.55467 564.55054 251.99995 Z M 568.8736 257.99362 C 570.7249 256.12033 572.35028 254.11139 573.74988 252.00002" fill="black" class="glyph"/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div _hash="d1a8d2527a1c932b78059cd61cb32f40cfbd70c9" created="20130722101345000" creator="willrogers" modified="20130725160624000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EdmBug/1322541:5613a8a263cd800f24da9f45c7d472923fccf345&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1322541" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EdmBug" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EdmBug" type="text/x-tiddlywiki">
<pre>The errors when running EDM appeared to originate from {{{baselib/xygraph.cc}}}.  Michael fixed this by correcting a cast whenever it checked for {{{ProcessVariable::SpecificType}}}.  In the case of an integer, the cast to a long pointer before dereferencing was incorrect, and it should have been a cast to an int.

This has changed since version 1-12-28.  

Versions 40 and 41 quote 'fixes for 64-bit systems'.  This appears to be where our problems start.

!!{{{setVal}}}
This is a static method called four times.  It casts a double to the specified pvType and puts it in the {{{ith}}} element of the destination array.  I'm not actually sure that the change I've made here is correct.

!!Elsewhere
{{{
           case ProcessVariable::specificType::integer:
             if (  xyo-&gt;ySigned[i] ) {
-              dyValue = (double) ( (long *) xyo-&gt;yPvData[i] )[n];
+              dyValue = (double) ( (int *) xyo-&gt;yPvData[i] )[n];
             }
             else {
-              dyValue = (double) ( (long *) xyo-&gt;yPvData[i] )[n];
+              dyValue = (double) ( (unsigned int *) xyo-&gt;yPvData[i] )[n];
             }
             break;
}}}

{{{xPvData}}} and {{{yPvData}}} are arrays with type {{{void *}}} and length {{{XYGC_K_MAX_TRACES}}} - that is, 20.  {{{xPvType}}} and {{{yPvType}}} are {{{int}}} arrays of the same length.
What happens in this snippet:
* {{{i}}} is the number of traces
* it casts the PV data to a long pointer then takes the {{{ith}}} item
* it takes the {{{nth}}} item from the resulting array
* it casts that to a double and assigns it to dyValue
{{{dyValue}}} seems then to be written to a temporary file.</pre>
</div>
<div _hash="ddacae64301832f1e3f626d932d01e1bf2955fa0" created="20140506100523000" creator="willrogers" modified="20140506103711000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EdmConverter/1741817:5b1865cbacb28500b482dbd6604dd0dc14e48655&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1741817" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EdmConverter" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EdmConverter" type="text/x-tiddlywiki">
<pre>The EDM converter is fairly simple.  

There is one (singleton) {{{EdmModel}}} instance, which you can get using {{{EdmModel.getInstance()}}}.
There is one (singleton) {{{OpiWriter}}} instance, which you can get using {{{OpiWriter.getInstance()}}}.  When the {{{OpiWriter}}} is created, it ensures that the {{{EdmModel}}} is created.

!!!{{{EdmModel}}}
This is fairly small:
* {{{getColorsList()}}} - get the {{{EdmColorsList}}} object, which is parsed on creation
* {{{reloadEdmColorsFile()}}} - parses the {{{colors.list}}} file
* {{{getDisplay(String fileName)}}} - creates a parser, and uses it to parse the file.  Returns an {{{EdmDisplay}}} object

!!!{{{EdmColorsList}}}
Retains mappings between:
* integers and {{{EdmColor}}} objects
* strings and {{{EdmColor}}} objects
* integers and {{{EdmColor}}} objects for a 'menu map'?

!!!{{{OpiWriter.writeDisplayFile()}}} 

* {{{OpiDisplay()}}} creates the XML document
** {{{OpiWriter.writeWidgets()}}} writes all the widgets to the document
* {{{OpiWriter.writeXML()}}} writes the XML document to a file.
</pre>
</div>
<div _hash="a5579610ae5d36495d549faa0519ab0c8f9a0a92" created="20140317201006000" creator="willrogers" modified="20140812164916833" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EffectiveJava/1820279:b99ace6567c3772275d00eeb57b71ead0742f1c3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1820279" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EffectiveJava" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EffectiveJava" type="text/vnd.tiddlywiki">
<pre>!!!Creating and Destroying Objects
#  //Consider static factory methods instead of constructors//
#  //Enforce the singleton property//
#* update: use an `enum` with one `INSTANCE` field
#  //Enforce noninstantiability with a private constructor//
#  //Avoid creating duplicate objects//
#  //Eliminate obsolete object references//
#* you can create subtle memory leaks
#  //Avoid finalizers//

!!!Methods common to all objects

7 - //Obey the general contract when overriding {{{equals}}}//
* be careful of subclasses
# - //always override {{{hashCode}}} when overriding {{{equals}}}//
* there is a simple recipe
9 - //always override {{{toString}}}//
10 - //override {{{clone}}} judiciously//
11 - //Consider implementing {{{Comparable}}}//

!!!Classes and Interfaces
12 - //Minimise the accessibility of classes and members//
* public classes should have only {{{public static final}}} fields public
* don't make classes public unless you want them to be; it means their interfaces may be frozen forever
13 - //Favour immutability//
14 - //Favour composition over inheritance//
* only use inheritance if the subclass ''is a'' superclass
15 - //Design and document for inheritance or else prohibit it//
* protected methods can be useful
16 - //Prefer interfaces to abstract classes//
* you can provide skeletal implementations of those interfaces
* try the interface as much as possible before freezing them
17 - //Use interfaces only to define types//
* Don't use them to define constants, for example
18 - //Favour static member classes over nonstatic//
* a nonstatic member class can only exist within an instance of the outer class

!!!Substitutes for C Constructs
19 - //Replace structures with classes//
* for public classes, don't use public fields
20 - //Replace unions with class hierarchies//
* unions are generally less useful and less clear
* don't try to copy unions used for type conversions
21 - //Replace {{{enum}}} constructs with classes//
* outdated: now use Java's {{{enum}}}
22 - //Replace function pointers with classes and interfaces//
* define an interface with one function with the correct signature
* create a 'function object' (could be anonymous) to implement the one function

!!!Methods
23 - //Check parameters for validity//
* nonpublic methods should generally use assertions; public ones should document the exceptions thrown</pre>
</div>
<div _hash="de30a8c9219bd8c4588ae71374aa87e9106b54f2" created="20120327072146000" creator="willrogers" modified="20120328143859000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EgiCfMunich/656864:2d2167f1017f84a74b1e7d7883140660cc82360c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="656864" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EgiCfMunich" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="egi emi" title="EgiCfMunich" type="text/x-tiddlywiki">
<pre>* EuropeanFunding
* EmiOutlook
* EgiSummary
* EmiQA
* TStoRM</pre>
</div>
<div _hash="df5b404289aa47a13a8504c16ca307c5cebf07ba" created="20120327083527000" creator="willrogers" modified="20120327095320000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EgiSummary/654449:267445c10f7dd34c03bd71865c4cd86ccbb12d24&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="654449" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EgiSummary" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EgiSummary" type="text/x-tiddlywiki">
<pre>Steven Newhouse

* Plenty of jobs running, about half of which are HEP
* Still trying to get other communities on board
* UMD takes in both EMI and IGE
* New website, with a focus on people outside of EGI - new users
* More social media, clearer branding
* Focus on EGI in 2020, including interacting with different infrastructures and including more scientists
* Offer our knowhow to other communities who need to do similar things to us.
* A special note on clouds, including a screenshot of our cloud accounting DB.</pre>
</div>
<div _hash="111d118612ea7efa345caf1d67411445872cde34" created="20120918090559000" creator="willrogers" modified="20120920090436000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EgiTfPrague/882818:2bcc409be812af785ac8ba721eb649893d218e6e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="882818" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EgiTfPrague" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EgiTfPrague" type="text/x-tiddlywiki">
<pre>DpmTalk
EmiStandards
SlurmTalk</pre>
</div>
<div _hash="1880170bf6c6a3a661719a7147684b2ed8212b32" created="20121029121230000" creator="willrogers" modified="20121029164604000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiAhmBudapest/922437:18b2794e968d2bf3f8abf5039a9eefdf17674f7e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="922437" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiAhmBudapest" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiAhmBudapest" type="text/x-tiddlywiki">
<pre>The last EMI AHM, 28-30th October 2012

EmiSummary
EmiCollaborations
EmiSoftwareTools
EmiDevelopment
ScienceSoft</pre>
</div>
<div _hash="a13456573adadb200a3354a47d129f6d9d6bb219" created="20120515083558000" creator="willrogers" modified="20120515083632000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiAhmHamburg/710488:df956b42484878dec2bd9cf76494a4a6bc774b2b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710488" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiAhmHamburg" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiAhmHamburg" type="text/x-tiddlywiki">
<pre>* EmiCanl
* MoreOnPorting
* EmiUserSupport
* EmiQualityControl
* NagiosNotes
* CREAM will support CAR via integration of APEL sensors.
* EMI Messaging guidelines - available on the EMI TWiki
* Dev tasks in tracker by end of June.
* Policies from EmiSA2 available by end of June.
* Code freeze: 
** Base components 19/10/12
** Other components 23/10/12</pre>
</div>
<div _hash="cbd15f80defe5c658eae93dfb5cdc4bc9ae87d2c" created="20111017090254000" creator="willrogers" modified="20120515083959000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiAhmPadova/710494:9694b55d5dd530516decfe1de8bf8741b635f633&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710494" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiAhmPadova" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiAhmPadova" type="text/x-tiddlywiki">
<pre>* StorageAccounting
* MessagingQuestions
* AccountingConsolidation
* MpiAccounting
* ComputeAccounting
* EpelPackaging
* EmiConsolidation
* EmiReleases

* ComputeSummary
* DataSummary
* InfrastructureSummary
* ConcludingRemarks
* CollaborationBoard

* JGApelTalk
* ApelWarnings
* EmiMessaging
* PortingToSL6

Note the emi-dashboard QA thing from ETICS is now available for checking the packages' status.

Boarding pass: elena.pavan@pd.infn.it by 10am tomorrow.</pre>
</div>
<div _hash="7046b3d6eec15b19179b2840aca13bbede4b9c29" created="20120509075856000" creator="willrogers" modified="20120509075959000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiCanl/705252:587345c83ca2a964890bd37ad95b514b65d55ef6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="705252" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiCanl" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiCanl" type="text/x-tiddlywiki">
<pre>Owen Synge asked very relevant questions about CANL:
* Are there or will there be python bindings?
** No plans - they don't have the effort available
* Do they plan support for encryption, signature etc?
** No plans - you can get the keys using the libraries and then you're by yourself.

Owen also said what I had discovered about python - you can't check CRLs, etc.  m2crypto is the go-to tool, but it's not complete.

</pre>
</div>
<div _hash="eac3411a6854f3391f555d0dd46a0b26cf4109e0" created="20121029125223000" creator="willrogers" modified="20121029132528000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiCollaborations/922248:cdc59a6bb36492ad0e04ea1a6ff81a09c7d0814f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="922248" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiCollaborations" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiCollaborations" type="text/x-tiddlywiki">
<pre>By Alberto di Meglio, EmiAhmBudapest

!!EMI Collaboration Plans
* Collaboration, current exploitation, deployment, commercial exploitation

* Collect information from partners about which products will be supported and how
* Produce a list of global tasks which EMI is providing - 20-25 people in total
* Determine which are needed after EMI
* How much of this could hypothetically be funded?

Then some discussion about the sustainability survey taken.

!!Collaboration Models
* Formal collaboration
* Technical coordination
* No explicit coordination

EGI and WLCG are working together on plans for post EGI/EMI strategies.

EGI proposes three types of product teams:
* Integrated: BDII, EMIR, VOMS, ARGUS, STS
* Community Platforms: ARC, UNICORE, CREAM, MPI, WN, UI, L&amp;B, proxyrenewal, dCache, ~StoRM, DPM, Hydra, AMGA, LFC, WMS FTC

</pre>
</div>
<div _hash="2b6b62d8bbffc24f89e04573e60c329d21bcf686" created="20111018064701000" creator="willrogers" modified="20111018075126000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiConsolidation/363993:772e0415480f79867bd6fd69ef4bd66ce263e78c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363993" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiConsolidation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiConsolidation" type="text/x-tiddlywiki">
<pre>!!Introduction  - Balasz Konya

At the end of the first year of EMI, one of the main criticisms was that it was too big, too confusing and not interoperable.  Libraries tended to be difficult.  There is more than one product to do a given thing.

The aim is to reduce the number of lines of code by 1/3 by the end of EMI.

* Remove duplications
** Keep only one
** There's never 100% duplicates, so we need to adjust other products
** OR develop a common product
* Streamlining
** Do we need all these products?
* Reduce maintenance
** How - do we know?
* Replace an EMI product with an external product

!!!EMI Update 8
* 2.9m lines of code - still increasing
* 53 products
* It's difficult to compare with EMI 0
* There's no visible consolidation effect yet
* New products still being added
* Products still growing.

!!Compute consolidation - Marco Cecchi
They've surveyed the current code, but now they need a plan.

Phasing out products - this is difficult of course.  Users know products already, and are they actually going to stop using them?  Developing a unified client may not reduce amount of work.  Could we instead make all the clients talk the same language?  EMI-ES - EMI execution service.

We could develop a single API, with support for C/C++, Java and Python via SWIG.  It would be clean, but a big task, particularly for a single team.  Who would maintain it?

EMI-ES could provide a common interface for submitting jobs.  The plan is created by the MPI task force.

!!Data Consolidation - Jon Kerr Nilsen
What there is already:
* lcg_util/GFAL
* ARC data tools/libarcdata
These basically do the same thing, and the plan is to consolidate these into EMI_datalib.  This plan seems to be more-or-less accepted.  The plan is on the appropriate wiki page.   The plan looks rather neat to me.

!!Security Consolidation - John White
They all sat down / had a phone conference and discussed everything.  They 'own' a certain amount of stuff, some of which can go, some of which can not.  Some must remain for technical reasons, some must remain for political reasons, and some are being used so we don't know if the users want them to go.

!!Information System Consolidation - Laurence Field
This is the same stuff about amalgamating BDII, GOCDB and Unicore and ARC's registries into one common model.  In particular, this involves the new EMIR.

GLUE 2.0 - a success in forming a schema which is useful to people.  It has been part of EMI from the beginning.  It needs to be used across the software stack, and really is getting there.

What was the end point?  Did it include GOCDB?</pre>
</div>
<div _hash="27c5489cd1d33ddfc2b3fd84b8924db0a2bf98a5" created="20121029151255000" creator="willrogers" modified="20121029152240000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiDevelopment/922398:af19ac858246bd3ce84ac87d3cd82dfd19daaca9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="922398" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiDevelopment" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiDevelopment" type="text/x-tiddlywiki">
<pre>By Balazs Konya, at the EmiAhmBudapest

!!Status
Dev tasks:
* 7 cancelled
* 82 done
* 23 no response
* 42 not started
* 26 problematic:
** CAR / ~StAR record generation some of these

!!Future of EMI standards/agreements
* ~EMI-ES: progress, but work to do, including after EMI
* ~CAR/~StAR - Balazs thinks it will survive, because APEL will serve as a coordinator
* Information systems: post-EMI coordination may be difficult (BDII, EMIR)

!!Future of EMI common products
* EMIR: question marks, not deployed, GOCDB competition
* CANL: products migrating only now; need coordination post-EMI
* ~EMI_datalib: already used, coordination OK, could do with third-party take-up

!!Future of coordination
Currently, PTB manages the technical plan, makes decisions and monitors the tasks.  The ~PTs are autonomous units.
* What actually needs to be coordinated?
* What are the logical groups?
* Find the best way to do the coordination
* Find the people who can do it

!!Future of software integration
* This was never easy, even within EMI
* Not a positive outlook, without serious efforts from EGI</pre>
</div>
<div _hash="a41064428ca881a2e2e7b6c186718e007e3397d1" created="20111018153903000" creator="willrogers" modified="20120515091012000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiJRA1/710519:5c0b508aca7a2abed56c36c8ac9bfffbce888f5c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710519" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiJRA1" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiJRA1" type="text/x-tiddlywiki">
<pre>!!JRA1 - Middleware Development, Evolution and Integration 
''Leaders: Jon Kerr Nilsen  and Balazs Konya''
https://twiki.cern.ch/twiki/bin/view/EMI/JRA1 - but this seems to be a bit emptier than the other packages' pages (which is a bit funny, because it seemed to me to be fuller of content).

There are: 
* Mailing lists: emi-jra1
** emi-jra1-[compute, data, security, messaging]?
* several product teams
* 15 task forces with a specific task and a deadline
* 8 external task forces which EMI has a hand in
* Year 1 planning
* Year 2 development
* Year 3?
* If you do development in EMI, it must be part of the dev tracker.
** Objectives, tasks, subtasks.
** Look at the presentation for instructions on how to manage the dev tracker entries.
** Some cross-area tasks have not yet been assigned to product teams.
** If APEL plans to change its packages, we should probably let them know.
** This would mean the changes to the APEL publisher.
** Publish version information - what does this mean? glite-info-provider...
* By February, all products need to support SL6 and Debian 6.
* There are too many tasks in JRA1 - if more come in, existing ones may have to be dropped
** It should be the one place for all the development tasks for EMI
** They are tracking all development, so if we want to fix bugs etc it's got to go in the plan
** Some product teams appear to be overloaded</pre>
</div>
<div _hash="76d3307037bb9e7302ad4de38bc9bb8b7713e684" created="20111018122043000" creator="willrogers" modified="20111018122043000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiMessaging/363994:9120ef04b5e5e48088fa4558f37c3628b113f242&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363994" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiMessaging" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiMessaging" type="text/x-tiddlywiki">
<pre>Talk at the EMI AHM by Lionel Cons.

!!Year 2 plan
* Provide recommendations for messaging based on research done in year 1
* Products:
** Apache ActiveMQ - the obvious one.  But the project is finishing, so we may not get further features, just bug fixes.
** Apache ActiveMQ Apollo - its future is a little bit unclear
** RabbitMQ - cloud-oriented, written in Erlang
* Recommendations:
** Use STOMP
** Avoid vendor lock-in
** Isolate messaging components
** Use dedicated messaging services made of independent brokers
** Test, benchmark and validate your use cases.
** Guidelines:  http://goo.gl/q62ol
* Services available
** EMI ''should'' have one
** One dev instance at CERN
** You can set up your own instances
** EGI provides a network of four brokers
* Architecture:
** All producers connect to a random broker
** All consumers need to connect to all brokers
* Brokers and libraries are available already.
** Prototype software arriving
** FBQ - file based queue, which separates application from messaging
* Documentation needs improving, and needs feedback in order to improve

There is talk of a messaging library being set up.  I'm not sure who is going to write this.  What is described is very similar to the SSM.</pre>
</div>
<div _hash="817c6e7d7d70a386dd73076f87612fb5c3a724e6" created="20111018153024000" creator="willrogers" modified="20120515091510000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiNA1/710520:65b80d1794a26b121ef3cedb00bd5a34df0b7398&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710520" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiNA1" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiNA1" type="text/x-tiddlywiki">
<pre>!!NA1 - Administration and Technical Management 


''Leader: Alberto di Meglio'' - also the EMI project director
https://twiki.cern.ch/twiki/bin/view/EMI/NA1


A number of recommendations in the first EMI review
One thing that seems relevant to us is that product teams will be encouraged to package our own products to a professional (EPEL / Debian) level.  There was more on this throughout the sessions.

Recommendations:
* Strategy director and plan: Morris Riedel and NA3
* Reduce deliverables and improve coherence
* Improve sustainability
* Better marketing, website, outreach, promotion
* Technical deliverables not detailed enough
* Establish a relationship with PRACE
* Improve industrial engagement - some progress
* Establish a clear position on clouds
* Increase EMI visibility within standards bodies
</pre>
</div>
<div _hash="7c2ab3de55ace38503ea6430122d913f1ca97575" created="20111018153243000" creator="willrogers" modified="20120515084200000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiNA2/710509:d4ba9c1375446a70933e88f2ca36673b4186d9ca&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710509" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiNA2" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiNA2" type="text/x-tiddlywiki">
<pre>!!NA2 - Outreach and Collaborations / Dissemination and Training
''Leader: Emidio Giorgio''
https://twiki.cern.ch/twiki/bin/view/EMI/NA2

After the first EMI review, recommendations:
* imporove outreach and promotion
* improve online marketing to increase traffic to the website
* improve the website
Dissemination: a number of different conferences...
Training: a similar number of events, plus a 'training infrastructure'.
They definitely are interested in everybody's input, for the website or things 'worth disseminating'.</pre>
</div>
<div _hash="65a9096546fca79bac57d5857e32e5f283bd9629" created="20111018153425000" creator="willrogers" modified="20120515084433000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiNA3/710512:2e787ac4311b4f76c237ba695c6676f4537cc511&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710512" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiNA3" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiNA3" type="text/x-tiddlywiki">
<pre>!!NA3 - Sustainability and ~Long-Term Strategies

''Leader: Morris Riedel''
https://twiki.cern.ch/twiki/bin/view/EMI/NA3

This work package was started in the middle of the project, because of recommendations of the reviewers.

Some notes:
* the project finishes must be better than three months.
* EMI is a big influence on OGF.
* we need to shift EMI development towards open source; also integration with OS distributions

John asked whether to 'sell' EMI as an overall distribution or the individual packages.  Morris said 'both'.</pre>
</div>
<div _hash="49a14f9732237d2a88603173b0199d02aff02191" created="20120327080845000" creator="willrogers" modified="20120327081917000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiOutlook/654424:ab30ce12da0acf9f369d001647053aabd8c450ea&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="654424" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiOutlook" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="egi emi" title="EmiOutlook" type="text/x-tiddlywiki">
<pre>Alberto di Meglio

!!Basics
* 4 groups of software: gLite, ARC, UNICORE, dCache 
* 3 branches: 
!!!Maintenance and support
* ~30% of effort
* 120 components in 42 services
* 1200 bug fixes last year
* 500 tickets last year
!!!Innovation and development
* ~40% of effort
* Matterhorn to be released
* Focus of Matterhorn is newer functionality and services, compared to the consolidation aims of EMI1.
** Extended support for EMI CEs and different batch systems (SLURM, not Condor)
** Use of ARGUS for authentication
** SL6 and Debian 6 support
** Incorporating EDGI and WNoDeS
!!!QA and software processes
* Build and test infrastructure (ETICS) 
** &gt; 200 nodes
!!Dissemination and outreach
* Improving website and content
* Improving channels of communication
!!Strategic Activities
* Strategic director
* Promote EMI within open standard bodies
* Exploitation and sustainibility
* Engage with industry - always a difficult task
** Some success with SMEs using the EMI services.

!!~ScienceSoft
This is an attempt to work with other open source scientific software can work together to figure out how to sustain scientific software.  There are a lot of possible requirements, such as hosting, enabling collaboration, infrastructures...
* http://sciencesoft.org

!!Future plans
There is no plan for a direct successor to EMI, so there is a strong emphasis on figuring out how to continue the </pre>
</div>
<div _hash="377b57ce7c30e4848648f265192f399bf318281b" created="20120328141247000" creator="willrogers" modified="20120328143839000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiQA/656863:b39ef2a20568f47e5e26780b8c11e60d5392c710&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="656863" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiQA" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiQA" type="text/x-tiddlywiki">
<pre>!!EMI Quality Assurance

* QA Policies are defined and monitored
* Metrics and KPIs are defined and collected
* 

!!EMI Release Cycle
* Requirements from PTB and users
* Development and test plans
* Development and testing
* Certification
* Release, maintenance and support

!!EMI Test Infrastructure
* Release deployment tests
* Inter-component tests
** Increased scope of testing
** Bug fix and workaround verification
* Large Scale &lt;something&gt; tests
* 180 machines
* 7 sites
* Monitoring, Specific VO, Support via GGUS
* Docs: https://twiki.cern.ch/twiki/bin/view/EMI/TestBed
* In EMI2, SL5, SL6, Debian6
* We don't have continuous integration - too much manual intervention
* Instead, defined a list of tests, and carried them out at some point
* The products themselves don't have common test infrastructures:
** Jenkins
** Atlassian Bamboo
** Home-made
** Others

!!EMI Certification Process
* Testing in isolation by product team
* Release candidate deployed on EMI testing infrastructure
* Inter-component testing 
* -&gt; release</pre>
</div>
<div _hash="0d6b380f0b199b253cce6781174404901f4eb676" created="20120509110029000" creator="willrogers" modified="20120509110422000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiQualityControl/705297:538ec5cd8e3e6e3360d9d23ab8df9ba6b9c9f6ca&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="705297" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiQualityControl" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="emi" title="EmiQualityControl" type="text/x-tiddlywiki">
<pre>QC part of SA2, along with ETICS etc.

QC things included:
* Verification of released products
* Static Analysis
**EPEL Compliance
** RPMLint errors reported back to me...?
** Most products not showing improvement, including apel
** Will we have problems reaching 0?
* Availability of tests
** This has improved a lot over the period of EMI 1.
** Unit tests the weakest point - not just APEL

Why did APEL not show tests associated with the bugs fixed?  They check the reports, and also use tools to figure it out.  They don't check them all manually.

As Andrea says, all bugs must be tested, so exactly what creates the graph.  It seems like the reason for the red bars is that we need to fill in the Savannah bugs and tasks properly.

Andrea: there should be different thresholds for 'legacy' code and new code.  So the APEL client would need fewer unit tests than a new EMI SSM.</pre>
</div>
<div _hash="84f9750efe597d4e23b2b63c5944ec41e2eb783a" created="20111018092511000" creator="willrogers" modified="20111018112648000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiReleases/363996:c7da31c1e60c81fff2d91de35688b497b4137f72&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="363996" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiReleases" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiReleases" type="text/x-tiddlywiki">
<pre>!!New way of doing things

* When a product is released, it should be released for all supported platforms.
** EMI1: SL5
** EMI2: SL5, SL6, Debian 6
* Changing to use a single release task for all platforms
** Single certification report
** Single test report
** RfCs target all platforms by default
* Extend the release cycle to four weeks (from three)
** Allows more time for multiple platform deployment (and Nagios integration?  What does this mean?)

!!SL6 Porting
Nov 7th - APEL.  What do we have to do for this?  The build on SL6 must be available by then - of our current version.
What about our reliance on openssl for the SSM?
Can we get the new client out?  Do we have time?
There are no hard and fast plans for Debian, because the infrastructure is not yet ready.</pre>
</div>
<div _hash="7d2a214cf4acdc30a819d8bc57959daa29556d17" created="20111018153550000" creator="willrogers" modified="20120515090831000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiSA1/710518:f78220384cdb31a80f3febe21c2dc8445055030e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710518" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiSA1" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="emi" title="EmiSA1" type="text/x-tiddlywiki">
<pre>!!SA1 - Maintenance and Support

''Leader: Andrea Ceccanti''
https://twiki.cern.ch/twiki/bin/view/EMI/SA1

Parts:
* Software Maintenance: 3 types
** Corrective - priority deriven
** Adaptive - such as the new platforms supported
** Perfective - standardise, improve performance or functionality

* Release Management
** Three week update cycle: [[cycle updates|https://twiki.cern.ch/twiki/bin/view/EMI/EMI1Updates]]
** There are 54 products in EMI
** UMD redistributes EMI products - most but not quite all
** There is an extra roll-out phase for the UMD
** UMD version 1.2.0 was released in September

For Java projects, it might be wiser to get them into Maven Central than EPEL or Debian.
EMI wants the same versions in EMI and EPEL; if anything the EMI version should be newer.

Ticket response times, according to the SLA:
| Top priority | 4 hours |
| Very urgent | 2 days |
| Urgent | 5 days |
| Less urgent | 15 days |

* Ticket handling guidelines: http://bit.ly/user-support-howto

We have been doing well with respect to these targets.

</pre>
</div>
<div _hash="1b385408a7328fc54393bd81ea7ecf5107e241aa" created="20111018153724000" creator="willrogers" modified="20120515083800000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiSA2/710493:626481e032d3e3706d4028085bc1931037cfff20&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710493" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiSA2" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiSA2" type="text/x-tiddlywiki">
<pre>!!EMI SA2 - Quality Assurance
''Leader: Alberto Aimar''
https://twiki.cern.ch/twiki/bin/view/EMI/SA2

* Software Quality Assurance Plan
* Verification dashboard
* Product Teams:
** Testing report template
** Certification
** QA reports generated daily: cern.ch/emiqa
** Metrics for EPEL compliance (Debian to come)
* Bug-tracking dashboard (RfC tracking - same or not?)
* Rpmlint - check the quality of RPMs.
** The goal is to be EPEL-compliant, but I'm not sure that we know exactly what that entails.
* ETICS
** SL6, Debian 6
** Debian 6 testing infrastructure is not yet fully operational
** There is a Debian working group
** Maven repository?
** ETICS VM images - what are these for?
* EMI integration and certification testbed: EMI/TestBed.
** Also Large Scale Testing Testbed?
* Multiplatform handling
** Basically too many platforms to provide computers for.
** SL5, SL6, Debian 6; 32-bit, 64-bit; gLite, Unicore, ARC, EMI
* There are 22 QC checks on packages released; avg. no. passed has increaded from ~8 to ~16 since EMI1.
** A lot of failures are from lack of unit tests or regression tests.
* Some discussions about whether the QA process is useful.
** Does it find bugs?
** Should developers be finding all the bugs?  This seems unrealistic to me.
** Number of unit tests does not equal quality of tests
** Should bugs be found by the QA process?</pre>
</div>
<div _hash="c5a93cff782100d1fe0cc7f494afcf77c01b67bf" created="20121029144518000" creator="willrogers" modified="20121029144518000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiSoftwareTools/922350:f9b8abcb6f4748b641834113ca11d78af6a45b44&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="922350" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiSoftwareTools" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiSoftwareTools" type="text/x-tiddlywiki">
<pre>By Andrea Ceccanti, at EmiAhmBudapest

!!Current status
* Platforms
* Release definitions (major, minor, revision)
* EMI Repositories - devel, testing, deployment, production
* Third-party repo - packages not available in the standard repos (EPEL, Debian)
* ETICS - moving from packaging tool to a packaging 'verifier'
** gives quality metrics
** provides nightly builds and creates repositories.
* EMI testbed - deployment checks for all EMI releases
** provides resources for integration testing and training
* release acceptance criteria

!!What happens next?
* Will there be a distribution?
** Or will you have to get software directly from PTs?
* Will there be a PT coordination function?  (~ EMT)
** If so, who will take over?
* Will there be a common release and quality process?
* Which tools will be used?

!!Hypotheses
* We need well-defined platforms to develop against
* Coordination cannot be provided by PTs - they are already too stretched
* A central repository will be needed - not everything can be in EPEL/Debian/Maven central
* Good integration tools will be needed
* EMI good practices should be preserved</pre>
</div>
<div _hash="e04a5cc2d851c1ee2702510768cae6c15a972a19" created="20120918102317000" creator="willrogers" modified="20120918103534000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiStandards/879573:b1b9d45e0e11deb5f57042aae4d870ff19440e98&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="879573" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiStandards" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiStandards" type="text/x-tiddlywiki">
<pre>Given by Morris Riedel at the EgiTfPrague.

!!EMI Strategies
EMI has a large number of protocols internally 
EMI works with: PRACE, EUDAT, EGI, XSEDE, OSG
XSEDE developed from ~TeraGrid, and now has incorporated/affiliated OSG

!!Open standard adoption
* EMI-ES, CAR, StAR
* OGF
* There is a matrix on the EMI website: http://www.eu-emi.eu/standardization-matrix

!!The future
Developing standards takes longer than a project like EMI.  Other projects begin to take interest, eg EUDAT in the StAR.  The benefit is not just for the current project, but for the future.
!!Emerging topics</pre>
</div>
<div _hash="2ba7af18db71f5378c5f5413f00172ce5c09e95d" created="20121029121736000" creator="willrogers" modified="20121029125225000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiSummary/922210:91564f65d38d8430ecd5a2a0c3af4c840fac08cc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="922210" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiSummary" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="ahm emi" title="EmiSummary" type="text/x-tiddlywiki">
<pre>By Alberto di Meglio, EmiAhmBudapest

!!Status

* EMI 2 released and in progress
* EMI 1 still supported
* EMI 3 dev tasks being monitored

* QA process well established
* User support running smoothly
* Dissemination, training, relationships going ...ok... (my interpretation)

* Sustainability plans defined, and work in progress.

Claimed 83% of original project aims completed.

!!Reviewers' Recommendations
The project was rated as 'good' (not 'acceptable' or 'excellent').
1. Long-term sustainability - this is definitely the most important
* more business focus in the strategy
* engage new communities
* engage industry
* strengthen ~ScienceSoft
* produce an architectural and development plan
* focus on security - perhaps good, but should be better explained
* sustainability plan is good, but must be implemented
** need to leave a technical legacy and vision
2. Refine outreach, promotion and marketing of the project
* use the generic IT press?
* this is definitely challenging
3. Improve online promotion, marketing
* increase traffic to website, beyond HEP community
* try and use ~ScienceSoft for this
* arguing that they have saturated the market (? really?)
4. Refine website navigation for different users
5. Increase articles and publications
* Popular press
* Scientific journals, conferences
6. Deliverables - more focused

!!This meeting
* Prepare the work for the next 6 months
* Take practical decisions on maintaining collaborations after EMI
* Prepare to implement the post-EMI plans and transitions.
* Technical area sessions should be focused more on future plans than current tasks.
* EMI 3 preparation
</pre>
</div>
<div _hash="116924761d54e36586fd9153470d1000de9d69f3" created="20120509103559000" creator="willrogers" modified="20120509103633000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiUserSupport/705293:6e2a158fe518bd2dd783709c11ed16c65b3b9da6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="705293" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiUserSupport" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiUserSupport" type="text/x-tiddlywiki">
<pre>Mathilde Romberg at the EMI AHM, Hamburg

The APEL GGUS SU is part of the EMI group.  

There are some new ones this year: CANL, WNodes, EMIR etc.

There is now a field in GGUS tickets for ETA - the date when the fix will be available, which I think means an EMI update release date - the default is roughly 45 days later for urgent bugs.  There are also 'Affected component' fields.

If you are 'waiting for reply' and you need information, after two weeks escalate, then after another two weeks you can close the ticket if you've got no information.

What is this DMSU?  

Still some old tickets open - some may be ours.  Greater than 1 year?  We have one which is nearly a year old.

Should we open APEL-EMI tickets for bug-fixes referenced in APEL tickets?</pre>
</div>
<div _hash="b0f76770895960cd587e2451678d46de6d1a6b76" created="20111018152049000" creator="willrogers" modified="20120515083830000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EmiWorkPackages/710491:a32e4f503bf11b7b993af4f140191c5f79dfa38b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="710491" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EmiWorkPackages" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EmiWorkPackages" type="text/x-tiddlywiki">
<pre>At the plenary sessions in the EMI AHM, there were presentations on each work package.  I've summarised them each in their own tiddler below.  Note that they each have an EMI Twiki page appending their title to this URL: https://twiki.cern.ch/twiki/bin/view/EMI/.

* EmiNA1 - Administration and Technical Management
* EmiNA2 - Outreach and Collaborations.
* EmiNA3 - Sustainability and ~Long-Term Strategies
* EmiSA1 - Maintenance and Support
* EmiSA2 - Quality Assurance
* EmiJRA1 - Middleware Development, Evolution and Integration 

At the same level of importance on the twiki are: 
* PEB - the Project Execution Board
* ECB - Executive Collaboration Board, higher-level than John's Collaboration Board, with about 7 participants
* PTB - Product Technical Board
* EMT - Engineering Management Team, led by Cristina Aiftimiei.
</pre>
</div>
<div _hash="32c838384072fcb1e4429f6ff4fd350efebb77f4" created="20111017172110000" creator="willrogers" modified="20111020125500000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpelPackaging/364017:60f99a36f1a5896c96429a17129d75f4e1c29e22&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364017" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpelPackaging" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpelPackaging" type="text/x-tiddlywiki">
<pre>!EPEL Tutorial - Mattias Ellert

This a good starting point to know how much work to dedicate to the packaging of your products to make them EPEL-quality.

!!EPEL 
* Extra repository for RedHat, CentOS, SL
* Maintained by the Fedora community
* Usually based on packages in Fedora
* Version for 4, 5 and 6.
* Getting products into EPEL is a good way for people to find it and to encourage maintainability
* A big part of doing this is making the spec files conform
* First, get it into Fedora
** You can then request inclusion in EPEL - more difficult because 'enterprise' packages are supposed to be more stable.
** Usually the same person is in charge of both packages
** Uses Fedora's infrastructure to build maintain and distribute packages
** Package must comply with Fedora's guidelines.
*** Naming A-Z, a-z, 0-9, -, ., _, +
*** Versions x.y.z-n - change only n only if you haven't changed the source code
*** Shared libraries and dynamic linking are preferred
*** You can't include pre-built binaries; all binaries must be built from the included source code
**** Especially Java - you can't include jar files
*** You can't duplicate system libraries; true for Python, Java etc as well as C/C++
*** Problem with openssl and nss in SL6 raised again here.
*** There are additional rules for EPEL.
** rpmlint is a tool for examining packages
*** doesn't find everything
*** some false positives
* Submit a package
** Become a package maintainer
** Submit packager; a sponsor will check your first package
** Package reviewed by others; swap to persuade someone to do it

!!Debian
* Somewhat similar
</pre>
</div>
<div _hash="c5e15abde9a1183afd6631e36e2396d109f61ac4" created="20131203113258000" creator="willrogers" modified="20131219163332000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsArchiver/1600644:921de987d115fafd7770860b3b4331e67fde8d6c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1600644" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsArchiver" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpicsArchiver" type="text/x-tiddlywiki">
<pre>The archiver was originally looked after by James, Vijayan and Mike Leech.  Now only Vijayan really knows how it works.

The archiver lives on CS03R-CS-SERV-27.pri.diamond.ac.uk.  The username is archiver.

!!Components
* Archive processes
* Data storage
* Interfaces 

!!Archive viewer
{{{archiveviewer}}} is a Java program which talks to the archiver's interface.  It is available on the command line and from the launcher.

!!Channel Archiver
{{{ChannelArchiver}}} was originally an EPICS extension.  James made significant changes to it, including updating it to 64-bit.  He moved it to a support module in SVN.

The original ~ChannelArchiver is no longer actively developed, but it has a page here: http://sourceforge.net/apps/trac/epicschanarch/wiki

* Wiki page: http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/ChannelArchiver
* Manual (for the original EPICS version): http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/Archiver_Manual
* Update page: http://archiver.pri.diamond.ac.uk/archiver.html
* Info about archiving: http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/Controlling_Archiving_Rates_in_Channel_Archiver
* Code: {{{$SVN_ROOT/diamond/trunk/support/ChannelArchiver}}}

I can't simply build the source.</pre>
</div>
<div _hash="d0166a43e97a868c9d9b22c82bb78b0c8e80c887" created="20140714094033000" creator="willrogers" modified="20140812131312518" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsDiirt/1828245:267a7f24042a399ea6c5a82563727977ae0551fa&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1828245" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsDiirt" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpicsDiirt" type="text/vnd.tiddlywiki">
<pre>'diirt' (data integration in real time) is the Java source for pvmanager, among other things.  It's hosted on github at https://github.com/diirt.

It does not depend on eclipse, just Java.  JavaMaven is used to build pvmanager.

!!pvmanager
pvmanager is the library used for managing PVs in CSS. It's somewhat complicated, with a fairly large infrastructure designed to sensibly handle different data sources.

It includes:

* `VTypes`
* `pvmanager-`
** `core`
** `exec`
** `extra`
** `file`
** `graphene`
** `integration`
** `jca`
** `jdbc`
** `loc `- local PVs, which I'm interested in 
** `pva` - epics v4
** `sample`
** `sim` - simulation PVs
** `sys`
** `test`
** `timecache`
** `vtype`

A new datatype in PVManager might be as simple as two classes: 

* `*DataSource.java`
** extending `DataSource.java`
** This will create the `ChannelHandler`s that may be required
* `*ChannelHandler.java`  
** Generally extending `MultiplexedChannelHandler.java`


It's managed by Gabriele Carcassi.  He wrote some blog posts on this:

* https://weblogs.java.net/blog/carcassi/archive/2012/02/15/dealing-real-time-data-uis-and-others
* https://weblogs.java.net/blog/carcassi/archive/2012/08/03/pvmanager-framework-deal-real-time-data-part-1
* https://weblogs.java.net/blog/carcassi/archive/2012/08/17/pvmanager-framework-deal-live-data-part-2

</pre>
</div>
<div _hash="16de48e121b3da190e1c5af3c0cf001cb206eae7" created="20130703163540000" creator="willrogers" modified="20140422151353000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsEdm/1728258:69ffe18b264f968367438d5f206d99d0232f428f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1728258" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsEdm" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpicsEdm" type="text/x-tiddlywiki">
<pre>EDM is the 'extensible display manager' for EPICS.  It's a fairly old project, and it looks like it will be phased out over the next few years, but for the time being we have to support it.  Its webpage is here: http://ics-web.sns.ornl.gov/edm/.  The latest release was on 20/5/2013; you can find each version's source if you trawl back through the calendar on the webpage.

We are having problems moving to RHEL6 and 64-bit execution.  I've been given the job of debugging some of the code.

!!Environment
{{{
[hgs15624@pc0072 extensions]$ env | grep EPICS
EPICS_MBA_TEMPLATE_TOP=/dls_sw/epics/R3.14.11/base/templates/makeBaseApp/top
EPICS_BASE=/dls_sw/epics/R3.14.11/base
EPICS_EXTENSIONS=/dls_sw/epics/R3.14.11/extensions
EPICS_HOST_ARCH=linux-x86_64
DLS_EPICS_RELEASE=R3.14.11
EPICS_CA_MAX_ARRAY_BYTES=6000000
}}}

You can change these to change certain things about how EDM runs.

!!Compiling
CompilingEdm

!!Running
Having compiled my own version of edm, I've now got to figure out how to run it.

!!Bugs
* EdmBug
* DisappearingBug

John Sinclair has now applied my patch and released a new version.

!!!Valgrind
I initially couldn't get any sensible output from valgrind.  This is because I was running it on a shell script {{{edm}}}.  Using the {{{--trace-children=yes}}} option means that you get the verbose output we need.

!!Versions
{{{edm -version}}} will give you the version. It is defined in {{{src/edm/lib/edm.version}}}.  It is also shown at the top of the annoying extra window each time you run a gui.
 

Now that the DiamondModules file {{{RHEL6-RHEL5}}} is not loaded by default, {{{which edm}}} returns
{{{
/dls_sw/epics/R3.14.11/extensions/bin/linux-x86/edm
}}}
Its version is {{{1-12-28}}}.

If you swap the EPICS version, it returns
{{{
/dls_sw/epics/R3.14.12.3/extensions/bin/linux-x86_64/edm
}}}
Its version is {{{1-12-85}}}.

The latest version of EDM is 1-12-89; it has been updated a few times since I started looking at it, and now my patch has been imported.


</pre>
</div>
<div _hash="70ff11434e3010bcfff21a22576f73df9fe80334" created="20140415115413000" creator="willrogers" modified="20140613095905000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsExtensions/1791691:e07b597c89aca7f8cd5b0d51a57dfcc4a31e13e7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1791691" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsExtensions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpicsExtensions" type="text/x-tiddlywiki">
<pre>The installation of EPICS at Diamond has

* {{{/dls_sw/epics/R3.14.11/base}}}
* {{{/dls_sw/epics/R3.14.11/extensions}}}

In the extensions directory, there is 
* {{{config}}}
* {{{configure}}}
* {{{Makefile}}}
* {{{src}}}

Each extension is listed in the src directory, and they share the build directories and makefiles.

!!!Versioning
We'd like to be able to version the extensions separately.  This means:
* Filesystem: 
** {{{/dls_sw/epics/R3.14.12.3/extensions/ext1/version/src...}}}
* SVN: 
** {{{$SVN_ROOT/epics/trunk/extensions/ext1/src...}}}
** {{{$SVN_ROOT/epics/releases/extensions/ext1/src...}}}

The difficulty with this is that the extensions expect each other to be in the same location for the purposes of building and running.

!!!Extensions
 * denotes extension has no dependencies

* {{{adt}}}
** requires {{{SDDS}}}
* {{{alh}}}*
* {{{archiveviewer}}}
** this only builds with Java 6 ({{{module load java/6}}})
* {{{burt}}}
** requires {{{SDDS}}}
* {{{caSnooper}}}*
* {{{caTCL}}}
** this doesn't currently build
* {{{ChannelArchiver}}}
** this doesn't currently build; this is the old version, and EpicsArchiver is now a support module.
* {{{ControlDesk}}}
** this doesn't currently build
* {{{edm}}}
** requires {{{msi}}}
* {{{ezca}}}*
* {{{EzcaScan}}}
** requires {{{ezca}}}
* {{{gateway}}}*
* {{{gnuregex}}}*
* {{{makeDlsApp}}}
* {{{medm}}}*
* {{{msi}}}* -  the Macro Substitution and Include tool
* {{{probe}}}*
* {{{SDDS}}}*
* {{{StripTool}}}*
* {{{VisualDCT}}}
** requires {{{msi}}}
</pre>
</div>
<div _hash="f55cdd19182e9ff0d28d0d7e1d468f56835b8fb1" created="20130514152448000" creator="willrogers" modified="20130708105514000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsPython/1299199:88f47cbcacd4c7c05542894285a5845a61a4244e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1299199" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsPython" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="cothread epics python" title="EpicsPython" type="text/x-tiddlywiki">
<pre>The python EPICS interface is built on top of something called 'cothread'.  It was apparently originally conceived by James Rowland and is now developed and maintained by Michael Abbott.

Cothread defines a 'lightweight' threading implemetation for python.  Part of the way it does this is by reimplementing the python 'select' and 'socket' modules.  It also includes the EPICS interface, known as catools.

Its page is here: http://controls.diamond.ac.uk/downloads/python/cothread/.   The latest documentation is here: http://controls.diamond.ac.uk/downloads/python/cothread/2-8/docs/html/index.html

!!Python package
!!!{{{cothread.py}}}
* See CoThread

!!!{{{coselect.py}}}
This is a new implementation of the python {{{select}}} module, compatible with {{{cothread}}}.

!!!{{{cosocket.py}}}
This is a new implementation of the python {{{socket}}} module, compatible with {{{cothread}}}.

!!!{{{dbr.py}}}
Defines datatypes from EPICS in terms of python and/or numpy datatypes, and provides ways of converting between the two.  It uses ctypes to do so.

The python datatypes used (e.g. returned from {{{caget}}}) subclass the regular python datatypes, and add certain attributes.  You can specify how much extra information you'd like in the function calls.  {{{.ok}}} and {{{.name}}} are always present.

!!!{{{cadef.py}}}
From the documentation:  'This module is a thin wrapper over the cadef.h file to be found in {{{$EPICS_BASE/include/cadef.h}}}.'

The {{{catools}}} module uses these functions to provide the python interface.

!!!{{{catools.py}}}
* See CaTools

!!!{{{load_ca.py}}}
This just finds the location of the libca file, which is the EPICS binary.

!!!{{{input_hook.py}}}
I'm not yet sure what this is doing.

!!Other files
!!!{{{context}}}
This directory contains the C code used for context switching, not possible from pure Python.  It also includes assembler for different architectures!  It builds a shared object {{{_coroutine.so}}} which is referenced in the Python code.

!!!{{{build}}}
Only a temporary directory used for build artefacts.

!!!{{{docs}}}
The source for the Python documentation.

!!!{{{examples}}}
Just some examples of how to use the libraries, including EPICS commands, cothreads and Qt interfaces.

!!!{{{tests}}}
.... tests.
</pre>
</div>
<div _hash="c8d35efa5f30af455ea92572d873982bc56d8e97" created="20131202135539000" creator="willrogers" modified="20131203153537000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsQt/1574093:93ec52eb07e3a840cf65a746201ea3502cfebf6f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1574093" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsQt" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpicsQt" type="text/x-tiddlywiki">
<pre>See QtBasics.

EpicsQt is a GUI framework for EPICS, originally developed at the Australian Light Source.  It is a potential rival for CSS.

Its homepage seems to be on Sourceforge: http://sourceforge.net/projects/epicsqt.

!!Building
The documentation (in the {{{documentation}}} directory) is pretty sketchy.  It says we need Qwt - we've got a version of Qwt built against our version of Qt inside the ~PyQwt build.  Michael thinks we should be able to use it.

!!!From the tarball
It is not immediately obvious how to build:
* cannot find ~QtXml: add {{{QT += xml}}} to {{{.pro}}} file
* cannot find QNetwork: add {{{QT += network}}} to {{{.pro}}} file
* cannot find {{{alarm.h}}} - is this the epics bit?

!!!From the exported makefile
This seemed to work a bit better.  It insisted on the definition of Qwt:
{{{
export QWT_INCLUDE_PATH=/dls_sw/prod/tools/RHEL6-x86_64/PyQwt/5-2-0/prefix/include
}}}

I then get the error:
{{{
data/src/QCaObject.cpp: In member function ‘void qcaobject::QCaObject::processData(void*)’:
data/src/QCaObject.cpp:868: error: ‘class QVariantList’ has no member named ‘reserve’
}}}
This is strange, because it definitely seems to have, including in version 4.8.  [QVariantList is just another name for QList&lt;QVariant&gt;, and QList.reserve() exists.]
* http://qt-project.org/doc/qt-4.8/qlist.html
* http://qt-project.org/doc/qt-4.8/qvariant.html
!!Prebuilt
Matt has a prebuilt copy in {{{software/epicsqt}}}.</pre>
</div>
<div _hash="385424cf948a97bf3323c0a853681be921f61f5b" created="20140709111504000" creator="willrogers" modified="20140709150633000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EpicsSource/1822425:384ef0cfc2ce81c591d12721570c00d26f759a16&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1822425" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EpicsSource" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EpicsSource" type="text/x-tiddlywiki">
<pre>The EPICS source code can be found on Launchpad: https://launchpad.net/epics-base.  There are a few miscellaneous configuration files and directories, but most of it is in the {{{src}}} directory.

EPICS is largely written in C++, with Perl for scripting.  

!!!The code
In 3.15, there are 6 directories in {{{src}}}:
* {{{ca}}}
* {{{ioc}}}
* {{{libCom}}}
* {{{std}}}
* {{{template}}} - scripts for creating EPICS base and extensions
* {{{tools}}} - largely Perl scripts

In 3.14, there are many more directories here.

!!!{{{libCom}}}
This includes many of the header files used for EPICS development.</pre>
</div>
<div _hash="ffff853197a5561dfaef34fd40efbb0c738fbc79" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/ErrorHandler/1521896:a7c5a5acad7686dfe5be390c2d237a31595cdb82&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521896" server.permissions="read" server.recipe="willrogers_private" server.title="ErrorHandler" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="ErrorHandler" type="text/x-tiddlywiki">
<pre>/***
|''Name''|ErrorHandlerPlugin|
|''Version''|0.4.3|
|''Author''|Jon Robson|
|''Description''|Localised tiddler save errors including edit conflict resolution.|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig|
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;
tiddlyspace.getLocalTitle = function(title, workspace, suffix) {
	var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
	if(!suffix) {
		var isPublic = endsWith(workspace, "_public");
		suffix = tiddlyspace.resolveSpaceName(workspace);
		if(currentSpace == suffix) {
			suffix = isPublic ? "public" : "private";
		} else {
			suffix = "@%0".format(suffix);
		}
	}
	return "%0 *(%1)*".format(title, suffix);
};

var sssp = config.extensions.ServerSideSavingPlugin;

var msgs = config.messages.editConflict = {
	loading: "Loading..",
	resolve: "[[Edit Conflict]]@glossary: this tiddler may have been changed by someone else.",
	reviewDiff: "review (recommended)",
	reviewDiffTooltip: "review changes made to this tiddler",
	reviewDiffError: "error retrieving revision.",
	save: "overwrite",
	saveTooltip: "make this revision the top revision of this tiddler",
	discard: "cancel",
	discardTooltip: "undo changes to this tiddler and get most recent version",
	diffTitle: "%0",
	diffFieldTitle: "%0 - fields",
	diffTextTitle: "%0 - text",
	updating: "updating your version...",
	diffHeader: ["Review the changes that have been made whilst you were editing this tiddler. ",
		"Fold relevant changes back into your version.\n",
		"{{removed{Red}}} highlight shows content removed. ",
		"{{added{Green}}} highlight shows content added.\n"].join(""),
	diffTextHeader: "View changes in text",
	diffFieldsHeader: "View changes in fields"
};

var plugin = config.extensions.errorHandler = {
	diffTags: ["excludeLists", "excludeMissing", "excludeSearch"],
	displayMessage: function(message, tiddler, context) {
		var desc = context &amp;&amp; context.httpStatus ? context.statusText :
			sssp.locale.connectionError;
		var reportArea = plugin.reportError(tiddler.title);
		var msg = $("&lt;div /&gt;").appendTo(reportArea);
		if(message == "saveConflict") {
			wikify(msgs.resolve, msg[0]);
			var choiceArea = $("&lt;div /&gt;").appendTo(reportArea)[0];
			plugin.editConflictHandler(choiceArea, tiddler);
		} else {
			msg.text(sssp.locale[message].format(tiddler.title, desc));
		}
	},
	editConflictHandler: function(container, tiddler) {
		var title = tiddler.title;
		var myrev = tiddler.fields["server.page.revision"];
		// note user now needs to edit, fix problem and save. 
		// TODO: make sure this gets reset in save callback
		store.getTiddler(title).fields["server.page.revision"] = "false";

		var diffBtn = createTiddlyButton(container, msgs.reviewDiff, msgs.reviewDiffTooltip, function(ev) {
			var title = $(ev.target).data("title");
			plugin.displayDiff(ev.target, store.getTiddler(title), myrev);
		});
		var saveBtn = createTiddlyButton(container, msgs.save, msgs.saveTooltip, function(ev) {
				var title = $(ev.target).data("title");
				var tid = store.saveTiddler(store.getTiddler(title));
				autoSaveChanges(null, [tid]);
			});
		var ignoreBtn = createTiddlyButton(container, msgs.discard, msgs.discardTooltip, function(ev) {
			var title = $(ev.target).text(msgs.updating).data("title");
			plugin.resetToServerVersion(store.getTiddler(title));
		});
		$([diffBtn, ignoreBtn, saveBtn]).data("title", title);
	},
	getDiffTiddlerTexts: function(diffText) {
		var chunks = diffText.split("\n  \n");
		if(chunks.length &lt; 2) {
			return [chunks[0], ""];
		} else {
			var diffFieldsText = "{{diff{\n%0\n}}}".format(chunks[0]);
			diffText = '{{diff{\n%0\n}}}'.format(chunks.splice(1, chunks.length).join("\n"));
			return [diffText, diffFieldsText];
		}
	},
	makeDiffTiddler: function(title, diff) {
		var newTiddler = new Tiddler(title);
		var tags = plugin.diffTags;
		newTiddler.text = msgs.loading;
		newTiddler.fields.doNotSave = true;
		newTiddler.tags = diff ? tags.concat(["diff"]) : tags;
		newTiddler = store.saveTiddler(newTiddler);
		$.extend(store.getTiddler(title).fields,
			config.defaultCustomFields); // allow option to save it
		return newTiddler;
	},
	displayDiff: function(src, tiddler, latestRevision) {
		var adaptor = tiddler.getAdaptor();
		var title = tiddler.title;
		var ts = new Date().formatString("0hh:0mm:0ss");
		var suffix = "edit conflict %0".format(ts);
		var diffTitle = tiddlyspace.getLocalTitle(msgs.diffTitle.format(title), "", suffix);
		var diffTextTitle = tiddlyspace.getLocalTitle(msgs.diffTextTitle.format(title), "", suffix);
		var diffFieldsTitle = tiddlyspace.getLocalTitle(msgs.diffFieldTitle.format(title), "", suffix);
		plugin.makeDiffTiddler(diffTextTitle, true);
		plugin.makeDiffTiddler(diffFieldsTitle, true);
		var newTiddler = plugin.makeDiffTiddler(diffTitle, false);
		newTiddler.text = ['%0\n&lt;&lt;slider chkViewDiffText "%1" "%2"&gt;&gt;\n',
			'&lt;&lt;slider chkViewDiffField "%3" "%4"&gt;&gt;'].join("").
			format(msgs.diffHeader, diffTextTitle, msgs.diffTextHeader,
				diffFieldsTitle, msgs.diffFieldsHeader);
		store.saveTiddler(newTiddler);

		var callback = function(r) {
			var text = plugin.getDiffTiddlerTexts(r);
			store.getTiddler(diffTextTitle).text = text[0];
			store.getTiddler(diffFieldsTitle).text = text[1];
			story.refreshTiddler(diffTitle, null, true);
		};
		var workspace = "bags/%0".format(tiddler.fields["server.bag"]);
		ajaxReq({
			type: "get",
			dataType: "text",
			url: "/diff?format=unified&amp;rev1=%0/%1/%2&amp;rev2=%0/%1".format(workspace, title, latestRevision),
			success: callback,
			error: function() {
				displayMessage(msgs.reviewDiffError);
			}
		});
		story.displayTiddler(src, diffTitle);
	},
	resetToServerVersion: function(tiddler) {
		var adaptor = tiddler.getAdaptor();
		var ctx = { 
			host: tiddler.fields["server.host"],
			workspace: "bags/" + tiddler.fields["server.bag"]
		};
		adaptor.getTiddler(tiddler.title, ctx, null, function(context) {
			store.saveTiddler(context.tiddler);
			story.refreshTiddler(tiddler.title);
			store.setDirty(false);
		});
	},
	reportError: function(title) {
		var el = story.getTiddler(title);
		if(!el) {
			el = story.displayTiddler(null, title);
		}
		return $("&lt;div /&gt;").addClass("error annotation").prependTo(el)[0];
	}
};

sssp.reportFailure = function(message, tiddler, context) {
	config.options.chkViewDiffText = config.options.chkViewDiffText === undefined ?
		true : config.options.chkViewDiffText;
	config.options.chkViewDiffFields = config.options.chkViewDiffFields || false;
	plugin.displayMessage(message, tiddler, context);
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="6e44254bc94fa0f6823f0786b6444bdd9b6a1326" created="20120608153314000" creator="willrogers" modified="20120620144433000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/Euro2012Sweepstake/751942:e7c417c001cc40bcdb6805e508ae9601e33bdd0b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="751942" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="Euro2012Sweepstake" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="Euro2012Sweepstake" type="text/x-tiddlywiki">
<pre>Results of the draw

| ''Reply'' | ''Person'' | ''Team'' | ''Paid'' |
| 1 | Emily | Greece | yes |
| 2 | Ted | --Russia-- | yes |
| 3 | Steve | Spain | yes |
| 4 | Ben | --Croatia-- | yes |
| 5 | Frazer | Portugal | yes |
| 6 | Charles | Italy | yes |
| 7 | James | --Ireland-- | yes |
| 8 | Hayley | --Ukraine-- | yes |
| 9 | Liam | --Poland-- | yes |
| 10 | John | France | yes |
| 11 | Joe | England | yes |
| 12 | Mike | Germany | yes |
| 13 | Will | --Netherlands-- | yes |
| 14 | Geoff | --Denmark-- | yes |
| 15 | Chris | Czech Republic | yes |
| 16 | Ed | --Sweden-- | yes |
</pre>
</div>
<div _hash="1617a22acf4d3aca3a84186f846f9b8a2c3ae96b" created="20120327073235000" creator="willrogers" modified="20120327142121000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EuropeanFunding/655063:795bea498029ebe26eeba829cb7453a43a9650ba&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="655063" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EuropeanFunding" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="ec egi eu" title="EuropeanFunding" type="text/x-tiddlywiki">
<pre>!The EU and the EC
The EU has a budget of ~2% of those of the member states, or equivalently 1% of the EU's total GDP.  The budget of the EU in 2011 was €140bn.  (By comparison, the UK's budget in 2011 was ~£600bn raised, £700bn spent.)  All of this is spent in investment, so the idea is that far-reaching and progressive plans can be carried out, which have a large effect and which may be beyond the capabilities of the member states.  The budget is by subscription by country, not direct taxation of the population.

About 6% of the EU's budget is spent on administration, about half of which is salaries.  Farming has traditionally taken up a large amount of the money, but it has reduced significantly to around 30%.  Policy reform has largely got rid of the famous food mountains and wine lakes.

Horizon 2020 is an EU funding framework for 'research and innovation'.  It has a number of aims including trying to simplify the funding process.  It is funded by the European Commission (EC), which is the 'executive body' of the EU.  [The European Council, by comparison, is the group of heads of states, President of the European Commission, and its own president.]

!!~FP7
Until Horizon 2020 begins, there is a process called Framework Program 7, ~FP7.  It runs from 2007 to 2013 and funds research and technological development.  Most of its money is spent on grants supporting scientific research, but its grants require 'European added value', which often means international collaborations.

Its budget over the 7 years is ~€50bn.  This constitutes about two thirds of 'Competitiveness for growth and employment', itself maybe ~9% of the EU's total budget.

It's difficult to find exact figures, but EGI might have received about €50m of funding from the EC, which would be 0.1% of the total science budget.

!!Horizon 2020

The project itself begins in 2014, so at the moment we're going through preparatory stages.  A key part is the negotiation of all EU funding for the period 2014-2020, which will include the amount of money provided for Horizon 2020.  The amount of research money in total is around €90bn (I make that between 5% and 10% of the EU's budget), of which about a third is directly for science.  About 3bn is available for European research infrastructure, into which EGI (or its successors) will fall.</pre>
</div>
<div _hash="438815784b840e2f6d2e72916568b2693c611cdf" created="20111017072132000" creator="willrogers" modified="20111018152039000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/EuropeanMiddlewareInitiative/364037:79a05568f7350e467c41e365865a8f76e5991f46&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364037" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="EuropeanMiddlewareInitiative" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="EuropeanMiddlewareInitiative" type="text/x-tiddlywiki">
<pre>So exactly what is EMI?  

!!Introduction
After the EGEE project, which was deemed to be a success, two new projects were formed.  One was EGI, which was a more direct to successor to EGEE, involved with maintaining the grid infrastructure that had been developed, and moving it to a more sustainable (less expensive) mode of operation.

The other was EMI, designed to look after the middleware.  Here's where I start my investigation.
APEL has a foot in both camps.  The server, as a piece of operating grid stuff, falls within EGI.  This is I think 75% of APEL's funding.  The APEL client, because it is part of gLite and then subsequently the EMI release, falls within EMI and provides 25% of the funding, which is basically half of me.

The EMI project director is Alberto di Meglio.

!!First impressions
EMI doesn't appear to have a wikipedia page (not this EMI).  Its homepage is here: http://www.eu-emi.eu/.  I found out by accident that someone else had nabbed www.emi.eu.  From the front page, it presents itself as a software distribution.

!!Releases
EMI makes one major release a year.  They are named after European mountains, the first being [[Kebnekaise|http://en.wikipedia.org/wiki/Kebnekaise]], rreleased on May 12th 2011.  This release is updated regularly with patches etc. As of 17th October 2011, the latest release is update 8.  For reference, Cristina's bug fixes for the APEL parsers is released in update 8.

The second release will be Matterhorn.  Its official release date is April 30th 2012.

!!Support
Support goes via EGI, which is an example of how the two projects are linked.  I guess this is why we're involved in the EMI tickets, because it's actually a small part of the EGI GGUS ticketing system.  Two major releases will be kept up-to-date, but only the latest updates of these releases are officially supported.

The website only lists support as far as April 30th 2013, which is presumably when the project officially ends.

!!Components
Four items are listed on the EMI site as parts of EMI:
!!!ARC
ARC, as far as I understand, is a middleware distribution much like gLite.
!!!dCache 
dCache is a large-scale storage management system.
!!!gLite
We know all about that.  Well, we don't actually.
!!!Unicore
Unicore is the third rival middleware distribution.

The Unified Middleware Distribution I think aims to pull together some or all of these components so that they can work together.  I don't really know that much about this.

!!Work packages
EmiWorkPackages
</pre>
</div>
<div _hash="ba8137431a3c3f587abc364a60e58ebbe60a992c" created="20140408130602000" creator="willrogers" modified="20140409104315000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ExtensionPoints/1715759:73779e1911ba844c41fc296e11340fa1a67d6203&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1715759" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ExtensionPoints" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ExtensionPoints" type="text/x-tiddlywiki">
<pre>See [[the Eclipse Extension Point Reference|http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fextension-points%2Findex.html]] for more than 100 extension points defined by Eclipse itself.

Extension points allow you to hook into different parts of the Eclipse framework.  For example, you can add your plugin to a toolbar or the list of views.  Pressing the toolbar button or choosing a view will mean Eclipse tries to load the plugin.  Only then will Eclipse complain if it can't find the appropriate classes.

This allows Eclipse to start up without loading the many classes that might be needed during its execution.

Some plugins define extension points, but most of the ones you need have already been defined.  New plugins can use these extension points (use the 'Extension' tab in the manifest editor).  If you select {{{org.eclipse.ui.views}}}, then your plugin will show up in the list.  Only when you try and select it will it realise that the relevant class does not exist.

You can right-click on an extension point in the manifest editor and find which plugins are already using the extension point.

!!!{{{plugin.xml}}}
The sole use of the file {{{plugin.xml}}} is to keep track of extension points and extensions.  The manifest editor has the two 'Extension' tabs to deal with these.</pre>
</div>
<div _hash="6dcf5a6f45cced18e3d00aca6d82d5961afa3264" created="20130727101649000" creator="willrogers" modified="20130727101859000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ExternalConnection/1325041:1a78cef6ed54783226b4504c0c9d72a32c91c1ea&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1325041" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ExternalConnection" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ExternalConnection" type="text/x-tiddlywiki">
<pre>There are several ways to connect to Diamond.

* VPN: this allows you to see the intranet etc.  See StfcVpn

* SSH: I found directions on the controls wiki here: http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/External_access_to_DLS_intranet

* SCP: I needed to tunnel via my SSH connection, adapting the instructions here: http://whoochee.blogspot.co.uk/2012/07/scp-via-ssh-tunnel.html.

</pre>
</div>
<div _hash="5d14d439755feb50d16fb1650e0f532f420def50" created="20110507142023000" creator="willrogers" modified="20110507181441000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FakenhamFair/364042:4f0eb8367484cb88355c84c21a8e08acaa9e22d6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364042" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FakenhamFair" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bellowhead tab" title="FakenhamFair" type="text/x-tiddlywiki">
<pre>by Bellowhead

It's mostly in 5/4, though there are bits in between the singing that are 6/4.

{{{
  F            Bb
I never really fell in love
       F                     C
'Til I went down to Fakenham Fair
    F                          Bb
And chanced for to meet with a carnival girl
  F                    C
A-selling the fortunes there.
  Bb                   Bb
A try for a lamp, or a Spanish shawl
     F      C7  Bb
Or a golden filigree
    F       C         F         Bb
And all the while her eyes were saying
Bb          C7        F
Come take a chance on me.

   Bb                Bb
So swing around, the merry-go-round,
         F         C7       Bb
Give the wheel of fortune a whirl
        F      C        F        Bb
But the finest prize at Fakenham Fair
       Bb     C7       F
Is the pretty carnival girl.
                                
}}}</pre>
</div>
<div _hash="df337cb34136cc9c0fd8c8c5b9b58ecccab56887" created="20140106090739000" creator="willrogers" modified="20140806103400412" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FastArchiver/1822025:1e22b44f18db7447dfc38f80a5fe7eeaf0b9c0b8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1822025" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FastArchiver" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FastArchiver" type="text/vnd.tiddlywiki">
<pre>The '''fast acquisition archiver''' archives data from the FOFB network, which is in general much faster than the EpicsArchiver can handle.

!!Data
The fast archiver stores data from:

* the EBPMs
* the XBPMs (or PBPMs)
* PMCs - these are the cards used for the FOFB network calculation, but I don't know what's showing here
* three things from RF
* two of the fast chicane magnets (only two?)
* FE20I-DI-ACCL-[01,02]
* SR-DI-EVENT-01

!!Programs
There are five installed programs:

* `fa-archiver` - the archiver itself
* `fa-audio` - play fa data as an audiio file (?)
* `fa-capture` - retrieve data from the archiver
* `fa-prepare` - something to do with data files
* `fa-viewer`, which shows live data
* `fa_zoomer` - a matlab script used for showing the archived data

Each program has a man page.

There is a library `falib` for Python.

!!Protocol
See the `fa-archiver` man page, section `SOCKET SERVER` for details of the protocol.

You send an ASCII command to the the server, which returns the requested data or an error message.  The commands fall into four categories:
* C - interrogate parameters about the data
* S - subscribe to live data
* A - retrieve archive data
* D - debug, used for testing

You simply open a socket, send the command, receive the data then close the socket.    A second request requires a second socket.

!!Code
I believe all the archiver code is in the Python repo `fa-archiver`.  I don't know why Python, since Python is only a part of it.
</pre>
</div>
<div _hash="40b6f5522afdbf71083a5ec839a7c3fa0a495edf" created="20130708154238000" creator="willrogers" modified="20140112133040000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FastFeedback/1623045:3cd7f5b0b33e16cb7f9ba39a5fa2aaac4f4cd0b3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1623045" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FastFeedback" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FastFeedback" type="text/x-tiddlywiki">
<pre>See also SlowFeedback.

Fast orbit feedback, or FOFB, is the program used to keep the storage ring beam in the position we want it.  The requirements are that the beam is kept stable to within 10% of the beam size, in both x and y dimensions and in both displacement and angle.  For example, the horizontal beam size is 123 micrometres, so the beam should be kept stable within 10% of that value: 12.3 micrometres.

There are several parts to the entire process:

* ~EBPMs (7 per cell; 9 in cells 9 and 13), which broadcast their readings at 10kHz on the...
* distribution network, which connects all nodes and transfers the data.
* The receiver node (an FPGA, one per cell) which collects the packets sent out by the ~EBPMs
* The C code, running in an IOC, one per cell.  It reads data from its FPGA, once it has all the data from the EBPMs, and applies a transformation to it.  It then communicates the results to the...
* Power supplies, which control the...
* Corrector magnets (7 per cell; 9 in cells 9 and 13)

The EBPMs and the corrector magnets work at 10kHz (100μs per cycle).  However, the whole feedback cycle takes about 800μs to complete.  This means that there is a lag of about 7 cycles between the readings being taken and the correction being applied.  

It takes of the order of 800μs (that is 400 laps of the ring) to complete the cycle from reading the ~EBPMs to applying the correction.  This comprises:
* ~150 for the EBPMs to read and put out some data
* ~50 for the data packets to traverse the network
* ~50 for the receiver to accept the data into memory
* &lt; 100 for the processing to be applied.  Sandira told us that this allows calculation of one 172 * 172 matrix (spatial response matrix) but not a second (the dynamic response matrix).
** since this needs to happen for every reading, it must fit within one 100 microsecond cycle
* An unknown length of time for the ~PSUs to apply the necessary current to the corrector magnets.

An important part of the process is the conversion between the EBPM readings and the necessary corrections for the magnets to apply.  The machine physics team can provide the forward transformation (the effect on the position as a result of changes to the magnets).  The inverse transformation is statically calculated then applied to the beam readings in order to calculate what the corrector magnets need to do.

The transformation is held in two ~PVs (~SR01A-CS-FOFB-01:IRM[X,Y]), which are calculated and set from the client side before FOFB starts.

!!Some links
This page on the wiki is full of broken links: http://www.cs.diamond.ac.uk/cgi-bin/wiki.cgi/FeedbackMaths
An introduction to IQ: http://www.tek.com/blog/what%E2%80%99s-your-iq-%E2%80%93-about-quadrature-signals%E2%80%A6
And another: http://www.ni.com/white-paper/4805/en/
Quadrature on Wikipedia: http://en.wikipedia.org/wiki/Quadrature_phase

!!The GUI
The gui is found in the launcher under 'scripts'.  It doesn't seem to do much except for starting and stopping FOFB.  However, on starting it reads the transformation matrix from a file, inverts it and sets the necessary PVs for the IOCs to use.

!!The code
There are two parts to the code: {{{src}}}, the machine-side code, and {{{opi}}}, the client-side code.  The client side code reads the response matrix, inverts it and sets it as two EPICS variables.  When fastfeedback starts, it reads those EPICS variables to use it.
* FastFeedbackOpi
* FastFeedbackSrc
* FastFeedbackVariables

!!Jargon
* IQ - current quadrature
* PMC - PCI mezzanine card
* PSC - power supply controller
* IRQ - interrupt request?
* FIR - finite impulse response
* IIR - infinite impulse response
* taps - coefficients for finite impulse response filters
* antiwind - an anti-windup controller, which prevents erratic behaviour from the filters
* notch - a type of filter to remove specific frequencies
* Variant
* Closure

</pre>
</div>
<div _hash="4f9f3323fd9154475c32f03fe692492bfceaa45f" created="20130812153733000" creator="willrogers" modified="20130814072438000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FastFeedbackExcite/1342109:a132bec218aee7d004783d3de99571520bc0358d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1342109" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FastFeedbackExcite" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FastFeedbackExcite" type="text/x-tiddlywiki">
<pre>There a few files which handle signal processing (but I'm not sure if that is the correct term).

* IIR is [[infinite impulse response|http://en.wikipedia.org/wiki/Infinite_impulse_response]]
* FIR is [[finite impulse response|http://en.wikipedia.org/wiki/Finite_impulse_response]]
* taps are the terms in the FIR's response function, where the first term is a constant * the latest reading, and the second is a constant * the reading before
** MAXTAPS = 9 means that there can be a maximum of 9 terms in the FIR

!!!{{{excite.h}}}
This declares the following functions:
* {{{struct EXCITE}}}
** interestingly, IQ_AMP is a PLANES * CORRECTORS 2D array, but IQ_DISTURBANCE is a (PLANES * CORRECTORS) 1D array
* {{{void excite_init()}}}
* {{{void excite_iq()}}} - called every fofb loop
* {{{void excite_open_loop()}}} - called in the fofb loop if some test fails
* {{{void excite_closed_loop()}}} - called in the fofb loop otherwise
* {{{void register_excite()}}} - this is actually implemented in {{{fofb.c}}}.

!!!{{{fofb.c}}}
The {{{register_excite()}}} function is defined here.  It binds the fields in the one instance of EXCITE to the appropriate ~PVs - there's not  a one-to-one mapping, but most of the fields are bound.

!!!{{{excite-inl.h}}}
This appears to be where the {{{excite.h}}} functions are actually implemented.  They are in a header file for performance reasons, I believe, but I don't know why they are not in {{{excite.h}}} itself.

A static {{{struct EXCITE}}} is declared here for use during the program.

* {{{excite_init()}}} just allocates memory for the static struct {{{EXCITE}}}, then registers the EPICS variables
* The other three functions use the {{{MAP_CORRECTORS}}} macro (defined in {{{filter.h}}}):
** {{{excite_iq()}}} calculates and sets {{{IQ_DISTURBANCE}}} from {{{IQ_AMP}}}
** {{{excite_closed_loop()}}} calls {{{write_to_psc()}}} - a synonym for {{{write_fast()}}}, defined in {{{fofb.c}}}.  It uses {{{FEEDBACK-&gt;state-&gt;c.out}}} 
** {{{excite_open_loop()}}} calls {{{write_to_psc()}}}.  It uses {{{FEEDBACK-&gt;cor}}}.

The latter two functions are actually writing to the power supply controllers, possibly including the {{{IQ_DISTURBANCE}}}.


!!!{{{filter.h}}}
Among other things, this file defines the {{{MAP_CORRECTORS}}} macro.  All it does is executes a block of code for p in PLANES (2) and c in CORRECTORS (9).  The block can then know about p and c even though they don't appear to be in scope.

It also defines:
* FIRTYPE is the same as double
* {{{struct fir}}} 
* {{{struct iir}}} which contains two firs
* {{{struct antiwind}}} which contains two iirs
* the functions implemented in {{{filter.c}}}


!!!{{{filter.c}}}
This defines a struct FOFB and a static instance of that struct.  That instance is used only in the {{{load_controller()}}} function, which as far as I can tell is not used.  The behaviour of the class depends on whether {{{DAMP_TO_INITIAL}}} is defined, which it currently is not.

It also defines the functions:
* {{{firstep()}}}
* {{{fir_step_circular()}}}
* {{{fir_reset()}}}
* {{{iir_step()}}}
* {{{iir_reset()}}}
* {{{antiwind_reset()}}}
** this calls {{{iir_reset()}}} which in turn calls {{{fir_reset()}}}
* {{{tracking_step()}}}
* {{{ratelimit_step()}}}
* {{{plant_reset()}}}
* {{{plant_step()}}}


</pre>
</div>
<div _hash="c3a163f090841af0869554eefc03daeda91e3f54" created="20130711162337000" creator="willrogers" modified="20140226120909000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FastFeedbackOpi/1672526:e13a3a3926747909c9773bd22b5a9a801c7ca75a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1672526" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FastFeedbackOpi" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FastFeedbackOpi" type="text/x-tiddlywiki">
<pre>!!Overview
The basic purpose of the client-side code is to do some preparation, then start the FOFB process.  It also stops the process.  The results of this are the setting of some ~PVs, which are read by the C code in FastFeedbackSrc.  Parts of this are similar to the slow feedback code, which is also written in Python.  The variables set below are listed in FastFeedbackVariables.

FofbConfig is stored in {{{fofb.config}}}.

!!Process
This happens when you push the 'Start' button on the gui.  The code is in {{{fofbnogui.py}}}.
* Stop FFB (caput 0 to {{{FASTART}}})
* caput 0 to {{{DISA[H,V]}}}
* Check whether the BPMs are up
** We cope with disabled (status 1) but not unreachable (status 2)
* caput 0 * 24 to {{{FMASK}}}
* call {{{distribute_rm_and_correctors}}}:
** redistribute {{{SR-DI-EBPM-01:ENABLED}}} to {{{BPMEN}}}
** then the actual work
* do a bunch of caputs, resetting state
** {{{PMODE}}}: 0
** {{{SOFTSTOP}}}: 1
** {{{TESTMODE}}}: 2 if testing else 0
** {{{AWR}}}: 1 ('enable corrector limit', something to do with the anti-windup controllers)
** {{{[B,A]TAPS[X,Y]}}} - IIR taps, specified in {{{fofb.config}}}
** {{{MABSC}}}: 1A - corrector limit, specified in {{{fofb.config}}}
** {{{MABSB}}}: 0.5*10^6nm - orbit limit, specified in {{{fofb.config}}}
** {{{APPLY}}}: 1
** {{{TRACK}}}: 4*pi - specified in {{{fofb.config}}}
** {{{ARESET}}}: 1 - reset IIR
** {{{EWRITE}}}: 0 * 8 - reset error counters
* start FOFB by caputting 1 to FASTART on all of the IOCs.

The 'Stop' button:
* caput 0 to FASTART on all of the IOCs.

!!Files

The {{{opi}}} directory contains a bit of a mix of stuff.  There is:

!!!python logic
* {{{fofbnogui.py}}} - this is called by the 'Start' and 'Stop' buttons on the GUI.
** {{{invert.py}}} - one specific function, {{{invert()}}}, used in {{{deal_rm_sr_new.py}}}
*** here we find the Tikhonov regularisation we're adding to SOFB.
** {{{deal_rm_sr_new.py}}} - one specific function, {{{deal()}}}, used in {{{fofbnogui.py}}}
** {{{table.py}}} - simple class to read a table from a file
** {{{imc3_new.py}}} - one specific function, {{{imc()}}}, used in {{{fofbnogui.py}}}
* {{{fofb.config}}}, which is a python file containing configuration

!!!miscellaneous
* {{{fofbdebug.py}}} - some sort of test
* three Matlab files: {{{measiq.m}}}, {{{plotiq.m}}}, {{{reshape_fofb.m}}}
* flat text files containing data: {{{bpms.txt}}} and {{{correctors.txt}}}
* {{{clearerror.sh}}} - caput 0 to a bunch of PVs
* a makefile

!!!gui code
* {{{makepanel.py}}} - if you run this, it prints {{{fofb.edl}}}
** {{{footer.edl}}} is just the last part of {{{fofb.edl}}}
** {{{edm.py}}} is used for the generation
** {{{help.py}}} defines a simple Qt screen which comes up when you press the ? button.
* {{{fofbgen.py}}} - ?
** it seems to create another edl file, but I don't know what for
** {{{run-command}}} - helper script to run {{{fofbnogui.py}}} from the EDM panel
* {{{fofb-gui}}} - just a shell script which starts EDM with the generated panel

There are also three directories beginning {{{O}}}, created when I build the project.

</pre>
</div>
<div _hash="d5ad3b5cf9c17553ea0da90feb5c0f7524c0f83b" created="20130709102528000" creator="willrogers" modified="20131028162902000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FastFeedbackSrc/1488553:d602a3920897526bd1e0b10f892147d393f9a01c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1488553" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FastFeedbackSrc" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FastFeedbackSrc" type="text/x-tiddlywiki">
<pre>See GenericDevice, FastFeedbackExcite

The {{{src}}} directory contains mainly C code:


!!Core
* {{{fofb.h}}} contains
** four sets of anonymous CEnums
** {{{struct MEMORY_MAP}}}
** {{{struct FOFBSTATE}}}
** {{{struct FEEDBACK}}}
*** the FEEDBACK struct contains an array of 10 seconds' worth of FOFBSTATE structs, used to retain the past state for post mortems

!!!{{{fofb.c}}} 
This is the actual program.  It defines a number of variables and functions, then starts a loop which runs indefinitely.

These are the functions defined:
* {{{write_node_mask()}}}
* {{{write_fast_buffered()}}}
* {{{checkPscStates()}}}
* {{{check_watchdog()}}}
* {{{getcell()}}}
* {{{getcellsub()}}}
* {{{pmc_ack()}}}
* {{{pmc_init()}}}
* {{{stop_feedback()}}}
* {{{irq_handler()}}}
* {{{check_events()}}}
* {{{reset_accumulator()}}}
* {{{controller_step()}}}
* {{{stop_gracefully()}}}
* {{{tick()}}}
* {{{fixed_to_float()}}}
* {{{inverse_matrix_multiply()}}}
* {{{SetMask()}}}
* {{{check_flags()}}}
* {{{dma_setup()}}}
* {{{pscTask()}}}
* {{{fofbTask()}}}
* {{{pmc_configure()}}}
* {{{FeedbackInit()}}}
* {{{FeedbackStart()}}}

!!!Registers
From line 742 to the end, there is a lot of cryptic stuff regarding registers.  Several functions are defined by the preprocessor, apparently so that they can be defined for different types.

Each of the following functions acts on a {{{Variant}}}, defined in {{{GenericDevice.h}}}.  See GenericDevice.  Each of them is of type {{{GenericFunction}}}, and they are registered in {{{GenericInit}}} below.
* {{{powerdown()}}}
* {{{setTimeFrame()}}}
* {{{dataSelect()}}}
Other functions (also of type {{{GenericFunction}}} are defined using macros so that they can operate on variable types.

* {{{GenericInit()}}} - 150 lines - this seems to register a lot of listeners to EPICS variables; the names are abbreviated, and I can't find where they are filled.
** It calls {{{GenericRegister}}} a lot of times, with a name, a function of type {{{GenericType}}} and {{{udata}}}, which seems to be of differing types.
* {{{register_excite()}}}

!!!Power supply controllers
* {{{psc.c}}}, {{{psc.h}}} - these represent the power supply controllers
** structs {{{io_PSC_link_reg}}} and {{{io_PSC_link}}}
** external functions {{{write_fast}}}, {{{read_status}}}, {{{correctorPresent}}}, {{{trigger_vmetro}}}
** ~EPICS-registered functions: {{{FofbStart}}} and {{{FofbAddCorrector}}}.  These are called from the database definition file {{{generic.dbd}}}.  This appears to be how the program is started inside an IOC.

It uses {{{#define LOCAL static}}} to declare local variables - that is, they can't be used outside of the file.


!!Post mortems
The {{{feedback}}} struct contains an int pmode corresponding to the current state of post mortem; there is an enum for the possible states in {{{fofb.h}}}.  {{{PM_POST}}} seems to be standard operation, where states are stored in the {{{states}}} buffer.  {{{feedback.sn}}} (state number) records which item in the buffer to use, and each loop the current state is copied to that item.

!!Utils

* {{{sysc.c}}} - low-level system interaction - this also has a function registered in EPICS: {{{FofbUseBusRequest2}}}, which as far as I can tell is the only function used from this file.

* {{{constants.h}}} - as you'd expect, constants for the use of the program

* {{{GenericDevice.c}}}, {{{GenericDevice.h}}}, {{{GenericDeviceP.h}}} - these appear to be related to EPICS variables, but I can't get a handle on quite how.
* {{{pmc_regs.h}}} - defines two structs: {{{WRITE_REGS}}} and {{{READ_REGS}}}.  These are used for reading from and writing to the hardware.

* {{{timing.h}}} - this contains only the function timebase(), which appears to return some kind of timestamp.

I don't yet see the point of {{{fofbMain.cpp}}}, the only C++ code there.
!!!Altivec
Altivec is a library used for vector calculation on the ~PowerPC architecture.  It works in terms of 128-bit vectors, designed so that they can fit in one register - that is, four ints, four floats or more shorts or chars.  The below functions make use of 4-floats to minimise the number of calculations.
* {{{vector.h}}} - this has two functions used for vector matrix operations in {{{fofb.c}}}.
** {{{Saturate()}}}, used in {{{fixed_to_float()}}} -  it converts an integer array into a float array depending on some checks, and returns the number of failed checks
** {{{gemvf4()}}}, used in {{{inverse_matrix_multiply()}}} - it must handle the multiplication of the response matrix



!!Object files
* There are two binaries in the directory: {{{read_intel_hex.o}}} and {{{devMrfPmc.o}}}.  These are both 32-bit ELF files, for PowerPC architecture.  Identical files appear to be in the directory {{{O.vxWorks-ppc604_long}}}, once the project has been built.

!!Libraries
The code uses a few VXWorks libraries:
* semLib: http://www.vxdev.com/docs/vx55man/vxworks/ref/semLib.html
* msgQLib: http://www.vxdev.com/docs/vx55man/vxworks/ref/msgQLib.html

!!Questions
* Why is {{{static}}} renamed {{{LOCAL}}}?
{{{
#define LOCAL static
}}}
* Why is there such a mix of conventions for variable names?
* Why is "excite.h" included in fofb.c, then "excite-inl.h" included lower down?  Isn't there a conflict?
* Where does the apparently in-built {{{UINT32}}} come from?
* Where does {{{IMPORT}}} come from?
* What do the {{{GenericDevice}}} files represent?
* What's the purpose of the {{{#define}}}d functions?
* What is Rocket IO?</pre>
</div>
<div _hash="57f06bd3a63ea0e5ae89326871dfe9104880a622" created="20131120114820000" creator="willrogers" modified="20131120141817000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FastFeedbackVariables/1545780:c6b2d1388805c1203061fe168de3aa56287b66a5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1545780" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FastFeedbackVariables" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FastFeedbackVariables" type="text/x-tiddlywiki">
<pre>There are a number of variables which affect how fastfeedback works.  They tend to follow a path from the FastFeedbackOpi code to the FastFeedbackSrc code via  EPICS, but there are differences too.

| !PV | !variable | !{{{fofb.config}}} | !description |
| {{{FASTART}}} | {{{memory_map.enable}}} | - | start/stop trigger |
| {{{DISA[H,V]}}} | {{{disablePlane}}} | - | disable x or y plane |
| {{{AWR}}} | {{{feedback.awr}}} | 1 | whether antiwind is enabled |
| {{{MABSB}}} | {{{feedback.mabsb}}} | 0.5*10^6nm = half a millimetre | 'orbit limit', passed into {{{Saturate()}}} |
| {{{MABSC}}} | {{{feedback.mabsc}}} | 1A | 'corrector limit' |
| {{{ATAPS[X,Y]}}} | {{{feedback.ataps}}} | calculated from parameters... | |
| {{{BTAPS[X,Y]}}} | {{{feedback.btaps}}} | ...eta, cutoff, delay, epsilon |  |
| {{{TRACK}}} | {{{feedback.track}}} | 4π |  |
| {{{BPMEN}}} | {{{feedback.enabled}}} | - |  which BPMs are working |
| {{{FMASK}}} | {{{feedback.fmask}}} | 0 * 24 |  ? |
| {{{APPLY}}} | {{{feedback.apply}}} | | |


</pre>
</div>
<div _hash="d884f6069c2350d026d57c45dc100c1390bd6112" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/x-icon" server.etag="&quot;tiddlyspace/favicon.ico/1521895:75648789e769eff7a438f9eb5eef5b7746544f94&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521895" server.permissions="read" server.recipe="willrogers_private" server.title="favicon.ico" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="favicon.ico" type="text/x-tiddlywiki">
<pre>AAABAAYAEBAQAAEABAAoAQAAZgAAABAQAAABAAgAaAUAAI4BAAAQEAAAAQAgAGgEAAD2BgAAICAQAAEABADoAgAAXgsAACAgAAABAAgAqAgAAEYOAAAgIAAAAQAgAKgQAADuFgAAKAAAABAAAAAgAAAAAQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAjD3WKwEAAAAQAAAAgACAM4CAAADAwMAigICAAAAA/wAA/wAAAP//AP8AAAD/AP8A//8AAAAAALsREYh4h4gRERFId3d3d4QRFId3d3d3eEEYd3d3d3d3gYd3d3d3d3d4h3d3d3d3d3h3d3d3d3d3d4d3d3d3d3d4h3d3d3d3d3h3d3d3d3d3d4d3d3d3d3d4h3d3d3d3d3gYd3d3d3d3gRZ3d3d3d3dhEWh3d3d3hhEREYh4h4gREfgfAADgBwAAwAMAAIABAACAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAIABAADAAwAA4AcAAPgfAAAoAAAAEAAAACAAAAABAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////8z//wCZ//8AZv//ADP//4AA//+A/8z/gMzM/8CZzP+AZsz/ADPM/wAAzP8A/5n//8yZ//+Zmf//Zpn/ADOZ//8Amf///2b//8xm/8yZZv//Zmb/zDNm//8AZv/M/zP//8wz/yyZM//yZjP/LzMz//gAM/8s/wD//MwA/yyZAP/0ZgD/KDMA//QAAP8o///M9Mz/zCKZ/8z/Zv/MIjP/zP8A/8wi/8zM/8zMzCKZzMz/ZszM+DPMzP8AzMz//5nM8MyZzMCZmcyAZpnMgDOZzAAAmcwA/2bMAMxmzACZZswAZmbMADNmzAAAZswA/zPMgMwzzICZM8zAZjPM8DMzzAAAM8wA/wDMCswAzAqZAMwOZgDMdzMAzLcAAMy3//+Z+8z/mWWZ/5m7Zv+Z9DP/mQAA/5n+/8yZt8zMmbeZzJm7ZsyZtzPMmbsAzJm7/5mZVMyZmcuZmZmZZpmZJzOZmbsAmZm3/2aZt8xmmbuZZpl7ZmaZ+jNmmWUAZpkc/zOZmcwzmSiZM5m7ZjOZtzMzmbcAM5m7/wCZe8wAmXuZAJmyZgCZsTMAmfMAAJkA//9m/sz/ZruZ/2a3Zv9muzP/ZrcA/2a3/8xme8zMZrKZzGYcZsxmmTPMZikAzGa7/5lmt8yZZruZmWa3ZplmuzOZZrsAmWa7/2ZmG8xmZqmZZmaQZmZmyDNmZrIAZma7/zNmAcwzZgCZM2YEZjNmujMzZgEAM2YA/wBmAswAZvCZAGYAZgBm4TMAZssAAGaZ//8zDcz/MxGZ/zOqZv8zkDP/M6wA/zPL/8wzmczMMwuZzDO7ZswzmTPMMwkAzDOq/5kzkMyZM4iZmTMKZpkz6zOZMwAAmTMA/2YzCsxmMwCZZjMAZmYzAjNmM/8AZjMA/zMzAMwzMwCZMzMAZjMzADMzMwAAMzMA/wAzScwAMwCZADMAZgAzRzMAM2gAADMA//8AAMz/AACZ/wAAZv8AADP/AAAA/wAA/8wAAMzMAACZzAAAZswAADPMAAAAzAAA/5kAAMyZAACZmQAAZpkAADOZAAAAmQD//2YAAMxmAP+ZZgAAZmYA/zNmAAAAZgD//zMAAMwzAP+ZMwAAZjMA/zMzAAAAMwDM/wAAAMwAAMyZAAAAZgAAzDMAAAAAAO7MAADdAAAAu8wAAKoAAACIzAAAdwAAAFWZAABEAAAAIpkAABEAAO4AmQDdAAAAuwCZAKoAAACIAJkAdwAAAFUAmQBEAAAAIgBmABEAAO4AAGbdAAAAuwAAZqoAAACIAABmdwAAAFUAAGZEAAAAIgAAZhEAAADu7u4z3d3dALu7uzOqqqoAiIiIM3d3dwBVVVUzREREACIiIjMREREAAAAAM/////96eXl5eXl5ev////////15eU9OKipOT3l5/f///9B5TyoqKioqKioqT3nQ//95TyoqKioqKioqKipPef95eSoqKioxMjIxKioqKnl5eU8qKioxMQcHMTEqKipPeXlOKioxMQcHBwcxMSoqTnl5KioqMgcHBwcHBzIqKip5eSoqKjIHBwcHBwcyKioqeXlOKioxMQcHBwcxMSoqTnl5TyoqKjExBwcxMSoqKk95eXkqKioqMTIyMSoqKip5ef95TyoqKioqKioqKipPef//pXlPKioqKioqKipPeaX///+leXlPTioqTk95eaX///////95eXl5eXl5ef/////4HwAA4AcAAMADAACAAQAAgAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIABAACAAQAAwAMAAOAHAAD4HwAAKAAAABAAAAAgAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAWghWMuu6F4lsClfOK+pHr4vqR6+MClfOK7oXiWoIVjLgAAAAUAAAADAAAAAQAAAAAAAAABAAAABCIiEQ+zm3WfwKV89tzCnPvw17L/+eG8//nhvP/w17L/3MKc+8ClfPazm3WfIiIRDwAAAAQAAAABAAAAATMzGQq8oXnHzbOL9fngvP/85cD//OXA//zlwP/85cD//OXA//zlwP/54Lz/zbOL9byhecczMxkKAAAAAQAAAAG+pXuZzbOL9fvjv//85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//vjv//Ns4v1vqV7mQAAAAG6m3YpwaZ99fngvP/85cD//OXA//DUwf/Fnsr/soXN/7KFzf/Fnsr/8NTB//zlwP/85cD/+eC8/8GmffW6m3YpvaV6lNzCnPv85cD//OXA//DUwf+0iM3/yqXh/92/8P/dv/D/yqXh/7SIzf/w1MH//OXA//zlwP/cwpz7vaV6lMGnfuHw17L//OXA//zlwP/Fnsr/yqXh/+HD8//hw/P/4cPz/+HD8//KpeH/xZ7K//zlwP/85cD/8Nex/8GnfuG+pXr3+eG8//zlwP/85cD/soXN/92/8P/hw/P/4cPz/+HD8//hw/P/3b/w/7KFzf/85cD//OXA//nhvP++pXr3vqV69/nhvP/85cD//OXA/7KFzf/dv/D/4cPz/+HD8//hw/P/4cPz/92/8P+yhc3//OXA//zlwP/54bz/vqV698GnfuHw17L//OXA//zlwP/Fnsr/yqXh/+HD8//hw/P/4cPz/+HD8//KpeH/xZ7K//zlwP/85cD/8Ney/8GnfuG9pXqU3MKc+/zlwP/85cD/8NTB/7SIzf/KpeH/3b/w/92/8P/KpeH/tIjN//DUwf/85cD//OXA/9zCnPu9pXqUupt2KcGmffX54Lz//OXA//zlwP/w1MH/xZ7K/7KFzf+yhc3/xZ7K//DUwf/85cD//OXA//ngvP/Bpn31upt2KQAAAAC9pHyYzrSN9Pvjv//85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//vjv//OtI30vaR8mAAAAAAAAAAAZmYzBcKmfsPOtI30+eC8//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/OtI30wqZ+w2ZmMwUAAAAAAAAAAAAAAABmZjMFvaR8mMGmffXcwpz78Ney//nhvP/54bz/8Ney/9zCnPvBpn31vaR8mGZmMwUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6m3YpvaV6lMGnfuG+pXr3vqV698GnfuG9pXqUupt2KQAAAAAAAAAAAAAAAAAAAAD4HwAA4AcAAMADAACAAQAAgAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIABAACAAQAAwAMAAOAHAAD4HwAAKAAAACAAAABAAAAAAQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAjD3WKwEAAAAQAP15eU9OKipOT3l5/f///9B5TyoqKioqKioqT3nQ//95TyoqKioqKioqKipPef8REREREVyIiIiIxREREREREREREViIiIiIiIiFEREREREREZyIiIiIiIiIiMkRERERERWIiIiIiIiIiIiIURERERFYiIiIiIiIiIiIiIUREREViIiIiIiIiIiIiIiIURERWIiIiIiIiIiIiIiIiIUREYiIiIiIiIiIiIiIiIiIERyIiIiIiIgiIoiIiIiIiMEYiIiIiIgiIiIiiIiIiIiBWIiIiIgiInd3IiKIiIiIhYiIiIiIInd3d3ciiIiIiIiIiIiIgid3d3d3ciiIiIiIiIiIiIInd3d3d3IoiIiIiIiIiIgid3d3d3d3IoiIiIiIiIiIInd3d3d3dyKIiIiIiIiIiCJ3d3d3d3ciiIiIiIiIiIgid3d3d3d3IoiIiIiIiIiIgid3d3d3ciiIiIiIiIiIiIInd3d3d3IoiIiIiIiIiIiIInd3d3ciiIiIiIhYiIiIiCIid3ciIoiIiIiFGIiIiIiIIiIiIoiIiIiIgRyIiIiIiIgiIoiIiIiIiMERiIiIiIiIiIiIiIiIiIgREViIiIiIiIiIiIiIiIiFEREYiIiIiIiIiIiIiIiIgREREciIiIiIiIiIiIiIjBEREREYiIiIiIiIiIiIiIEREREREViIiIiIiIiIiIURERERERERyIiIiIiIiIwRERERERERERFYiIiIiIUREREREf/gB///gAH//gAAf/wAAD/4AAAf8AAAD+AAAAfAAAADwAAAA4AAAAGAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAABwAAAA8AAAAPgAAAH8AAAD/gAAB/8AAA//gAAf/+AAf//4Af/KAAAACAAAABAAAAAAQAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAABXSOAwEAAAAz//+AAP//gP/M/4DMzP/Amcz/gGbM/wAzzP8AAMz/AP+Z///Mmf//mZn//2aZ/wAzmf//AJn///9m///MZv/MmWb//2Zm/8wzZv//AGb/zP8z///MM/8smTP/8mYz/y8zM//4ADP/LP8A//zMAP8smQD/9GYA/ygzAP/0AAD/KP//zPTM/8wimf/M/2b/zCIz/8z/AP/MIv/MzP/MzMwimczM/2bMzPgzzMz/AMzM//+ZzPDMmczAmZnMgGaZzIAzmcwAAJnMAP9mzADMZswAmWbMAGZmzAAzZswAAGbMAP8zzIDMM8yAmTPMwGYzzPAzM8wAADPMAP8AzArMAMwKmQDMDmYAzHczAMy3AADMt///mfvM/5llmf+Zu2b/mfQz/5kAAP+Z/v/MmbfMzJm3mcyZu2bMmbczzJm7AMyZu/+ZmVTMmZnLmZmZmWaZmSczmZm7AJmZt/9mmbfMZpm7mWaZe2ZmmfozZpllAGaZHP8zmZnMM5komTOZu2YzmbczM5m3ADOZu/8AmXvMAJl7mQCZsmYAmbEzAJnzAACZAP//Zv7M/2a7mf9mt2b/Zrsz/2a3AP9mt//MZnvMzGaymcxmHGbMZpkzzGYpAMxmu/+ZZrfMmWa7mZlmt2aZZrszmWa7AJlmu/9mZhvMZmapmWZmkGZmZsgzZmayAGZmu/8zZgHMM2YAmTNmBGYzZrozM2YBADNmAP8AZgLMAGbwmQBmAGYAZuEzAGbLAABmmf//Mw3M/zMRmf8zqmb/M5Az/zOsAP8zy//MM5nMzDMLmcwzu2bMM5kzzDMJAMwzqv+ZM5DMmTOImZkzCmaZM+szmTMAAJkzAP9mMwrMZjMAmWYzAGZmMwIzZjP/AGYzAP8zMwDMMzMAmTMzAGYzMwAzMzMAADMzAP8AM0nMADMAmQAzAGYAM0czADNoAAAzAP//AADM/wAAmf8AAGb/AAAz/wAAAP8AAP/MAADMzAAAmcwAAGbMAAAzzAAAAMwAAP+ZAADMmQAAmZkAAGaZAAAzmQAAAJkA//9mAADMZgD/mWYAAGZmAP8zZgAAAGYA//8zAADMMwD/mTMAAGYzAP8zMwAAADMAzP8AAADMAADMmQAAAGYAAMwzAAAAAADuzAAA3QAAALvMAACqAAAAiMwAAHcAAABVmQAARAAAACKZAAARAADuAJkA3QAAALsAmQCqAAAAiACZAHcAAABVAJkARAAAACIAZgARAADuAABm3QAAALsAAGaqAAAAiAAAZncAAABVAABmRAAAACIAAGYRAAAA7u7uM93d3QC7u7szqqqqAIiIiDN3d3cAVVVVM0RERAAiIiIzERERAAAAADMBAQEBAQEBAQEBpXl5eXl5eXl5eXmlAQEBAQEBAQEBAQEBAQEBAQEBgHl5eXl5eXl5eXl5eXl5gAEBAQEBAQEBAQEBAQEB/Xp5eXlVT04qKioqTk9VeXl5ev0BAQEBAQEBAQEBAaV5eXlPKioqKioqKioqKioqT3l5eaUBAQEBAQEBAQGAeXlVTioqKioqKioqKioqKioqTlV5eYABAQEBAQEBgHl5VSoqKioqKioqKioqKioqKioqKlV5eYABAQEBAaV5eVUqKioqKioqKioqKioqKioqKioqKlV5eaUBAQEBeXlVKioqKioqKioqKioqKioqKioqKioqKlV5eQEBAXl5eU4qKioqKioqKjExMTExMSoqKioqKioqTnl5eQEBeXlPKioqKioqKjEyMjIyMjIyMjEqKioqKioqT3l5AXp5eSoqKioqKioxMjIxBwcHBzEyMjEqKioqKioqeXl6eXlVKioqKioqMTIxBwcHBwcHBwcxMjEqKioqKipVeXl5eU8qKioqKioyMgcHBwcHBwcHBwcyMioqKioqKk95eXl5TioqKioqMTIxBwcHBwcHBwcHBzEyMSoqKioqTnl5eXkqKioqKioxMgcHBwcHBwcHBwcHBzIxKioqKioqeXl5eSoqKioqKjEyBwcHBwcHBwcHBwcHMjEqKioqKip5eXl5KioqKioqMTIHBwcHBwcHBwcHBwcyMSoqKioqKnl5eXkqKioqKioxMgcHBwcHBwcHBwcHBzIxKioqKioqeXl5eU4qKioqKjEyMQcHBwcHBwcHBwcxMjEqKioqKk55eXl5TyoqKioqKjIyBwcHBwcHBwcHBzIyKioqKioqT3l5eXlVKioqKioqMTIxBwcHBwcHBwcxMjEqKioqKipVeXl6eXkqKioqKioqMTIyMQcHBwcxMjIxKioqKioqKnl5egF5eU8qKioqKioqMTIyMjIyMjIyMSoqKioqKipPeXkBAXl5eU4qKioqKioqKjExMTExMSoqKioqKioqTnl5eQEBAXl5VSoqKioqKioqKioqKioqKioqKioqKipVeXkBAQEB+nl5VSoqKioqKioqKioqKioqKioqKioqVXl5+gEBAQEBenl5VSoqKioqKioqKioqKioqKioqKlV5eXoBAQEBAQEBeXl5VU4qKioqKioqKioqKioqKk5VeXl5AQEBAQEBAQEBenl5eU8qKioqKioqKioqKipPeXl5egEBAQEBAQEBAQEB+nl5eXlVT04qKioqTk9VeXl5efoBAQEBAQEBAQEBAQEBAXl5eXl5eXl5eXl5eXl5eXkBAQEBAQEBAQEBAQEBAQEBAQF6eXl5eXl5eXl5eXoBAQEBAQEBAQEB/+AH//+AAf/+AAB//AAAP/gAAB/wAAAP4AAAB8AAAAPAAAADgAAAAYAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAYAAAAHAAAADwAAAA+AAAAfwAAAP+AAAH/wAAD/+AAB//4AB///gB/8oAAAAIAAAAEAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAACAAAAAwAAAAMAAAADAAAABG1bSA61m3JXuqB4mbuhd8m9o3jqvaF4+b2hePm9o3jqu6F3ybqgeJm1m3JXbVtIDgAAAAQAAAADAAAAAwAAAAMAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAUAAAAGAAAACI98Wye0nXWavKF4876kev++pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vqR6/76kev+8oXjztJ11mo98WycAAAAIAAAABgAAAAUAAAADAAAAAgAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAQAAAAHAAAAChwcHBKulnGJvaN5+L6kev++pHr/y7GJ/9/Fnv/s1K7/9t25//rivv/64r7/9t25/+zUrv/fxZ7/y7GJ/76kev++pHr/vaN5+K6WcYkcHBwSAAAACgAAAAcAAAAEAAAAAgAAAAEAAAAAAAAAAAAAAAEAAAADAAAABwAAAAtuYkUst552z76kev++pHr+1LuS//Latf/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD/8tq1/9S7kv++pHr+vqR6/7eeds9uYkUsAAAACwAAAAcAAAADAAAAAQAAAAAAAAABAAAAAgAAAAQAAAAIi3hbNbqgd+a+pHr/xayD/+3Vr//85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr//FrIP/vqR6/7qgd+aJdVg0AAAACAAAAAQAAAACAAAAAQAAAAEAAAACAAAABIl8WSW8oXjlvqR6/8yyiv/54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/Msor/vqR6/7yheOWJfFklAAAABAAAAAIAAAABAAAAAAAAAAFfXz8Iu6F4zL6kev/Msor/+uK+//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//rivv/Msor/vqR6/7uheMxfXz8IAAAAAQAAAAAAAAAAAAAAAbqid4K+pHr/xayD//ngvP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//fgvP/FrIP/vqR6/7qid4IAAAABAAAAAAAAAAC3l28gvaN5+L6kev7t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+/Twv/Qq8f/u5HK/7OGzP+zhsz/u5HK/9Crx//v08L//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr/++pHr+vaN5+LeXbyAAAAAAAAAAALuheJa+pHr/1LuS//zlwP/85cD//OXA//zlwP/85cD//OXA//riwP/Pq8f/r4HM/6+Bzf+vgc3/r4HN/6+Bzf+vgc3/r4HN/6+BzP/Pq8f/+uLA//zlwP/85cD//OXA//zlwP/85cD//OXA/9S5kv++pHr/u6F4lgAAAACii3MLvKF4876kev/y2rX//OXA//zlwP/85cD//OXA//zlwP/64sD/w5vJ/6+Bzf+vg83/w5vc/9W06v/dwPD/3cDw/9W06v/Dm9z/r4PN/6+Bzf/Dm8n/+uLA//zlwP/85cD//OXA//zlwP/85cD/8tq1/76kev+8oXjzootzC72feFW+pHr/y7GJ//zlwP/85cD//OXA//zlwP/85cD//OXA/8+rx/+vgc3/tIfQ/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/tIfQ/6+Bzf/Pq8f//OXA//zlwP/85cD//OXA//zlwP/85cD/y7GJ/76kev+9n3hVvaF4mL6kev/fxZ7//OXA//zlwP/85cD//OXA//zlwP/v08L/r4HM/6+Dzf/Wtev/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/r4PN/6+BzP/v08L//OXA//zlwP/85cD//OXA//zlwP/fxZ7/vqR6/72heJi8oXfIvqR6/+zUrv/85cD//OXA//zlwP/85cD//OXA/9Crx/+vgc3/w5vc/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Dm9z/r4HN/9Crx//85cD//OXA//zlwP/85cD//OXA/+zUrv++pHr/vKF3yL2jeOq+pHr/9t25//zlwP/85cD//OXA//zlwP/85cD/u5HK/6+Bzf/VtOr/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9W06v+vgc3/u5HK//zlwP/85cD//OXA//zlwP/85cD/9t25/76kev+9o3jqvaF4+b6kev/64r7//OXA//zlwP/85cD//OXA//zlwP+zhsz/r4HN/93A8P/hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/3cDw/6+Bzf+zhsz//OXA//zlwP/85cD//OXA//zlwP/64r7/vqR6/72hePm9oXj5vqR6//rivv/85cD//OXA//zlwP/85cD//OXA/7OGzP+vgc3/3cDw/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//dwPD/r4HN/7OGzP/85cD//OXA//zlwP/85cD//OXA//rivv++pHr/vaF4+b2jeOq+pHr/9t25//zlwP/85cD//OXA//zlwP/85cD/u5HK/6+Bzf/VtOr/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9W06v+vgc3/u5HK//zlwP/85cD//OXA//zlwP/85cD/9t25/76kev+9o3jqvKF3yL6kev/s1K7//OXA//zlwP/85cD//OXA//zlwP/Qq8f/r4HN/8Ob3P/hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/w5vc/6+Bzf/Qq8f//OXA//zlwP/85cD//OXA//zlwP/s1K7/vqR6/7yhd8i9oXiYvqR6/9/Fnv/85cD//OXA//zlwP/85cD//OXA/+/Twv+vgcz/r4PN/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//hw/P/4cPz/9a16/+vg83/r4HM/+/Twv/85cD//OXA//zlwP/85cD//OXA/9/Fnv++pHr/vaF4mL2feFW+pHr/y7GJ//zlwP/85cD//OXA//zlwP/85cD//OXA/8+rx/+vgc3/tIfQ/9a16//hw/P/4cPz/+HD8//hw/P/4cPz/+HD8//Wtev/tIfQ/6+Bzf/Pq8f//OXA//zlwP/85cD//OXA//zlwP/85cD/y7GJ/76kev+9n3hVootzC7yhePO+pHr/8tq1//zlwP/85cD//OXA//zlwP/85cD/+uLA/8Obyf+vgc3/r4PN/8Ob3P/VtOr/3cDw/93A8P/VtOr/w5vc/6+Dzf+vgc3/w5vJ//riwP/85cD//OXA//zlwP/85cD//OXA//Latf++pHr/vKF486KLcwsAAAAAu6N3l76kev/Uu5L//OXA//zlwP/85cD//OXA//zlwP/85cD/+uLA/8+rx/+vgcz/r4HN/6+Bzf+vgc3/r4HN/6+Bzf+vgc3/r4HM/8+rx//64sD//OXA//zlwP/85cD//OXA//zlwP/85cD/1LmS/76kev+7oXiWAAAAAAAAAAC3l28gvaN5+L6kev7t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+/Twv/Qq8f/u5HK/7OGzP+zhsz/u5HK/9Crx//v08L//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA/+3Vr/++pHr+vaN5+LeXbyAAAAAAAAAAAAAAAAC6oneCvqR6/8Wsg//54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/34Lz/xayD/76kev+6oneCAAAAAAAAAAAAAAAAAAAAAH9/VQa8oHjLvqR6/8yyiv/64r7//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD/+uK+/8yyiv++pHr/vKB4y39/VQYAAAAAAAAAAAAAAAAAAAAAAAAAALKhbh67o3nkvqR6/8yyiv/54Lz//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//ngvP/Msor/vqR6/7ujeeSyoW4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALqbdim7o3nkvqR6/8Wsg//t1a///OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/t1a//xayD/76kev+7o3nkupt2KQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALKhbh68oHjLvqR6/76kev7Uu5L/8tq1//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/85cD//OXA//zlwP/y2rX/1LmS/76kev6+pHr/vKB4y7Khbh4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/VQa6oneCvaN5+L6kev++pHr/y7GJ/9/Fnv/s1K7/9t25//rivv/64r7/9t25/+zUrv/fxZ7/y7GJ/76kev++pHr/vaN5+Lqid4J/f1UGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3l28gu6F4lryhePO+pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vqR6/76kev++pHr/vKF487uheJa3l28gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAootzC72feFW9oXiYvKF3yL2jeOq9oXj5vaF4+b2jeOq8oXfIvaF4mL2feFWii3MLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/gB///gAH//gAAf/wAAD/4AAAf8AAAD+AAAAfAAAADwAAAA4AAAAGAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAABwAAAA8AAAAPgAAAH8AAAD/gAAB/8AAA//gAAf/+AAf//4Af/</pre>
</div>
<div _hash="fe722d39d01d8ec5661530fa8c6f9fae019d128f" created="20140217212709000" creator="willrogers" modified="20140219175601000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FileSystems/1666471:3da9141246396cd11aa14b888e654abb49fd4830&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1666471" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FileSystems" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FileSystems" type="text/x-tiddlywiki">
<pre>There are several different ways of formatting a filesystem:

* {{{FAT32}}} - old school Windows introduced in 1996, but still used (my router won't mount NTFS)
* NTFS - newer proprietary Windows filesystem, currently at v3.1 released in 2001.  My external HDD is NTFS formatted, and so is my Windows 7 partition
* {{{ext3}}} - the older Linux filesystem
* {{{ext4}}} - the current Linux filesystem, which started development in 2006.  My Ubuntu partition is {{{ext4}}}, and so are the Diamond RHEL6 machines.
* ZFS - 
* GPFS - general parallel filesystem
* Lustre - a parallel filesystem used at Diamond in preference to GPFS
* XFS - a rival for {{{ext4}}} used at Diamond for the home filesystem.
</pre>
</div>
<div _hash="32ff70fce3c717bcbe37c72cd8b70b976ab308b4" created="20120307141515000" creator="willrogers" modified="20140804084744780" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FindLocate/1572575:cc7041994ab49d87b16a29e5b73f4b5e3145ea77&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1572575" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FindLocate" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FindLocate" type="text/vnd.tiddlywiki">
<pre>`find` and `locate` are two variations of ways to find files on a Linux filesystem.

!!Locate
`locate` simply searches the list of all paths for the string you provide.  It uses a database which you can bring up to date with the command {{{updatedb}}}.  You must be root to do this.

!!Find
The basic usage is 
`
find &lt;options&gt; &lt;path&gt; &lt;expression&gt;
`

* `find /dls_sw/ -name '*.edl` - find all the `edl` files in `dls_sw`
** the quotes are important - otherwise bash will expand the variables
* `iname` is case-insensitive
* `-exec` allows you to execute a command for each match
* `-printf` allows you to format the output 

!!!Links
* `P` - never follow symbolic links
* `L` - follow symbolic links
* `H` - ??
</pre>
</div>
<div _hash="391b39c603a6ee470805afeaf9dee75c646c5ba0" created="20140226121347000" creator="willrogers" modified="20140226121825000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FofbConfig/1672538:551782043de6ee2b856c0ffc0c9acb0beca30d96&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1672538" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FofbConfig" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FofbConfig" type="text/x-tiddlywiki">
<pre>The {{{fofb.config}}} file contains various configuration options, most of which feed into the calculation of taps for the filter:

* CELLS, MAGS, and MAX_TAPS (9) are unlikely to change.

* ETAX and ETAY - relate to bandwidth, but I don't understand
* ORBIT_LIMIT - 0.5um
* CORRECTOR_LIMIT - 1A
* TRACK_RATE - 4 * pi?
* MU - for regularisation
EPSILON - 1e-6, but set to 0 if NODAMP option is chosen
* DELAY = 7 - determined lag between sending a message and BPM reading?
* Ts - 100um - time for one cycle
* CUTOFF: (800* pi, 1400* pi)?

* WEIGHTS - corrector weights, used for correcting different magnets with comparable errors

Different ring modes can override some of these defaults.
</pre>
</div>
<div _hash="6fc8ab230a904a71d63a42d97dccd8e135c1ed1c" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="" server.etag="&quot;tiddlyspace/FollowTiddlersBlackList/1521900:ce084b6aacefd2d0fa8c1695d42486b9bce73fea&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521900" server.permissions="read" server.recipe="willrogers_private" server.title="FollowTiddlersBlackList" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeMissing excludeSearch" title="FollowTiddlersBlackList" type="text/x-tiddlywiki">
<pre>ColorPalette
StyleSheet
SiteSubtitle
GettingStarted
SiteTitle
MainMenu
SiteIcon
DefaultTiddlers
ViewTemplate
PageTemplate
SideBarOptions
EditTemplate
SiteInfo
SideBarTabs
ToolbarCommands</pre>
</div>
<div _hash="656caa61bda501fb216a02057157a6c8d38a8a84" created="20120902105702000" creator="willrogers" modified="20120902105708000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ForwardingAddress/851899:bf200c42320db7a1929a0cb842afdc59fd847028&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="851899" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ForwardingAddress" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ForwardingAddress" type="text/x-tiddlywiki">
<pre>Mrs (?) J Rowbotham
11 Glencoe Drive
Sale
M33 4WL
</pre>
</div>
<div _hash="2cba22268eef9c7ac80474d2ea09485625215a7e" created="20110828153420000" creator="willrogers" modified="20110828195147000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FranceFlights/364048:0a2137f3a8411c3202a6b8826ceef0f97caedbc3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364048" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FranceFlights" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FranceFlights" type="text/x-tiddlywiki">
<pre>We might also want to go to the south of France. We ideally want to fly out on the 3rd and back on the 17th, both Saturdays.  We'd probably want to rent a car once we get to the airport.

Here's the places we might want to fly from:

| '''Airline''' | '''Source''' | '''Destination''' | '''Price''' | '''Comments''' |
| Ryanair | Luton | Beziers | ~£70 | |
| Ryanair | Birmingham | Montpellier | ~£30 | Flights on Fridays |
| Ryanair | East Midlands | Carcassonne | ~£45 | No flights on Saturdays |
| EasyJet  | Luton | Montpellier | ~£80 | |

Possibles (prices as of 19/8, excluding baggage):
* A bag costs £25 on Ryanair and £30 on EasyJet.  We might want to try and share one...
* The Gatwick and Bristol flights seem more expensive
* There aren't flights on the right days for East Midalnds, but eg the Friday flights seem cheaper.

AirportInfo

!!Travel to airports
!!!Luton
More than 2hrs on the train, but you can drive and park relatively easily.  You would of course have to fly back there as well
!!!Birmingham
Only about an hour on the train from Oxford
!!!East Midlands 
Easier via my parents' house?</pre>
</div>
<div _hash="83e6ddee8e0406671bd4d272f3539edd68b0df4b" created="20121216182733000" creator="willrogers" modified="20130127214847000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/FreeXperia/1040738:c0e3b69e114ba77b4c413cc865319fdf0b6eddbe&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1040738" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FreeXperia" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="FreeXperia" type="text/x-tiddlywiki">
<pre>FreeXperia is the team who maintain the CyanogenMod versions for Xperia phones.

!!Source code

Here are some instructions on how to build a ROM for the Ray: http://wiki.cyanogenmod.org/w/Build_for_urushi

I am yet to figure out how the ROMs are built.  There are projects on Github for both:
* FreeXperia: https://github.com/FreeXperia
* CyanogenMod: https://github.com/CyanogenMod

Apparently relevant projects include:
* https://github.com/CyanogenMod/android_device_sony_blue-common
</pre>
</div>
<div _hash="e5ab983446753a0c6dc1c62975fb643a428fff8b" created="20111114174142000" creator="willrogers" modified="20120401122251000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/FutureWork/662800:c84dcf055b44449f01b3578d20efbc3e21009437&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="662800" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="FutureWork" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="careers" title="FutureWork" type="text/x-tiddlywiki">
<pre>This is a place to put notes about what I might want to do and how I might develop.

I need to find a goal to work on with my mentor.  The immediate things that spring to mind are:
* Jobs in this area that I would like to do
* ~PhDs in this area that would give me useful skills
* Jobs at RAL that would allow me to progress
* Plan of action for progressing in my job

!!Possible routes
* ~PhD
* Programming
** JobSources
** PossibleJobs
** PossibleRequirements

!!~PhD
Some notes:
http://www2.physics.ox.ac.uk/study-here/postgraduates/particle-physics/uk-graduate-places
http://www.stfc.ac.uk/PPD/23325.aspx

I did some canvassing of people who have done ~PhDs, and I got by no means a positive response.  The message is that I need to have a clear idea of what I want to achieve with a ~PhD, and how to go about it,  I doubt I can get this by diving for an off-the-shelf one without serious consideration.

!!Possible training
* Linux admin
* DB theory
* More python
* More Java
* New languages
* More CS theory

!!Project management
* YII project

!!Career development
* Writing papers
* Projects / bids
* Analysis of bands D and E</pre>
</div>
<div _hash="0188e0606338ef1cc9a8928ccb2201b9dc9cc917" created="20110423095919000" creator="willrogers" modified="20110529182016000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GchqPuzzles/364053:8fd2a9e2324a6a08be8d15061a4de73afe43a2c9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364053" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GchqPuzzles" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="gchq puzzles" title="GchqPuzzles" type="text/x-tiddlywiki">
<pre>The puzzles are here: http://www.gchq.gov.uk/challenges/

One of the puzzles involve some codes, and I wrote some python to decode:
CodePython

The answer is as follows:
THESEMESSAGESTELLYOUWHATTHECODEWORDISALLBUTONEGIVESYOUTHREEDIGITSTHEFIRSTTWOARECOORDINATESOFWHERETOPUTTHETHIRDINANINEBYNINEGRIDWHENYOUHAVEALLSEVENTEENDIGITSSOLVETHESUDOKUTHEEIGHTEENTHANSWERISNINELETTERSWHICHYOUUSETOREPLACEONETONINEINTHEGLODYOUWILLTHENSEETHECODEWORDINTHEMIDDLE


The final solution seems to involve a sudoku.  I think I'll write some python to solve sudokus, too.
SudokuPython
[Though in practice I don't really have time.]

</pre>
</div>
<div _hash="e8b38335e801b945d8ac63a91dc4f03a987d5ce2" created="20130807091107000" creator="willrogers" modified="20130815145453000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GenericDevice/1343034:5704e65a7e00fcdd28a4005c80f4d8c10743f80c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1343034" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GenericDevice" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GenericDevice" type="text/x-tiddlywiki">
<pre>There are three source files: {{{GenericDevice.h}}}, {{{GenericDeviceP.h}}} and {{{GenericDevice.c}}}.  The idea is that you can bind an EPICS PV to areas in memory, so that you can change the PV value and any caputs to those ~PVs will be reflected in the code.  Having discovered this, I've left this part of the code alone for now.

!!!Variant
* The Variant struct seems to just be a way of storing any type of data.

!!!Closure
A {{{Closure}}} struct contains only an integer and a pointer to a Variant.

!!!Hashtable
* {{{store_lookup}}} looks for a name in some hash table and returns a Closure 
* {{{GenericRegister}}} adds a Variant to the hash table, adding the specified {{{GenericFunction}}} and pointer to {{{udata}}}, whatever that might be.

!!!Functions
* {{{GenericEvent}}} calls {{{post_event}}}, which is a function I cannot locate
* {{{RegisterGenericHook}}} takes a {{{GenericHook}}} and assigns it to be the current HookFunction. 
* the type {{{GenericFunction}}} is a function which takes a Variant and returns nothing
* the type {{{GenericHook}}} is a function which takes an integer (onEntry) and a Variant and returns nothing
* {{{GenericCall}}} calls the {{{GenericFunction}}} associated with the specified closure, also calling the defined {{{GenericHook}}} on entry and exit.

As far as I can tell, the {{{GenericHook}}} functionality is not used.

!!GenericDeviceP
I don't know why this is separate, but it defines a struct devSupport and some examples of it, which seem to correspond to EPICS records.

I think it contains the EPICS headers.</pre>
</div>
<div _hash="7e99bcf2e2a4af3eabd3854cc9d1c43ca1b359a7" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/GettingStarted/1521877:4d4e00d5e2ff6b2b8f55b9accda742480cfc480d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521877" server.permissions="read" server.recipe="willrogers_private" server.title="GettingStarted" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeMissing excludeSearch" title="GettingStarted" type="text/x-tiddlywiki">
<pre>/%

Hello,

If you choose to change this GettingStarted tiddler, you may wish to add the following to your new content if you expect you space to be included:

&lt;&lt;&lt;
----
Hello,
''This ~GettingStarted tiddler has been customized.''
If you want to see the original system tiddler just click the following link: GettingStarted@system-info at system-info.
&lt;&lt;&lt;
%/

Welcome to your brand new [[TiddlySpace|http://docs.tiddlyspace.com/TiddlySpace]].

You're almost ready to go, there are just a couple of things left to do.

!Customise your space
Go to [[SpaceSettings]] to finish customising  your space. When you're done, come back here (just scroll up). Don't worry though, this will still be open when you've finished.

!Further Customisation

For advanced options, the [[ServerSettings]] tiddler is used to enable the following features:

#index: The value is the name of a tiddler that will be presented when loading the space.  For example, when set to {{{Hello}}} for the space hello.tiddlyspace.com, navigating to that URL will present the Hello tiddler. If there is no {{{Hello}}} you will get an error.
#editor: The name of an [[editor application|http://docs.tiddlyspace.com/Example%20Tiddler%20Editors]] to edit tiddlers with.  Applications come from [[included spaces|http://docs.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F]]

//If you do not need or understand these features there is no need to create a ServerSettings tiddler.//

To edit these options: 

* click [[here|ServerSettings]] to open the [[ServerSettings]] tiddler
* click on the edit button (the pencil icon)
* add the options you wish to set 
* click on the save button (the tick icon).

An example [[ServerSettings]] tiddler:
{{{
index: HelloThere
editor: /edit#{tiddler}
}}}

The additional text after /edit allows a tiddler to be opened in edit mode e.g:
{{{http://hello.tiddlyspace.com/edit#MyTiddler}}}

!!See Also

* [[ServerSettings shadow tiddler|http://docs.tiddlyspace.com/ServerSettings%20shadow%20tiddler]]
* [[Choosing a non-TiddlyWiki Default Application for your Space|http://docs.tiddlyspace.com/Choosing%20a%20non-TiddlyWiki%20Default%20Application%20for%20your%20Space]]

!Finished customising?
You can [[Start writing]] some [[tiddlers|http://docs.tiddlyspace.com/Tiddler]].
If you're not done tweaking yet though, you can always [[Customise this space|SpaceSettings]] a bit more.

You can also [[access and read other tiddlers in various ways|http://docs.tiddlyspace.com/Viewing%20Tiddlers]].

!Administration
If you'd like to change your password or create another space, visit "Your Account" from the [[Universal Backstage|http://docs.tiddlyspace.com/UniversalBackstage]] (the blue dot in the upper right of the page). If you'd like to add a member or [[include a space|http://docs.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F]] visit "This Space" from the [[Universal Backstage|http://docs.tiddlyspace.com/UniversalBackstage]].

You can have as many spaces as you like and each space can have as many members as you or your group need.

!Stuck?
If you're stuck, and would like some help, please visit the [[help|http://help.tiddlyspace.com]] space, which can point you in the right direction.</pre>
</div>
<div _hash="72e2b601f27cf7a3620e9f1ed7a242822bfa6eec" created="20131125135419000" creator="willrogers" modified="20140813203050954" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitBranch/1720051:2290e8f800f52f4f280a1826672b08607fd2e106&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1720051" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitBranch" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitBranch" type="text/vnd.tiddlywiki">
<pre>Branches are managed magically, unlike in SVN where they are manual.  There are two types of branch - regular, and 'remote-tracking'.  A remote-tracking branch keeps track of where you are compared to a branch on a remote, and will tell you where you are in comparison to that branch. HEAD is just an alias for the branch which is currently checked out.

See http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging

* `git branch` lists the local branches; `-r` lists branches of the remotes, and `-a` lists all
* `git checkout &lt;branch&gt;` switches to the named branch
* `git checkout -b &lt;branch&gt;` - create a branch and switch to it
* `git branch -d &lt;branch&gt;` deletes the named branch (for example, if you have merged it)
* `git branch -m &lt;new-name&gt;` renames the current branch
* `git branch -vv` - lists local branches and includes any branches that are being tracked

To list the differences between two branches, use
 
* `git diff &lt;branch1&gt;..&lt;branch2&gt;`
If you omit one branch, the current branch will be used.  You can also compare against commits using the first part of the SHA1 sum:

* `git diff d21d420 sofb.py`
</pre>
</div>
<div _hash="05268f910484e45dd93e3ee81c6371213af90719" created="20131125135551000" creator="willrogers" modified="20131125135551000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitCommit/1560364:7e2168eb0f42e14afce698580e69e648ece6270a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1560364" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitCommit" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitCommit" type="text/x-tiddlywiki">
<pre>!!Commits
When you commit, only things that you have added are committed.  You can add a file using {{{git add &lt;file&gt;}}}; you can add parts of a file using {{{git add -p}}}.
A commit is a well-defined unit in git.  Each is unambiguously named by its SHA1 sum.  You can refer to it by the shortest part of the SHA1 sum which is unambiguous.
* {{{HEAD}}} refers to the latest commit on the current branch
* {{{HEAD^}}} and {{{HEAD^^}}} refer to the previous commits
* {{{HEAD~1}}} and {{{HEAD~2}}} refer to the same commits as above 
Because of merges, a commit may have more than one parent.  If this is the case, {{{git show &lt;commit&gt;}}} will show {{{Merge: &lt;p1&gt; &lt;p2&gt;}}}.   In this case,
* {{{HEAD^}}} or {{{HEAD^1}}} refers to the first parent
* {{{HEAD^2}}} refers to the second parent
* {{{HEAD^@}}} refers to all parents, where relevant

!!Undoing commits
You can undo a commit in a few ways:
* {{{git reset HEAD~1}}} removes the last commit, but leaves the files as they were
* {{{git reset --hard HEAD~1}}} removes the last commit and also sets all the files to how they were at the time of that commit
* {{{git commit --amend}}} changes the latest commit so that it now reflects the changes you've made since that commit.  Don't do this if you have pushed the commit somewhere.</pre>
</div>
<div created="20140817155118181" creator="WillRogers" modified="20140817160023470" modifier="WillRogers" title="GitDirectory" type="`">
<pre>When you run `git init` in a directory, a new directory is created inside called `.git`.  This contains all the bits that make git work.  The standard contents are:

* `HEAD` - just a pointer to the currently-checked-out branch
* `branches/` - not used in newer versions of git
* `config` - a file containing configuration for the repo
* `description` - only used by ~GitWeb
* `hooks/` - client- or server-side hook scripts
* `index` - binary file which stores information about staging
* `info/` - global exclude file?
* `objects/` 
* `refs/`

!!!Objects
All things stored in git are objects.  You can create arbitrary objects and store them in the `.git` directory - they don't have to be made automatically by git.  An example is Linus's public GPG key, which he has tagged in the Linux repo.

</pre>
</div>
<div _hash="01c241efd541990de255a4d1c381f76a8cda976a" created="20121129111245000" creator="willrogers" modified="20140817155000158" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitNotes/1686353:f471c13c7aa9d3637dcb9b42f3d64dc4eae94761&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1686353" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitNotes" type="text/vnd.tiddlywiki">
<pre>* GitCommit
* GitBranch
* GitTag
* GitPush
* GitSvn
* GitShow
* GitRemote
* GitStash
* GitReset
* GitDirectory

To set up a repo, follow the instructions on this page: https://help.github.com/articles/create-a-repo

In order to connect from behind a proxy, I had to set:
 
`export https_proxy=wwwcache.rl.ac.uk:8080`.

`gitk` is useful to visualise the progress of a repo; in particular `gitk --all`.

Here's a good style guide for using git: https://wiki.openstack.org/wiki/GitCommitMessages#Information_in_commit_messages


!!General idea

Git works in terms of commits.  A GitBranch is effectively a pointer to a particular commit, and the pointer will move if you commit to that branch.  A GitTag is a pointer to a particular commit, but it doesn't move.  Each commit has a unique SHA1 hash which doesn't change.

You get a local repository, to which you need to commit before you can 'push' any changes.

To commit anything, you need to add your changes with `git add`.  You can then commit to the local repository with `git commit -m "message"`.  

You can revert changes to a file with `git checkout -- &lt;file&gt;`.  This just checks out whatever was last checked out on top of the changes you've made.  To selectively undo within a file, use `git checkout -p`.

To push changes to a remote repository, use `git push &lt;remote&gt; &lt;branch&gt;` - often `git push origin master`.

To pull changes from a remote repository, use `git pull &lt;remote&gt; &lt;branch&gt;`.  You can pull everything using `git pull &lt;remote&gt;`

`git log` shows all the commits in a repository.  `git log &lt;file&gt;` shows the commits which affect that file.


!!Merging and rebasing
There are two ways to combine two branches which have diverged.

!!!Merging 
This takes the two (or more) commits which will become the parents of the new commit, combines them and creates a new commit.  Since git happily handles the history, this works well

* `git mergetool` will open a tool to help with conflict resolution


!!!Rebasing
This rewinds the repo to the point of divergence, applies one set of changes then applies the next set.  The advantage of this is that it creates a simple linear history, which is easily understood by (for example) `git svn`.

Sometimes, a branch points to a place which is directly in the history of another branch.  This means that it is easy to move the first branch into line with the second.  This is known as a 'fast-forward', and no merging or rebasing is required.


!!Ignoring files
I wanted to ignore all `.pyc` files.  I added a file called `.gitignore` to the root of the repo, and added one line: `*.pyc`.
You can also ignore files local to one repository - I used it for eclipse `.project` files which won't necessarily be in other people's copies of the repo.  To do this, edit the `.git/info/exclude` file.


!!Other commands
* `git cherry` - show commits ahead of or behind between two branches
* `git cherry-pick` - choose a specific commit to pull from another branch
* `git request-pull` - provide some text to email to another person to allow them to pull your changes
* `git whatchanged` - like git log, but shows the files which were changed

!!Cygwin
You need to install `git` and dependencies, but also `ca-certificates` if you're using https.

!!Windows client
I needed to follow these instructions to get through the proxy: http://manku.thimma.org/2012/09/github-for-windows-through-proxies/

</pre>
</div>
<div created="20140813204848789" creator="WillRogers" modified="20140813205207116" modifier="WillRogers" title="GitPush">
<pre>* `git push origin master` - push changes from the current branch to master branch on origin
* `git push origin branch1:branch2` - push changes from branch1, but call it branch2
* `git push &lt;remote&gt; :&lt;branch-name&gt; - delete remote branch



</pre>
</div>
<div _hash="03f3e1166a4eb7f652c3802896aa7eea9b8a245d" created="20131125135454000" creator="willrogers" modified="20140108162407000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitRemote/1619222:acac54a9047c6c0c19453874ff6a1b8d1dc02712&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1619222" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitRemote" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitRemote" type="text/x-tiddlywiki">
<pre>Remotes are the repos that you are somehow connected to - in particular, 'origin' is the repo you forked from.
* {{{git remote -v}}} shows you the repos and their locations.
* {{{git remote update}}} will fetch the latest updates to the remote branches
* {{{git remote add &lt;name&gt; &lt;path&gt;}}} adds a remote
* {{{git remote prune &lt;name&gt;}}} - this will get rid of any deleted branches that you can still see
</pre>
</div>
<div _hash="6ab06eaee9923180ebc54a884a8080e3501ade6c" created="20140108154408000" creator="willrogers" modified="20140108154408000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitReset/1619170:5f524ba5084dbdb7edc443e8123f65729febd059&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1619170" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitReset" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitReset" type="text/x-tiddlywiki">
<pre>{{{git reset}}} allows you to change the current branch to the state of another branch or commit.
</pre>
</div>
<div _hash="6336ff6bae3df9bf9aafbeaec4b1147dddec7c5b" created="20131029163843000" creator="willrogers" modified="20140813190026717" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitShow/1490308:bb91799fc94c5025498ff5cd7657bf022fa17206&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1490308" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitShow" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitShow" type="text/vnd.tiddlywiki">
<pre>`git show` can be used to view all kinds of different git objects:

* Without arguments, it shows the latest commit on HEAD, or the same as `git show HEAD`.  
** `git show &lt;commit&gt;` shows any specified commit
* `git show &lt;commit&gt;:&lt;file&gt;` shows a file from a commit</pre>
</div>
<div _hash="ea78dcc0c34dc4a136ee523501169af45afea18b" created="20131029163709000" creator="willrogers" modified="20131205103506000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitStash/1577468:5337b5ae634bdace469f10d91485712e82f9d819&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1577468" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitStash" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitStash" type="text/x-tiddlywiki">
<pre>!!Stashing
You can save local changes for when you want to save some state but you don't want to commit that state to a repository.  It makes your working copy look clean.
* {{{git stash}}} - stash the current changes 
* {{{git stash list}}} - show all the different stashes that you have stashed
* {{{git stash pop}}} - apply the top stash and remove it from the list
* {{{git stash apply}}} - apply the stash, but do not remove it from the list
* {{{git stash show &lt;stash&gt;}}} - show a summary of the stash
* {{{git stash show -p}}}  - show the actual diff of the stash
There are several other options.
</pre>
</div>
<div _hash="6a1929651cefe428224465385f52adfc69af5ca2" created="20131029163621000" creator="willrogers" modified="20131029163643000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GitSvn/1490298:47fe313432d11c6a8663daa5ce64bcb1bc1ad641&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1490298" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GitSvn" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GitSvn" type="text/x-tiddlywiki">
<pre>This allows you to run a local git repository connected to an SVN repository.  To create a git-svn repo:
* {{{git svn clone &lt;svn url&gt;}}}
To pull updates from svn:
* {{{git svn rebase}}}
To find the git commit corresponding to an svn commit, use
* {{{git svn find-rev r&lt;number&gt;}}}
You can then checkout that commit with 
* {{{git checkout &lt;sha1&gt;}}} (or unambiguous part thereof)
This will leave you with a 'detached HEAD' - you're not on a branch, you've just checked out one revision.  To go back, switch back to a branch:
* {{{git checkout master}}}</pre>
</div>
<div created="20140805131112029" creator="WillRogers" modified="20140813201214350" modifier="WillRogers" title="GitTag">
<pre>'Lightweight' tags are effectively just labels for existing commits, which make them easier to find again.  'Annotated' tags are full git objects, with some metadata.  Tags won't get lost even if they're not on a branch, which can be useful.

To create an annotated tag:

* `git tag` - list all tags
* `git tag -a &lt;name&gt; -m "Commit message."` - create an annotated tag
* `git tag &lt;name&gt;` - create a lightweight tag
* `git push origin &lt;name&gt;` - push a tag
* `git push --tags origin` - push all tags

You can add a specific commit to tag a commit you're not currently at.

To delete a remote tag, see: http://nathanhoad.net/how-to-delete-a-remote-git-tag

You can tag stashes if you want to.</pre>
</div>
<div _hash="dbcf4450f5d11e30398f325027ecd2806e93201c" created="20130704100745000" creator="willrogers" modified="20130704155118000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GnuDebugger/1295444:0c3d29c740beecc0bd7caea17a47e6a6e834629f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1295444" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GnuDebugger" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c linux" title="GnuDebugger" type="text/x-tiddlywiki">
<pre>The GNU Debugger (or {{{gdb}}}) is a command-line debugger.  It is most often used with C and C++.

A simple example is to make a C hello world program.  If you compile with the option {{{-g}}}, debugging symbols are added to the produced binary.  Even though there's not much to the program, the command {{{gdb a.out}}} will tell you whether debugging symbols have been found.  It then goes into a prompt, which I don't know how to use yet.

The [[documentation|http://sourceware.org/gdb/current/onlinedocs/gdb/]] says that there are basically four things you can do with {{{gdb}}}:
* start the program specifying certain initial conditions
* make the program stop on certain conditions
* find out what has happened when the program has stopped
* change things within the program 

Here's a page with some tips on using gdb with C++: http://sourceware.org/gdb/onlinedocs/gdb/Debugging-C-Plus-Plus.html.

!!Prompt
When you start a program with gdb, it opens a {{{(gdb)}}} prompt.  You can use different commands here to step through the code:
* {{{run}}} - start going until you hit a breakpoint
** you can pass program arguments after {{{run}}}
* {{{n}}} - next line of current function
* {{{s}}} - step into - next executed line, in whichever function
* {{{bt}}} - show a backtrace
* {{{break &lt;function&gt;}}} - set a breakpoint at the specified function name
** {{{break &lt;classname}}} or {{{break &lt;classname&gt;::&lt;method&gt;}}} will also work
* {{{p &lt;variable&gt;}}} - print the value of some variable 
</pre>
</div>
<div _hash="8fef0ef789df405437b55267622301e685902d42" created="20130703164334000" creator="willrogers" modified="20131219165734000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GnuMake/1600646:5262df6e4f965d27069090457208127eb912e5d5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1600646" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GnuMake" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c linux make" title="GnuMake" type="text/x-tiddlywiki">
<pre>{{{make}}} is like {{{ant}}} for C (but of course it is the other way round).

This is the first introduction I found: http://capone.mtsu.edu/csdept/FacilitiesAndResources/make.htm

!!Basics
You'll probably use {{{make}}} to build C and C++ programs.  You can run {{{gcc}}} from the command line, but if you have a complicated project, with different dependencies, you'll quickly get bored.  {{{make}}} allows you to script the processes involved in the compilation so that simply running the command {{{make}}} will recompile the project.

Make works in terms of 'targets', which can each have dependencies.  It goes through the list of targets assembling the dependency chain, then builds those dependencies in reverse order.  You can instead choose a particular target or targets if you prefer.  Most targets are the name of an executable file, which is built by the subsequent commands.  A 'phony target' doesn't create any such file; 'clean' is often an example of this.

* {{{make ex1}}} will look for {{{ex1.c}}} and compile it to {{{ex1}}}.
* {{{make -d}}} gives a LOT of debugging

!!Macros
You can save repetition by using 'macros': 
{{{
OBJS = file1.o file2.o file3.o

prog1 : $(OBJS)
   CC -o prog1 $(OBJS)
}}}
Macros are by convention uppercase and underscores.  They can be referenced either as {{{${MACRO}}}} or {{{$(MACRO)}}}.

Make has internal macros that you can use to save typing compared to the explicit commands that you would otherwise have to type.

!!Rules
A rule has the form:
{{{
targets : prerequisites
    recipe
    ...
}}}
In the above example, the bit starting {{{prog1}}} is a rule.  {{{prog1}}} is the target, {{{$(OBJS)}}} is the prerequisites, and the indented block is the 'recipe', which is just a sequence of commands.  The recipe commands are generally executed by a shell.  Prepending {{{@}}} to a command just means that the command won't be printed to the output when it's executed; the output of the command is still printed.

Make understands that {{{prog1}}} is out of date if {{{prog1}}} doesn't exist or if any of the prerequsites are newer than prog1.

!!Command
* {{{make}}} will make using the default 'descriptor' ({{{makefile}}} or {{{Makefile}}})
* {{{make -f mymakefile}}} will use the specified descriptor
* {{{make target}}} will build the specified target 
* {{{make -C dir}}} will change to the directory {{{dir}}} before running make.

!!Makefiles
You can use the macro {{{SHELL}}} to specify the shell to be used.
The {{{include}}} directives tells make to pause the current makefile and read other makefiles before continuing this one.  {{{-include}}} does the same thing, except that if the specified makefiles don't exist no warning or error is generated.</pre>
</div>
<div _hash="2bd3f870bfd3f49620f674fdaa7fea7495d170da" created="20120113193233000" creator="willrogers" modified="20120113211006000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GoogleContacts/364110:3cf083a283ed812c96c231222236dd0defabf564&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364110" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GoogleContacts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GoogleContacts" type="text/x-tiddlywiki">
<pre>I wanted to rationalise the phone numbers in my Google Contacts.  To do this, I can use the Google Contacts API, which works with Python among other things.

The python distribution comes as a .tar.gz file, which you can download, untar, build and install as usual using {{{setup.py}}}.

To authenticate to Google, you need to use OAuth2.0, for which I installed google-api-python-client-1.0beta7, by a similar method.  Actually, it doesn't seem like you do need to use it - I copied an authentication method from an example in the google contacts python package.</pre>
</div>
<div _hash="04d8b231bf3c6d5b55a81b29d8efe7cbde0922d0" created="20100805092600000" creator="pmario" modified="20131030171340000" modifier="pmario" server.bag="system-goto_public" server.content-type="" server.etag="&quot;system-goto_public/GotoPlugin/1491480:48bb5be94a3a67618f8e20be604677531ac07e9d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1491480" server.permissions="read" server.recipe="willrogers_private" server.title="GotoPlugin" server.type="tiddlyweb" server.workspace="bags/system-goto_public" tags="excludeLists excludeMissing excludeSearch systemConfig" title="GotoPlugin" type="text/x-tiddlywiki">
<pre>/***
|Name|GotoPlugin|
|Source|http://www.TiddlyTools.com/#GotoPlugin|
|Documentation|http://www.TiddlyTools.com/#GotoPluginInfo|
|Version|1.9.? hacked because of: https://groups.google.com/forum/?fromgroups#!topic/tiddlywiki/Pwt4ogJIS-s |
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|view any tiddler by entering it's title - displays list of possible matches|
''View a tiddler by typing its title and pressing //enter//.''  As you type, a list of possible matches is displayed.  You can scroll-and-click (or use arrows+enter) to select/view a tiddler, or press escape to close the listbox to resume typing.  When the listbox is not displayed, pressing //escape// clears the current input.
!!!Documentation
&gt;see [[GotoPluginInfo]]
!!!Configuration
&lt;&lt;&lt;
*Match titles only after {{twochar{&lt;&lt;option txtIncrementalSearchMin&gt;&gt;}}} or more characters are entered.&lt;br&gt;Use down-arrow to start matching with shorter input.  //Note: This option value is also set/used by [[SearchOptionsPlugin]]//.
*To set the maximum height of the listbox, you can create a tiddler tagged with &lt;&lt;tag systemConfig&gt;&gt;, containing:
//{{{
config.macros.gotoTiddler.listMaxSize=10;  // change this number
//}}}
&lt;&lt;&lt;
!!!Revisions
&lt;&lt;&lt;
2009.05.22 [1.9.2] use reverseLookup() for IncludePlugin
|please see [[GotoPluginInfo]] for additional revision details|
2006.05.05 [0.0.0] started
&lt;&lt;&lt;
!!!Code
***/
//{{{
version.extensions.GotoPlugin= {major: 1, minor: 9, revision: 2, date: new Date(2009,5,22)};

// automatically tweak shadow SideBarOptions to add &lt;&lt;gotoTiddler&gt;&gt; macro above &lt;&lt;search&gt;&gt;
config.shadowTiddlers.SideBarOptions=config.shadowTiddlers.SideBarOptions.replace(/&lt;&lt;search&gt;&gt;/,"{{button{goto}}}\n&lt;&lt;gotoTiddler&gt;&gt;&lt;&lt;search&gt;&gt;");

if (config.options.txtIncrementalSearchMin===undefined) config.options.txtIncrementalSearchMin=3;

config.macros.gotoTiddler= { 
	listMaxSize: 10,
	listHeading: 'Found %0 matching title%1...',
	searchItem: "Search for '%0'...",
	handler:
	function(place,macroName,params,wikifier,paramString,tiddler) {
		var quiet	=params.contains("quiet");
		var showlist	=params.contains("showlist");
		var search	=params.contains("search");
		params = paramString.parseParams("anon",null,true,false,false);
		var instyle	=getParam(params,"inputstyle","");
		var liststyle	=getParam(params,"liststyle","");
		var filter	=getParam(params,"filter","");
		var html=this.html;
		var keyevent=window.event?"onkeydown":"onkeydown"; // IE event fixup for ESC handling
		html=html.replace(/%keyevent%/g,keyevent);
		html=html.replace(/%search%/g,search);
		html=html.replace(/%quiet%/g,quiet);
		html=html.replace(/%showlist%/g,showlist);
		html=html.replace(/%display%/g,showlist?'block':'none');
		html=html.replace(/%position%/g,showlist?'static':'absolute');
		html=html.replace(/%instyle%/g,instyle);
		html=html.replace(/%liststyle%/g,liststyle);
		html=html.replace(/%filter%/g,filter);
		if (config.browser.isIE) html=this.IEtableFixup.format([html]);
		var span=createTiddlyElement(place,'span');
		span.innerHTML=html; var form=span.getElementsByTagName("form")[0];
		if (showlist) this.fillList(form.list,'',filter,search,0);
	},
	html:
	'&lt;form onsubmit="return false" style="display:inline;margin:0;padding:0"&gt;\
		&lt;input name=gotoTiddler type=text autocomplete="off" accesskey="G" style="%instyle%"\
			title="Enter title text... ENTER=goto, SHIFT-ENTER=search for text, DOWN=select from list"\
			onfocus="this.select(); this.setAttribute(\'accesskey\',\'G\');"\
			%keyevent%="return config.macros.gotoTiddler.inputEscKeyHandler(event,this,this.form.list,%search%,%showlist%);"\
			onkeyup="return config.macros.gotoTiddler.inputKeyHandler(event,this,%quiet%,%search%,%showlist%);"&gt;\
		&lt;select name=list style="display:%display%;position:%position%;%liststyle%"\
			onchange="if (!this.selectedIndex) this.selectedIndex=1;"\
			onblur="this.style.display=%showlist%?\'block\':\'none\';"\
			%keyevent%="return config.macros.gotoTiddler.selectKeyHandler(event,this,this.form.gotoTiddler,%showlist%);"\
			onclick="return config.macros.gotoTiddler.processItem(this.value,this.form.gotoTiddler,this,%showlist%);"&gt;\
		&lt;/select&gt;&lt;input name="filter" type="hidden" value="%filter%"&gt;\
	&lt;/form&gt;',
	IEtableFixup:
	"&lt;table style='width:100%;display:inline;padding:0;margin:0;border:0;'&gt;\
		&lt;tr style='padding:0;margin:0;border:0;'&gt;&lt;td style='padding:0;margin:0;border:0;'&gt;\
		%0&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;",
	getItems:
	function(list,val,filter) {
		if (!list.cache || !list.cache.length || val.length&lt;=config.options.txtIncrementalSearchMin) {
			// starting new search, fetch and cache list of tiddlers/shadows/tags
			list.cache=new Array();
			if (filter.length) {
				var fn=store.getMatchingTiddlers||store.getTaggedTiddlers;
				var tiddlers=store.sortTiddlers(fn.apply(store,[filter]),'title');
			} else 
				var tiddlers=store.reverseLookup('tags','excludeLists');
			for(var t=0; t&lt;tiddlers.length; t++) list.cache.push(tiddlers[t].title);
			if (!filter.length) {
				for (var t in config.shadowTiddlers) list.cache.pushUnique(t);
				var tags=store.getTags();
				for(var t=0; t&lt;tags.length; t++) list.cache.pushUnique(tags[t][0]);
			}
		}
		var found = [];
		var match=val.toLowerCase();
		for(var i=0; i&lt;list.cache.length; i++)
			if (list.cache[i].toLowerCase().indexOf(match)!=-1) found.push(list.cache[i]);
		return found;
	},
	getItemSuffix:
	function(t) {
		if (store.tiddlerExists(t)) return "";  // tiddler
		if (store.isShadowTiddler(t)) return " (shadow)"; // shadow
		return " (tag)"; // tag 
	},
	fillList:
	function(list,val,filter,search,key) {
		if (list.style.display=="none") return; // not visible... do nothing!
		var indent='\xa0\xa0\xa0';
		var found = this.getItems(list,val,filter); // find matching items...
		found.sort(); // alpha by title
		while (list.length &gt; 0) list.options[0]=null; // clear list
		var hdr=this.listHeading.format([found.length,found.length==1?"":"s"]);
		list.options[0]=new Option(hdr,"",false,false);
		for (var t=0; t&lt;found.length; t++) list.options[list.length]=
			new Option(indent+found[t]+this.getItemSuffix(found[t]),found[t],false,false);
		if (search)
			list.options[list.length]=new Option(this.searchItem.format([val]),"*",false,false);
		list.size=(list.length&lt;this.listMaxSize?list.length:this.listMaxSize); // resize list...
		list.selectedIndex=key==38?list.length-1:key==40?1:0;
	},
	keyProcessed:
	function(ev) { // utility function
		ev.cancelBubble=true; // IE4+
		try{event.keyCode=0;}catch(e){}; // IE5
		if (window.event) ev.returnValue=false; // IE6
		if (ev.preventDefault) ev.preventDefault(); // moz/opera/konqueror
		if (ev.stopPropagation) ev.stopPropagation(); // all
		return false;
	},
	inputEscKeyHandler:
	function(event,here,list,search,showlist) {
		if (event.keyCode==27) {
			if (showlist) { // clear input, reset list
				here.value=here.defaultValue;
				this.fillList(list,'',here.form.filter.value,search,0);
			}
			else if (list.style.display=="none") // clear input
				here.value=here.defaultValue;
			else list.style.display="none"; // hide list
			return this.keyProcessed(event);
		}
		return true; // key bubbles up
	},
	inputKeyHandler:
	function(event,here,quiet,search,showlist) {
		var key=event.keyCode;
		var list=here.form.list;
		var filter=here.form.filter;
		// non-printing chars bubble up, except for a few:
		if (key&lt;48) switch(key) {
			// backspace=8, enter=13, space=32, up=38, down=40, delete=46
			case 8: case 13: case 32: case 38: case 40: case 46: break; default: return true;
		}
		// blank input... if down/enter... fall through (list all)... else, and hide or reset list
		if (!here.value.length &amp;&amp; !(key==40 || key==13)) {
			if (showlist) this.fillList(here.form.list,'',here.form.filter.value,search,0);
			else list.style.display="none";
			return this.keyProcessed(event);
		}
		// hide list if quiet, or below input minimum (and not showlist)
		list.style.display=(!showlist&amp;&amp;(quiet||here.value.length&lt;config.options.txtIncrementalSearchMin))?'none':'block';
		// non-blank input... enter=show/create tiddler, SHIFT-enter=search for text
		if (key==13 &amp;&amp; here.value.length) return this.processItem(event.shiftKey?'*':here.value,here,list,showlist);
		// up or down key, or enter with blank input... shows and moves to list...
		if (key==38 || key==40 || key==13) { list.style.display="block"; list.focus(); }
		this.fillList(list,here.value,filter.value,search,key);
		return true; // key bubbles up
	},
	selectKeyHandler:
	function(event,list,editfield,showlist) {
		if (event.keyCode==27) // escape... hide list, move to edit field
			{ editfield.focus(); list.style.display=showlist?'block':'none'; return this.keyProcessed(event); }
		if (event.keyCode==13 &amp;&amp; list.value.length) // enter... view selected item
			{ this.processItem(list.value,editfield,list,showlist); return this.keyProcessed(event); }
		return true; // key bubbles up
	},
	processItem:
	function(title,here,list,showlist) {
		if (!title.length) return;
		list.style.display=showlist?'block':'none';
		if (title=="*")	{ story.search(here.value); return false; } // do full-text search
		if (!showlist) here.value=title;
		story.displayTiddler(null,title); // show selected tiddler
		return false;
	}
}
//}}}</pre>
</div>
<div _hash="d4f41fa53916a920347fbe97303966ebeed68945" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/GroupByPlugin/1521873:f6292cf2d346a38e69b387c3471266a8d6df16a9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521873" server.permissions="read" server.recipe="willrogers_private" server.title="GroupByPlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="GroupByPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|GroupByPlugin|
|''Description''|Mimics allTags macro to provide ways of creating lists grouping tiddlers by any field|
|''Version''|0.6.1|
|''Author''|Jon Robson|
|''Status''|beta|
!Usage
{{{&lt;&lt;groupBy tags&gt;&gt;}}}
mimics allTags macro

{{{&lt;&lt;groupBy server.bag&gt;&gt;}}}
groups by the server.bag field (this version contains TiddlySpace specific code for turning a bag into a space name)

{{{groupBy modified dateFormat:"YYYY"}}}
group tiddlers by year.

{{{&lt;&lt;groupBy tags exclude:excludeLists exclude:systemConfig&gt;&gt;}}}
group tiddlers by tag but exclude the tags with values excludeLists and systemConfig

Within that group you can also exclude things by filter
{{{groupBy modifier filter:[tag[film]]}}}
will group tiddlers tagged with film by modifier.
***/
//{{{
(function($) {
var taglocale = config.views.wikified.tag;
var macro = config.macros.groupBy = {
	locale: {
		tooltip: "all tiddlers in group %0",
		noTiddlers: "no tiddlers",
		openAllText: taglocale.openAllText,
		openAllTooltip: taglocale.openAllTooltip,
		openTiddler: "open tiddler with title %0"
	},
	morpher: {
		// TODO: note currently the following 2 morphers are TiddlySpace specific and probably should be in separate plugin
		"server.workspace": function(value, options) {
			return macro.morpher["server.bag"](value.replace("bags/", "").replace("recipes/", ""));
		},
		"server.bag": function(value, options) {
			if(typeof(value) !== "string") {
				return false;
			} else if(value.indexOf("_public") === -1 &amp;&amp; value.indexOf("_private") === -1) {
				value = "*%0".format(value); // add star for non-space bags.
			}
			return value.replace("_public", "").replace("_private", "");
		},
		created: function(value, options) {
			return value.formatString(options.dateFormat || "DD MMM YYYY");
		},
		modified: function(value, options) {
			return macro.morpher.created(value, options);
		}
	},

	handler: function(place, macroName, params, wikifier, paramString) {
		var field = params[0] || "server.workspace";
		var dateFormat = params[1] || "DD MMM YYYY";
		var container = $("&lt;div /&gt;").attr("macroName", macroName).addClass("groupBy").
			attr("refresh", "macro").attr("fieldName", field).
			attr("paramString", paramString).
			attr("dateFormat", dateFormat).appendTo(place)[0];
		macro.refresh(container);
	},
	isTypeArray: function(value) {
		var valueType = typeof value;
		if(valueType === "object" &amp;&amp; typeof value.length === "number" &amp;&amp;
			!(value.propertyIsEnumerable("length")) &amp;&amp;
			typeof value.splice === "function") { //is Array
			return true;
		} else {
			return false;
		}
	},
	_onClickGroup: function(ev, options) {
		var i, target = ev.target, locale = macro.locale;
		var tiddlers = $(target).closest(".templateContainer").data("tiddlers");
		var popup = $(Popup.create(target)).addClass("taggedTiddlerList")[0];
		var value = $(target).attr("value");
		var openAll = createTiddlyButton($("&lt;li /&gt;").appendTo(popup)[0],
			locale.openAllText.format(value), locale.openAllTooltip);
		$(openAll).click(function(ev) {
			story.displayTiddlers(ev.target, tiddlers);
			return false;
		});
		var listBreak = $("&lt;li /&gt;").addClass("listBreak").html("&lt;div /&gt;").appendTo(popup);
		for(i = 0; i &lt; tiddlers.length; i++) {
			var item = $("&lt;li /&gt;").appendTo(popup)[0];
			var template = store.getTiddlerText(options.template) || macro.template;
			wikify(template, item, null, tiddlers[i]);
		}
		listBreak.clone().appendTo(popup);
		$(createTiddlyLink($("&lt;li /&gt;").appendTo(popup)[0], value, false)).
			text(locale.openTiddler.format(value));
		Popup.show();
		ev.stopPropagation();
		return false;
	},
	_refresh: function(container, tiddlers, options) {
		var totalGroups = 0, locale = macro.locale, i, j;
		var excludeValues = options.exclude;
		var values = {}, value_ids = [];
		var field = options.field;
		var morpher = macro.morpher[field] || function(value) {
			return value;
		};
		for(i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var value = tiddler[field] || tiddler.fields[field];
			value = macro.isTypeArray(value) ? value : [ value ];
			for(j = 0; j &lt; value.length; j++) {
				var v = morpher(value[j], options);
				if(v &amp;&amp; $.inArray(v, excludeValues) === -1) {
					totalGroups += 1;
					if(!values[v]) {
						values[v] = [];
					}
					values[v].push(tiddler);
					value_ids.pushUnique(v);
				}
			}
		}
		var ul = $("&lt;ul /&gt;").appendTo(container)[0];
		if(totalGroups === 0) {
			$("&lt;li /&gt;").addClass("listTitle").text(locale.noTiddlers);
		}
		value_ids = value_ids.sort();
		var groupTemplate = store.getTiddlerText(options.groupTemplate);
		var onClick = function(ev) {
			macro._onClickGroup(ev, options);
		};
		for(i = 0; i &lt; value_ids.length; i++) {
			var title = value_ids[i];
			var info = getTiddlyLinkInfo(title);
			tiddlers = values[title];
			var btn = createTiddlyButton($("&lt;li /&gt;").appendTo(ul)[0],
				"%0 (%1)".format(title, tiddlers.length), locale.tooltip.format(title), null, info.classes);
			if(groupTemplate) {
				$(btn).empty();
				wikify(groupTemplate, btn, null, tiddlers[0]);
			}
			$(btn).click(onClick).attr("value", title).attr("refresh", "link").attr("tiddlyLink", title);
			$(btn).addClass("templateContainer").data("tiddlers", tiddlers);
		}
	},
	refresh: function(container) {
		container = $(container).empty();
		var paramString = container.attr("paramString");
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var options = { field: container.attr("fieldName"), dateFormat: container.attr("dateFormat"), exclude: args.exclude || [],
			template: args.template ? args.template[0] : false, groupTemplate: args.groupTemplate ? args.groupTemplate[0] : "" };
		var tiddlers = args.filter ? store.filterTiddlers(args.filter[0]) : store.getTiddlers("title");
		macro._refresh(container, tiddlers, options);
	},
	template: "&lt;&lt;view title link&gt;&gt;"
};

}(jQuery));
//}}}</pre>
</div>
<div _hash="512decc1ffab931e575e83c90ec20f10453ff79f" created="20110515121921000" creator="willrogers" modified="20110605135944000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GuitarDrills/364112:d4facd4094dc0752e77c4dbd12c22014afcb5baf&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364112" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GuitarDrills" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="guitar" title="GuitarDrills" type="text/x-tiddlywiki">
<pre>* A Toute Le Monde - main rriff
* Powder Blue - Eb(6) -&gt; Ebmaj7(10)
* Hocus Pocus - riff
* Scattered - fast riff
* Dirty Magic - riff w/ power chords and open E
* Lateralus - 987 riff

* Picking across all 6 strings on a chord
* Combining this with 5 strings chords</pre>
</div>
<div _hash="6515d1acfacfeac9596008421a540b857a176e8b" created="20110507141147000" creator="willrogers" modified="20110508140628000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/GuitarTabs/364118:732e2558d3e278d7eadadc6d9ff8bbd5df9eb02c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364118" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="GuitarTabs" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="GuitarTabs" type="text/x-tiddlywiki">
<pre>* FakenhamFair
* RepeaterBeater
* NewYorkGirls</pre>
</div>
<div _hash="194d286a9eb0c811fc7ee663584788a3001aba57" created="20120415165909000" creator="willrogers" modified="20140724204816000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellBasics/1843020:469bbabc6af9ce62da8025ffe339ce5d07738700&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1843020" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="haskell" title="HaskellBasics" type="text/x-tiddlywiki">
<pre>A good intro is learnyouahaskell.com.  

Haskell is a purely functional programming language, which means that functions have no side effects.  If you give a function the same arguments, it will return the same thing. It's lazy, which means it won't calculate anything until it is forced to.

{{{ghc}}} is the haskell compiler (package and command).  Included in the same package is {{{ghci}}}, an interactive interpreter.   The package {{{haskell-platform}}} includes libraries.  Haskell files generally have the extension {{{.hs}}}.

HaskellLists
HaskellTypes
HaskellTypeConversions
HaskellFunctions
HaskellBuiltins
HaskellIO
HaskellImports

!!Interactive use
{{{ghci}}} starts the haskell interpreter.  To load functions from a file, use {{{:l &lt;file&gt;.hs}}}.  {{{:r}}} will reload the current file.

!!Arithmetic and boolean
* +, -, *, / work as you would expect.  They are ''infix'' functions.
* {{{5 * (-3)}}}, not {{{5 * -3}}}
* {{{True}}}, {{{False}}}, {{{||}}}, {{{&amp;&amp;}}}, {{{not}}}
* {{{==}}} for equality, {{{/=}}} for not equals
* {{{^}}} for exponentiation

!!Strings

* Strings are in {{{"double quotes"}}}
* Strings are HaskellLists, so you concatenate them with {{{++}}}
* There's no difference between a {{{String}}} and a list of {{{Char}}}s:
{{{
Prelude&gt; :t "Hello"
"Hello" :: [Char]
}}}

!!Tuples
Tuples have a fixed length and can contain different types.  There's no such thing as a singleton tuple.  You can compare tuples like lists, except that they must have the same length.  

The empty tuple {{{()}}} is like {{{null}}} or {{{None}}}, pronounced "unit"

!!!Pairs
* Pairs are tuples of length two
* {{{fst &lt;pair&gt;}}} gives you the first item
* {{{snd &lt;pair&gt;}}} gives you the second item
* {{{zip &lt;list1&gt; &lt;list2&gt;}}} gives you a list of pairs from the two lists
** if one list is longer, it gives up when the shorter one runs out
** as Haskell evaluates lazily, it can pair infinite lists

!!!{{{do}}}
Do blocks allow you to do several things in one go.  There are two ways of using it:
{{{
Prelude&gt; do { putStr "2 + 2 = " ; print (2 + 2) } 
2 + 2 = 4
}}}
{{{
main = do putStrLn "What is 2 + 2?"
          x &lt;- readLn
          if x == 4
            then putStrLn "correct"
            else putStrLn "incorrect"
}}}
In the latter it's important that any parts of the do block are aligned with the character ''after'' the {{{do}}}.  This also means that the {{{then}}} and {{{else}}} need different indentation.

!!!{{{$}}}
The dollar sign allows you to change precedence - anything after the {{{$}}} takes precedence over anything before:
{{{
main = do print $ primes 2 0 10001
}}}
is the same as 
{{{
main = do print (primes 2 0 10001)
}}}
</pre>
</div>
<div _hash="5937ee4d0ac620bd3e71d679ed7f0360ace6ac3a" created="20140104215215000" creator="willrogers" modified="20140726110401000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellBuiltins/1845096:3fd887fb7139d9e450ab87b43f333fa5e3adf55c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1845096" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellBuiltins" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HaskellBuiltins" type="text/x-tiddlywiki">
<pre>The set of builtin functions in Haskell are known as the 'Prelude'

* {{{succ 8 -&gt; 9}}}: anything with a 'successor'
* {{{min 3.4 3.2 -&gt; 3.2}}} - compare two things
** also {{{max}}}
* {{{read}}} - turn any string into a type
* {{{show}}} - show any type as a string
* {{{sqrt 9}}}
* {{{gcd 24 16}}} - greatest common divisor

!!!print
* {{{putStrLn}}}
* {{{putStr}}}
* {{{print}}} - print any type

!!!Lists
* {{{head "string"}}}
* {{{tail [1,2,3]}}}
* {{{fst (2,3)}}}
* {{{snd (3,4)}}}
* {{{map (+2) [1..5]}}}
* {{{filter (&gt;4) [1..5]}}}
* {{{maximum [1,3,4, 23]}}}</pre>
</div>
<div _hash="2b742bc0e7546f7216905f751da6d643252a3d09" created="20140104172308000" creator="willrogers" modified="20140126111040000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellFunctions/1637450:48ead8497d704d0707d5b39a44e9563e42a6500a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1637450" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HaskellFunctions" type="text/x-tiddlywiki">
<pre>See HaskellBuiltins

Simple arithmetic functions such as {{{+}}} and {{{*}}} are ''infix'' functions; most others are ''prefix'' functions.  You can turn any two-argument function into an infix function with backticks:
* {{{7 `div` 3}}}
* you can define functions like this too
You call a function using the function name then arguments separated by spaces (no brackets).

* A function call will always be evaluated first - it has highest precedence.
* You can use {{{'}}} in function names, often for a strict or slightly-modified version of a function.
* A function without any parameters always returns the same thing, so is sometimes known as a definition.
** {{{name = "Will"}}}
** {{{x = 5}}}

!!Defining functions
* {{{doubleMe x = x + x}}} 
** in the interactive prompt, {{{let doubleMe x = x + x}}}
* {{{doubleUs x y = doubleMe x + doubleMe y}}} - use a function inside a function
* you don't have to define doubleMe first here (unless it's interactive)
* {{{doubleSmallNumber x = if x &lt; 100 then x * 2 else x}}}
** else is mandatory with an if statement
** an if statement is an expression - it always returns a value
* you can't change what functions mean once they've defined them
** a function with no arguments is the same as a name

!!Type declarations
See HaskellTypes

Haskell does type inference, but it is good practice to make type declarations:
{{{
    removeNonUppercase :: [Char] -&gt; [Char]  
    removeNonUppercase st = [ c | c &lt;- st, c `elem` ['A'..'Z']]   
}}}
* You can use :t to deduce the signature of a function

!!Pattern matching
Often a function needs to different things with different inputs.  To do this, specify patterns each of which can be checked:
{{{
    lucky :: (Integral a) =&gt; a -&gt; String  
    lucky 7 = "LUCKY NUMBER SEVEN!"  
    lucky x = "Sorry, you're out of luck, pal!"   
}}}
Often, this is used for base cases.  The order is important, since the lower cases can be more general than the higher ones.  You should always include a catch-all pattern.

Another example:
{{{
length' :: [a] -&gt; Int
length' [] = 0
length' (x:xs) = 1 + length' xs
}}}
You need the brackets around {{{(x:xs)}}}.

!!Guards
Guards are like pattern matches, but they evaluate if a condition is true:
{{{
    bmiTell :: (RealFloat a) =&gt; a-&gt; a -&gt; String  
    bmiTell weight height  
        | bmi &lt;= 18.5 = "You're underweight, you emo, you!"  
        | bmi &lt;= 25.0 = "You're supposedly normal. Pffft, I bet you're ugly!"  
        | bmi &lt;= 30.0 = "You're fat! Lose some weight, fatty!"  
        | otherwise   = "You're a whale, congratulations!"  
        where bmi = weight / height ^ 2
}}}
The where bits are calculated first, and you can make more than one and must be aligned, on different lines.

!!Let bindings
{{{
    cylinder :: (RealFloat a) =&gt; a -&gt; a -&gt; a  
    cylinder r h = 
        let sideArea = 2 * pi * r * h  
            topArea = pi * r ^2  
        in  sideArea + 2 * topArea  
}}}

You can use {{{let}}} in a lot of places, more so than {{{where}}}.

!!Case expressions
These are like the pattern matching you do in function definitions, but can be used anywhere.
{{{
    case expression of pattern -&gt; result  
                       pattern -&gt; result  
                       pattern -&gt; result  
                       ...  
}}}
</pre>
</div>
<div _hash="87bc3085765e3911c2e309e3d466c02cbd7a39cc" created="20140712113022000" creator="willrogers" modified="20140712114035000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellImports/1825796:34e11cda015de1f18a62cda71edf39d73ff0e9d5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1825796" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellImports" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HaskellImports" type="text/x-tiddlywiki">
<pre>If your files are in the same directory, define modules by (in Utils.hs):

{{{
module Utils where
...
}}}
The module name must begin with an uppercase letter.  

Import the module with 
{{{
import Utils
}}}

You don't need to qualify the function name when you use it.</pre>
</div>
<div _hash="27336e46b380f301ffcc0ae7a7d88eb9ee03ace6" created="20140706145339000" creator="willrogers" modified="20140706150247000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellIO/1817750:62bbeb47ef3a00f2d102e1482b4e6f11b8e999d5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1817750" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellIO" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HaskellIO" type="text/x-tiddlywiki">
<pre>IO is actually significant in Haskell because the functions may not return the same value for the same parameters, or the functions may have side effects.

!!!Functions
You can get user input like this, binding the output of the function to {{{name}}}:
{{{
Prelude&gt; name &lt;- getLine
Will
Prelude&gt; name
"Will"
}}}
Some print functions:
{{{
Prelude&gt; x &lt;- putStrLn name
Will
Prelude&gt; x
()
}}}
IO functions always provide a result for you to bind to something else, but for {{{putStrLn}}} the only sensible result is {{{()}}}.
* {{{putChar 'n'}}} - print one character
* {{{putStr "hello"}}} - no new line at the end</pre>
</div>
<div _hash="89f5720e2cfd12466a0d1ac625c74beb87dc24b6" created="20120415180053000" creator="willrogers" modified="20140705204019000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellLists/1817545:ac7869e70f7df7a876980f0213d02cbac8c848fd&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1817545" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellLists" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="haskell" title="HaskellLists" type="text/x-tiddlywiki">
<pre>* Lists are pretty fundamental
* ++ will concatenate two lists
** appending an item to a list is O(n)
* {{{1:[2, 3, 4, 5] -&gt; [1, 2, 3, 4, 5]}}}
** this is cons and is O(1)
* Lists have to contain the same type
* {{{[]}}} is the empty list and is silently included at the end of all lists
* The nth item of a list is {{{&lt;list&gt; !! n}}} (starting at 0!)
* strings are just lists of characters
* you can compare lists with &lt;, &gt;, ==, &gt;= etc.  They are compared starting at the first item and moving along
** They can only be compared if the items in the list can be compared
* strings are the same as lists of characters: {{{"hello"}}} is the same as {{{['h','e','l','l','o']}}}
!!!List functions
* {{{head}}} gets the first item
* {{{tail}}} gets all items ''except'' the first
* {{{last}}} gets the last item
* {{{init}}} gets all items ''except'' the last
* {{{length}}} gets the number of items in a list
* {{{null}}} returns true if the list is empty
* {{{reverse}}} reverses the order of items
* {{{take n &lt;list&gt;}}} gets the first n items
** if you ask for more items than there are, you just get the whole list
* {{{maximum}}}, {{{minimum}}}, {{{sum}}} and {{{product}}} are obvious
* {{{elem &lt;item&gt; &lt;list&gt;}}} checks if the item is in the list
* {{{cycle}}} takes a list and turns it into an infinite list
* {{{repeat &lt;item&gt;}}} makes an infinite list containing only that item
* {{{replicate n &lt;item&gt;}}} returns n items as a list

!!!Ranges
You can use {{{[1..20]}}} and {{{['a'..'z']}}} and {{{['K'..'Z']}}} as shorthand to get the logical lists.  [2, 2..20] gets the list in steps of 2.
{{{[1,3..]}}} gets an infinite list of odd numbers

!!!List comprehensions
The syntax is:
{{{
[&lt;function&gt; | &lt;value&gt; &lt;- &lt;list&gt;, condition1, condition2]
[ x * 2 | x &lt;- [1..100], x &gt; 7]
[ x*y | x &lt;- [2,5,10], y &lt;- [8,10,11], x*y &gt; 50] 
}}}
* If you put more than one list in, you will get the multiple of their lengths as the possible number of combinations.
* You can use {{{_}}} for a dummy argument in a list comprehension.</pre>
</div>
<div _hash="4f6584abd7ec0fbfc0e42e2c2a77bc26376a4ce7" created="20140724205911000" creator="willrogers" modified="20140726191240000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellTypeConversions/1845239:90cf38a3653fea751289018fdca63bf089a485cc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1845239" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellTypeConversions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HaskellTypeConversions" type="text/x-tiddlywiki">
<pre>There are several different functions for changing types.

!!Strings
* {{{show}}} - turns any instance of the {{{Show}}} typeclass into a string
* {{{read}}} - turns a string into an instance of the {{{Read}}} typeclass


{{{fromIntegral}}} - can convert into different types</pre>
</div>
<div _hash="94d9c1474418b39d56c880b1661ad3a16678b29f" created="20140104172142000" creator="willrogers" modified="20140812080247914" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HaskellTypes/1843021:43d78045724bf0975e4d232686e352195532ffce&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1843021" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HaskellTypes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HaskellTypes" type="text/vnd.tiddlywiki">
<pre>See also HaskellTypeConversions

Haskell is statically typed, which means that the compiler deduces and enforces typing at compile time.

!!!The types
* {{{Int}}} is similar to python and mysql
* {{{Integer}}} is like Int but unbounded and so less efficient
* {{{Float}}} and {{{Double}}} are single and double-precision floating point
* {{{Rational}}} is a fraction with no rounding errors 
* {{{Bool}}}: {{{True}}} or {{{False}}}
* {{{Char}}}:  a character, denoted in single quotes: 'a'
* {{{String}}}: exactly the same as a list of chars

!!!Typeclasses
A typeclass is like an interface which specifies some properties of a type in that typeclass:
* {{{Eq}}} - testable for equality
* {{{Ord}}} - supporting ordering
* {{{Show}}} - stringable using {{{show}}}
* {{{Read}}} - readable from a string using {{{read}}}
* {{{Num}}} - anything that can behave like a number
* {{{Integral}}} - Int or Integer
* {{{Floating}}} - float or double

!!!Deducing types
You can use {{{:t}}} in ghci to determine the type of an expression:
{{{
    ghci&gt; :t 'a'  
    'a' :: Char  
    ghci&gt; :t True  
    True :: Bool  
    ghci&gt; :t "HELLO!"  
    "HELLO!" :: [Char]  
    ghci&gt; :t (True, 'a')  
    (True, 'a') :: (Bool, Char)  
    ghci&gt; :t 4 == 5  
    4 == 5 :: Bool  
}}}
* String is synonymous with [Char]

!!!Specifying types
{{{
Prelude&gt; 5 :: Double
5.0
Prelude&gt; 5 :: Int
5
}}}

!!!Function types
{{{
    ghci&gt; :t head  
    head :: [a] -&gt; a  
}}}
* here {{{a}}} is a generic type</pre>
</div>
<div _hash="f48f929b7106fde654d8150b15949f078a54fa2e" created="20110421101506000" creator="willrogers" modified="20140804084300213" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/Home/1616690:66d4c34a082a41d56c1325bbda843c55b1221c31&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1616690" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="Home" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="Home" type="text/vnd.tiddlywiki">
<pre>This is a ~TiddlySpace wiki.

* HomeNotes
* ComputingNotes
* DiamondNotes
* RaspberryPi

* MetaTiddly
* MiscLinks



</pre>
</div>
<div _hash="02ad86e46ef0d34b83804b2289501fd76dafe91d" created="20131222133307000" creator="willrogers" modified="20140802145532988" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HomeComputer/1740221:1e10d30261967a642bbfeeb82afeb75495cf72c7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1740221" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HomeComputer" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HomeComputer" type="text/vnd.tiddlywiki">
<pre>SamsungLaptop
WindowsPrograms
WindowsLicences
NewLaptop
PhotoOrganisation

!!!Ubuntu
UbuntuElevenFour
UbuntuElevenTen
UbuntuTwelveTen
UbuntuThirteenTen
UbuntuFourteenFour
UbuntuGrub</pre>
</div>
<div _hash="9b8362e1ed9b46e1d8cc9445d90b5e033d8cf703" created="20110423095532000" creator="willrogers" modified="20140802142516798" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HomeNotes/1785964:7b1e04b26fbe8eeefce223deef5f09fd3257c438&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1785964" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HomeNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HomeNotes" type="text/vnd.tiddlywiki">
<pre>RecordNotes

!!Costs
CarThings
AllCosts
NewFlatCosts
CsscStuff

!!Music
AlbumsWanted
GuitarTabs
GuitarDrills
DigitalMusic
DvdRipping

!!Flats
ReadingFlats
PossibleFlats
PlusNet

PastAddresses
AddressChanges
ForwardingAddress

!!Puzzles
ProjectEuler
GchqPuzzles

!!Holidays
TenerifeFlights
FranceFlights
NorthernLights
SkiingCosts

!!Other
LizPresents
LizSize
ThingsIdLike
ContactLenses
BankAccounts
NikonCamera
MobileProblems
ToothIssue
ChristmasPresents
DifficultSpellings
Euro2012Sweepstake
OrthoticInsoles




</pre>
</div>
<div _hash="e730478f88ff38b560ebde4eaf4267b136bf6584" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/How%20to%20socialise/1521880:c72f343cd79e50e987d8923d2b41529fe45978de&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521880" server.permissions="read" server.recipe="willrogers_private" server.title="How to socialise" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeMissing excludeSearch" title="How to socialise" type="text/x-tiddlywiki">
<pre>There are a lot of interesting people using ~TiddlySpace that you might like to keep track of and interact with. There are a number of ways of doing this.

If you see a number in the speech bubble in one of your tiddlers, it means that someone is writing about the same thing as you. You can find out what they're saying by clicking on it. Likewise, if you see something interesting in someone else's space, you can respond to it and write up your own thoughts on the subject by clicking "Reply to this tiddler".

Additionally, if you find anyone interesting, or you find an interesting looking space and you'd like to know when it's changed, you can "follow" that space. To do this, simply create a tiddler with the title: {{{@space-name}}} and tag it {{{follow}}}. If you want, you can store some notes about that space in the body of the tiddler.

If you then want to know what happening, simply [[include|How do I include/exclude spaces?]]@docs the @tivity space and then visit your activity stream at [[/activity|/activity]], or just visit the @tapas space directly.

!Not sure who to follow?
Here's a few suggestions:
* @fnd
* @cdent
* @pmario
* @bengillies
* @dickon</pre>
</div>
<div _hash="e2d2b88de4b8c242beb9c30aaaba89ee2eb1c099" created="20131019120227000" creator="willrogers" modified="20131019154216000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/HtmlBasics/1469489:2dbe08a4fff639859761d75c1c8dfcacd64b794c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1469489" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="HtmlBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="HtmlBasics" type="text/x-tiddlywiki">
<pre>See also CssBasics.

!!Basic syntax
* {{{&lt;!DOCTYPE html&gt;}}} at the top
* Everything else goes inside {{{&lt;html&gt;}}} tags.
* The {{{&lt;head&gt;}}} contains {{{&lt;title&gt;}}} etc.
* The {{{&lt;body&gt;}}} contains everything else ({{{&lt;p&gt;, &lt;h1-6&gt;}}} etc).
* {{{&lt;img src="url/for/img" /&gt;}}}
* {{{&lt;a href="url/for/link&gt; &lt;img&gt; &lt;/a&gt;}}}- can surround an image
* {{{&lt;ol&gt;, &lt;ul&gt;, &lt;li&gt;}}} for ordered and unordered lists, and the items within.
* {{{&lt;strong&gt;}}} for bold, {{{&lt;em&gt;}}} for italics

!!Structure
* {{{&lt;table border="1px"&gt;, &lt;tr&gt;, &lt;td&gt;}}} for a table, rows, and cells 
** {{{&lt;thead&gt;, &lt;tbody&gt;}}} separate header and body of table
** {{{&lt;th colspan="2"&gt;}}} for cells within the header
* {{{&lt;div&gt;}}} is a general purpose 'division'
* {{{&lt;span&gt;}}} is used for styling smaller parts of a page
!!Style
This basically allows you to use CSS for single elements - see CssBasics.
Add style to a tag directly:
* {{{&lt;p style="font-size: 10px;"&gt;}}}
** Separate different style elements with semicolons.

| ''style'' | ''values'' |
| font-size | 10px |
| color | red |
| font-family | verdana |
| background-color | green |
| text-align | center, right |
</pre>
</div>
<div _hash="c166edf2910491a453b8338f14c930c5c825907d" created="20140211081954000" creator="willrogers" modified="20140211082205000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I03/1657679:1a5bb2d484cf22513f53e89c8cf3421882641b6d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1657679" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I03" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I03" type="text/x-tiddlywiki">
<pre>* Work on foot and mouth, developing a compound which might help prevent humans from being infected.  This could potentially help with colds as well
* http://www.diamond.ac.uk/Home/Media/LatestNews/10-02-14.html</pre>
</div>
<div _hash="97349fb4dba847dfedfa3e13c9bebb30d8247e02" created="20140122154617000" creator="willrogers" modified="20140122154617000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I04/1633075:f128f4a4c93045f904c69fdc5220549d323fa207&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1633075" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I04" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I04" type="text/x-tiddlywiki">
<pre>!!Science
Investigate the crystal structure of Oligopeptidase B, used to disrupt the parasite carrying sleeping sickness.</pre>
</div>
<div _hash="529352df124543f06fd7cdbd9dc9cf4c9e62e5f6" created="20140117160501000" creator="willrogers" modified="20140117160501000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I06/1627025:df0e335b1029f1441d3d28d7fb60e9234fe9bf2b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1627025" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I06" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I06" type="text/x-tiddlywiki">
<pre>!!Science
Using light to control magnetic order on individual atoms.
http://prb.aps.org/abstract/PRB/v88/i22/e220401</pre>
</div>
<div _hash="8a96c30eab45589a875d812dc57225fd4801059f" created="20140114113624000" creator="willrogers" modified="20140114113624000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I10/1624739:7ce655bc0d027c8ea66bed2ae635df448c891e20&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1624739" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I10" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I10" type="text/x-tiddlywiki">
<pre>Beamline I10 is called BLADE: Beamline for Advanced Dichroism Experiments.

It is the one famous for I10Switching.

!!!People
* Paul Steadman: PBS
* Linda Pratt: controls

!!!Science</pre>
</div>
<div _hash="59955ef58beec8d78c0e3eaf9f5309ad78a7c8e6" created="20140114114830000" creator="willrogers" modified="20140114143332000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I10ChicaneMagnets/1624891:253ff4392e324c0a87c990661eb88fd0112d64b4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1624891" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I10ChicaneMagnets" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I10ChicaneMagnets" type="text/x-tiddlywiki">
<pre>AustenEmail - describing changes to the power supply controllers.

There are five (I believe dedicated) magnets for I10 switching:
{{{
SR09A-PC-FCHIC-01
SR09A-PC-FCHIC-02
SR10S-PC-FCHIC-03
SR10S-PC-FCHIC-04
SR10S-PC-FCHIC-05
}}}

Controls may also use the ID steerers to correct for the effect of the switching (see below).
!!!Controls
* The chicane magnet power supplies are available from the Magnet Power Supply Controllers GUI
* The steering magnet power supplies are available via either the Insertion Devices Overview or the Magnet Power Supply Controllers GUI

!!!~PVs

Name ~PVs:
{{{
SR09A-PC-FCHIC-01
SR09A-PC-FCHIC-02
SR10S-PC-FCHIC-03
SR10S-PC-FCHIC-04
SR10S-PC-FCHIC-05
}}}

Some of the suffixes are:
* {{{SETI}}}
* {{{I}}}
* {{{STATE}}}
* {{{ERRGSTR}}}

The control ~PVs substitute {{{CTRL}}} for {{{FCHIC}}}.  The useful suffix is 
* {{{OFFSET}}}

The trim magnets' ~PVs are {{{SR10I-MO-[H|V]STR-[11|12|21|22]}}}

!!!Description
The four outer magnets (two each side of both IDs) are controlled using sine waves at a frequency of 10Hz, synchronised by the master timing generator.  The central magnet has a fixed current.  All five have a well-defined ramping-up process.  As well as the sine wave, tweaking the magnets during use will generate a 'DC offset' (less than 2A).  This must be removed after use - in particular, before the magnets go through the ramping down process to degauss them.

!!!Operating limits
The four kickers have a maximum current of 24.75A; you may ask for up to 24.4A.  There is a plan to test the magnets and power supplies to determine the limits of reliable operation.  They each have a 'rate limiter', which determines how fast the current (actually voltage) can change.  This means that you have to be careful ramping down different magnets, because if you go too fast the rate limiters are unlikely to keep synchronised.

There is discussion as to whether the magnets should be on continuously, at zero current, or should be turned off.  If on, you always know the state.

Although you could logically leave the magnets on, with the electron beam going round one ID and through the other, the magnets are not designed to maintain constant current and will overheat in probably a few minutes.</pre>
</div>
<div _hash="a855936e333a78506914f20198bca18bd0714f46" created="20131209141700000" creator="willrogers" modified="20140114114823000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I10Switching/1624748:f282aa09821aaacdc2d181e3b32b1a3ae46c10b9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1624748" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I10Switching" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I10Switching" type="text/x-tiddlywiki">
<pre>See I10ChicaneMagnets

In straight 10, there are two insertion devices which are capable of producing different polarisations of light.  For certain experiments, the I10 beamline would like to switch between these two polarisations quickly.  There are special magnets in place capable of diverting the beam through the two ~IDs at 10Hz to allow alternate flashes of light at different polarisations.  This setup was inspired by Spring-8 in Japan, but it is known that the equivalent installation is not used that often.  We hope that ours will prove more useful.

While one beam is heading down the beamline, the other is diverted by 1mrad.  We believe this is plenty.

!!Questions
What are the trim tables and what effect do they have?
* There is something about the trims managing vertical steering but not horizontal steering.
How are the power supply waveforms set up?
Why are we so close to the maximum magnet current?
How would BURTing the magnets work?
What's the deal with 'scaling the waveforms'.  Certainly seems that that's not the plan.

!!Insertion devices
There are two insertion devices in the I10 straight.  You can see the controls from the Insertion Device Overview using the 'Power' and 'Motion' GUIs.  On the latter is a button 'Nomenclature', which shows some diagrams describing how the ID magnets can move.  In particular:
* ''jaw phase'' is the top relative to the bottom, generally used for energy change
* ''row phase'' is between the two halves of the top or the bottom, generally used for polarisation change

!!Magnets
* See I10ChicaneMagnets

!!Controls
See http://confluence.diamond.ac.uk/display/CHLP/I10+Fast+Chicane.

Once the magnets are on and cycling, you generally want to be able to tweak them so that the beams are aligned and pointing down the beamline.  The I10 knobs are for this purpose, but are very raw.  We've now written a python version, which should be much quicker to tweak to requirements.

!!Modelling
Chris Bloomer has written a matlab script to simulate what is happening, called {{{I10_chic.m}}}.  This is a helpful visualisation.

!!Performance
We realistically need the beamline to tell us if the alignment is correct.  The ~XBPMs are not precise enough.  At present, the diagnostics 'fast camera' is being used to measure alignment, but diagnostics will want it back.

!!FastFeedback
At present, the switching causes disturbance to the rest of the beam that is corrected by fast feedback; it is an operational requirement that fast feedback must be running in order to do the switching.  You can see that there is a particular excess at 10Hz and harmonics.  It would be best to:
* minimise disturbance of the rest of the beam
* use feed forward to alleviate the specific effects at 10Hz
It would also be good to see explicitly the effect that the switching is having.

Since FOFB is off during injection, we won't be able to run the chicanes during a fill, but topup works while the chicanes are on.</pre>
</div>
<div _hash="4a3faabbedcc0dfda6ce7a642f5d811de9550ccc" created="20140123142513000" creator="willrogers" modified="20140123142513000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I13L/1634133:1fda53787af2890d99e5b4ccf02012be037b9fd5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1634133" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I13L" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I13L" type="text/x-tiddlywiki">
<pre>This is the long beamline which extends out beyond the restaurant.</pre>
</div>
<div _hash="7eabe5c88c88ed5b2c56a635b1c29f332b148f4e" created="20140123142602000" creator="willrogers" modified="20140123142602000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I14/1634135:63947a34d094099beeeabfe732c401e2729068d8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1634135" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I14" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I14" type="text/x-tiddlywiki">
<pre>This is the new long beamline by the restaurant which will include the electron microscopy centre.</pre>
</div>
<div _hash="c166edf2910491a453b8338f14c930c5c825907d" created="20140211082017000" creator="willrogers" modified="20140211082207000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/I24/1657680:b11372392fd06de870d08f028f411f6b2baa72ad&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1657680" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="I24" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="I24" type="text/x-tiddlywiki">
<pre>* Work on foot and mouth, developing a compound which might help prevent humans from being infected.  This could potentially help with colds as well
* http://www.diamond.ac.uk/Home/Media/LatestNews/10-02-14.html</pre>
</div>
<div _hash="b8c079c0b10b8c024633047c1b2dd2d94446e484" created="20121110115404000" creator="willrogers" modified="20121110115404000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/IfcfgEth0/937559:9d2514bbb17896ee0c1f1d4221b3aa4deec59faa&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="937559" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="IfcfgEth0" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="IfcfgEth0" type="text/x-tiddlywiki">
<pre>{{{
DEVICE="eth0"
BOOTPROTO="static"
HWADDR="00:15:5D:01:E0:05"
NM_CONTROLLED="yes"
ONBOOT="yes"
DNS1="192.168.1.254"
IPADDR="192.168.1.10"
TYPE="Ethernet"
UUID="b282b7e4-ca5a-4316-8d3d-92fdcd04d19a"
}}}</pre>
</div>
<div _hash="3f1696962a1dff3028ea1a4307d8b95c3b3ceb65" created="20131111192334000" creator="jon" modified="20131111192334000" modifier="jon" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/ImageMacroPlugin/1521897:0b1570360ca1e8624f2353692d0bbcf2c7c2efa4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521897" server.permissions="read" server.recipe="willrogers_private" server.title="ImageMacroPlugin" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="ImageMacroPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|ImageMacroPlugin|
|''Version''|0.9.4|
|''Description''|Allows the rendering of svg images in a TiddlyWiki|
|''Author''|Osmosoft|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Notes''|Currently only works in modern browsers (not IE)|
|''Requires''|BinaryTiddlersPlugin|
!Usage
{{{&lt;&lt;image SVG&gt;&gt;}}} will render the text of the tiddler with title SVG as an SVG image (but not in ie where it will fail silently)
!!Parameters
width/height: specify width/height parameters
link: make the image link to a given location
tiddlyLink: link to a tiddler

!Notes
Binary tiddlers in TiddlyWeb when passed through the wikifier will be shown as images.
eg. {{{&lt;&lt;view text wikified&gt;&gt;}}} on a binary tiddler will show the image.
{{{&lt;&lt;view fieldname image&gt;&gt;}}}
will render the value of the tiddler field 'fieldname' as an image. This field can contain a tid
{{{&lt;&lt;image SiteIcon&gt;&gt;}}}
will create an image tag where the tiddler has content type beginning image and not ending +xml
will attempt to create svg object in other scenarios
{{{&lt;&lt;image /photos/x.jpg&gt;&gt;}}}
will create an image tag with src /photos/x.jpg as long as there is not a tiddler called /photos/x.jpg in 
which case it will render that tiddler as an image. Note for the case of svg files it will attempt to render as an svg if possible via the image
tag. It doesn't embed the svg in the dom for security reasons as svg code can contain javascript.
!Code
***/
//{{{
(function($) {

var macro = config.macros.image = {
	shim: "/bags/common/tiddlers/shim",
	ieVersion: config.browser.isIE ? parseInt(config.browser.ieVersion[1], 10) : false,
	svgns: "http://www.w3.org/2000/svg",
	xlinkns: "http://www.w3.org/1999/xlink", 
	svgAvailable: document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"),
	_fixPrefix: 1,
	_external_cache: {},
	_image_tag_cache: {},
	_image_dimensions: {},
	locale: {
		badImage: "This image cannot be displayed."
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler){
		var imageSource = params[0];
		// collect named arguments
		var args = macro.getArguments(paramString, params);
		this.renderImage(place, imageSource, args);
	},
	init: function() {
		var startupImages = store.getTaggedTiddlers("systemImage");
		var place = $("&lt;div /&gt;").attr("id", "systemImageArea").appendTo("body").hide()[0];
		for(var i = 0; i &lt; startupImages.length; i++) {
			var image = startupImages[i];
			macro.renderImage(place, image.title, { idPrefix: "" });
		}
		var data = new Image();
		data.onload = function() {
			// note ie 8 only supports data uris up to 32k so cannot be relied on
			macro.supportsDataUris = this.width != 1 || this.height != 1 ? false : true;
			macro.supportsDataUris = macro.ieVersion &amp;&amp; macro.ieVersion &lt; 9 ? false : macro.supportsDataUris;
		};
		data.onerror = data.onload;
		data.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
	},
	refreshImage: function(src) {
		var elements = macro._image_tag_cache[src] ? macro._image_tag_cache[src] : [];
		if(macro._image_dimensions[src]) {
			macro._image_dimensions[src] = false;
		}
		for(var i = 0; i &lt; elements.length; i++) {
			var el = $(elements[i]);
			var newSrc = "%0?nocache=%1".format(src, Math.random());
			el.attr("src", newSrc); // force reload
		}
	},
	isBinaryImageType: function(contentType) {
		return (contentType &amp;&amp; contentType.indexOf("image") === 0 &amp;&amp;
			contentType.indexOf("+xml") != contentType.length - 4) ? true : false;
	},
	isImageTiddler: function(tiddler) {
		return macro.isSVGTiddler(tiddler) || macro.isBinaryImageTiddler(tiddler);
	},
	isSVGTiddler: function(tiddler) {
		var type = tiddler ? tiddler.fields['server.content-type'] : false;
		return type == "image/svg+xml";
	},
	isBinaryImageTiddler: function(tiddler) {
		return macro.isBinaryImageType(tiddler.fields['server.content-type']);
	},
	renderImage: function(place, imageSource, options) {
		var imageTiddler = store.getTiddler(imageSource);
		var container;
		var classes = ["image"];
		if(options.link) {
			classes = classes.concat(["imageLink", "externalLink"]);
			container = $("&lt;a /&gt;").attr("href", options.link).appendTo(place)[0];
		} else if(options.tiddlyLink) {
			classes.push("imageLink");
			container = createTiddlyLink(place, options.tiddlyLink, false);
		} else {
			container = $("&lt;span /&gt;").appendTo(place)[0];
		}
		$(container).addClass(classes.join(" "));

		options = options ? options : {};
		if(imageTiddler &amp;&amp; macro.isBinaryImageTiddler(imageTiddler)) { // handle the case where we have an image url
			return macro._renderBinaryImageTiddler(container, imageTiddler, options);
		} else if(imageTiddler){ // handle the case where we have a tiddler
			return macro._renderSVGTiddler(container, imageTiddler, options);
		} else { // we have a string representing a url
			return macro._renderBinaryImageUrl(container, imageSource, options);
		}
	},
	_renderAlternateText: function(container, options) {
		var img;
		var src = options.src || "";
		if(options.width &amp;&amp; options.height) {
			img = $("&lt;img /&gt;").attr("src", src).addClass("svgImageText").attr("width", options.width).
				attr("height", options.height).appendTo(container);
		}
		var alt = options.alt;
		if(img &amp;&amp; alt) {
			img.attr("alt", alt).attr("title", alt);
		} else if(alt) {
			$(container).addClass("svgImageText").text(alt);
		}
		macro._image_tag_cache[src] = img;
	},
	_renderSVGTiddler: function(place, tiddler, options) {
		if(!options) {
			options = {};
		}
		merge(options, { tiddler: tiddler, fix: true});

		if(macro.svgAvailable) {
			this._importSVG(place, options); // display the svg
		} else if(options.altImage) {
			var image = options.altImage;
			delete options.altImage;
			this._renderBinaryImageUrl(place, image, options);
		} else {
			this._renderAlternateText(place, options); // instead of showing the image show the alternate text.
		}
	},
	_renderBinaryImageTiddler: function(place, tiddler, options) {
		var resourceURI;
		var fields = tiddler.fields;
		if(fields["server.type"] == "tiddlyweb") { // construct an accurate url for the resource
			resourceURI = "%0/%1/tiddlers/%2".format(config.defaultCustomFields["server.host"],
				fields["server.workspace"], encodeURI(fields["server.title"]));
		} else { // guess the url for the resource
			resourceURI = tiddler.title;
		}
		var ctype = fields["server.content-type"] || tiddler.type;
		var text = tiddler.text;
		if(macro.supportsDataUris &amp;&amp; ctype &amp;&amp; text.indexOf("&lt;html") == -1) {
			var uri = "data:%0;base64,%1".format(ctype, text);
			options.src = resourceURI;
			return macro._renderBinaryImageUrl(place, uri, options);
		} else if(options.src) {
			return macro._renderBinaryImageUrl(place, options.src, options);
		} else {
			return macro._renderBinaryImageUrl(place, resourceURI, options);
		}
	},
	_renderImageTag: function(container, src, width, height, options) {
		var img;
		img = $("&lt;img /&gt;").appendTo(container);
		if(height) {
			img.attr("height", height);
		}
		if(width) {
			img.attr("width", width);
		}
		if(macro.ieVersion &amp;&amp; macro.ieVersion &lt; 7 &amp;&amp; macro.shim &amp;&amp; options.ie6png) {
			$(img).css({width: userW, height: userH,
					filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='%0', sizingMethod='scale')".format(src)
				}).attr("src", macro.shim);
		} else {
			img.attr("src", src);
		}
		if(!macro._image_tag_cache[options.srcUrl]) {
			macro._image_tag_cache[options.srcUrl] = [];
		}
		img = $(img).addClass(options.imageClass)[0];
		macro._image_tag_cache[options.srcUrl].push(img);
		return img;
	},
	_getDimensions: function(realDimensions, reqDimensions, preserve) {
		var w = realDimensions.width;
		var h = realDimensions.height;
		var reqh = reqDimensions.height;
		var reqw = reqDimensions.width;
		var finalw = w, finalh = h;
		var ratiow = reqw / w, ratioh = reqh / h;
		var scaledw = ratioh * w;
		var scaledh = ratiow * h;
		if(!reqw &amp;&amp; reqh) {
			finalw = scaledw;
			finalh = reqh;
		} else if(reqw &amp;&amp; !reqh) {
			finalw = reqw;
			finalh = scaledh;
		} else if(reqh &amp;&amp; reqw) {
			var preserveWidth = w &gt; h ? true : false;
			if(preserve) {
				if(preserveWidth &amp;&amp; scaledh &lt; reqh) {
					finalh = scaledh;
					finalw = reqw;
				} else {
					finalh = reqh;
					finalw = scaledw;
				}
			} else {
				finalw = reqw;
				finalh = reqh;
			}
		}
		return { width: parseInt(finalw, 10), height: parseInt(finalh, 10) };
	},
	_renderBinaryImageUrl: function(container, src, options) {
		var srcUrl = options.src ? options.src : src;
		srcUrl = srcUrl.indexOf("/") === -1 ? "/%0".format(srcUrl) : srcUrl; // for IE. 
		var image_dimensions = macro._image_dimensions[srcUrl];
		var image = new Image(); // due to weird scaling issues where you use just a width or just a height
		var createImageTag = function(dimensions, error) {
			if(error) {
				var altImage = options.altImage;
				if(altImage) {
					delete options.altImage;
					macro._renderBinaryImageUrl(container, altImage, options);
				} else {
					options.src = src;
					macro._renderAlternateText(container, options);
				}
			} else {
				var dim = macro._getDimensions(dimensions, { 
					width: options.width, height: options.height }, options.preserveAspectRatio);
				options.srcUrl = srcUrl;
				macro._renderImageTag(container, src, dim.width, dim.height, options);
			}
		};

		if(!image_dimensions) {
			image.onload = function() {
				var dimensions = { width: image.width, height: image.height};
				macro._image_dimensions[srcUrl] = dimensions;
				createImageTag(dimensions);
			};
			image.onerror = function() {
				createImageTag(null, true);
			};
			image.src = src;
		} else {
			createImageTag(image_dimensions);
		}
	},
	_generateIdPrefix: function(){
		return "twsvgfix_" + (this._fixPrefix++).toString() + "_";
	},
	_fixSVG: function(childNodes, idPrefix) {
		var urlPattern = /url\(\#([^\)]*)\)*/ig;
		var fixes = [
		{ attr: "id", pattern: /^(.*)$/ig },
		{ attr: "href", namespace: macro.xlinkns, pattern: /^#(.*)$/ig }
		];
		var url_fixes = ["filter", "fill", "mask", "stroke", "style"];
		for(var i = 0; i &lt; url_fixes.length; i++) {
			fixes.push({ attr: url_fixes[i], pattern: urlPattern });
		}
		for(var t = 0; t &lt; childNodes.length; t++) {
			var node = childNodes[t];
			for(var a = 0; a &lt; fixes.length; a++) {
				var fix = fixes[a];
				var attr = fix.attr;
				var ns = fix.namespace || "";
				if(node.hasAttributeNS &amp;&amp; node.hasAttributeNS(ns, attr)) {
					var v = node.getAttributeNS(ns, attr);
					fix.pattern.lastIndex = 0;
					var match = fix.pattern.exec(v);
					if(match) {
						// Make sure replacement string doesn't contain any single dollar signs
						var toReplace = match[1];
						if(toReplace.indexOf(idPrefix) !== 0 &amp;&amp; toReplace.indexOf("twglobal_") !== 0) {
							var replacement = (idPrefix + toReplace).replace("$", "$$$$"); 
							v = v.replace(match[1], replacement);
						}
						node.setAttributeNS(ns, attr,v);
					}
				}
			}
			var children = node.childNodes;
			if(children.length &gt; 0) {
				this._fixSVG(children, idPrefix);
			}
		}
	},
	_importSVG: function(place, options){
		options = options ? options : {};
		var svgDoc, tiddlerText = options.tiddler.text;
		if (window.DOMParser) {
			svgDoc = new DOMParser().parseFromString(tiddlerText, "application/xml").documentElement;
			var idPrefix = options.idPrefix || this._generateIdPrefix();
			this._fixSVG([svgDoc], idPrefix);
			var el = document.importNode(svgDoc, true);
			var svgHolder = document.createElementNS(macro.svgns,"svg");
			var width = options.width;
			var height = options.height;
			if(width || height) {
				if(width &amp;&amp; height) { // set view box of containing svg element based on the svg viewbox and width and height.
					var viewBox = el.getAttribute("viewBox");
					var topLeft = "0 0";
					if(viewBox) {
						topLeft = viewBox.replace(/([0-9]*) +([0-9]*) +([0-9]*) +([0-9]*) */gi,"$1 $2");
					}
					svgHolder.setAttributeNS(macro.svgns, "viewBox", "0 0 %0 %1".format(width, height));
				} else {
					if(!width) {
						width = el.getAttribute("width");
					}
					if(!height) {
						height = el.getAttribute("height");
					}
				}
				svgHolder.setAttribute("width", width);
				svgHolder.setAttribute("height", height);

				el.setAttribute("width", "100%");
				el.setAttribute("height", "100%");
				svgHolder.setAttribute("class", "svgImage svgIcon %0".format(options.imageClass || ""));
				svgHolder.appendChild(el);
				place.appendChild(svgHolder);
			}
			else {
				var existing = el.className ? el.className.baseVal : "";
				el.setAttribute("class","svgImage %0".format(existing));
				place.appendChild(el);
			}
			// if a tiddler attribute is set this is read as a link
			$("[tiddler], [tiddlyLink]", place).attr("refresh", "link").click(function(ev) {
				var tiddler = $(ev.target).attr("tiddlyLink");
				if(tiddler) {
					story.displayTiddler(ev.target, tiddler);
				}
			});
		}
	},
	getArguments: function(paramString, params) {
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var options = {};
		for(var id in args) {
			if(true) {
				var p = args[id];
				if(id == "def") {
					options[id] = p;
				} else {
					options[id] = p[0];
				}
			}
		}
		var width = isNaN(params[1]) ? false : parseInt(params[1], 10);
		var height = isNaN(params[2]) ? false : parseInt(params[2], 10);

		options.width = macro.lookupArgument(options, "width", width);
		options.height = macro.lookupArgument(options, "height", height);
		options.preserveAspectRatio = args.preserveAspectRatio &amp;&amp; 
			args.preserveAspectRatio[0] == "yes" ? true : false;
		options.tiddlyLink = macro.lookupArgument(options, "tiddlyLink", false);
		options.link = macro.lookupArgument(options, "link", false);
		return options;
	},
	lookupArgument: function(args, id, ifEmpty) {
		return args[id] ? args[id] : ifEmpty;
	}
};

// update views
var _oldwikifiedview = config.macros.view.views.wikified;
// update wikifier to check tiddler type before rendering
merge(config.macros.view.views, {
	wikified: function(value, place, params, wikifier, paramString, tiddler) {
		if(macro.isImageTiddler(tiddler) &amp;&amp; params[0] == "text") {
			var newplace = $("&lt;div /&gt;").addClass("wikifiedImage").appendTo(place)[0];
			macro.renderImage(newplace, tiddler.title, { alt: macro.locale.badImage });
		} else {
			_oldwikifiedview.apply(this, arguments);
		}
	},
	image: function(value, place, params, wikifier, paramString, tiddler) {
		// a field can point to another tiddler whereas text is the current tiddler.
		var title = params[0] == "text" ? tiddler.title : value;
		var args = macro.getArguments(paramString, params);
		macro.renderImage(place, title, args);
	}
});
config.shadowTiddlers.StyleSheetImageMacro = [".wikifiedImage svg, .wikifiedImage .image { width: 80%; }",
	".svgImageText { background-color:[[ColorPalette::Error]]; color:#ddd; display: inline-block; }",
	"span.svgImageText { display: inline-block; overflow: hidden; }"
].join("");
store.addNotification("StyleSheetImageMacro", refreshStyles);

})(jQuery);
//}}}</pre>
</div>
<div _hash="32e2e4674ed36884a0e146f2436edcc40eaab60f" created="20111019073216000" creator="willrogers" modified="20111019073648000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/InfrastructureSummary/364205:b5bdf2ebe32b4b443f417eafb3578258d810c8a7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364205" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="InfrastructureSummary" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="InfrastructureSummary" type="text/x-tiddlywiki">
<pre>Laurence Field

Messaging investigation for APEL (DGAS input welcome)
Messaging guidelines online, live, but will be considered final at month 22.

Infastructure Area Consolidation:
* GLUE 2.0
** 3/8 
* EMIR
** Prototype available - good progress
** Interfaces agreed
* ERIS - EMI Resource Information Service

* SL6, Debian 6
* Accounting
** Usage Records being consolidated - Andrea's work (CAR and StAR)
** Usage Records publising via messaging - progressing well (us!)
** Cristina's report complete - one of the objectives
* Problem: investigation into Service Monitoring and Management

Infrastructue are topics are somewhat miscellaneous, so they don't have many common ideas.</pre>
</div>
<div _hash="578425e933776d38270d2b18433827cc2de17510" created="20111028154948000" creator="willrogers" modified="20111130154031000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JavaAnt/364214:3d427e6692f958b7ac1b444eef577fe5f054feb6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364214" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JavaAnt" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="ant java" title="JavaAnt" type="text/x-tiddlywiki">
<pre>!Ant

Ant is a Java build tool that I've never had that much experience with.  I think it would be a very good idea to get to grips with it.

!!Introduction
Ant is a Java build tool which has much the same idea as 'make' (the build tool for C).  You write an XML file called build.xml, then run 'ant' and it will do everything you've told it to - i.e. compile classes, run tests, clean, create a jar file.

It is an Apache project and so is open source.  It is written in Java and distributed as a jar file, which means that it is more-or-less platform independent.  It is designed to be flexible and extensible.

!!The basics

You write a build file called build.xml.  It includes the name of the project and a number of targets.  Each target is something you want to do, eg clean or compile.  One of the targets is the default, executed when you run the command 'ant'.  For others, run 'ant &lt;target-name&gt;'.

APEL core has the following targets: clean, init, compile, localdistbin, install, latex, runlatex, doc, compiletest, unittest.

The ant build file can substitute properties, denoted within ${...}.  In apel core, the properties come from a file {{{project/build.properties}}}.  These are all simple, but it does still reference other properties (e.g. ${log4j.location}).  Those other properties are supplied when ant is run:





</pre>
</div>
<div _hash="1bf32e0743db51a4006fab0921c18ec0e10b2307" created="20120112142151000" creator="willrogers" modified="20120112172041000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JavaClasspath/364220:7c9cb8028cdc98127a777afdbc5efc946c61bea6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364220" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JavaClasspath" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JavaClasspath" type="text/x-tiddlywiki">
<pre>Java, javac and classpaths and stuff remain a bit of a mystery to me, just because they are usually handled by IDEs etc.

!!javac
* Specify the classpath for jar files, and {{{.java}}} files at the end which you want to compile.
{{{
javac -classpath lib/log4j-1.2.16.jar:lib/mysql-connector-java-5.1.6.jar src/topology/*.java
}}}
!!java
* Specify the classpath and the main class you want to start running from
{{{
java -cp lib/mysql-connector-java-5.1.6.jar:lib/log4j-1.2.16.jar:lib/topology.jar -Dapel.properties=config/configuration2.properties topology.Main
}}}
You can pass properties to the VM using -D.
!!Classpath
The classpath is used by both {{{java}}} and {{{javac}}}:
{{{java -cp &lt;locations&gt; &lt;main class&gt;}}}
* Different locations in the classpath are separated by colons (on Linux; they may be semicolons on Windows).
* The classpath can include {{{.class}}} files and {{{.jar}}} files

!!jar
The command {{{jar}}} is used to create jar files, requiring the {{{.class}}} files to have been compiled first.  If you want to run the jar directly, you need to specify the main class while you're building the jar, but see the note below.  So:
{{{
jar cf topology.jar topology/*.class
}}}
or 
{{{
jar cfe topology.jar topology.Main topology/*.class
}}}
where 'e' specifies the entry class.

To run a jar, you can use:
{{{
java -jar topology.jar
}}}
For this to work, you have to have specified a main class.
''Note:'' {{{java -jar -cp ...}}} doesn't work!  It just ignores the classpath.  You can just put the jar file you want to run on the classpath and specify the main class instead.
</pre>
</div>
<div created="20140812150312486" creator="WillRogers" modified="20140812152048884" modifier="WillRogers" title="JavaGenerics">
<pre>Java uses generics in order to make classes with varying types without having to have multiple implementations.  The classic example is `List&lt;T&gt;` - you can have a list of whatever type you like, but the behaviour is the same.

Some notation:

* `Class&lt;? extends T&gt;` - T or any descendant of T
* `Class&lt;? super T&gt;` - T or any ancestor of T
* `Class&lt;?&gt;` - an unspecified class.  This is useful for when you want to accept a generic in a function, but you can't specify the type.</pre>
</div>
<div _hash="18168a5f1a1005c7ee672206730dcc943e5d4580" created="20140317221926000" creator="willrogers" modified="20140812164525227" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JavaKeywords/1826530:1c6c8931e71933049d43cff44fdc066b2bb7dc79&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1826530" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JavaKeywords" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JavaKeywords" type="text/vnd.tiddlywiki">
<pre>`true`, `false` and `null` are literals rather than keywords.

`...` is Java's version of varargs.  You may have one instance of varargs in a method call, and it must come at the end:

```
    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {
        return new ArrayList&lt;&gt;(a);
    }
```

!!!!?
`transient`
`volatile` 
`synchronised`

* `native` - shows that a method is implemented using the JNI
* `strictfp` - guarantees the same floating point result on all platforms.  Likely to be slower or less accurate than otherwise

!!!!Types
`boolean`
`short`
`int`
`long`
`float`
`double`
`char`
`byte`
`void`

!!!!Object orientation
`class`
`interface`
`enum`
`extends`
`implements`
`abstract`
`package`
`import`
`instanceof`
`new`
`super`
`static`
`this`
`return`

!!!!Flow control
`for`
`do`
`if`
`else`
`while`
`break`
`continue`
`switch`
`case`
`default`

!!!!Exceptions
`try`
`catch`
`finally`
`throw`
`throws`

!!!!Access control

* `public`
* `protected` - package plus subclasses
* `private`
* `final`:
** a class can't be subclassed
** a method can't be overridden
** a variable reference can't be changed (though the object in the reference can be changed)

!!!!Unused
`const`
`goto`
</pre>
</div>
<div _hash="dd07a9d8381517c0bf8a3aa69d491e7fbdd438ce" created="20140714095937000" creator="willrogers" modified="20140714095937000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JavaMaven/1828247:ad7b42b9c588824ba6b039d0d204569a4b74fd90&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1828247" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JavaMaven" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JavaMaven" type="text/x-tiddlywiki">
<pre>Maven is a tool for building Java projects.  Its main benefit is resolving dependencies, from Maven central or other repositories.</pre>
</div>
<div _hash="9cb8d2666f4125e11d36c8e82a27bd0ac858e1de" created="20140317194357000" creator="willrogers" modified="20140812150301429" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JavaNotes/1828246:7ec2d1f787fec879369bf6f3a07594224f8e5d5e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1828246" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JavaNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JavaNotes" type="text/vnd.tiddlywiki">
<pre>A very good Java style guide for Android: http://source.android.com/source/code-style.html.

* EffectiveJava
* JavaKeywords
* JavaGenerics
* JavaAnt
* JavaMaven</pre>
</div>
<div _hash="fff47ff85f026992d4f70cdc9ed0eada704fd035" created="20131018195301000" creator="willrogers" modified="20131018201159000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JavaScript/1468463:8f2e7ca3e3e4429918900910e8eaeb39e912612c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1468463" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JavaScript" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JavaScript" type="text/x-tiddlywiki">
<pre>The basic syntax is simple:

* Comments: {{{//}}}
* "string".length
* {{{6 * 3 / 7}}}, {{{3 + (4 - 2)}}}
* {{{var myAge = 23;}}}

!!Interaction
* {{{confirm("message");}}}
* {{{prompt("message");}}}
* {{{console.log("message");}}}

!!Types
* "Strings"
* Numbers: {{{4, 4.3}}}
* Boolean: {{{true}}} and {{{false}}}
** Comparisons: {{{&gt;, &lt;, &gt;=, &lt;=, ===, !==}}}

!!Strings
* {{{"hello".substring(0,2)}}} -&gt; "he"

!!Control flow
{{{
if ( condition ) 
{
   // do this
} 
else 
{
 // do this instead
}
}}}</pre>
</div>
<div _hash="26c4002125f179a8b76d09c86f674de7d828231c" created="20140226084750000" creator="willrogers" modified="20140226161942000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JFace/1672789:ccc6d5fd55e432a0cc6ab699d722d5569fb43919&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1672789" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JFace" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JFace" type="text/x-tiddlywiki">
<pre>JFace is part of the Eclipse library.  It is a UI toolkit designed to work with SWT.  Important parts are
* actions - things a user might want to do, allowed to be independent from a particular part of the UI
* viewers - adapters to help models look uniform to views

Here's the Eclipsepedia page: http://wiki.eclipse.org/JFace</pre>
</div>
<div _hash="7342d1b2227a92fac32a0491c381d5d87ab61071" created="20111018121936000" creator="willrogers" modified="20111018121936000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JGApelTalk/364206:34ec0df2a9018f4ca4e8787e624d72607c8bd730&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364206" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JGApelTalk" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JGApelTalk" type="text/x-tiddlywiki">
<pre>!!APEL, EMI, etc

!!!What we've got
* CE -&gt; Local DB -&gt; Publisher via messaging -&gt; Central DB -&gt; Portal
* DGAS -&gt; DGAS repositories -&gt; APEL via DB insert -&gt; Portal with APEL stuff
* ARC CE -&gt; SGAS -&gt; APEL via DB insert -&gt; Portal
* OSG -&gt; GRATIA -&gt; APEL via DB insert -&gt; Portal
* Some sites -&gt; APEL 
* All EGI VOs
* LHC VOs
* Other partner VOs
* All to the portal.
* 10^9 jobs

!!!Version 2 messaging -&gt; SSM
* Skipped over a few slides of mine.
* Other systems are moving to using the SSM
* Unicore accounting system - does it publish to us?
* IGE - Globus - GridSAFE - should it publish to us?  Does it? Are we working with them?
* Germany - will they publish to us?
* ARC but not DGAS -&gt; APEL?

!!!Other accounting
* Accept XML?
* New types of record with new DB table
* Storage accounting to come?
* How do they publish?
* Clouds, Virtualisation, Applications, Data Centre Use, MPI, Services ... ?
* What do you need to account something?
** UR, with agreement
** Gather data
** Publish data to an accounting infrastructure
** Decide on workflow
** Decide on what you want to see...</pre>
</div>
<div _hash="31fe236284c59b56060a5ff339f47fa2477f01ce" created="20120401122329000" creator="willrogers" modified="20120401122329000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/JobSources/662801:5807bb4c762cdf7ba36a6fafec22751e957f5250&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="662801" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="JobSources" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="JobSources" type="text/x-tiddlywiki">
<pre>* jobsite.co.uk
* Gumtree Oxford
* careers.stackoverflow.com</pre>
</div>
<div _hash="6cc33d57ea28d546e93d538c29e07598678da23c" created="20120901101101000" creator="willrogers" modified="20121027194828000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LaptopProcessors/920111:5bccff212ba13f303ce64e134d452774f9c4c338&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="920111" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LaptopProcessors" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LaptopProcessors" type="text/x-tiddlywiki">
<pre>See NewLaptop.

The Intel Core range seems to be the best at the moment.  The scores below are taken from the Passmark site.
[[Notebookcheck.net|http://www.notebookcheck.net/Mobile-Processors-Benchmarklist.2436.0.html]] also provides a good benchmark.

!!Intel Core
1st generation processors aren't really available now.  The 2nd-generation ones begin with a 2 and the 3rd-gen ones with a 3.  M denotes mobile, Q denotes quad-core and U low power, for ultrabooks

| '''Core i7''' | | '''Core i5''' | | '''Core i3''' | |
| 3610QM | 8377 | | | | |
| 3612QM | 7618 | | | | |
| 2670QM | 6780 | | | | |
| 3520M | 4592 | | | | |
| 3517U | 3904 | | | | |
| | | 3210M | 3961 | | |
| | | 2450M | 3584 | | |
| | | 3317U | 2931 | | |
| | | | | 2350M | 2934 |
| | | | | 2330M | 2714 |
| | | | | 2310M | 2623 |

!!AMD
Few AMD laptop processors get to these numbers in the passmark ratings, but here are a couple:
* A8-4500M - 4204
* A10-4600M - 5130
</pre>
</div>
<div _hash="ce3b8c45ac1903d74f6ef3cee5086bd7ed2b560f" created="20140324135538000" creator="willrogers" modified="20140425173053000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LauncherProgram/1731782:f78d6c2636ddbb1eb38b54aacc0073defa514662&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1731782" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LauncherProgram" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LauncherProgram" type="text/x-tiddlywiki">
<pre>See also PyGtk

!!Source
The source code is found at {{{$SVN_ROOT/etc/trunk/prod/Launcher}}}. 
!!Program
The program is in the following files: 
* {{{launcherCommon.py}}} - common code between the two interfaces
** {{{xmlFile}}} handles parsing {{{applications.xml}}}
** {{{launcherCommon}}} is a base class for the launcher applications
** it holds a list of xmlFile objects, one for each {{{applications.xml}}} file that it can find
* {{{launcherApplication.py}}} - the standalone application - this is a Qt ~QTreeWidget
* {{{launcherStatus.py}}} - the status bar version - this is a GTK Menu
** both of these have two parents, which makes the code a little tangled

The implementation seems quite tied to the two widgets that are being created; the model cannot easily be extracted.

</pre>
</div>
<div _hash="036b0b77b5433ccde252be17b9ec53d30eff58e8" created="20131211111941000" creator="willrogers" modified="20131213075121000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LauncherScripts/1594436:d6feed5f92144e3ce0498632fe4f01a597d4e28a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1594436" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LauncherScripts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LauncherScripts" type="text/x-tiddlywiki">
<pre>Inside the launcher module, there are many scripts used for custom launching of programs.

!!Unused
* {{{feGui}}} - Ian Gillingham
* {{{feqt4gui.sh}}} - Ian Gillingham
* {{{edmserver.sh}}} - Tom Cobb
* {{{FrontEnd.sh}}} - Tom Cobb (?)
* {{{gatewaystat.sh}}} - Tom Cobb (?)
* {{{runportnopthread.sh}}} - James Rowland
* {{{srCellVacuum}}} - Ian Gillingham
* {{{storePanel.sh}}} - Tom Cobb (?)
* {{{striparchive.sh}}} - James Rowland

!!Scripts that don't end in {{{.sh}}}
* {{{feGui}}}
* {{{waveRunner6050A}}} - data?
* {{{launch_synoptic.py}}}


| ''Name'' | ''Last updater'' | ''Date'' | ''Refs in apps.xml'' | ''Comments'' |
| applications.xml | Vince Winter | Wed Nov 27 12:39:17 2013 +0000 | 1 | |
| archiveview2.sh | James Rowland | Wed Oct 5 10:05:35 2011 +0000 | 1 | |
| archiveview.sh | James Rowland | Wed Oct 5 10:05:35 2011 +0000 | 6 | |
| blank.gif | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| BR-RF-IOC-01.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| bsVacuum.sh | Ian Gillingham | Mon Nov 12 11:43:11 2012 +0000 | 1 | |
| burtinter.sh | Steve Singleton | Tue Aug 21 14:53:07 2012 +0000 | 1 | |
| caen.sh | Steve Kinder | Fri Aug 31 13:12:02 2012 +0000 | 1 | |
| CIAtemps.sh | Paul Hamadyk | Wed Nov 21 08:19:40 2012 +0000 | 1 | |
| CryoPLC.sh | Paul Hamadyk | Thu Nov 22 14:15:50 2012 +0000 | 1 | |
| diamond.css | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| DriveAmps.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 4 | |
| edmserver.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| feGui | Ian Gillingham | Fri Aug 30 10:46:20 2013 +0000 | 0 | |
| feqt4gui.py | Ian Gillingham | Tue Aug 20 10:01:29 2013 +0000 | 26 | |
| feqt4gui.sh | Ian Gillingham | Thu Jan 3 15:34:56 2013 +0000 | 0 | |
| findIcons.py | Tom Cobb | Wed Aug 31 11:05:26 2011 +0000 | 0 | |
| from_configure_ioc.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 54 | |
| FrontEnd_QT.sh | Ian Gillingham | Wed Nov 7 11:54:52 2012 +0000 | 25 | |
| FrontEnd.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| FrontEnd_summary.sh | Ian Gillingham | Mon Mar 19 14:06:35 2012 +0000 | 25 | |
| gatewaystat.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| hc1.sh | Ronaldo Mercado | Tue Oct 8 16:16:50 2013 +0000 | 10 | |
| icons | Tom Cobb | Fri Nov 25 14:49:30 2011 +0000 | 0 | |
| idedm.sh | Austen Rose | Thu Nov 21 16:01:08 2013 +0000 | 1 | |
| installLauncher.sh | Tom Cobb | Thu Nov 22 11:14:45 2012 +0000 | 1 | |
| latest-edm-path-3.14.11.sh | Ian Gillingham | Fri Nov 15 11:07:56 2013 +0000 | 0 | used in other scripts |
| latest-edm-path.sh | Ian Gillingham | Fri Feb 18 08:16:00 2011 +0000 | 0 | used only in {{{feGui}}} |
| launcherApplication.py | Nick Rees | Thu Jul 11 08:48:34 2013 +0000 | 0 | |
| launcherCommon.py | Tom Cobb | Wed Oct 24 14:55:24 2012 +0000 | 0 | |
| launcherStatus.py | Tom Cobb | Mon Apr 15 08:22:00 2013 +0000 | 0 | |
| launch_synoptic.py | Tom Cobb | Thu Jun 14 15:52:29 2012 +0000 | 0 | used in {{{password_synoptic.sh}}} |
| lbVacuum.sh | Ian Gillingham | Mon Nov 12 11:43:11 2012 +0000 | 1 | |
| LI-ACCEL.sh | Keith Baker | Fri Oct 12 10:44:00 2012 +0000 | 2 | |
| limitedAccess.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 1 | |
| linacVacuum.sh | Ian Gillingham | Mon Nov 12 11:43:11 2012 +0000 | 1 | |
| LI-TI-IOC-01.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| log.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 3 | |
| makeAutostartLauncher.sh | Tom Cobb | Mon Apr 15 08:08:17 2013 +0000 | 0 | |
| Makefile | Tom Cobb | Tue Oct 16 12:40:28 2012 +0000 | 0 | |
| MasterOsc.sh | Paul Hamadyk | Fri Jul 5 08:03:03 2013 +0000 | 1 | |
| minus.gif | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| MPS.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| nested.xsl | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| NewDiamondLogo.gif | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| nothing.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | utility script |
| openedmport.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 29 | |
| openedm.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 1 | |
| password_synoptic.sh | Emma Shepherd | Wed Apr 13 11:43:17 2011 +0000 | 5 | |
| plus.gif | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| psc.sh | Steve Kinder | Thu Nov 14 10:52:52 2013 +0000 | 1 | |
| pss.sh | Keith Baker | Tue Jun 7 15:13:32 2011 +0000 | 591 | |
| readme.txt | Tom Cobb | Wed Oct 24 14:55:24 2012 +0000 | 0 | |
| RFoverview.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| RFvacuum.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| RFwindowBake.sh | Paul Hamadyk | Wed Nov 6 14:06:50 2013 +0000 | 2 | |
| RT-RF-IOC-01.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| RT-RF-LLRF-01.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| RTVacuum.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| runarchiver.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 1 | |
| runcss.sh | James Rowland | Mon May 21 16:31:18 2012 +0000 | 1 | |
| runDiEdm.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 7 | |
| runportnopthread.sh | James Rowland | Mon Jun 11 13:07:34 2012 +0000 | 0 | |
| runport.sh | James Rowland | Mon Jun 11 13:07:34 2012 +0000 | 11 | |
| SCMPW.sh | Keith Baker | Tue Jul 23 09:45:29 2013 +0000 | 3 | |
| screenrc | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| septumTemperatures.sh | Steve Kinder | Wed Nov 13 17:42:48 2013 +0000 | 1 | |
| show-spectrum | Michael Abbott | Thu Mar 22 15:41:43 2012 +0000 | 1 | could convert to f-c-i.sh? |
| spawn.js | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| spawn.sh | Tom Cobb | Thu Nov 22 11:14:45 2012 +0000 | 0 | utility script |
| SR-cavity.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| srCellVacuum | Ian Gillingham | Mon Aug 19 09:07:09 2013 +0000 | 24 | unused - false matches |
| srCellVacuum.sh | Ian Gillingham | Tue Mar 8 09:00:49 2011 +0000 | 24 | |
| SR-LN2.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| SR-RF-LLRF-01.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| SR-RF-LLRF-02.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| SR-RF-LLRF-03.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 1 | |
| SR-RF-PSU-01.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 2 | |
| SR-RF-PSU-02.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 2 | |
| SR-RF-PSU-03.sh | Paul Hamadyk | Thu Nov 22 12:53:38 2012 +0000 | 2 | |
| startgdaclient.sh | Tom Cobb | Fri Nov 25 14:49:30 2011 +0000 | 1 | |
| startgdalog.sh | Tom Cobb | Fri Nov 25 14:49:30 2011 +0000 | 1 | |
| startgdaservers.sh | Tom Cobb | Fri Nov 25 14:49:30 2011 +0000 | 1 | |
| storePanel.sh | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 0 | |
| striparchive.sh | James Rowland | Mon Jun 11 13:07:34 2012 +0000 | 0 | |
| striptool.sh | James Rowland | Mon Jun 11 13:07:34 2012 +0000 | 1 | |
| tdms.sh | Paul Hamadyk | Fri Aug 27 07:52:13 2010 +0000 | 1 | |
| vacuumAlh.sh | Ian Gillingham | Mon Nov 12 11:43:11 2012 +0000 | 1 | |
| vacuum.sh | Ian Gillingham | Tue Mar 8 09:00:49 2011 +0000 | 14 | |
| waveRunner6050A | Tom Cobb | Fri Aug 13 15:45:38 2010 +0000 | 10 | |
</pre>
</div>
<div _hash="1934c3da86b3581351fbeb57ad358e3b00a775e9" created="20110712083911000" creator="willrogers" modified="20120607085617000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LdapBdii/735046:84f7c86c2d31c3c4ed1aecadf0e3dadabee2a95c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="735046" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LdapBdii" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LdapBdii" type="text/x-tiddlywiki">
<pre>Two things I don't know about which are related.  I've also made some notes on BerkeleyDB, which I think can underly both LDAP and BDII.

!!LDAP
LDAP stands for 'lightweight directory access protocol'.  This is a quote from Wikipedia: The Lightweight Directory Access Protocol (LDAP) is an application protocol for accessing and maintaining distributed directory information services over an Internet Protocol (IP) network.

It sort of claims that any data structure can be represented, but I definitely find it easiest to think of a tree-like structure.  Each node on the tree is an 'entry', which has a DN to refer to it ambiguously.  The entry can have a number of attributes, which are key-value pairs.  You can add and delete entries from the directory, but usually used for querying the directory.

A good way to browse LDAPs is the Softerra LDAP browser, which is free.  The python library is [[python-ldap|http://python-ldap.org/docs.shtml]], which seems to be available on both Debian and SL5.

!!!~DNs
A distinguished name (DN) in LDAP is an unambiguous way of specifying some item in the tree structure, such as the full file path on Linux.  I'm more familiar with the ~DNs in certificates, but these are just an unambiguous way of specifying uniquely my certificate in a similar tree-like structure.  Once you've specified a DN, you can use relative paths to unambiguously refer to other items.

!!!LDAP ~URLs

An LDAP URL looks like this:
{{{
ldap://host:port/DN?attributes?scope?filter?extensions
}}}



!!!Filters
[[This RfC|http://tools.ietf.org/html/rfc4515]] defines the filters, but it's not very user-friendly.
This filter is one used by the get_brokers module, starting from the DN {{{o=grid}}}.
{{{
(&amp;(objectClass=GlueService)(GlueServiceType=msg.broker.stomp))
}}}
This is another:
{{{
(&amp;(GlueServiceDataKey=cluster)(GlueChunkKey=GlueServiceUniqueID=' + broker_id + '))
}}}

Using Softerra LDAP browser, I finally made a filter work: 
{{{
(&amp;(objectClass=GlueService)(GlueServiceType=*))
}}}

!!BDII
BDII (Berkeley Database Information Index) seems to be a sort of LDAP.  It's not exactly big-time - it's only got a tiny Wikipedia page.  It's definitely a CERNy thing, and I'm not sure it's widely used.  As for what it does, it seems to store information about sites, again in a tree-like structure.  For example, there's the CERN 'top BDII' which points to individual sites' BDIIs or GIISs or GRISs.  

Here's an EGEE page about the whole thing: http://egee-uig.web.cern.ch/egee-uig/production_pages/QueryingInfoSystem.html.  It shows how the top-level ~BDIIs are more-or-less equivalent - i.e. they contain much the same data, although I don't think they are likely to be exactly the same.

The information stored in BDIIs conforms to the GLUE schema, so you can use the schema to build queries to retrieve the information you need.

Alison looks after bdii.ngs.ac.uk, which has information about the sites in the NGS.  Because of the sort-of peer-to-peer nature of the BDIIs, it also has information about other sites, but it's only the definitive source for the NGS.  Client sites need to be represented in this and will raise tickets if they're not.

!!GLUE Schema
I can't find a good page describing the GLUE schema.  It's a schema which defines what must or can be present in the BDII LDAP.  This PDF is the definition of the schema, I think, but it's not very readable to a beginner: http://www.ogf.org/documents/GFD.147.pdf.  So I'm going to have a look through the CERN top BDII to see what I can find in there, to see if it's enlightening.

When I connect using LDAP browser to connect to lcg-bdii.cern.ch:2170, it gives me the choice of certain base DNs: {{{o=grid}}}, {{{o=glue}}}, {{{o=infosys}}}, {{{o=shadow}}}.  I get results from my brokers query from {{{o=grid}}} and {{{o=shadow}}}, but not the others.  I sort of assume that the real information is under {{{o=grid}}}, but I'm not exactly sure why I think that.

Under {{{o=grid}}}, I find {{{Mds-Vo_name=local}}} and {{{Mds-Vo_name=resource}}}.  The latter seems to have information about the BDII itself, and the former seems to contain everything else.

Under {{{Mds-Vo_name=local}}}, there are lots of entries, apparently one per site.  So as an example, I looked at {{{Mds-Vo-name=RAL-LCG2}}}.  This in turn has probably 200 entries for different things such as {{{GlueServiceUniqueID=...}}} and {{{GlueCEUniqueID=...}}}.  The message brokers we're looking at have their info under ~GlueServiceUniqueID, so an example DN is:
{{{
GlueServiceUniqueID=gridmsg105.cern.ch_msg.broker.stomp_1218648947,Mds-Vo-name=CERN-PROD,Mds-Vo-name=local,o=grid
}}}

!!GRIS and GIIS 
These appear to be like BDIIs but somehow at a lower level - a CE may run a GIIS.  But don't quote me on that.
These may be like BDIIs, but with less responsibility and less information - sort of lower down in the tree.</pre>
</div>
<div _hash="0669e07e4fc9642e1094c14a181669485a8ecda8" created="20110901091052000" creator="willrogers" modified="20140804084522997" modifier="WillRogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxCommands/1635698:c6dea8b9af934825e19b1073ab2226e9b46356f2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1635698" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxCommands" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash linux" title="LinuxCommands" type="text/vnd.tiddlywiki">
<pre>See http://www.greenend.org.uk/rjk/tech/shellmistakes.html

* `which &lt;command&gt;` - shows which executable is run for a command
* `whatis &lt;command&gt;` - shows some information about a command
* `file &lt;file&gt;` - shows some information about a file
* `type -a &lt;command&gt;` - like which, but more information on aliases, functions etc.
* `man -k &lt;word&gt;` - shows man pages which include `&lt;word&gt;`
* `history` - shows the available command history - you can rerun a command from the history using `!&lt;number&gt;`
* `bash -x &lt;file&gt;` or ` set -x ` in a script - show commands run and their arguments
* SedAndAwk
* `uniq` - remove adjacent lines which are duplicates.  To get only unique lines, try `sort | uniq`
* `users` - list logged in users; `who` is more informative.  To see all possible users, look at `/etc/passwd`.
* `lsof` - a useful command saying which files are open, with many many options.  This post is good: http://www.catonmat.net/blog/unix-utilities-lsof/
* `read` - pauses to let a user type in a variable.  You can read more than one variable, separated by spaces: `read v1 v2`
* `stty -echo` - turns off output to the console.  `stty echo` turns it back on.
* `cut` - used to divide columns by delimiters or number of chars: `cut -d " " -f 1,3`
* `tee &lt;filename&gt;` - redirect to a file and also print to terminal
* `hash` - show commands run in the current session - the hash table is a quicker way of getting that command than searching the path
* `ls` - `-R` for recursive, `-h` human-readable, `-r` reverse order, `-t` time order, `-F` to show an extra character for directories (/), executables (*), links (@)
* `mkdir -p` - make any necessary subdirectories
* `chown -R &lt;user&gt;:&lt;group&gt; &lt;files&gt;` - `-R` is recursive
* `tr` - you can use this for substituting different characters in strings or files in a sed-like fashion
* `patch -p0 &lt; &lt;patchfile&gt;` - apply the patch (e.g. what's produced by `diff` or `svn diff`) to the specified file.
* `dmesg` - show logging from startup of system
* `readlink -f &lt;file&gt;` - show full path of file including filename
* LinuxLinks
* FindLocate

!!!Jobs
When you run a command from the terminal, you only get control back when the command terminates.  You can set the command running in the background by appending `&amp;` to the command.
* `Ctrl-Z` pauses the job and returns control to you.
* `jobs` lists all the jobs known in that session
** `+` signifies the 'current' job, used as the default if not supplied
** `-` signifies the next job in the queue
* `bg &lt;job&gt;` will start a job running in the background, useful if you've paused it with `Ctrl-Z`
* `fg &lt;job&gt;` will start the job running in the foreground
* `disown %&lt;job&gt;` - remove the job from the list of jobs


!!!Processes
* `ps` - list processes, with a million options
* `pgrep` - list pids of the listed program
** `pgrep -f` - searches the whole command rather than just the program
* `pkill` - kills all the programs listed by pgrep (you can specify the signal to be sent e.g. -9)

!!!Networking
* `nslookup` - query internet nameservers:
** `nslookup apel-dev` will give you the IP address of apel-dev.esc.rl.ac.uk
* `traceroute &lt;address&gt;` will give you a list of the places visited on the way to that address
** things in .esc.rl.ac.uk go direct
** things in gridpp take an extra step
* host &lt;address&gt; will give you any IP addresses used by that address

!!!su and sudo
`su - &lt;user&gt;` allows you to change users including that user's environment.  Omitting the dash means you keep the environment of the current user.
`sudo &lt;command&gt;` allows you to run a command as root.  To do this, you must have appropriate permissions in the `/etc/sudoers` file, and provide a password.
By default, the user's password is required.

!!!alias
You can use this to remap commands:
`
alias ll='ls -l'
alias elist='ll /etc | less'
`
!!!trap
* `trap &lt;cmd&gt; &lt;signals&gt;` - allows you to catch kill, ^C etc and handle them:
`
# trap echo "You pressed control-C" 2
# ^CYou pressed control-C
`


!!!`echo`
Echo prints something to output.  You can use a number of special characters using `-e`:
`
# echo -e "\n\tThis is a sentence.\n"

    This is a sentence.

    #
    `
    You can also use `\c` to not print a newline at the end of the line, and `\b` to go back a space.

    !!!Grep
    * ` grep &lt;string&gt; &lt;file&gt; ` - looks for a string within the specified file
    * ` grep -r &lt;string&gt; . ` - looks in all files recursively below the current directory
    * ` grep -v &lt;string&gt; &lt;file&gt; ` - looks for all lines ''not'' containing the string
    * `egrep &lt;string&gt; &lt;file&gt;` - as `grep -E`, uses extended-regexp
    * `fgrep &lt;string&gt; &lt;file&gt;` - as `grep -F`, searches for a fixed string, so doesn't use special characters 

    !!!Umask
    By default, directories on Linux are created with permissions 755.  Files are created with permissions 644.   The command `umask` controls this.  These are the default umask settings:
    `
    [root@novales ~]# umask
    0022
    [root@novales ~]# umask -S
    u=rwx,g=rx,o=rx
    `
    To figure out the effect of the umask value, subtract from 777 for directories and from 666 for files.  As expected, we get 755 and 644.  A typical use of umask would be to restrict permissions so that only the root user has access to files:
    `
    [root@novales ~]# umask 77
    [root@novales ~]# umask
    0077
    [root@novales ~]# touch test-file
    [root@novales ~]# ll test-file
    -rw------- 1 root root 0 Nov  8 14:51 test-file
    `
    Umask only restricts permissions - it doesn't allow you to make files more open than they otherwise would have been.  The first bit, usually 0, has a more complicated effect which I don't yet know about.
</pre>
</div>
<div _hash="57e9dd7c5ea1bf55b2d9b660ffb45e0d2389d623" created="20120627154652000" creator="willrogers" modified="20140103134508000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxFilesystem/1614923:81f81b1c85b93bae723032c57903d3ed1d0a36d7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1614923" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxFilesystem" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LinuxFilesystem" type="text/x-tiddlywiki">
<pre>* See also LinuxLocations, LinuxPartitions, StickyBit

* {{{ls -al}}} shows full information about all files in a directory:

{{{
-rw-rw-r--  1 will will    75 Jul 28 12:20 .gitconfig
}}}
This includes:
* filetype
* permissions
* links?
* user 
* group
* size
* last changed
* name

!!!File types
{{{/dev/}}} is a good place to go looking for less-common options. 
{{{
...
drwxr-xr-x   2 root root            80 Jan  3 10:18 dri
crw-------   1 root root       10,  61 Jan  3 10:18 ecryptfs
crw-rw----   1 root video      29,   0 Jan  3 10:18 fb0
lrwxrwxrwx   1 root root            13 Jan  3 10:18 fd -&gt; /proc/self/fd
crw-rw-rw-   1 root root        1,   7 Jan  3 10:18 full
crw-rw-rw-   1 root root       10, 229 Jan  3 10:18 fuse
crw-------   1 root root       10, 228 Jan  3 10:18 hpet
lrwxrwxrwx   1 root root            14 Jan  3 10:18 .initramfs -&gt; /run/initramfs
drwxr-xr-x   4 root root           320 Jan  3 10:18 input
crw-r--r--   1 root root        1,  11 Jan  3 10:18 kmsg
crw-rw----+  1 root root       10, 232 Jan  3 10:18 kvm
srw-rw-rw-   1 root root             0 Jan  3 10:18 log
brw-rw----   1 root disk        7,   0 Jan  3 10:18 loop0
...
}}}
* {{{-}}} is a regular file
* {{{d}}} is a directory
* {{{c}}} is a character stream, such as {{{/dev/null}}}, terminals
* {{{b}}} is a 'block device' such as a hard drive, CD or network drive
** devices ({{{b}}}, {{{c}}}) don't have a file size, but major and minor numbers referring to drivers and particular physical devices
* {{{s}}} is a socket
* {{{l}}} is a symbolic link
* {{{p}}} is a named pipe

!!Permissions
These are the standard permissions for user group and all.

</pre>
</div>
<div _hash="792c358904f4a639274b0795ca0bf2bd5e120278" created="20120307111044000" creator="willrogers" modified="20120307112506000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxLinks/364286:c5b5f989ff04d5902bd57f661854d2cf3c4816af&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364286" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxLinks" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="linux" title="LinuxLinks" type="text/x-tiddlywiki">
<pre>You can make links in two ways on Linux - hard and soft.  I'm only used to making soft links.

!!Soft links
You make a soft or symbolic link like so:
{{{
$ ln -s testfile linkfile
$ ll
lrwxrwxrwx 1 root root  8 Mar  7 11:07 linkfile -&gt; testfile
-rw-r--r-- 1 root root 21 Mar  7 11:07 testfile
}}}
A soft link creates another file which redirects to the original file.  Note the permissions - completely open with an 'l' at the beginning to indicate that it's a link. Anyone can get to the link and follow it, so the permissions act like they would for the original file.

If the file is changed, the link still points to the file so the change will be seen by someone looking at the link.  If the original file was moved or deleted, the link is left without anything to resolve to:
{{{
$ rm testfile
$ ll
lrwxrwxrwx 1 root root 8 Mar  7 11:07 linkfile -&gt; testfile
$ cat linkfile
cat: linkfile: No such file or directory
}}}
You can restore the file or a different file and the link will still work.

!!Hard links
You make a hard link like this:
{{{
$ ln testfile linkfile
$ ll
-rw-r--r-- 2 root root 19 Mar  7 11:11 linkfile
-rw-r--r-- 2 root root 19 Mar  7 11:11 testfile
}}}
Notice that the number on the right of the permissions has incremented to '2'.  This is the number of references on the filesystem to that particular 'inode'.

A hard link makes a second reference to the same file.  This means that anything you do to the link happens to the original file - in fact they have the same status.  So changing permissions on the link changes permissions on the original file.  However, removing either doesn't destroy the file - that happens when you remove the last link to the file.</pre>
</div>
<div _hash="f2d527add5628bd9936d92c31377020552899ef4" created="20140103121616000" creator="willrogers" modified="20140103210730000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxLocations/1615226:429619f6acfefb8d3153854544919db28d803e49&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1615226" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxLocations" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LinuxLocations" type="text/x-tiddlywiki">
<pre>* /bin
* /boot - static files used for booting.  Includes the compiled kernel
* /dev - information about devices, which seem to be streams of data
* /etc - configuration files
* /home - user home directories
* /lib - essential shared libraries and kernel modules
* /media - mount point for removable media
* /opt - add-on optional software
* /root - home directory for the root user
* /sbin
* /proc - information about running processes
* /usr - programs installed for users</pre>
</div>
<div _hash="f0969d580109d4a045ec1fef09f4db0eb481fd38" created="20140103123318000" creator="willrogers" modified="20140103134209000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxPartitions/1614921:cc06032b216fd9d816cd63c84bb5cf899ddad25d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1614921" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxPartitions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LinuxPartitions" type="text/x-tiddlywiki">
<pre>It is common to divide a block device (hard drive, memory stick) into different partitions of different sizes with different filesystems on them.  The information about the partitions is stored in a partition table.

* {{{/dev/sda}}} or {{{/dev/sdb}}} is the ''device''
* {{{/dev/sda1}}} or {{{/dev/sdb2}}} is a ''partition''

{{{fdisk -l}}} shows the different partitions:
{{{
will@will-ubuntu2:~$ sudo fdisk -l

Disk /dev/sda: 250.1 GB, 250059350016 bytes
255 heads, 63 sectors/track, 30401 cylinders, total 488397168 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0xace7f343

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048      206847      102400    7  HPFS/NTFS/exFAT
/dev/sda2          206848   118450660    59121906+   7  HPFS/NTFS/exFAT
/dev/sda3       118452222   488396799   184972289    5  Extended
/dev/sda5       118452224   476035071   178791424   83  Linux
/dev/sda6       476037120   488396799     6179840   82  Linux swap / Solaris

Disk /dev/sdb: 15.9 GB, 15931539456 bytes
255 heads, 63 sectors/track, 1936 cylinders, total 31116288 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            8192    31116287    15554048    c  W95 FAT32 (LBA)
}}}
In this case, there are two disks: 
* {{{/dev/sda}}} - the SSD on which Linux and Windows 7 are installed
* {{{/dev/sdb}}} - the SD card from my camera

{{{gparted}}} gives a similar view in a GUI.

!!Formatting
A simple way to format is in a camera - mine creates one partition ({{{fat32}}}) plus a few files.  Doing it from the command line is more complicated because there are a lot of options.  It's recommended to use {{{cfdisk}}} rather than {{{fdisk}}}.</pre>
</div>
<div _hash="7b5782a2e8df76bbef7950d132fc9e5b3f449ff6" created="20140407133933000" creator="willrogers" modified="20140407135048000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxProfiles/1714485:09611b10d7f3004d8437460f92db4980ed7c9ad8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1714485" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxProfiles" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LinuxProfiles" type="text/x-tiddlywiki">
<pre>A 'profile' sets the environment, functions and aliases for a particular session.

Usually, {{{~/.bash_profile}}} is run once per login session, and {{{~/.bashrc}}} is run once per terminal.

!!!Diamond

!!!!Default settings
* {{{/etc/bashrc}}} - this is a system-wide script, and seems not to have been edited
* {{{/etc/profile}}} - this is a system-wide script, and seems not to have been edited.  It sources every {{{.sh}}} file in {{{/etc/profile.d}}}
* {{{/etc/profile.d}}} - a set of scripts for different purposes

!!!!Diamond specific
* {{{.bashrc}}} - this sources {{{/etc/bashrc}}} then {{{~/.bashrc_local}}}
* {{{~/.bash_profile}}} - sources {{{~/.bashrc}}}, {{{/dls_sw/etc/profile}}}, {{{~/.bashrc_user}}}
* {{{/dls_sw/etc/profile}}} - the primary environment for Diamond programs

!!!!Personal
* {{{.bashrc_user}}} - presumably for personal functions and aliases
* {{{.bashrc_local}}} - presumably for personal variables 

</pre>
</div>
<div _hash="41c26e65409966ea7e0505b994624a3ffc6a25fe" created="20140725182922000" creator="willrogers" modified="20140803131222481" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LinuxTerminal/1844820:5ebe9c8c708351b411f560c6ce00a6a945c68401&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1844820" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LinuxTerminal" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LinuxTerminal" type="text/vnd.tiddlywiki">
<pre>See also BashSpecialCharacters

!!!Moving around
* ~Ctrl-A - start of line
* ~Ctrl-E - end of line
* ~Ctrl-P - same as up
* ~Ctrl-N - same as down
* Ctrl-left - move one word left
* Ctrl-right - move one word right

!!!Deleting
* ~Ctrl-U - delete to start of line
* ~Ctrl-K - delete to end of line
* ~Ctrl-W - delete word back
* ~Alt-D - delete word forwards
* ~Ctrl-Y - paste any of these deletions

* ~Ctrl-D - delete one character
* ~Ctrl-H - backspace</pre>
</div>
<div _hash="6e1ec500e04d48766e453ca4266087c03d512fd6" created="20130812185722000" creator="willrogers" modified="20130812185722000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/LizPresents/1341375:32d4128538fe176ac9c52085ab7dd4ea09610380&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1341375" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LizPresents" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="LizPresents" type="text/x-tiddlywiki">
<pre>* Flowers
* Pyjamas
* Lemonade
* Fruit?
</pre>
</div>
<div _hash="00164e7765f4e5c86e619473b54ac42d36b04bef" created="20140104113618000" creator="willrogers" modified="20140104113623000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LizSize/1615541:6fc14f120e7bafed6d95467069bd244c1d7d33e7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1615541" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LizSize" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LizSize" type="text/x-tiddlywiki">
<pre>Waist 33"
Hip 40"
Bust 34"</pre>
</div>
<div _hash="183974088e77d26e471fc7f1f7a7fcaaf7d3a9d9" created="20130611150351000" creator="willrogers" modified="20130611150357000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LocalInstallations/1255944:922d1531983965432c966de908f98d5f4594c5f5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1255944" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LocalInstallations" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LocalInstallations" type="text/x-tiddlywiki">
<pre>EclipseDiamond</pre>
</div>
<div _hash="f03f5e7edbdb1468721de07ee149f9d563b1351e" created="20110524142409000" creator="willrogers" modified="20110524142533000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/LocateCygwin/364288:caabe6d49cfbfdcfcf838b6f9cb827f2186ba982&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364288" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="LocateCygwin" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="LocateCygwin" type="text/x-tiddlywiki">
<pre>Can you use updatedb and locate in Cygwin to search for things in Windows?

This is the command I used:
{{{
hgs15624@esclt041 ~
$ updatedb --localpaths='/ /cygdrive/c' --prunepaths='/cygdrive/c/cygwin /cygdrive/z'
}}}
</pre>
</div>
<div _hash="343999101757e9c8cda7b72e4d280557b92e568d" created="20110421101734000" creator="willrogers" modified="20131026135231000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MainMenu/1484061:7af051242b7b63e50c1744218e213ff2c68020ed&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1484061" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MainMenu" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MainMenu" type="text/x-tiddlywiki">
<pre>DiamondNotes
HomeNotes
ComputingNotes
[[GettingStarted]]</pre>
</div>
<div _hash="366daa81a459afc9c61a81452b7e4b29cef35511" created="20110421100842000" creator="willrogers" modified="20110421100842000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MarkupPreHead/364291:7ee8e2264163e6e3029d2a82316dae7b48500846&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364291" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MarkupPreHead" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="excludeLists" title="MarkupPreHead" type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;link rel="shortcut icon" href="/recipes/willrogers_public/tiddlers/favicon.ico" /&gt;
&lt;link href="/bags/willrogers_public/tiddlers.atom" rel="alternate"
	type="application/atom+xml" title="willrogers's public feed" /&gt;
&lt;link rel="canonical" href="http://willrogers.tiddlyspace.com/" /&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div _hash="0f55ddaa46410ba1d3b907e29594ff067ea66867" created="20131213160455000" creator="willrogers" modified="20140106112325000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabArrays/1617077:06fcbb4bdf84308c66dce21670f8db593354983b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1617077" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabArrays" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabArrays" type="text/x-tiddlywiki">
<pre>Matlab arrays are 1-indexed - there is no zeroth element.  

* {{{x(n)}}} returns the nth element of x
* {{{x(m,n)}}} returns the mth to nth elements of x, inclusive
* {{{1:10}}} gives a list from 1 to 10
* to concatenate two arrays, use {{{[a b]}}}

Matlab handles rows and columns differently:
{{{
&gt;&gt; x = [1,2,3]
x =
     1     2     3
&gt;&gt; x = [1;2;3]
x =
     1
     2
     3
}}}

It usually handles arrays as you'd expect, piecewise where sensible:
{{{
&gt;&gt; x * 2
ans =
     2
     4
     6
&gt;&gt; x + 2
ans =
     3
     4
     5
}}}

* {{{x * x}}} raises an error because the corresponding matrix multiplication is invalid.
* {{{dot(x,x)}}} -&gt; 14 - that is, the inner product.
* {{{size(x)}}} -&gt; 3 1  - that is, the dimensions of the array
* A trailing {{{'}}} denotes the transpose:
{{{
&gt;&gt; size(x)'
ans =
     3
     1
}}}</pre>
</div>
<div _hash="c98b179f6d79e56f19e2d42b0dda9c136f38f02f" created="20131001112028000" creator="willrogers" modified="20140106115826000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabBasics/1617090:89da26d36461e42501f31121d511955a5370f67f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1617090" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabBasics" type="text/x-tiddlywiki">
<pre>* MatlabArrays
* MatlabFunctions
* MatlabBuiltins

Matlab is a proprietary 'numerical computing environment and fourth-generation programming language'.  It is developed by ~MathWorks.

You generally either type into the command prompt or run matlab scripts.  The language is generally procedural but does include object orientation.

!!Types
See MatlabArrays.
* There is no particular 'bool' in Matlab: 0 and 1 are used as in C.
* All numbers are double by default
* You can specify floats or ints if you need to

!!!Structs
Structs act in a similar way to C - you can reference members using {{{struct.member}}}.

!!Environment
The matlab window contains a prompt in the middle, files on the left, and variables and command history on the right.  Use the command {{{path}}} to show the Matlab path, and {{{which &lt;function&gt;}}} to show the path of a particular function.

You can use the {{{clear}}} function to remove variables from scope.

!!Arithmetic
{{{
x = 2
x = x + 2
x * 3
x ^ 4
x == 3  % since everything is a double unless stated otherwise, this returns a double
x / 3
}}}
!!Comments
{{{
% This is a one line comment
%{
This is a multi-line comment
...
%}
}}}
</pre>
</div>
<div _hash="5f5a11f25759dec07a96b8ce88785d9ccaacb0d8" created="20140106113346000" creator="willrogers" modified="20140508134456000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabBuiltins/1744019:3f0eb2d1a864a45120e26787bafad614999143b8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1744019" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabBuiltins" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabBuiltins" type="text/x-tiddlywiki">
<pre>!!Misc 
* {{{load(&lt;path&gt;)}}} - load a matlab data file
* {{{ls}}}, {{{pwd}}}, {{{cd}}}
* {{{clear}}} - remove variables from scope
* {{{help}}} - show documentation for each place on the path

!!Math
* {{{sqrt}}}
* {{{roots(a)}}} - finds the roots of the polynomial with coefficients corresponding to the array {{{a}}}

!!Arrays
* {{{size(a)}}} - returns the shape of the array
* {{{zeros()}}} - with one argument, creates a square matrix, with two a rectangular one
** {{{ones()}}} - as {{{zeros()}}}
* {{{eye(n)}}} - an identity matrix of size n

!!Graphs
* {{{ezplot(f)}}} - plot f


</pre>
</div>
<div _hash="4f2af3e6b21702082e0d890f8dc8046496ecab76" created="20131213161640000" creator="willrogers" modified="20140106113336000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabFunctions/1617082:bfec95188704c94d4c262a44c2e1b49e4386371b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1617082" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabFunctions" type="text/x-tiddlywiki">
<pre>!!Functions
Matlab functions are generally defined one per file.  Further functions within that file can only be used inside the file.  The first line in the file is 
{{{
function &lt;return-value&gt; = &lt;function-name&gt;(&lt;arguments&gt;)
% This comment is shown when you run
% help &lt;function-name&gt;
...
function definition, including defining &lt;return-value&gt;
...
}}}

!!!Anonymous functions
You can define functions like this:
* {{{f = @(x,y) x*y}}}
** {{{f(3,4)}}} -&gt; 12</pre>
</div>
<div _hash="96211e8d684784eab7d800544d9e29ec9a4a27fd" created="20140609132151000" creator="willrogers" modified="20140609132151000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabLicenses/1784372:9b27f4cc3703b08eaf2646dd8c65ee04cfaba086&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1784372" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabLicenses" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabLicenses" type="text/x-tiddlywiki">
<pre>!!Licences
I now have a personal Matlab licence.  I am using it currently by putting it in
{{{
/home/hgs15624/.matlab/R2013a_licenses/license.lic
}}}
It is valid for {{{R2014a}}} but works for {{{R2013a}}}:
{{{
module load matlab/R2013a
matlab &amp;
}}}
</pre>
</div>
<div _hash="adb6bacd2da4d0a3c975392865b4c84d8d5ececc" created="20131018132933000" creator="willrogers" modified="20131021133122000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabLoco/1471432:fc68b720510f36740127662555fda4b989bd155d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1471432" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabLoco" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabLoco" type="text/x-tiddlywiki">
<pre>See MatlabBasics and http://confluence.diamond.ac.uk/display/CHLP/Loco

Loco is a set of functions for Matlab used by accelerator physics.  It doesn't seem to be well-managed.  The version in SVN claims to be version 1-2, released May 2006.

The latest version I can find online is here: http://als.lbl.gov/als_physics/portmann/MiddleLayer/Release/applications/loco/.  It claims version 2-1, released 2008, but with files updated more recently than that.  It appears that Greg Portmann maintains at least MiddleLayer and Loco, whereas there is an SVN repository on Sourceforge for AcceleratorToolbox.

!!Code
There are only 19 files in the loco directory.  Three of these are less than 10 lines, 14 have between 100 and 1000, {{{loco.m}}} has 1500 and {{{locogui.m}}} 2500.  

It definitely uses several functions from AcceleratorToolbox, but I can't yet determine if it depends on MiddleLayer code as well.</pre>
</div>
<div _hash="25ddf724d3865cdfc0c1490e80648b95fe74f7e6" created="20131001112028000" creator="willrogers" modified="20140609093645000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatlabNotes/1784247:de0d0388af718b4efe91d5f972eebb241ba3781b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1784247" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatlabNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatlabNotes" type="text/x-tiddlywiki">
<pre>* MatlabArrays
* MatlabFunctions
* MatlabBuiltins
* MatlabLicenses

Matlab is a proprietary 'numerical computing environment and fourth-generation programming language'.  It is developed by ~MathWorks.

You generally either type into the command prompt or run matlab scripts.  The language is generally procedural but does include object orientation.

!!Types
See MatlabArrays.
* There is no particular 'bool' in Matlab: 0 and 1 are used as in C.
* All numbers are double by default
* You can specify floats or ints if you need to

!!!Structs
Structs act in a similar way to C - you can reference members using {{{struct.member}}}.

!!Environment
The matlab window contains a prompt in the middle, files on the left, and variables and command history on the right.  Use the command {{{path}}} to show the Matlab path, and {{{which &lt;function&gt;}}} to show the path of a particular function.

You can use the {{{clear}}} function to remove variables from scope.

!!Arithmetic
{{{
x = 2
x = x + 2
x * 3
x ^ 4
x == 3  % since everything is a double unless stated otherwise, this returns a double
x / 3
}}}
!!Comments
{{{
% This is a one line comment
%{
This is a multi-line comment
...
%}
}}}


</pre>
</div>
<div _hash="b3900a9ad54583176c63c6f1eb21faadb2502935" created="20130604150751000" creator="willrogers" modified="20131204113825000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MatPlotLib/1575652:783dfd1236fa97af111d0d0786347881cc969cfb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1575652" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MatPlotLib" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MatPlotLib" type="text/x-tiddlywiki">
<pre>{{{matplotlib}}} is a Python library for various plotting purposes.  Its homepage is http://matplotlib.org.  It is compatible with numpy and scipy.

!!Basics
You can quickly plot something as follows:
{{{
import matplotlib.pyplot as pp
pp.plot(&lt;array&gt;)
pp.suptitle('My plot') # top middle
pp.show()
}}}
A bar chart:
{{{
pp.bar(bins, values)
}}}

</pre>
</div>
<div _hash="f04cb249393127fb8e182864fde569ab5b7c8619" created="20111123170955000" creator="willrogers" modified="20111123171611000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MessageChannel/364296:eda7d9d4cdc429b1070615263eedc6386475fdd2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364296" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MessageChannel" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MessageChannel" type="text/x-tiddlywiki">
<pre>There are lots of different sorts of channels.  In general channels are one-way, because of the way topics and queues work - a two-way channel would mean that the sender would pick up his own messages, which isn't relevant.

* Point-to-point channel - designed that only one receiver gets a message, no matter how many are listening
** This means that receivers won't necessarily get all the sent messages
** This is a queue in ActiveMQ terms
* Publish-subscribe channel - designed so that everyone who's listening gets all the messages
** In ActiveMQ land, this is a topic
* Datatype channel - where each message in a channel has the same format
** This allows the receiver to know what type of message it's getting
** The channels may have the same directions
* Invalid message channel - used for any messages that can't be understood by the receiver
** The receiver posts the message back to the channel
** Then the rejected messages are there for someone to try and handle
* Dead-letter channel - used if the message system can't deliver the message
* Guaranteed delivery - used to ensure that messages are delivered
** Otherwise known as persistent

</pre>
</div>
<div _hash="4f64d879f5116ab27ccab1d3535c44794bf23965" created="20111005153715000" creator="willrogers" modified="20120730091505000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MessageHashes/811021:2ad22bf23b8c45cd156d8e53c7ac55891c3dc7dd&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="811021" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MessageHashes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="crypto openssl" title="MessageHashes" type="text/x-tiddlywiki">
<pre>Message hashes are simple enough, once you've got the idea.  

!!The idea
You have a file, and you want to make sure that when you give it to someone that they can tell it's the exact same file.  The way to do this is to use a "hash function".  It's a function which you can give arbitrary data, and then it returns to you a short string.  If you change the data you give it at all, the short string is completely changed.  It's impossible to engineer a file to give a desired hash.

There are two requirements for a good hash:
* it is impossible to recreate the message from the hash
* it is impossible to find two files with the same hash value (a collision)

Since there are unlimited inputs and a limited number of hash values, there are actually infinite collisions for any algorithm.  However, it should be impossible to find one.

So if you're downloading a file, they'll often give you a hash in some format so that you can check you've got it fine.  Two common formats are MD5 and SHA1.

!!Types of hash
!!!~MD5
This was invented by Rivest, and built on MD4.  It produces a 128-bit output.  It is now considered broken.

!!!~SHA1
The original SHA (SHA0) was flawed.  SHA1 is widely-used, but has now theoretically shown some signs of weakness, so it is being replaced by SHA2.

!!!~SHA2
SHA2 is actually a set of four different hashes, all based on the SHA1 algorithm.  They are SHA-224, SHA-256, SHA-386, SHA-512.  These have not been compromised.

!!~OpenSSL

{{{
will@will-VirtualBox:~/tmp$ openssl dgst -md5 openssl-0.9.8r.tar.gz 
MD5(openssl-0.9.8r.tar.gz)= 0352932ea863bc02b056cda7c9ac5b79
}}}
{{{
will@will-VirtualBox:~/tmp$ openssl dgst -sha1 openssl-0.9.8r.tar.gz 
SHA1(openssl-0.9.8r.tar.gz)= a02411e5f4d463cac4a2a4a357a4a0b93bf65e72
}}}</pre>
</div>
<div _hash="603dd213b19c46d9e9f8c4aef68508294b4ed6d2" created="20111116085515000" creator="willrogers" modified="20111123170717000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MessagingPatterns/364314:9754c378fe2b70520e2dd0d44ce89e8c02c51e06&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364314" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MessagingPatterns" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MessagingPatterns" type="text/x-tiddlywiki">
<pre>'Messaging' is some kind of standard programming / software engineering paradigm.  The EGI and EMI take on messaging is a little different, or it seems to me to be.  That's focused very much around ActiveMQ and a broker network.  What's actually probably happened here is that 'messaging' as a concept has probably been thoroughly researched and the conclusions have led to the broker network.

!!Messaging in general
The idea is that you have some number of applications which need to share data.  They're not the same application, so you need some standard way of doing it rather than just passing the data around arbitrarily.  From the EAI patterns website:
&lt;&lt;&lt;
Use Messaging to transfer packets of data frequently, immediately, reliably, and asynchronously, using customizable formats.  Asynchronous messaging is fundamentally a pragmatic reaction to the problems of distributed systems. Sending a message does not require both systems to be up and ready at the same time. Furthermore, thinking about the communication in an asynchronous manner forces developers to recognize that working with a remote application is slower, which encourages design of components with high cohesion (lots of work locally) and low adhesion (selective work remotely).
&lt;&lt;&lt;
Asynchronicity is a fundamental part of messaging.  

!!Messaging components
* MessageChannel - a sort of pipe between one application and another, through which the messages pass (topics and queues)
** A message is sent to a particular channel
** An application listens to a particular channel
* ''Message'' - a self-contained packet of data.  It will either get to the other end or not
* ''Routing'' - there can be many channels and a message might have to pass through more than one.  A router handles this logic so that the sending application doesn't need to know all the details
** It's a sort of filter which switches the message direction according to some logic.  It does not change the content of the message
* ''Endpoints'' - the messaging shouldn't be built into every application.  They should use endpoints which handle the messaging logic
* ''Pipes and filters'' - quite often, there'll be different steps involved in processing a message and it might have to change its format 
** A filter changes the message somehow, and the pipes connect the filters
** Filters should have a simple and interchangeable interface, so that connecting them in different configurations is simple
* ''Translator'' - in practice, it's quite often necessary to change the format of a message, perhaps to conform to a legacy file format.  A translator does this

Messaging requires some kind of a 'message bus'.  This just seems to be a way of getting messages from one place to another.</pre>
</div>
<div _hash="5510a4da1c1008e725b336a1cf91850b81a7588b" created="20111017084152000" creator="willrogers" modified="20111017084853000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MessagingQuestions/364318:ffa8664acf701bd4288ecf18b6999fdf61bd24f9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364318" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MessagingQuestions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MessagingQuestions" type="text/x-tiddlywiki">
<pre>Laurence Field got on to messaging somehow.

Messaging team exists.  There are utilities etc.  They're waiting for the questions - they'll give recommendations.

EGI production broker network is separate.

John: what's the distinction between EMI and EGI here?  Aren't we going to be running on EGI.

The advice that EMI gives should be compatible with the broker network provided by EGI.  The people in the two groups are closely related.  

There will be a messaging library of some sort.  It's not ready yet...  We need to provide feedback on messaging to the mailing list so that everyone knows what is going on.</pre>
</div>
<div _hash="48c2ea4a42c246bcd9f5076f151c0bdc1555b268" created="20120331172629000" creator="willrogers" modified="20120331182055000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MetaLang/661983:41c3336b4263483ed3c5dce368ae7f8e667b68df&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="661983" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MetaLang" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="ml" title="MetaLang" type="text/x-tiddlywiki">
<pre>I mean ML, of course, but MetaLang makes a wiki word.

!!Advantages
* It's interactive
* It has flexible types
* It prevents crashing by hiding the hardware
* It's easy to understand mathematically

MetaLangSyntax
MetaLangRecursion


!!Numeric types
* int: {{{0, 1, ~1, 34}}}
* real: {{{0.0, ~1.14, 3.45e~7}}}
You can use +, 1, * div and mod for ints; you can use +, -, * and / for reals.  This is known as overloading.  It means you may need to provide type constraints on your functions or they won't work as you expect.
* {{{real 3 -&gt; 3.0}}}
* {{{floor 3.14 -&gt; 3}}}




</pre>
</div>
<div _hash="ece82515b1b58e4a3ef7f070028d80c6767d3446" created="20120331182018000" creator="willrogers" modified="20120331183647000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MetaLangRecursion/662009:e2264135a48bfdfeb5b333b95a85bf7774163044&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="662009" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MetaLangRecursion" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MetaLangRecursion" type="text/x-tiddlywiki">
<pre>{{{
fun npower(x,n) : real = 
    if n = 0 
    then 1
    else x * npower(x,n-1)
&gt; val npower = fun : real * int -&gt; real
}}}
This will take n calculations; the following is more efficient
{{{
fun power(x,n) : real =
    if n = 0 then 1
    else if n mod 2 = 0 then power(x*x, n div 2)
        else x * power(x*x, n div 2);
}}}
Recursion is only useful if the sequence will terminate.  If you put a negative integer in the above functions, they will run forever.
{{{
fun nsum (n) : int = 
    if n = 0 then 0
    else n + nsum(n-1);
}}}
This lays all the numbers out in a row (the stack) until it gets to the end and adds them.  This means it's O(n) in space.

You can prevent this by adding a second argument which acts as an 'accumulator'.  This is known as 'tail-recursion', because the rest of the current function-call is complete and doesn't need remembering.  This makes recursion as efficient as looping.  Some functional languages guarantee that recursive functions are arranged to use tail recursion.

Note that the function power can accumulate values on the stack, and this could be prevented, but the maximum number of values needed in memory for an int argument would be only 30.  It's not worth complicating the function - it's often best to write simple code first then optimise.

Tail-recursive functions resemble while loops.</pre>
</div>
<div _hash="f776d097fc010fb818b865b89355ac57f0f780f6" created="20120331174733000" creator="willrogers" modified="20120402203320000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MetaLangSyntax/665557:102f541919f8cf064620cfe183e16a505b980c21&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="665557" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MetaLangSyntax" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="ml" title="MetaLangSyntax" type="text/x-tiddlywiki">
<pre>{{{
val pi = 3.14159;
pi * 1.5 * 1.5;
fun area (r) = pi * r * r;
area 2.0;
fun toSeconds(mins, secs) = 60 * mins + secs;
fun fromSeconds(secs) = (secs div 60, secs mod 60);
}}}
* {{{area 1}}} throws an error
* if we change the value of pi now, its meaning within the function remains
* the interpreter will reply with it's understanding of what you've just said.
** {{{val  fromSeconds = fun : int -&gt; int * int}}}
** you can return tuples as in python

{{{
let val nextx = (a/x + x) / 2.0 in 
... nextx ...
end;
}}}
{{{nextx}}} is only available between {{{in}}} and {{{end}}}.

!!Conditionals
ML has a bool type.
* {{{if b then x else y}}}
* {{{not(b)}}}
* {{{p andalso q}}}
* {{{p orelse q}}}

* {{{x&lt;&gt;y}}}
* {{{x&gt;=y}}}
* {{{x&lt;y}}}
* {{{x=y}}}

{{{
fun even n = (n mod 2 = 0);
&gt; val even n = fun : int -&gt; bool
}}}

!!Lists
{{{
[3, 4, 5]  # int list
it @ [4, 6]
[(3, "hello"), (4, "bye")] # (int * string) list
}}}
* {{{nil}}} or {{{[]}}} is the empty list
* {{{x::l}}} is a list with head {{{x}}} and tail {{{l}}}
* Adding an element to the head with {{{::}}} is an O(1) operation in time and space
* The tail is the list of all elements except the head.</pre>
</div>
<div _hash="2193d1adc6b4c7701888210de3c7ad157f3e1710" created="20111010185539000" creator="willrogers" modified="20140802142913108" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MetaTiddly/1484064:c37c866cfc129903ec8f1114f715d159b47b41d9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1484064" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MetaTiddly" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MetaTiddly" type="text/vnd.tiddlywiki">
<pre>Here's the GettingStarted page.  The SpaceSettings tiddler is useful.

You can find markup details here: http://wikitext.tiddlyspace.com/#Contents%20%5B%5BBasic%20formatting%5D%5D

Here's a converter from Tiddly to Twiki: http://wiki.cenkes.org/Cenkes/TiddlyWikitoTWikiMigration

This looks interesting:
* http://bengillies.net/.a/recipes/sitecontent/tiddlers/Bookmarking%20and%20TiddlySpace</pre>
</div>
<div _hash="e73958bbbc764d44fd3f88159c32882dbd0051c0" created="20131001113225000" creator="willrogers" modified="20140114162953000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MiddleLayer/1625055:bbf3310cdabe4e0f79ac713049e0ed79954681e1&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1625055" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MiddleLayer" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MiddleLayer" type="text/x-tiddlywiki">
<pre>See also MatlabBasics, MatlabLoco.

Matlab Middle Layer is a Matlab library designed for accelerators.   James wrote some documentation, which is here: file:///dls_sw/prod/common/matlab/init/1-41/doc/matlab.html

There's some discussion of the algorithms here: http://www.cs.diamond.ac.uk/computing/work/common/matlab/algorithms/doc/mmlalgo.html

!!Location

It is installed in a couple of places:
* version 1-0 
* version 2-0 is in work, and also linked from {{{/home/diamond}}}
** {{{/dls_sw/work/common/matlab/mml}}}
** {{{/home/diamond/common/matlab/middlelayer/2-0}}}

Since each matlab function is its own file, you can see all the available functions just by listing the directory.

!!!Matlab initialisation

This IS released, and can be found in 
* {{{/dls_sw/prod/common/matlab/init/Rx-y}}}

!!Jargon
* family?
* AO is the accelerator object

!!Components
In SVN, {{{mml}}} has three parts:
* {{{applications}}}:
** {{{common}}}
** {{{loco}}}
** {{{m2html}}}
** {{{naff}}}
** {{{pLOCO}}} - very few changes from {{{loco}}} itself
** {{{sussix}}} 
* {{{machine}}}
** {{{diamond}}}
** {{{diamonddata}}}
** {{{diamondopsdata}}}
* {{{mml}}}
** {{{@AccObj}}}
** {{{at}}}
** {{{docs}}}
** {{{links}}}
** all the mml functions

!!Useful functions
* {{{getfamilylist}}} - all the names of the families of magnets (and other things?)
* {{{getfamilydata('&lt;family&gt;')}}} - get the data from one of the families provided above
* {{{setfamilydata}}} - how does this work?</pre>
</div>
<div _hash="8ac94d1829ef584a471f78bfd3a77e6a46cf66e1" created="20111005190047000" creator="willrogers" modified="20111005201707000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MiniCosts/364324:e8d7443e0e3da3e3e431eecc81bd80a6664cfe6c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364324" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MiniCosts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MiniCosts" type="text/x-tiddlywiki">
<pre>I got the Mini in May 2009.  These are the non-petrol costs incurred since then:

| ''Date'' | ''Description'' | ''Cost'' |
| May 09 | tax | £125 |
| May 09 | insurance | £518 |
| May 09 | new tyres | £152 |
| May 09 | MOT / service | £188 |
| Summer 09 | Ignition leads | £106 |
| Summer 09 | Green Flag | £42 |
| Summer 09 | Spark plugs | £45 |
| Autumn 09 | Fan belt | £5 |
| Early 10 | Thermo switch | £113 |
| Apr 10 | Tax | £125 |
| May 10 | MOT / service | £271 |
| May 10 | Insurance / breakdown cover | £516 |
| Sept 10 | Oil leak | £66 |
| Dec 10 | New battery | £70 |
| Apr 11 | Tax | £130 |
| May 11 | MOT / service | £194 |
| May 11 | Insurance | £547 |

This totals £3213 in a bit less than 2 1/2 years:
Year 1: £1294
Year 2: £1048
Year 2 1/2: £871</pre>
</div>
<div _hash="cf70865e99056321925e63ae656ca9cf47ff7dd6" created="20131026133416000" creator="willrogers" modified="20131026133416000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MiscLinks/1484044:07437cdc6331c997dac16b3a33ed81fae9b7a623&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1484044" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MiscLinks" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MiscLinks" type="text/x-tiddlywiki">
<pre>Maybe these should now move to Delicious.

* Documentary about history of computing: http://bengoldacre.posterous.com/the-triumph-of-the-nerds-documentary-series
* Spotify programming challenge: http://www.spotify.com/uk/blog/archives/2012/08/29/can-you-solve-spotifys-tech-puzzles/
* PEM signature example: http://stackoverflow.com/questions/1580012/using-a-pem-x-509-private-key-to-sign-a-message-natively
* Interesting question about efficiency in languages: http://stackoverflow.com/questions/6964392/speed-comparison-with-project-euler-c-vs-python-vs-erlang-vs-haskell
* http://sunnyday.mit.edu/16.355/parnas-criteria.html - modularity in program design.</pre>
</div>
<div _hash="6d8a31e0f98c2550de88c48110ecdceccb686a1e" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/png" server.etag="&quot;system-images_public/missingIcon/1521928:b7103166b78f3145a973e9a689652f7129529374&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521928" server.permissions="read" server.recipe="willrogers_private" server.title="missingIcon" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="missingIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAKGmlDQ1BJQ0MgUHJvZmlsZQAAeAHVlmdUFMkWx6t7ciLNkNOQc84gOSfJUVSGAYY4wpAxIbK4AooiIgLKEpao4KoEWQMiigERUEBF3UEWAWVdDIiKyuuBd9w977z99r6826eqfn3r9q3quvXhDwDpIyMpKQEWACCRncrxdbajB4eE0nGTAAIUgAe6wJDBTEmy9fb2AP9oH8aRaMTua/Fy/WPYf58QjIxKYQIAeSPTEZEpzESEzyNsyEzipCI8h/BwRmoSwnA3wjQOskGEB3nMWmcujyPW+f1ajL+vPQAoPAB4MoPBYQFAoiF+ejqTheQhGSKsy46MZSMcibAVM4aBjKR6hDUTE7fxeBhh1Yi/5WH9jRmMiO85GQzWd17/F+RLZGGH2JSkBEbW2sv/sktMSEPOa814p06OYgf4IaMY0qSAA3AEHshDB/rABKmeCQgCTsA7NSoT+W8A7LclZXFiWTGpdFukUlGadFc2U1uTrq+rp8eb/r8x3h1d3+y7e2t3DxLjlf/fvmRtAMwakPr3/uULfw5A510ARPr/8ineAID/AADdTcw0Tvp6PjRvwAAi4Ac0IA5kgAJQBVrIaRoDC2CDnK4b8AL+IARsAUwQAxIBB2SAHWAPyAeF4BA4CipANagDTeA0OAu6wEVwFdwAd8AwGAOTgAtmwCuwCD6AFQiCcBAFokLikCykBGlA+pApZAU5Qh6QLxQChUMsiA2lQTugvVAhVAJVQDVQM/QLdAG6Ct2CRqBH0BQ0D72FPsMomAzTYGlYGdaBTWFb2B32hzfDLDgZzobz4INwOVwLn4I74avwHXgM5sKv4CUUQJFQIig5lBbKFGWP8kKFoqJRHNQuVAGqDFWLakP1oAZQ91Fc1ALqExqLpqLpaC20BdoFHYBmopPRu9BF6Ap0E7oT3Y++j55CL6K/YSgYKYwGxhzjignGsDAZmHxMGaYB04G5jhnDzGA+YLFYEawK1gTrgg3BxmG3Y4uwJ7Dt2F7sCHYau4TD4cRxGjhLnBeOgUvF5eOO407hruBGcTO4j3gSXhavj3fCh+LZ+Fx8Gb4Ffxk/ip/FrxAECEoEc4IXIZKQRSgm1BN6CPcIM4QVoiBRhWhJ9CfGEfcQy4ltxOvEJ8R3JBJJnmRG8iHFknJI5aQzpJukKdInshBZnWxPDiOnkQ+SG8m95EfkdxQKRZliQwmlpFIOUpop1yjPKB/5qHzafK58kXy7+Sr5OvlG+V7zE/iV+G35t/Bn85fxn+O/x78gQBBQFrAXYAjsEqgUuCAwIbAkSBXUE/QSTBQsEmwRvCU4J4QTUhZyFIoUyhOqE7omNE1FURWo9lQmdS+1nnqdOkPD0lRorrQ4WiHtNG2ItigsJGwoHCicKVwpfEmYK4ISURZxFUkQKRY5KzIu8llUWtRWNEp0v2ib6KjospikmI1YlFiBWLvYmNhncbq4o3i8+GHxLvGnEmgJdQkfiQyJkxLXJRYkaZIWkkzJAsmzko+lYCl1KV+p7VJ1UoNSS9Iy0s7SSdLHpa9JL8iIyNjIxMmUylyWmZelylrJxsqWyl6RfUkXptvSE+jl9H76opyUnItcmlyN3JDciryKfIB8rny7/FMFooKpQrRCqUKfwqKirKKn4g7FVsXHSgQlU6UYpWNKA0rLyirKQcr7lLuU51TEVFxVslVaVZ6oUlStVZNVa1UfqGHVTNXi1U6oDavD6kbqMeqV6vc0YA1jjViNExojmhhNM022Zq3mhBZZy1YrXatVa0pbRNtDO1e7S/u1jqJOqM5hnQGdb7pGugm69bqTekJ6bnq5ej16b/XV9Zn6lfoPDCgGTga7DboN3hhqGEYZnjR8aEQ18jTaZ9Rn9NXYxJhj3GY8b6JoEm5SZTJhSjP1Ni0yvWmGMbMz22120eyTubF5qvlZ8z8ttCziLVos5jaobIjaUL9h2lLekmFZY8m1oluFW/1kxbWWs2ZY11o/t1GwibRpsJm1VbONsz1l+9pO145j12G3bG9uv9O+1wHl4OxQ4DDkKOQY4Fjh+MxJ3onl1Oq06GzkvN251wXj4u5y2GXCVdqV6drsuuhm4rbTrd+d7O7nXuH+3EPdg+PR4wl7unke8XyyUWkje2OXF/By9Tri9dRbxTvZ+1cfrI+3T6XPC1893x2+A35Uv61+LX4f/O38i/0nA1QD0gL6AvkDwwKbA5eDHIJKgrjBOsE7g++ESITEhnSH4kIDQxtClzY5bjq6aSbMKCw/bHyzyubMzbe2SGxJ2HJpK/9WxtZz4ZjwoPCW8C8ML0YtYynCNaIqYpFpzzzGfBVpE1kaOR9lGVUSNRttGV0SPceyZB1hzcdYx5TFLMTax1bEvolziauOW473im+MX00ISmhPxCeGJ15gC7Hj2f3bZLZlbhtJ0kjKT+ImmycfTV7kuHMaUqCUzSndqTREDAymqab9kDaVbpVemf4xIzDjXKZgJjtzMEs9a3/WbLZT9s/b0duZ2/t2yO3Ys2Nqp+3Oml3QrohdfbsVduftnslxzmnaQ9wTv+durm5uSe77vUF7e/Kk83Lypn9w/qE1ny+fkz+xz2Jf9Y/oH2N/HNpvsP/4/m8FkQW3C3ULywq/FDGLbh/QO1B+YPVg9MGhYuPik4ewh9iHxg9bH24qESzJLpk+4nmks5ReWlD6/ujWo7fKDMuqjxGPpR3jlnuUdx9XPH7o+JeKmIqxSrvK9iqpqv1VyyciT4yetDnZVi1dXVj9+afYnx7WONd01irXltVh69LrXtQH1g/8bPpzc4NEQ2HD10Z2I7fJt6m/2aS5uUWqpbgVbk1rnT8Vdmr4tMPp7jattpp2kfbCM+BM2pmXv4T/Mn7W/WzfOdNzbeeVzld1UDsKOqHOrM7FrpgubndI98gFtwt9PRY9Hb9q/9p4Ue5i5SXhS8WXiZfzLq9eyb6y1JvUu3CVdXW6b2vf5LXgaw/6ffqHrrtfv3nD6ca1AduBKzctb168ZX7rwm3T2113jO90DhoNdtw1utsxZDzUec/kXvew2XDPyIaRy6PWo1fvO9y/8cD1wZ2xjWMj4wHjDyfCJrgPIx/OPUp49OZx+uOVyZwnmCcFTwWelj2Telb7m9pv7Vxj7qUph6nB537PJ6eZ069+T/n9y0zeC8qLslnZ2eY5/bmL807zwy83vZx5lfRqZSH/D8E/ql6rvj7/p82fg4vBizNvOG9W3xa9E3/X+N7wfd+S99KzD4kfVpYLPop/bPpk+mngc9Dn2ZWML7gv5V/VvvZ8c//2ZDVxdTWJwWGsaQEU0sPR0QC8bQSAEgIAFdGExN51DbkWAa3rXoR5SozXePYfvK4z12aMAajrBcDfBgAPZKzMAUAZYX6k8eSvP7KegcH3hnh4lhJtoL8GEFkCkSa9q6tvVwHAhQPwdWh1daV8dfVrGaJ13gNwZeO6duVFC5xCZDPVUE/Xry/9cA7P83f7FxpgvJtcDRvaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAH+ElEQVRoBdVZa2xcxRWemXv37vq5dvxIbMdvEoNLCJQkJlBofkRR0poFq7hSBYlCBeIVojZ2ALWoriWo1OAEVaEhpKJINJUqWQ3CDgKqBKlNKdhJFCck69he4ziO4/gRr3dt7+69e+9MzxjZLLuz9u7m7g9Gsjz3zMyZ75s558yZWcwYQ9/nQr7P4Dl22WwC+9o77pMwrkMMlRGMixnCpQizPIywByE2DDs+zCgeoIS2+c76P2tq2qTfCgZshgm1fPC/fCzJOwkhv2SIVRGCDauisBSrVVIUC7ZYLEjXdaQFg0jTdMPn9yODUuCJJxmlrRozWl5xbHQlQuSWCRxo66xHEvkLYizTnpnBVuTmkLxlWUiSpKh4KKXI7fGisZtuNOF2AxemM8p+N3POdyDeHUmYQPPfOzIz7PggQnhHZnq6UVVRKqWm2KKCjtbAd8U1OMTGb7ox9DlPg8EtjXX3j0XrHy5PiMDugx9by8tz/o0QWV+6soCUFK5AYA7huuP6nnBPocuuAb4b5w335EON27fMxqIgoShUWp7zLjjnhupVFaS0qGBR8NzHVE0DC1s8XOdmZyHQx+3ubpyV3drc3BwTtrij0IH2jkaMyeMVxUUoF2xdVILgsAND19GU16sHAhoBxyYQhajNZqXgH3JJYQH4SCS+ZVl2tKq8mPQOXN2Wds/Wn4Puf4j0h8riMqE/tp6wW1LsQ7BaGT9YXRmqZ6F+c8qDLvdfgaBjUAB+DMJpL4TRIUbRSrCytUDeoSgyrb6tQrZnpC+Mm6/wnTr7ldOYDajde366bs28PNr/uHZATrE/B4rSS1cWCvX5Ayrq7vvaMBjtQkH2eEPdht7wjvvaOtdhLXj0Ul9/5bo11bICITa0cF8qKSqQul0Dd77RdnrrXsf6T0Lbw+uR+xjeI+Qb3PTXObDN6akpIdJvq7DyAJ7N+H36o3sE4HnPlxwbzugqfTioG2rfwFWhY+Qty+Z+RTFmP/pWu7gWM4E/HDtVACrywU6F4YbHde/MjIQMY89v6zcOi6f7Rrr3ZzV9cIAd4eYGphbRle+CzapQmGhVRGOYIGYCsqzczsdGi/XXR8cZTDwxrV49GjaH8JNhdAbsHQdUVdiearPJkIpUCRtDhDETIJjk8XEWOdJtAqqGbkIchyD+TlN9vRaiP3qVsrm5iSAa8UGUh12MA9EVfNMSMwGm0XN8CD9wwsvw6BgEG0bVgPF2eFu0b8iXfmGxyDrkS8IuAUiaKKNDwsYQYcwEuN0CyqOD10bo8I0xMHUDwamJRsYm0LWRUR793lvK9ufn3X+88ylY3p+UFKyQub2HF76jfn9AgvnmFi28PfQ70h5CW8PqwYBnF5wDaZC71PVD/gIgAPecKXw2HDB2h3UXfrZ8+OVmSZbfyrZn0qIV+cIFHBkbh7GYGUH6vlBJiDCug2x+3BvtX/yYMKkG5rCBKXcuFavnx81lroQcTUuxSWurV0sif/LOzKKuSz2wt/Sfe2o38NN40ZIQgUU1RmlsOX56N0H4zcyMNLRmdSWRBcGAh9QzF526qmp+nWq3v+R44HoUdQviuExoYVSclf3tna9DSPxN7jI7u6OyHMPFJ0IDd6Ker68wAE8YNXbGAp4rSTqB/e2n/wyO+nxBfi5aVVYC1Uin5Rccp2uAQSjGFKFfNTruOxbBMIogqQQOtJ9+E/A+X1ywHFWUrBRC4GZzsa+ferwzEPzRC42O9TGHYq4waT7QcrzjSYLIX4uW56PbyoqF4DUtiC709BmzPj9kFnR7o6NmyfQ5XFFSCOxr+7xQJooL0gHl3jXVEhxa4fMiXyCALnT3GkBC1RGt21tb86+ITjEIkmJChFhehbltVZVl4LAC8P4A6uru4XeGKarTrXsfrTkbA1Zhl8hwIOwWu/CZI0cskDftWJ6bgzPT0yIGcrPpcvYYelB3UxZ8sOEWwHPlphOoKrznIbgAp+XlZEeA54KeK4MUrpwaNeimhtqNl4Wd4hCaTgDieTWfX7T607M+NOn2wJzs1YZHapxx4Iza1XwCc8+IiMmCh62JSTcAgRTH7303KqI4G0wnACcRPEBg4VXRMzML5xTqerl+M7yTmlNMJwDwe8GMiA8iTWjh6beXH1YMnQiV32rddAJMNz6FHfD0DQ5R/mzIC08VIAXnlx5sGDjuw2oxkkk5yPZ/2PEYlsnfMMOKYrVQCJmYv0bD8v8eUuTmxQDF25YUAhxES3tnOWH4CUZYFTxqjWLCPmiorflvvACX6p80AktNbFa76T5gFrBY9SQlF+KTXz58shZesLdD/n8XY9QFT0AftY6dOtLU1MRDqWklKSbkPHziIKTSu2SrRVfSbLIe0AzNp/Kn8/8MBNUt217cJn7NSoCW6TvgPHTyMbgy7soszEFZJfnzzybS7LgHTbiGHyyTFR6FXkkAq3CI6T5AJPy0kmo1ADx/oF2YNC3PjuCPXymfXRCaUDGdAOQRP1QyUvkvkBHwrBmpXGa/cPBj8f0yYsTSAtMJwJTXDE0X5kIG3AWgBOXJmZh/xFuKgukE4AeCT/zuaaRO+78zN5BC0zfcOghPVTfF+AD8HQ3iD9MJ6D79NTCfwVHnFWNqaBz5gIzn+gQaOd9vUB0eC2nwGTGUxKRJCaMX/3RyuaTgw+AGDoDFF4n/dvC5StWn7npua09iUMWjkkJgfirnodZ0gu1Vs17iuvdl8+4A8/r5/6QSCJ0oWfX/A3UKXhQwWVptAAAAAElFTkSuQmCC</pre>
</div>
<div _hash="311da8d509b557a50e5bdf4eb3f6a4f7c3b6ebb3" created="20110830090055000" creator="willrogers" modified="20110830091644000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MobileProblems/364326:cacb4b9456d58544a502e252853e6d9326fd4b76&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364326" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MobileProblems" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MobileProblems" type="text/x-tiddlywiki">
<pre>Details:
* Order number: 3057382
* Old number: 07905 237327
* New / cancelled number: 07552791077
* Talkmobile account number: D564169
* Exchange number: 239580477


These are the problems I've had since ordering the phone from mobiles.co.uk

* The PAC code transfer didn't work
* I cancelled the contract
* They didn't get back to me on how to get the phone back
* I didn't receive acknowledgment of return
* I've been billed £100 up front for the phone (1st Aug)
* I've now been billed £13 as a first payment (18th Aug)
** I got a bill through the post, but it said £36, not £13...</pre>
</div>
<div _hash="83f02e8680765ba08fd5764a7627f51cdd4b7f0d" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/moreCommand/1521923:2528a2182f7bde086f0b094e9076108a7b9203ba&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521923" server.permissions="read" server.recipe="willrogers_private" server.title="moreCommand" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="moreCommand" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="434 218 68 68"
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 478.39694 232.53705 L 478.39694 232.53705 
		C 477.1145 231.85132 475.77875 231.30147 474.41058 230.88734 L 474.41058 218.24994 L 461.58942 218.24994 
		L 461.58942 230.88734 C 460.22125 231.30147 458.8855 231.85132 457.60306 232.53705 L 448.66824 223.60214 
		L 439.6022 232.66814 L 448.53717 241.60304 C 447.8515 242.8854 447.30157 244.22116 446.88745 245.58936 
		L 434.25 245.58936 L 434.25 258.41052 L 446.88745 258.41052 
		C 447.30157 259.77869 447.8515 261.11447 448.53717 262.39688 L 439.6022 271.33173 L 448.66824 280.3978 
		L 457.60306 271.46283 C 458.8855 272.14862 460.22125 272.69846 461.58942 273.11252 L 461.58942 285.74988 
		L 474.41058 285.74988 L 474.41058 273.11252 C 475.77875 272.69846 477.1145 272.14862 478.39694 271.46283 
		L 487.33176 280.3978 L 496.39767 271.33173 L 487.46286 262.39688 
		C 488.14853 261.11447 488.69836 259.77869 489.11255 258.41052 L 501.74988 258.41052 L 501.74988 245.58936 
		L 489.11255 245.58936 C 488.69836 244.22116 488.14853 242.8854 487.46286 241.60304 L 496.39767 232.66814 
		L 487.33176 223.60214 Z M 475.3328 244.66714 C 479.3825 248.71698 479.3825 255.2829 475.3328 259.33273 
		C 471.28296 263.3826 464.71704 263.3826 460.66724 259.33273 
		C 456.61737 255.2829 456.61737 248.71698 460.66724 244.66714 
		C 464.71704 240.61734 471.28296 240.61734 475.3328 244.66714" fill="#111"
		class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="7fcde6286683fc534fba037709c4e096ad316cb1" created="20120509101202000" creator="willrogers" modified="20120509101858000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MoreOnPorting/705287:d0cc11425b5f19dc73633de4096d1108f7d0bd31&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="705287" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MoreOnPorting" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MoreOnPorting" type="text/x-tiddlywiki">
<pre>Cristina at EMI AHM, Hamburg.

!!What we need
* know about packaging policies (online training procedures)
* clear procedures (documentation)
* stable tools (work done on ETICS)
* progress monitoring (nightly builds etc)

!!Progress
A bit optimistic on how quickly they'd get products to build; by release rather than December.

Changes from SL5 to 6:
* libcurl/nss
* Bouncycastle 1.46 a big release
* yum packaging changes

Debian 6:
* little knowledge - main problem
* completely different to SL
** packaging of dependencies completely different
** some dependencies not available
* no clear requirements - less priority than SL6
** PTs use porting as an excuse for not delivering features

!!Plans
* Tools now stable - no major functionality to be added
** Easier to try porting now
* Try to get clients ported by October
* Get stuff into EPEL and Debian
** Assess current status
** Work towards EPEL/Debian compliance: rpmlint, lintian
* Get Java products into Maven Central
** cf. CANL

Binary packages good enough for the repos
* Who's still using the ETICS packager (i.e. US)
* We need to move...

YAIM
* Only bugfixes for EMI
* Porting to Deb6 is only partial
* Could we use debconf?
* What else should we use?</pre>
</div>
<div _hash="5cc04673a7edc8d8c6c5f24b91f79ee3e328fe36" created="20111017100019000" creator="willrogers" modified="20111017100402000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MpiAccounting/364331:876efeee97d034bf07afb673e697a1b1f243c976&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364331" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MpiAccounting" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MpiAccounting" type="text/x-tiddlywiki">
<pre>Talk at the EMI AHM by Peter Solagna

!!What do we need?
* Number of nodes
** Node type if the environment is not homogeneous
* Number of cores
** Cores vs. CPUs - could that be the same thing?
* Number of processes / threads
* Node reservation?
** Suppose a process reserves a whole node, but doesn't use all its cores
* Network requirements
* Advanced reservation?

John: we've got to do all of this stuff before we can even think about accounting them.
How do we even account most of this?
Can we account the time wasted in waiting for cores to become available?</pre>
</div>
<div _hash="39896202f5bb8a9f02328e768575465d0a06a223" created="20120905090150000" creator="willrogers" modified="20120905090150000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MySQLFiles/854251:581f0c6daf717e2e3be32abae8270b8692b19f05&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="854251" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MySQLFiles" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="MySQLFiles" type="text/x-tiddlywiki">
<pre>~MySQL uses a number of different files to store its data, generally stored in {{{/var/lib/mysql/data}}}.

!!~MyISAM
~MyISAM has three types of file:
* .frm - this stores the table definition
* .myi - the table index
* .myd - the table data

!!~InnoDB
In raptest, we have 
* ibdata1
* ib_logfile0
* ib_logfile1
* &lt;dbname&gt;/&lt;table&gt;.frm - the table definition, which is small
* &lt;dbname&gt;/&lt;table&gt;.ibd - this presumably stores the table data, because some of these files are big</pre>
</div>
<div _hash="77bb87ce741ed0456a93e2ded5f0449e8571cc04" created="20120904135824000" creator="willrogers" modified="20120904140742000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MySQLIndices/853564:53566a993a75b84e89f9cc4b37e6fa4b0725c0cc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="853564" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MySQLIndices" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="mysql" title="MySQLIndices" type="text/x-tiddlywiki">
<pre>Indexing a column in a table allows you to retrieve a value from that column faster.  If you have a {{{where}}} clause in a query, the db can find the value in that column.

Using {{{explain select}}} in ~MySQL should show you whether an index is being used.

!!How it works
This is from a combination of Konrad's explanation and [[here|http://stackoverflow.com/questions/2362667/how-b-tree-indexing-works-in-mysql]].

A binary tree (~B-Tree) index stores the column value as a ~B-Tree key and a pointer to the record as the corresponding value.  A binary tree allows you to find the value in log2(n) time, instead of a search over the records which is n time.

The pointer to the record is an offset for ~MyISAM and the table's primary key in ~InnoDB.  ~InnoDB stores all its data in a binary tree, with the primary key as the key and the rest of the data as the value.

!!Multiple-column indices
See http://dev.mysql.com/doc/refman/5.0/en/multiple-column-indexes.html.
You can specify more than one column in an index.  This allows you to speed up queries which use any continuous set of these columns, starting with the first.  So if you're checking the first, or the first and the second and the third, then it is quicker.  If you check the first and the third, you are not any quicker.

The ~MySQL docs say you can consider the index as a sorted array containing the values in the listed columns.  So if you're checking for values in the first and second columns, you can pick out the correct rows from the first column and then check the second column for the correct value.  But if you're checking the first and third columns, you'll have to search through all the values selected from the first column, because you can't use the second column to narrow it down.


</pre>
</div>
<div _hash="aa634736e7380428d022c4abb9ac80dd3ae2279b" created="20110726100835000" creator="willrogers" modified="20130110092743000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/MysqlNotes/1021752:2fee931a65ee5abc8e5817d68ab00491e7b7c56a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1021752" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="MysqlNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="mysql sql" title="MysqlNotes" type="text/x-tiddlywiki">
<pre>See also SqlSyntax.

* MySQLIndices
* MySQLFiles

You can use {{{explain &lt;statement&gt;}}} for information on how the query will be run, for use in optimising.

!!Command line
Note that there's no space between -p and the password, and note the &lt; directing the sql file into the command.
{{{
mysql -u &lt;username&gt; -p&lt;password&gt; &lt;db-name&gt; &lt; &lt;file&gt;.sql
}}}

* {{{\g}}} - same as semicolon
* {{{\G}}} - display results differently
* {{{\c}}} - cancel current command
* {{{\N}}} in a text file represents NULL.

!!Client commands

{{{ show databases; }}} - show the databases
{{{ select database(); }}} - show the current database
{{{ use &lt;db-name&gt; }}} - select a database
{{{ show tables; }}} - show tables inside one database
{{{ describe &lt;table-name&gt;; }}} - show a summary of a table
{{{ show warnings; }}} - if warnings are mentioned after some operation
{{{ show processlist; }}} - show commands currently running
{{{ show procedure status; }}} - list procedures
{{{ show create procedure &lt;name&gt;; }}} - show specific procedure

!!Table types
* MyISAM used to be the default table type
* InnoDB is now the default table type

!!Datatypes
* CHAR(n) always holds the number of characters specified
* VARCHAR(n) can hold up to the number of specified characters, but is slower than CHAR

!!Procedures
Any variables in a stored procedure (in mysql) must be declared at the top of the procedure.  These variables can have default values.

!!Variables
Here is a really good explanation of variables and session variables: http://stackoverflow.com/questions/1009954/mysql-variable-vs-variable-whats-the-difference

!!Triggers
You can use triggers in mysql 5.0 and above.  The documentation is here: http://dev.mysql.com/doc/refman/5.0/en/create-trigger.html.
</pre>
</div>
<div _hash="9d712b1244319bd2e1503224f33a3b78863bbf8e" created="20120509085159000" creator="willrogers" modified="20120509085159000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NagiosNotes/705259:192039f2b516108d99949997f70448b5bd0cc58b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="705259" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NagiosNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NagiosNotes" type="text/x-tiddlywiki">
<pre>Nagios is an open-source system, network and infrastructure monitoring system.  Wikipedia reckons it's a de facto industry standard.  It can run on a host system, but can also run using scripts on remote systems as well, using Nagios Remote Plugin Executor (NRPE).

The SCT nagios can be found at https://oberon.esc.rl.ac.uk/nagios/.  There are various standard checks, such as the SSH server working and HTTP, and custom ones, such as the certificate expiry check and apel-consumer-hotcopy and stuff.  The nagios checks live in the directory {{{/usr/local/nagios/libexec/}}} - the standard ones are here already, and we add our custom ones to here.

We seem to be running 3.2.3 of Nagios Core, and the latest version is 3.4.0.

Cristina worked for a while on WLCG Nagios, which seems to be different to the SCT Nagios we run locally.  I should ask her how that works, but I think we end up submitting our test results using messaging.</pre>
</div>
<div _hash="e2140ec2736de4aeee0b49955c1c614c2f0796fd" created="20110504085446000" creator="willrogers" modified="20110504085446000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NetworkDrive/364354:a153fa95b00dcdcacb60d3e68dc2270346e93a72&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364354" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NetworkDrive" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NetworkDrive" type="text/x-tiddlywiki">
<pre>In My Computer:

* Tools -&gt; Map Network Drive...
* Browse...
* Escdc\Escfiles01\Users\hgs15624</pre>
</div>
<div created="20140802142214821" modified="20140802142214821" title="New Tiddler">
<pre>Newly created tiddler</pre>
</div>
<div _hash="f4a8e9a5094166a25add73be58c8babc956d10bf" created="20110503135659000" creator="willrogers" modified="20121123093232000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NewComputer/961332:6bf569c4e64509cb265df827bfa6956628ae7dda&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="961332" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NewComputer" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="cygwin windows" title="NewComputer" type="text/x-tiddlywiki">
<pre>When I got a new laptop, these are the steps I followed to set it up.

* Download Google Chrome
* Download IE 8
* Set proxy script to: http://wwwcache.rl.ac.uk/proxy.pac
* Install Tortoise SVN
* Download Process Explorer
* Install ~VirtuaWin
* Install ~FreeSnap
* Install Visual C# Express 2010 (and all the related bits; this takes a long time and a restart)
* Map NetworkDrive
* Download Notepad++
* Install Cygwin:
** Download and run setup.exe
** Use Internet Explorer settings
** Include Mintty, openssh, wget, vim
** Set up SshKeyAuthentication
** Set up [[.bashrc]]
** Set up [[.vimrc]]
* Install VirtualDebian

Still to do:

* Configure trac and Chrome
* AddPrinters
* Google Desktop
</pre>
</div>
<div _hash="09babdc1bf5123c6cce6dd4ec7d7cd5a0a951cb1" created="20120317220256000" creator="willrogers" modified="20120324111154000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NewFlatCosts/650415:38e34a7e3a0c053a72f8f10f1f192366bf5ad8c5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="650415" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NewFlatCosts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NewFlatCosts" type="text/x-tiddlywiki">
<pre>| ''Thing'' | ''Cost'' | ''Paid'' |
| Bathroom bin | £2 | Will |
| Lampshade x4 | £7 | Will |
| Table | £15 | Will |
| TV Table | £15 | Will |
| Chair | £3 | Will |
| Big bin | £2 | Will |
| Cutlery drainer | £5 | Will |
| Coat hook | £4 | Will |
| Hanging coat hooks | £13 | Will |
| Light cord | £2 | Will |
| Ironing board | £15 | Will |
| Knife | £5 | Liz |
| Mirror + bowl | £3 | Liz |
| TV cable adaptors | £3 | Will |

Will: £86
Liz: £8

| ''Service'' | ''Cost'' | ''Paid'' |
| 1st account Iffley Rd | £1277 | Will |
| TV Licence | £145.50 | Will |
| Electricity tokens | £40 | Will |
| Insurance | £70 | Will |

Will: £255</pre>
</div>
<div _hash="f9a0206bed2c0c68cdcbf19633c75d55d236da44" created="20120825172545000" creator="willrogers" modified="20120901100529000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NewLaptop/851475:171060b68bc4ad7ac69f100116f616fa68338d44&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="851475" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NewLaptop" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NewLaptop" type="text/x-tiddlywiki">
<pre>PossibleLaptops

!!Processor
There are a bewildering array of processors available, but if you take a bit of time to figure them out, it becomes a bit more manageable.
LaptopProcessors

!!Graphics
Passmark also does a GPU benchmark, listed below.  For reference, the GPU in my current laptop (NVidia Geforce 8200M) gets a score of 78.
!!!Options
Intel HD 3000: 414
Intel HD 4000: 576
nVidia GeForce GT 630M: 786
AMD Radeon HD 7650M (Vaio): 867

!!!Capability
Intel's Sandy Bridge processors come with integrated graphics: HD 3000 for the 2nd generation and HD 4000 for the third.  HD 4000 does seem a reasonable step up.  
!!!Drivers
Linux drivers are traditionally a bit sketchy for graphics cards, but from what I read it has perhaps got a bit better.


!!Hard drive
There don't seem to be too many variables here.  SSDs are much faster, but don't get very big without being very expensive.  You generally get 500GB or more on a regular HDD, which would be fine.  These are also generally at 5400rpm - I haven't seen a 7200rpm HDD in a standard-spec laptop.  A few pseudo-ultrabooks have a 24 or 32GB SSD as well as a 500GB HDD, which seems like a good idea.

!!Size
I'm quite happy with my widescreen 15.6" HP.  The smaller ones don't seem that small to look at though.  I think 17" would be too big.

!!Other
A USB 3.0 port would be nice, but more than one is probably not necessary.  I think an optical drive is a nice thing to have still, but perhaps I could buy an external one.

I think Linux drivers for wifi are now not worth worrying about, and all laptops should now come with wifi 802.11n.
</pre>
</div>
<div _hash="2fb012eee64148e7560c04e1a85c022b31cbd8db" created="20110508140033000" creator="willrogers" modified="20110508140515000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NewYorkGirls/364393:89a78a432ff1b2d4edf1b9fec7d2d42687e1d528&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364393" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NewYorkGirls" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bellowhead tab" title="NewYorkGirls" type="text/x-tiddlywiki">
<pre>by Bellowhead

This seems pretty simple: the chords repeat as D - G - A - D, where the A can be replaced by A7 sometimes.

Then there's a jiggy bit sometimes, which I transcribed as follows:

{{{

e -------------------------------------------------
B -7-10-7-8-7-------7-8-7-----------7-8-7---------- 
G ------------9-7-9-------9-7-9-9-9----------------

e -------------------------------------------------
B -7-10-7-8-7-------7-8-7-----7--------------------
G ------------9-7-9-------9-7---9-7----------------


}}}
</pre>
</div>
<div _hash="671f4a24a71dec4f398b73ed1df2875a622418f6" created="20110425092431000" creator="willrogers" modified="20140526122548000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NikonCamera/1767715:a70c5d89c048c4112486931eec330b40caa595a9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1767715" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NikonCamera" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="camera" title="NikonCamera" type="text/x-tiddlywiki">
<pre>NikonLenses

* Here's a review: http://www.imaging-resource.com/PRODS/ND60/ND60A.HTM
* Is it worth using the RawFiles yet, or is it unnecessary for the time being?
* ISO used to measure 'film speed', but now it corresponds to 'gain' on the camera's CCD. 
* sRGB is I think a colour range 'RGB colour space' developed by HP and Microsoft for digital devices.  Adobe RGB is another proprietary format.  I seem to have the option, but of course I don't know what the difference really is.

!!!IR controller
The IR controller is a simple copy of Nikon's official one.  Since the only thing it needs to do is send the correct IR signal at the correct frequency, it's easy to copy.  My IR controller was only a few pounds, but I can also make my phone do it.
The signal (hard to find, but finally detected using a crappy app from the play store, is):
{{{
// Retrieved from app 'HTC IR - Universal Remote' by learning
// from my existing remote.
int[] pattern3 = {71, 1052, 14, 62, 14, 139, 15, 2392, 73, 1052};
irm.transmit(38400, pattern3);
}}}
The frequency is 38.4kHz.

!!USB control
This seems to be the best bet for time-lapse photography, because it can keep the camera awake.  I am using [[gphoto2|http://www.gphoto.org/]], which seems to work nicely.  The only difficulty was the message {{{ *** Error ('Could not claim the USB device') ***}}}.  This can be solved by using the command:
* {{{gvfs-mount -s gphoto2}}}
Then I can use the gphoto2 CLI.</pre>
</div>
<div _hash="91c4a4e8cd26f7e99e474c47277d15efadca3eb5" created="20140526122724000" creator="willrogers" modified="20140526122724000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NikonLenses/1767716:c5c894dad1e0c426bbe43b6aab715f42cfe2c41f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1767716" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NikonLenses" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NikonLenses" type="text/x-tiddlywiki">
<pre>Nikon makes two types of lens: 
* FX lenses for full-frame cameras
* DX lenses for DX cameras</pre>
</div>
<div _hash="4e78b3bd38495483588440fe401894a820804617" created="20111030201612000" creator="willrogers" modified="20111125180309000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NorthernLights/364411:d5f18fceaa5ce7718fed0e4a480004b1e2d643a2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364411" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NorthernLights" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NorthernLights" type="text/x-tiddlywiki">
<pre>Liz would like to see some northern lights.  Here are some notes on how to do it.

!!Articles
* This one from the Independent isn't very inspired: http://www.independent.co.uk/travel/europe/the-complete-guide-to-the-northern-lights-557301.html
* This one from the Guardian is a bit better: http://www.guardian.co.uk/travel/2010/nov/13/aurora-borealis-northern-lights-travel

!!Dates
Liz is free from Saturday January 28th to Sunday February 5th.  This corresponds with the Tromso Northern Lights Festival: http://www.nordlysfestivalen.no/en/forside.html.

I might be going skiing from 18th - 25th February.

!!Tromso
Near Tromso in Norway seems to be the natural place to go.  Flights are reasonable, and there is accommodation.

!!!Flights
These are a little awkward.  SAS seems to be the only airline regularly flying to Tromso, but going from London you can't get there inside one day.  On certain days, we might be able to fly to Oslo cheaply on Ryanair (but of course suffer baggage charges) then stay in Oslo and fly to Tromso the next day for ~£90 with SAS.

The return flights are much more convenient, but still via Oslo - you can typically get back in 6 or so hours for about £140.

!!Abisko National Park
Cate mentioned Abisko, and it does look promising.  Here are some links:
* http://www.abisko.nu/vinter/englishpages/index.asp
* http://www.svenskaturistforeningen.se/en/Discover-Sweden/Facilities-and-activities/Lappland/Fjallstationer/STF-Mountain-station-Abisko/See-and-do/Trips-on-your-own-Winter-/


!!Daylight
The impression I'm getting is that we'd get about 5 hours of daylight a day, although we wouldn't see the sun for all of that.
</pre>
</div>
<div _hash="af70e1fa14d0b1abc7e349abeaa241176d790db1" created="20131205095044000" creator="willrogers" modified="20140609132325000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/NumPy/1784373:b2b9253243dddd9a29e58138e0b704f803ce95ab&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1784373" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="NumPy" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="NumPy" type="text/x-tiddlywiki">
<pre>* See also CoThread, MatPlotLib

Numpy is a numerical python library apparently inspired by Matlab.  A core concept is a numpy array, which is highly optimised.

!!Basics
* You can create an array from a sequence: {{{numpy.array(&lt;sequence&gt;)}}}.
* You can create a new array with {{{empty(shape)}}}, {{{zeros(shape)}}}, {{{ones(shape)}}}
* You can add or subtract arrays of the same shape, and multiply an array by a scalar.

!!!Shape
In 2D arrays, the first index is the row and the second the column:
{{{
&gt;&gt;&gt; x = numpy.arange(12).reshape(3,4)
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
&gt;&gt;&gt; x[1,2]
6
}}}

You can apply functions to rows and columns by specifying the axis:
{{{
&gt;&gt;&gt; numpy.mean(x, axis=0)
array([ 4.,  5.,  6.,  7.])
&gt;&gt;&gt; numpy.mean(x, axis=1)
array([ 1.5,  5.5,  9.5])
}}}
!!Indexing
Here's the page from the documentation: http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html.
This gets a bit involved, but it is worth understanding.  Essentially, you start with a numpy array {{{x}}} and you get different parts of it depending on what you put in the square brackets.
!!!Slicing
This extends Python's slicing {{{x[&lt;start&gt;:&lt;stop&gt;:&lt;step&gt;]}}} to more dimensions.  You have a tuple of slice objects, and the nth slice object refers to the nth dimension.  A colon is a placeholder, and means you get everything from that dimension.

{{{
&gt;&gt;&gt; x[:,1] = [1,1,1]
&gt;&gt;&gt; x
array([[ 0,  1,  0,  0],
       [ 4,  1,  7,  7],
       [ 8,  1, 10, 11]])
}}}

Unlike standard slicing of a list, slicing returns a view on the original array, which means that if you change the result, the original array changes too:
{{{
&gt;&gt;&gt; y = x[:,2]
array([ 0,  7, 10])
&gt;&gt;&gt; y[1] = 1
&gt;&gt;&gt; x
array([[ 0,  1,  0,  0],
       [ 4,  1,  1,  7],
       [ 8,  1, 10, 11]])
}}}

If you have a 2D array and ask for {{{x[0]}}}, you get the first row (i.e. it uses it as the first index).

If you pass an array of bools into an array, the returned array contains items for array 1 corresponding to True in array 2:

{{{
&gt;&gt;&gt; a = numpy.array([1,2,3,4,5])
&gt;&gt;&gt; 
&gt;&gt;&gt; b = numpy.array([True, True, True, True, False])
&gt;&gt;&gt; b
array([ True,  True,  True,  True, False], dtype=bool)
&gt;&gt;&gt; a[b]
array([1, 2, 3, 4])
&gt;&gt;&gt; 
}}}
</pre>
</div>
<div _hash="676549bbd73ac69f9482410741a551686c003e31" created="20120314135042000" creator="willrogers" modified="20120314135042000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OgfUrTalk/364412:1cf38c5b896ad51425fafabc494b937f0eab20a8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364412" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OgfUrTalk" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OgfUrTalk" type="text/x-tiddlywiki">
<pre>!!EMI StAR
An implementation of the OGF UR, which is more general
CAR is also an implementation
StAR finished?  Discussion carries on...
DGAS, HLRmon sensor can be adapted to StAR
GStat ... ?

!!UR 2.0
Fortnightly phone meetings
Use cases have been discussed
StAR taken into account

New charter: fairly sensible description of what is required by a usage record.</pre>
</div>
<div _hash="71bda3dee54a20f1b8e8c7c6245c06ac3c52e2f8" created="20140226082950000" creator="willrogers" modified="20140404084148000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OpiBuilderPlugin/1709471:65b92316a2fde0abfdad84a063f845b1f5822d8b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1709471" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OpiBuilderPlugin" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OpiBuilderPlugin" type="text/x-tiddlywiki">
<pre>See CssBoy, OpiBuilderWidgetsPlugin, JFace

The {{{org.csstudio.opibuilder}}} plugin is the main part of BOY.  The entry point of a plugin is {{{&lt;package&gt;.*Plugin.java}}}.

~OpiBuilder also depends on the widgets in the {{{org.csstudio.swt.widgets}}} plugin.

This file determines if it is being run using RAP (for webopi) or not, setting some differences at startup.  If not RAP:

* starts the ~ScriptService
* loads colors and fonts using the ~MediaService
* launches a ~GUIRefreshThread (it's configurable how often the GUI updates)
* loads a ~SchemaService  (?)
* adds a listener to property changes, by breaking the rules slightly

!!Packages
* {{{actions}}} - maybe 30 classes, most of which extend {{{org.eclipse.jface.action.action}}}
* {{{commands}}} - 15 classes extending {{{org.eclipse.gef.commands.Command}}}
* {{{datadefinition}}} 
* {{{dnd}}} - utilities for dragging and dropping
* {{{editparts}}} - presumably parts of an editor, although more general than the ones used in specific widgets
* {{{editpolicies}}} - what are these?
* {{{feedback}}} - an interface and class to deal with 'graphical feedback'
* {{{model}}} - models used by widgets, including {{{DisplayModel}}}, the root model for all ~OPIs.
* {{{palette}}} - three classes
* {{{persistence}}} - 
** {{{URLPath}}} - class to handle ~URLs
** {{{XMLUtil}}} - handles conversion of widgets to and from XML, including loading a whole OPI display model from an ~InputStream.
* {{{preferences}}} - six classes
* {{{properties}}} - properties extending {{{AbstractWidgetProperty}}} and property change handlers
* {{{properties.support}}} - ~PropertySSHelper.java
* {{{runmode}}} - See OpiBuilderRunmode
* {{{script}}} - see OpiBuilderScripts 
* {{{scriptUtil}}} - see OpiBuilderScripts
* {{{util}}} - see OpiBuilderUtil
* {{{visualparts}}} - maybe 50 UI components
* {{{widgetActions}}} - about 10 actions extending AbstractWidgetAction.java
* {{{org.csstudio.platform.data}}} - one class, deprecated</pre>
</div>
<div _hash="46769b6cd6d1489e625072eaf235da64493a74ab" created="20140226093211000" creator="willrogers" modified="20140424093256000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OpiBuilderRunmode/1730159:59a7e0d05624c05778f464fb3bc15d7cf8a4fa3c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1730159" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OpiBuilderRunmode" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OpiBuilderRunmode" type="text/x-tiddlywiki">
<pre>This is an important package in the OpiBuilderPlugin.  It includes:
* ~DisplayOpenManager - maintains a stack of ~IRunnerInputs used for going forwards and back between ~OPIs.  This can be null if the ~OPIs are not being opened in the same window.
* ~IRunnerInput and ~RunnerInput - the ~EditorInputs which are used to display something in an editor or view.  These are defined by their path plus any macros.  Each retains a reference to a ~DisplayOpenManager.
* ~RunnerInputFactory - used for creating and saving the ~RunnerInputs
* the ~OpiRunnerPerspective
* a contribution to the toolbar
* ~OPIRunner  - the editor version of a displayed OPI
* ~OPIView - the view version of a displayed OPI
* IOPIRuntime - the interface which both of the above implement
* ~OPIRuntimeDelegate - the opi runtime components which are used by both the above, containing a viewer, {{{DisplayModel}}}, {{{IEditorInput}}}, {{{IOPIRuntime}}} and {{{DisplayOpenManager}}}.
* {{{OPIRuntimeToolbarDelegate}}} - manages the toolbar contributions for OPIs - zooming and forward/back
* a context menu provider

* {{{PatchedScrollingGraphicalViewer}}} - a {{{ScrollingGraphicalViewer}}} with slight behaviour changes
* Patched* - three more files which change the behaviour of components slightly 

!!!{{{RunModeService}}}
This is a singleton service with a private {{{IWorkbenchWindow}}}, representing the daddy window.  It has the following methods:
* {{{static RunModeService getInstance()}}}
* {{{static void replaceOPIRuntimeContent(IOPIRuntime, IEditorInput)}}} - just a utility function
* {{{getRunWorkbenchWindow()}}} - return the daddy window
* {{{runOPI()}}} - three variants, which are not static because they reference the daddy window
* {{{runOPIInView()}}} - static, because it does not reference the daddy window, simply getting the active window and using that

It has an enum {{{TargetWindow}}} with the following elements:
* {{{NEW_WINDOW}}} - open a new workbench window for the new OPI
* {{{SAME_WINDOW}}} - put the new OPI in the same window
* {{{RUN_WINDOW}}} - I'm not sure of the distinction between 'same' and 'run'.
</pre>
</div>
<div _hash="9a5ff356f17a522b21bdac53585b79ae9b44b3b7" created="20140326111530000" creator="willrogers" modified="20140326111826000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OpiBuilderScripts/1700611:57befd1b67470dbdaa2bd0d46ffe580a08e01e4b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1700611" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OpiBuilderScripts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OpiBuilderScripts" type="text/x-tiddlywiki">
<pre>See OpiBuilderPlugin.

!!!{{{script}}}
This package includes classes for handling javascript and python scripting:
* interpreters
* script stores

Rules added to OPI elements are also constructed in the same way using javascript:
* rule data
* expressions

!!!{{{scriptUtil}}}
These helper classes which you can call from JS and Python scripts; in fact, they contain static methods which you can use.</pre>
</div>
<div _hash="e6e83b0d334922ff6ea5b1022e1eec4b6c4c7b69" created="20140227104437000" creator="willrogers" modified="20140312082517000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OpiBuilderUtil/1686835:d71ee8e2db1b82e18e93d7399454f0f8425286f2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1686835" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OpiBuilderUtil" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OpiBuilderUtil" type="text/x-tiddlywiki">
<pre>There are about 25 classes in the {{{util}}} package.

* ~GUIRefreshThread essentially takes a parameter and makes sure that the GUI doesn't update any more frequently than that number in milliseconds.
* ~MacrosInput stores a ~LinkedHashMap of key value pairs</pre>
</div>
<div _hash="f340ab80860945a75e1e830a6164ed15bd25736d" created="20140404082655000" creator="willrogers" modified="20140404090308000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OpiBuilderWidgetsPlugin/1709599:d7cba44fb0a5a57dc3439dbd2ada417842b41295&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1709599" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OpiBuilderWidgetsPlugin" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OpiBuilderWidgetsPlugin" type="text/x-tiddlywiki">
<pre>See CssBoy, OpiBuilderPlugin

This plugin contains the following packages:
* {{{widgets}}} - only Activator.java
* {{{widgets.actions}}} - ~25 actions, some of which extend {{{Command}}}, some of which {{{AbstractWidgetTargetAction}}}.
* {{{widgets.editparts}}} - maybe 50 editparts
* {{{widgets.feedback}}} - mostly {{{FeedbackFactory}}}
* {{{widgets.figures}}} - 6 figures
* {{{widgets.model}}} - maybe 50 models, which implement or extend models
* {{{widgets.util}}} - {{{ImplementationLoader}}}, {{{ListNumberWrapper}}} and {{{SingleSourceHelper}}}

{{{org.csstudio.opibuilder.widgets.extra}}} is more of the same.

{{{LinkingContainerEditPart}}} uses a {{{LinkingContainerModel}}} and a {{{LinkingContainerFigure}}} (from {{{org.csstudio.swt.widgets}}}).
* It has its own {{{loadWidgets()}}} method</pre>
</div>
<div _hash="d6eb52a0aef130b8a74a24b563581112d155ca18" created="20140610222737000" creator="willrogers" modified="20140610224122000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OrthoticInsoles/1785991:e9b500fa9125045776d9b8a6057fa8abfc6c4cac&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1785991" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OrthoticInsoles" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OrthoticInsoles" type="text/x-tiddlywiki">
<pre>The brand of the insoles is Formthotics.  I got Formthotics dual density large (UK 8.5-9.5).  They cost £36 plus postage at present.</pre>
</div>
<div _hash="1f17006a420515f3d4e6459aefb1b6cbde4fec79" created="20140227105329000" creator="willrogers" modified="20140605085438000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OSGi/1781051:c88dd3cd012e5866b879f24f6f1a7589d453a9f5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1781051" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OSGi" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OSGi" type="text/x-tiddlywiki">
<pre>The Open Services Gateway Interface (OSGi) is a standard implemented by Eclipse.  Eclipse Equinox is the reference implementation of the specification.  Equinox adds features including the extension point mechanism.

"The core of the OSGi specification defines a component and service model for Java. The components and services can be dynamically installed, activated, de-activated, updated and de-installed. "

There are other implementations:
* Eclipse Equinox
* Apache Felix 
* Knopflerfish OSGi

!!Bundles and plugins
OSGi defines bundles, while Eclipse talks in terms of plugins.  These terms are effectively interchangeable.  

Effectively a bundle is a jar file with additional metadata, stored in {{{META-INF/MANIFEST.MF}}}.  The extra identifiers have the prefix {{{Bundle-}}}.  Since this is an extension of the standard manifest, these bundles can be used in other Java programs.

!!!OGSi console
You can start the OSGi console by adding {{{-console}}} to the run arguments in Eclipse.  This allows you to dynamically change plugins.  Some commands:
* {{{ss}}} - list all plugins loaded
* {{{ss &lt;word&gt;}}} - list all the plugins containing that word
* {{{start &lt;id&gt;}}}
* {{{stop &lt;id&gt;}}}

This page describes some more about the console: http://www.ibm.com/developerworks/library/os-ecl-osgiconsole/</pre>
</div>
<div _hash="d99b0894e9f78207cd2e2f10de4c4c17001a2805" created="20110712084214000" creator="willrogers" modified="20111125143218000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/OtherAccountingServices/364433:ed1d1dd7b03c8389d3cb6d5573f2336d94530721&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364433" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="OtherAccountingServices" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="OtherAccountingServices" type="text/x-tiddlywiki">
<pre>If you've got a grid, it's pretty natural to want to know what's going on on it.  So there are a number of different grid accounting systems around, APEL being one of them.  For historical reasons, APEL is the biggest one in EGI and the WLCG.

This page is an attempt to collate the ones we know about and what they do.  It very much seems like an area where many people have made a decent start, but there's no stand-out best thing.  There are a number of different formats of record and ways of transmitting information.

Andrea's page about creating an accounting record has some useful links: https://twiki.cern.ch/twiki/bin/view/EMI/ComputeAccounting.

!!DGAS

http://www.to.infn.it/dgas/index.html

I found most of the information in the documentation page.  DGAS seems to work in a similar-ish way to APEL, supporting only LSF and PBS.  It runs on the CE collecting data from the log files, then pushes this information to a 'HLR', which corresponds to the glite-APEL node.  It has a DB structure which is fairly similar to APEL's.  It's written in C++.

It seems that Sascha Fahl and the D-Grid in Germany use DGAS, but they have enquired about the new APEL to see if it would do a good job for them.  Is it the same DGAS or not?  It mentions Java EE, but is that just a different version of the same thing?  I'm still not sure.  John Gordon reckons they're building a new thing, but I don't know if that thing is called DGAS or they used to use DGAS.

!!GRATIA

Philippe Canal is in charge(?).  Our contacts are John Weigand and Tanya Levshina.

https://twiki.grid.iu.edu/bin/view/Accounting/WebHome

I had a quick look through the source, and there's C++ and Java, and also some Perl.  I just found some python too.  There's a mention of web services, presumably the way they use to get the information across the internet.

However, it's difficult from the documentation I've found to get a quick overview of how it works.  I imagine it would be the same for APEL.

!!SGAS
I now think this is the accounting system used by ARC, in Scandinavia.  This is the site for SGAS: http://www.sgas.se/index.php?title=Main_Page.  We've talked to Gabor Szigeti, and briefly to Ulf Tigerstedt about this.  Neither of these are listed in the 'People' page on their site though.

SGAS ~~is~~ claims to be written fully in Java, but in practice I found python and C++ in their repository.  It has recent releases.  It appears that their most recent documentation is from 2006, though.  The site is nice and the code is easy to browse and understand on their Trac.  

!!!SGAS Code
In browsing through their source code, I found that their parsers (known as BaRT) are actually written in python.  Their torque version is here: http://svn.cs.umu.se:8765/sgas/browser/bart/trunk/bart/torque.py.  It's a pretty small package, and the code seems very clear - we could take a lot from this if we were writing parsers in python.

They support Torque, maui, and SLURM - it seems like the same package would be used whichever.

!!~GridSAFE

Here's the homepage: http://gridsafe.sourceforge.net/index.html

I got a potted history from Cristina.  The project was designed with APEL in mind (really?) but the APEL bid was too late and it was won by Edinburgh.  It became a bit of a white elephant, because it was developed without actual users, and was very ambitious but didn't necessarily ever get working fully.

Despite this, it sounds like Globus are planning to use GridSAFE for something or other.

!!NGS UAS
I still can't quite figure out what the UAS and RUS are exactly.  I think the UAS has been given to Alison to look after, because it is in the general 'accounting' theme.  We may want to integrate it with APEL at some point in the future.

The NGS definitely does some active stuff with the data, banning people from resources when they have exceeded their quota, and things like that.  APEL doesn't really get involved with that kind of thing at the moment.

!!NSCCS
Alison has also got this to work on, I think.  It appears to have a reasonable accounting system, but different again.
</pre>
</div>
<div _hash="f7d57de5937a110a2d275d11eebcd4557fc34f25" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/PageTemplate/1521914:74ade64304fbde2d97ff6cd7ffadf4bb1a9b21dc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521914" server.permissions="read" server.recipe="willrogers_private" server.title="PageTemplate" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="PageTemplate" type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;div class='header'&gt;
	&lt;div id='sidebarSearch'&gt;
		&lt;span macro='search'&gt;&lt;/span&gt;
	&lt;/div&gt;
	&lt;div class='headerForeground'&gt;
		&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;
		&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
	&lt;/div&gt;
	&lt;div class='clearFloat'&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id='menuBar'&gt;
	&lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
	&lt;div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea'&gt;
	&lt;div id='messageArea'&gt;&lt;/div&gt;
	&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
	&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div _hash="bba4d5d131e325a3ca20c104c9f8e40154017234" created="20140618151023000" creator="willrogers" modified="20140618152218000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ParticleAccelerators/1797987:68847800402c9b05c7925e915a5b002c69f9dacc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1797987" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ParticleAccelerators" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ParticleAccelerators" type="text/x-tiddlywiki">
<pre>There are a lot of particle accelerators in the world.

!!!Synchrotron light sources 
|''Name''|''Site''|''Energy'' (~GeV)|''Circumference'' (m)|''Emittance'' (nmrad)|
|Diamond|RAL|3|562|2.7|
|ESRF|Grenoble|6|844||
|Soleil|Saclay|2.7|354|3.9|
|NSLS-II|BNL, New York||||
|Max-IV|Lund||||
|Singapore|||||



!!!Colliders
|''Name''|''Site''|''Energy''|''Notes''|
|LHC|CERN|14TeV|
|KEKB|KEK, Japan|10.5GeV|8GeV electrons, 3.5GeV positrons|

!!!~FELs

!!!Spallation neutron sources</pre>
</div>
<div _hash="2a3806d70d228b2c1a665684916959f158757ab1" created="20120115165212000" creator="willrogers" modified="20130327213414000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/PastAddresses/1162846:338c8df72d4d97862b41476eb05a13b02cef22cc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1162846" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PastAddresses" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="PastAddresses" type="text/x-tiddlywiki">
<pre>Certain things require the past three years' addresses.  May as well get them right.

Before May 2009, I was living at Sinope.

| Start | End | Address | Postcode |
| May 2009 | August 2010 | 274 Abingdon Rd, Oxford | ~OX1 4TA |
| August 2010 | October 2010 | 10 Loder Rd, Harwell, Didcot, Oxfordshire | ~OX11 0HR |
| October 2010 | March 2011 | 118 Green Close, Didcot, Oxfordshire | ~OX11 8TB |
| March 2011 | 9th March 2012 | 55A Aston St, Oxford | ~OX4 1EW |
| 9th March 2012 | August 2012 | BF, 223A Iffley Rd, Oxford | ~OX4 1SQ |
| August 2012 | Now | 90 Cardigan Rd, Reading | ~RG1 5QW |</pre>
</div>
<div _hash="bfcb9e3c2b93afd7c3f6ece4285a9ec9bd22e414" created="20140504130951000" creator="willrogers" modified="20140504134438000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PhotoOrganisation/1740282:61a6a70612ad13ffb96fca3a0f687c95023a7aa2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1740282" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PhotoOrganisation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PhotoOrganisation" type="text/x-tiddlywiki">
<pre>I'm using Shotwell for organising my photos.

* By default, it puts photos in directories per year, month and day.
* It won't change directories if it imports photos
* It will still show them in the same structure
* If you delete photos, they go to 'Shotwell's bin'.  When emptying that, you can choose whether to delete them permanently.

* I imported the 'year' folders, but not the others, into Shotwell
* I'll import and edit photos on the desktop, and only copy them across to the laptop for portability. 
* I'll backup the Photos directory to the external hard drive, and then across to Southampton.
* If you put new photos into a location already imported, you have to re-import that folder

* I haven't imported my phone photos, which are uploaded to Dropbox by default.


</pre>
</div>
<div _hash="c7b4c4fbbf9d0b2d46e480e5ccc0715cd0ae954e" created="20140616155639000" creator="willrogers" modified="20140802143238928" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PhysicsSoftware/1847302:b9a1d05126dbe517f9037acf4838c68c40c1d22c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1847302" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PhysicsSoftware" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PhysicsSoftware" type="text/vnd.tiddlywiki">
<pre>There are several pieces of software widely used as part of accelerator physics.  Some of them are 

!!MiddleLayer and at
Matlab functions useful for working with accelerators.  Loco and BBA are both part of Middle layer.

!!![[Elegant|http://www.aps.anl.gov/Accelerator_Systems_Division/Accelerator_Operations_Physics/manuals/elegant_latest/elegant.html]]
A multi-purpose 3D particle Tracking code through a linear accelerator. The beam line elements are described by transport elements up to 3rd order. Although it excludes space charge, Elegant has an analytical model for the coherent synchrotron radiation in a bending system and its interaction back on the beam. Elegant works in the SDDS environment, complemented with the SDDS tool set, to pre- and postprocess Elegant runs.

Elegant, written entirely in the C programming language, uses a variant of the MAD input format to describe accelerators, which may be either transport lines, circular machines, or a combination thereof.
!!!SDDS
The Self Describing Data Sets (SDDS) file protocol is the basis for a powerful and expanding toolkit of generic programs. These programs are used for simulation postprocessing, graphics, data preparation, program interfacing, and experimental data analysis. 

The SDDS toolkit is a set of programs based around SDDS.

!!!Tracy
Tracy is an elusive tool originally written in Pascal 1988 by Hiroshi Nishimura.  It was ported to C by Johan Bengtsson, and I believe is now at version 3.  It is described as a tool for accelerator design and analysis.  It still seems to be used (notably in James's virtual accelerator), but has no apparent webpage or source repository.

!!!MOGA
!!!Opera
Opera is expensive proprietary software used for magnet design at Diamond.
!!!FLUKA
!!!BBA</pre>
</div>
<div _hash="6becba5873194d36ebe776bad2a4f6238b356d7d" created="20140111221719000" creator="willrogers" modified="20140112172118000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PiCam/1623112:61f025006f614449c255c07eb76ca3ec4ea56519&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1623112" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PiCam" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PiCam" type="text/x-tiddlywiki">
<pre>Once you've plugged it in, you need to enable it using {{{raspi-config}}}.
!!Basics
The command is {{{raspistill}}}.  Useful options:
* {{{-vf}}}, {{{-hf}}} - flip vertically and horizontally
* {{{-w}}}, {{{-h}}} - dimensions of photo in pixels
* {{{-o}}} - file to be written

!!Video
I want to make a time-lapse video out of some of my photos.</pre>
</div>
<div _hash="8bb07936c94df363910d54bd541801c3861af842" created="20120315211921000" creator="willrogers" modified="20120322195655000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PlusNet/647472:3ee8dc016d56df0a2a265adaca9aa39e992a40ee&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="647472" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PlusNet" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PlusNet" type="text/x-tiddlywiki">
<pre>!!PlusNet

Connection charge was £25, one-off.

Line rental is £12.99 a month.  10GB internet is £6.49 a month, because we are in a  'low cost' area.

We get free phone calls from 7pm to 7am, if we hang up and reconnect every hour.  This includes:
* 01, 02, 03 landlines
* 0845
* 0870
* 0800 and 0300?
It ''doesn't'' include mobiles.

!!BT Home Hub
I also got a BT Home Hub (v1.5) router from RAL on the same day for £5.  This includes a phone which works fine.  The only problem might be if the router is locked to BT.  I've read that it works if it has the correct firmware - the details are I believe still open at work.  The firmware we've got is 6.2.6 E, I think. [[This page|http://community.plus.net/forum/index.php?topic=60561.0]] suggests it should work.

Here's a page about the BT Home Hub: http://www.filesaveas.com/bthomehub.html.
And hacking it: http://www.gnucitizen.org/blog/bt-home-flub-pwnin-the-bt-home-hub/
Here's another page: http://bt-home-hub.software.informer.com/wiki/#BT_Hub_Phone.  There's also some stuff on wikipedia.
Here's a page on the lights on the home hub: http://bt.custhelp.com/app/answers/detail/a_id/10469/~/what-do-the-lights-on-my-bt-home-hub-1.5-mean%3F

I've set the password so it's the same as my plusnet one.  The username is 'admin'.  You can reset this if you reset the router.  

The plusnet username is wahrogers.  To log in, it should be wahrogers@plusdsl.net, I think.  You can find the details in the welcome pack.</pre>
</div>
<div _hash="2211df9c060f8caf55773c5136ea052f14e3f7f9" created="20111005190936000" creator="willrogers" modified="20130204192923000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PoloCosts/1059864:a1619a3eb9a0890b2b58a90766fd72bba908de7a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1059864" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PoloCosts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="polo" title="PoloCosts" type="text/x-tiddlywiki">
<pre>I got the Polo on October 1st 2011.  This has now moved to Google Docs.

| ''Date'' | ''Description'' | ''Cost'' |
| Oct 11 | tax | £130 |
| Oct 11 | insurance increase | £123 |
| Oct 11 | extra insurance on Mini | £56 |
| Oct 11 | extra insurance due to alloys and spoiler | £34 |
| Oct 11 | replacement gear knob | £28 |
| Nov 11 | new headlight | £17 |
| Dec 11 | stereo (inc adapter, fitting) | (£180) |
| Jan 12 | Groupon service | £50 |
| Apr 12 | Speakers (ral.forsale) | £10 |
| Apr 12 | Rear wiper blade | £10 |
| Apr 12 | Door panel fittings | £5 |
| May 12 | MOT (inc nplate bulb) | £56 |
| May 12 | Insurance (Liz, extras, breakdown) | £631 |
| Sep 12 | Extra insurance for moving | £77 |
| Sep 12 | Tax disc | £135 |
| Dec 12 | Groupon service | £50 |

</pre>
</div>
<div _hash="52fa1403996fd4857e60a33a7bf03c8896ea52d8" created="20110923185912000" creator="willrogers" modified="20110923185912000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PoloForSale/364454:c43f128188679c178bc3f4226c9577794d658762&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364454" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PoloForSale" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PoloForSale" type="text/x-tiddlywiki">
<pre>37 Long Furlong Rd, ~OX13 6BL.

VW Polo 1.4ME (60hp) 3 door hatchback.
Reg 51 plate, 68700 miles, 9 months MOT
Silver, with alloy wheels, new tyres.
Full spec including ABS, Aircon, twin airbags, electric windows, central locking.
Nice tidy car, good little low-cost runaround, or first car for new drivers.
£2100 ono.
For more info, call 01235 534229 or 07789 676599, or email adam.warne@diamond.ac.uk
Located near Abingdon.</pre>
</div>
<div _hash="2de3259603d1d9bf2ab97f40bb68bf6ef361b081" created="20111010190050000" creator="willrogers" modified="20131222194622000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PoloToDo/1602722:2843c6b527d973fb7858db0e419e76485271a19f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1602722" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PoloToDo" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="polo" title="PoloToDo" type="text/x-tiddlywiki">
<pre>When I bought the Polo, I didn't realise that there would be so many things to do on it.
Here's a VW parts specialist: www.vws.me.uk.

The car is a VW Polo.  The type is from 00-02, and I've seen it called a 6N2, but I don't know what that refers to.  It does help when searching on ebay though.

Nice illustration of how to take the door panel off: http://www.tigerstyle.co.uk/phpBB3

Here's a link to software to use with the cable I have ordered: http://www.ross-tech.com/vcds-lite/download/index.html

Here's how to reset the service indicator: http://www.tigerstyle.co.uk/phpBB3/viewtopic.php?f=13&amp;t=21512#p163649

* Window electrics: http://www.clubpolo.co.uk/forum/index.php?showtopic=324914
* Lock instructions: http://www.clubpolo.co.uk/forum/index.php?showtopic=167689

!!To do
* Plug spoiler holes
* Cam belt
* Windscreen washer
* Clean headlights
* Air con service
* Fix passenger window
** Here's a thread: http://www.clubpolo.co.uk/forum/lofiversion/index.php/t231825.html
* Windscreen chip
* Damaged wing mirror (driver's side)
* Damaged wing mirror mount (passenger's side)
* Bodywork?
* The back cover behind the left headlight - not really sure how to find one of these.

!!Done
* Insure
* Tax
* Reset service indicator
* Replace gear knob
* Top up oil
* New stereo fitted
* Replace right-hand speaker
* Airbag warning light
* Replace left-hand speaker
* Replace rear wiper blade
* ABSLight
* Parcel shelf hanger
* Replace aerial
* Bumper grille
* Left headlight bulb
* Replace front wiper blades
* Remove spoiler</pre>
</div>
<div _hash="05ecae759b066db109d5e676b748ad34d7667117" created="20111018125722000" creator="willrogers" modified="20111018125834000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PortingToSL6/364482:f643ed9c50b509c625b470d4490767af3030054a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364482" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PortingToSL6" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PortingToSL6" type="text/x-tiddlywiki">
<pre>Talk at EMI AHM by Cristina Aiftimiei

!!Why and How
* The mandatory platforms for EMI2 are SL6, Debian 6, 64bit.  
* The infrastructure is more or less there to start the work.  
* We should start work supporting SL6 within EMI1 as far as possible.  
** One question - if we release in EMI2, do we have to support SL5?
* Reiteration - APEL needs to be building on SL6 and succeeding by 7th Nov.
** NOT released!
* Most packages should build out of the box.
** There are some differences in packaging and naming between SL5 and SL6.
** You can change platform-dependent properties to get around this

!!Open sourcing
The basic idea is that our packages are mature enough and well-maintained enough to release in official repositories such as EPEL, Debian, Fedora, Maven Central.  The target is that by some time in EMI2 we'd have EPEL-compliant packages, and some time in EMI3 we'd get packages actually into some repos.

!!!EMI 2
* 100% src rpms managed by PTs
** I guess (but I'm not really sure) that we don't release a source RPM
* 100% rpmlint success
* We can do this either inside or outside of ETICS 
* I think the idea is that we have a standard configuration, then have another one to which we add  EPEL-compliant RPMs as they become available.

</pre>
</div>
<div _hash="4e0808d176197ae9cc1a5b733fa96502f99d558b" created="20111119185732000" creator="willrogers" modified="20130602110648000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PossibleFlats/1245012:568e98ec88d6db07bef090238156fd0e79415524&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1245012" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PossibleFlats" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PossibleFlats" type="text/x-tiddlywiki">
<pre>!!Possibles
!!!Furnished
* [[Old Rd|http://martinco.com/property/central/oxfordshire/oxford/old_road_headington_135686?oid=147]], £1050, Martin &amp; Co
* [[Turner Close|http://www.scottfraser.co.uk/inst-1287/24-turner-close-east-oxford]], Scott Fraser, £975
* [[Ferry Road|http://www.finders.co.uk/property/east-oxford-area/9289/ferry-road-marston/ox3]], Finders Keepers, £1050
* [[Mark Rd|http://www.rightmove.co.uk/property-to-rent/property-26996898.html?backListLink=%2Fproperty-to-rent%2Fmap.html%3FlocationIdentifier%3DREGION%255E1036%26insId%3D1%26minPrice%3D700%26maxPrice%3D1250%26minBedrooms%3D1%23_includeLetAgreed%3Don%26houseFlatShare%3Dfalse%26locationIdentifier%3DREGION%255E1036%26maxPrice%3D1250%26minBedrooms%3D1%26minPrice%3D700%26previousSearchLocation%3DOxford%26propFeature%3DGarden%26radius%3D0.0%26searchLocation%3DOxford%26searchType%3DRENT%26sortByNewestListing%3Dfalse%26useLocationIdentifier%3Dfalse%26box%3D-1.27611%2C-1.16110%2C51.72166%2C51.77012%26popupPropertyId%3D26996898&amp;fromMap=true]], Martin &amp; Co, £895
* [[Oxford Rd|http://www.bluestonelm.co.uk/properties-to-rent/furnished-2-bedroom-cottage-in-old-marston/]], Bluestone, £900

!!!Unfurnished

* [[St Clement's|http://martinco.com/property/central/oxfordshire/oxford/st_clements_oxford_136340?oid=147]], Martin &amp; Co, £1025
* [[Green Place|http://www.finders.co.uk/property/central-oxford-area/50405/green-place-new-hinksey/ox1]], Finders Keepers, £1095
* [[Wellington St|http://www.breckon.co.uk/site/php/property.php?id=1276322&amp;type=r]], Breckon, £1050

!!!New
* [[Sandford|http://www.finders.co.uk/property/east-oxford-area/8162/littlemore-sandford-on-thames/ox4]], Finders Keepers, £850
* [[Botley Road|http://www.chancellors.co.uk/properties/east-oxford-property/2-bedroom-house-to-rent/06040842/botley-oxford?payfreq=monthly&amp;filter[priceHigh]=1300&amp;filter[priceLow]=800&amp;filter[minNumberOfBeds]=1+Bedroom(s)&amp;filter[Status][0]=Status%3AExclude+let&amp;filter[Status][1]=Status%3AExclude+let+agreed&amp;radius=5+(MILES)&amp;grid=&amp;area=Oxford+City&amp;longitude=-1.2577263000001&amp;latitude=51.7520209&amp;saleType=Rent]], Chancellors, £1150
* [[Radley|http://www.chancellors.co.uk/properties/abingdon-property/2-bedroom-cottage-to-rent/05160428/lower-radley-nr-abingdon-oxford?payfreq=monthly&amp;filter[priceHigh]=1300&amp;filter[priceLow]=800&amp;filter[minNumberOfBeds]=1+Bedroom%28s%29&amp;filter[Status][0]=Status%3AExclude+let&amp;filter[Status][1]=Status%3AExclude+let+agreed&amp;radius=5+%28MILES%29&amp;grid=&amp;area=Oxford+City&amp;longitude=-1.2577263000001&amp;latitude=51.7520209&amp;saleType=Rent&amp;page=2]], Chancellors, £925, unfurnished
* [[Lovelace Square|http://www.finders.co.uk/property/north-oxford-area/4848/lovelace-square-north-oxford/ox2]], Finders Keepers, £1225
* [[Kennington|http://martinco.com/property/central/oxfordshire/kennington/river_view_kennington_134796?oid=147]], Martin &amp; Co, £925
* [[Beauchamp Lane|http://www.breckon.co.uk/site/php/property.php?id=1275981&amp;type=r]], Breckon &amp; Breckon, £975
* [[Clive Rd|http://martinco.com/property/central/oxfordshire/oxford/clive_road_oxford_138174?oid=147]], Martin &amp; Co, £950
* [[City Centre|http://martinco.com/property/central/oxfordshire/oxford/oxford_city_centre_138610?oid=147]], Martin &amp; Co, £1075
* [[City Centre|http://search.carterjonas.co.uk/properties-for-rent/oxford/oxfordshire/24279629/8505]], Carter Jonas, £1050, parking?
* [[North Oxford|http://www.elwood.co.uk/propertyDetails.php?pid=435283]], Elwood and Co, £1095
* [[Princes St|http://search.carterjonas.co.uk/properties-for-rent/oxford/oxfordshire/24280666/8512]], Carter Jonas, £995

!!Gone
* [[Temple Rd|http://www.finders.co.uk/property/east-oxford-area/8112/temple-road-oxford/ox4]] on Finders Keepers, £950
* [[Catherine St|http://www.breckon.co.uk/site/php/property.php?id=1276112&amp;type=r]], Breckon and Breckon, £975
* [[Charles St|http://www.rightmove.co.uk/property-to-rent/property-17014494.html]], White Walls, £1150
* [[Ablett Close|http://scottfraser.co.uk/inst-1448/ablett-close-east-oxford]], Scott Fraser, £1100

!!Websites
* [[Rightmove| http://www.rightmove.co.uk/property-to-rent/map.html?locationIdentifier=REGION^1036&amp;minPrice=700&amp;maxPrice=1250&amp;minBedrooms=1&amp;propFeature=Garden#_includeLetAgreed%3Don%26houseFlatShare%3Dfalse%26locationIdentifier%3DREGION^1036%26maxPrice%3D1250%26minBedrooms%3D1%26minPrice%3D700%26previousSearchLocation%3DOxford%26propFeature%3DGarden%26radius%3D0.0%26searchLocation%3DOxford%26searchType%3DRENT%26sortByNewestListing%3Dfalse%26useLocationIdentifier%3Dfalse%26box%3D-1.29774%2C-1.18273%2C51.71972%2C51.76819%26popupPropertyId%3D26875548]] - link is a search for 2 bed properties with garden up to £1250 pcm.
* [[Gumtree | http://www.gumtree.com/flats-and-houses-for-rent/oxford?property_type=&amp;seller_type=&amp;min_beds=2&amp;max_beds=2&amp;min_price=&amp;max_price=235&amp;search_scope=all]] - link is a search for 2 bed properties with max £1000 pcm.
* [[Daily Info | http://www.dailyinfo.co.uk/homes-to-let]] - homes to let; the map seems pretty useful
!!Letting agencies
Here are the letting agencies, in approximate order of usefulness.

* [[Premier Letting | http://www.premieroxford.co.uk/]] - [[this|http://www.premieroxford.co.uk/Property-to-rent/price-0-to-1100/with-2-to-2-beds/]] is a link to a search for furnished 2-bed properties up to £1000 pcm
* [[Scott Fraser | http://www.scottfraser.co.uk]]
* [[RMA Properties | http://www.rmaproperties.co.uk/index.html]] - [[link|http://www.rmaproperties.co.uk/search/?ShowSTC=on&amp;extra_1=0&amp;MinPrice=0&amp;MaxPrice=1000&amp;bedrooms=1&amp;x=63&amp;y=14]] to all properties up to £1000
* [[Martin &amp; Co | http://www.martinco.com]]
* [[Chancellors | http://www.chancellors.co.uk]] - [[link|http://www.chancellors.co.uk/properties/search?payfreq=monthly&amp;filter[priceHigh]=1300&amp;filter[priceLow]=800&amp;]=%C2%A3800&amp;]=%C2%A31%2C300&amp;filter[minNumberOfBeds]=1+Bedroom%28s%29&amp;radius=5+%28MILES%29&amp;filter[Status][]=Status%3AExclude+let&amp;filter[Status][]=Status%3AExclude+let+agreed&amp;grid=&amp;area=Oxford+City&amp;longitude=-1.2577263000001&amp;latitude=51.7520209&amp;saleType=Rent&amp;maxPrice=1430]] to 1-2 bed properties within 5 miles of Oxford, £800-£1250

* [[Finders Keepers | http://www.finders.co.uk]]
* [[Hamptons | http://www.hamptons.co.uk]]
* [[Breckon &amp; Breckon | http://www.breckon.co.uk]]
* [[Hutton Parker | http://www.hutton-parker.co.uk/]]
* [[Spire Properties | http://www.spireproperties.co.uk]]
* [[White Walls | http://www.wwagency.com/]] - [[link|http://www.wwagency.com/properties.php?sale_type_id=2&amp;prop_type_id=0&amp;postcode_area_id=4&amp;beds=1&amp;min=0&amp;max=1000&amp;search=Search]] to all properties in ~OX4 up to £1000 pcm
* [[Real Letting | http://realletting.co.uk/]]
* [[Taylors | http://www.taylorsestateagents.co.uk/]] - [[this|http://www.taylorsestateagents.co.uk/Rent/Search/oxford#/rent/search/oxford/within-5-miles/price-to-1000/to-2-bedrooms/furnishings-furnished/order-pricedescending/]] is a link to 2-bed flats within 5 miles of Oxford for less than £1000 pcm

* [[Beehive Property | http://www.beehiveproperty.co.uk/]] - [[link|http://www.beehiveproperty.co.uk/propertyList.aspx?&amp;st=-1&amp;sb=2&amp;sp=1000&amp;sa=East%20Oxford]] to 2-bed, up-to-£1000 properties in East Oxford
* [[College &amp; County | http://www.collegeandcounty.biz/]]
* [[Enfields | http://enfields-lettings.co.uk]] - [[link|http://enfields-lettings.co.uk/site/index.php?beds-min=2&amp;beds-max=2&amp;price-min=000&amp;price-max=1000&amp;Area=&amp;action=searchresults&amp;pclass%5B%5D=]] to all 2-bed flats up to £1000 pcm
* [[QB Management | http://www.qbman.co.uk/property-to-rent-oxfordshire/lettings-map/]] - link to all properties on a map

* [[Belvoir|http://www.belvoirlettings.com/]]
* [[NOPS|http://www.nops.co.uk]]
</pre>
</div>
<div _hash="7411e302e5e99abeadbd116e9fd71dd7f9ac3c45" created="20120401114802000" creator="willrogers" modified="20130204193816000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PossibleJobs/1059888:1cfe3b21ad3ad9df66655be0be2274efaa07aaca&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1059888" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PossibleJobs" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="careers" title="PossibleJobs" type="text/x-tiddlywiki">
<pre>These are for analysis.  I've collected a general requirements list in PossibleRequirements.

!!Diamond
This one is remarkably suited to me
* http://www.diamond.ac.uk/Home/Jobs/Current/DIA0808_SB.html

!!Oxford Zoology
* Search for vacancy 102528
* Senior softwarer engineer
* Requirements:
** Extensive experience with Java
** Experience with RDBMS
** Excellent SQL skills
** Experience with GIS, vector, raster advantageous
* £29k - £44k depending on experience, skills

!!UKPLC, Reading
* http://careers.stackoverflow.com/jobs/17789/software-developer-ukplc?a=l15jnY4
* Software developer
* Team of 9 developers
* Requirements:
** Skilled in C#, SQL Server, XML
** Primarily looking for talented developers

!!iwoca, London
* http://careers.stackoverflow.com/jobs/17829/junior-developer-iwoca?a=l40YFdm
* Junior python developer
* No long track record required
* 'have a good understanding of computer science generally and be able to get stuff done in python'
* little detail

!!ECMWF, Reading
http://www.ecmwf.int/newsevents/employment/en/AP12-12-en.html
* taking part in projects and developments that enable external customers and researchers to access the Centre’s data and products;
* designing and developing software to enable users to embed access to ECMWF products in their applications, using standard protocols and standards for web services;&amp;nbsp;
* developing, maintaining and supporting services to allow external users remote access the Centre’s data and products, in real time and from the archive (MARS).
* A university education or equivalent is required, as well as knowledge of Python, HTTP, HTML and JavaScript. Experience in developing JSON/REST web services would be a distinct advantage. Knowledge of the Open Geospatial Consortium (OGC) standards and meteorological data standards (BUFR and GRIB) would also be advantageous.
£50k net of tax - that's ridiculously high!

!!Liquid Robotics, California
Senior Software Developer.  Working with James Gosling, so this job will be exceptionally difficult to get.  This is the job listing.
* Work on the development of cloud infrastructure software to manage telemetry from Liquid Robotics Wavegliders
* This includes receiving incoming data, storing it and serving it out to other software in a highly available manner.  
* Also, develop a variety of front-end web applications to enable access to and management of telemetry.
* Developed applications will need to be tested, deployed, documented and managed. 
* Requires: JavaEE, JavaScript, HTML.  
* Useful: experience with the manipulation of scientific datasets, NoSQL, JIRA, Jenkins, robotic systems and data visualization.

!!Oxford, highly paid python post
http://www.reed.co.uk/jobs/python-developer/22223041?WT.mc_id=indeed
"To add to your exceptional Python skills you will have basic Linux System Administration experience and skills in engineering. Skills that could assist with you standing out from the other candidates include; Ruby, Web Development skills (HTML5, CSS3, Haml, CoffeScript), Git, AWS, Ubuntu, C++ and an interest in statistics."
* £55-60k, so very competitive

!!Austin Fraser, Fleet
* c£40k
The successful Python Developer (Linux, Django, Puppet) will be tasked with providing Python programming expertise and the ability to rapidly integrate new Python tools / techniques. The successful applicant will have the ability to lead adoption and integration of new and emerging practices, trends and technologies.

Key Skills:
- Python
- Django (or other micro frameworks)
- Web Services (REST, XML, JSON and SOA)
- Distributed Version control (Git, Mercurial) 
</pre>
</div>
<div _hash="99cb43eecf969dd16097cf31858e8f5fb8644c50" created="20120901093915000" creator="willrogers" modified="20121027200502000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PossibleLaptops/920134:f8f2d432414b51920c379e0f9b1547ad686559fd&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="920134" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PossibleLaptops" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PossibleLaptops" type="text/x-tiddlywiki">
<pre>I'll mention if they don't have: a USB 3.0 port, a 15.6" screen, 1366x768, DVD RW, HDMI

!!Toshiba Satellite P850-12X
* [[£800, PC World|http://www.pcworld.co.uk/gbuk/toshiba-satellite-p850-12x-15-6-laptop-silver-12520766-pdt.html]]
* Core i7-3610
* 8GB RAM, 1TB HDD
* NVidia GT 630M
* 4 x USB 3.0

!!Lenovo Z580
* [[£550, PC World|http://www.pcworld.co.uk/gbuk/lenovo-z580-15-6-laptop-grey-14553734-pdt.html]]
* Core i7-3612
* 6GB RAM, 750GB HDD
* USB: 2x3, 2x2
* Integrated HD 4000 graphics

!!Samsung Series 5

All have:
* Core i5-3210M
* 6GB RAM
* Integrated HD 4000 graphics
* USB: 2x2, 2x3

!!!~NP550P5C-A02UK
* [[£600, PC World|http://www.pcworld.co.uk/gbuk/samsung-series-5-550p5c-15-6-laptop-silver-17056548-pdt.html]]
* [[£600, Comet|http://www.comet.co.uk/p/Laptops/buy-SAMSUNG-NP550P5C-A02UK-Laptop/669058]]
* 1TB HDD
* Windows 8

!!!~NP350V5C
* [[£500, Amazon|http://www.amazon.co.uk/Samsung-350V5C-15-6-inch-Laptop-Silver/dp/B009SJCX5Y/ref=dp_ob_title_ce]]
* Windows 8
* 6GB RAM, 750GB HDD

!!!~NP350V5C-A02UK
* [[£430, Comet|http://www.comet.co.uk/p/Laptops/buy-SAMSUNG-NP350V5C-A02UK-Laptop/669757]]
* [[£400, Amazon|http://www.amazon.co.uk/Samsung-NP350V5C-Integrated-Graphics-Windows/dp/B008EJGJKO/ref=sr_1_1?s=computers&amp;ie=UTF8&amp;qid=1351367552&amp;sr=1-1]]
* Windows 7
* 500GB HDD

!!HP Pavilion g6-2197sa
* [[£450, PC World|http://www.pcworld.co.uk/gbuk/hp-pavilion-g6-2197sa-15-6-laptop-14893788-pdt.html]]
* Core i5-3210M
* 4GB RAM, 500GB HDD
* 2xUSB3, 1xUSB2
* Integrated HD 4000 graphics

!!Dell Inspiron 15R
* [[£710, Dell|http://configure.euro.dell.com/dellstore/config.aspx?oc=n0015r42&amp;model_id=inspiron-15r-5520&amp;c=uk&amp;l=en&amp;s=dhs&amp;cs=ukdhs1]]
* Core i7-3612QM
* 8GB RAM, 1TB HDD
* AMD Radeon HD 7670M, 1GB



</pre>
</div>
<div _hash="27ea2c03842f07728052624cfa5d9160dd6ca8d6" created="20120401120139000" creator="willrogers" modified="20130204193128000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PossibleRequirements/1059871:f89cae5275895fba78f833edb0fcff1b4c69e39a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1059871" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PossibleRequirements" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="careers" title="PossibleRequirements" type="text/x-tiddlywiki">
<pre>In practice, a visible code base and a Stack Overflow reputation will be required to get the best jobs.

These are coming from a number of places, including PossibleJobs.

!!Computer Science
* 'good understanding of computer science generally'

!!Programming
* 'ability to get stuff done in python'
* extensive Java experience
* Good HTML (5), CSS
* JavaScript, jQuery
* C#, ASP.NET

!!Python
* knowledge of Django and its libraries

!!Databases
* experience with RDBMS
* excellent SQL skills
* SQL server

!!Other technical
* XML
* experience of GIS software
* Git or similar VCS
* MVC
* Behaviour/Test Driven Design
* Open source code you’re proud of, and an active Stack Overflow profile
* Deep knowledge of how &lt;wherever&gt; works from our blog and podcasts 

!!Other personal
* Proven telecommuting skills: self-motivating, self-directing, and aggressively communicative (if working remote)
* Familiarity with agile processes

</pre>
</div>
<div _cache-max-age="43200" _hash="5ae36775b0926a779ae5f5ec4f20d07cd3609b39" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/png" server.etag="&quot;tiddlyspace/privateAndPublicIcon/1521887:2e723473cb1a0e450fbf2bd699a1800a5785520b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521887" server.permissions="read" server.recipe="willrogers_private" server.title="privateAndPublicIcon" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="privateAndPublicIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAABGdBTUEAALGPC/xhBQAACkNpQ0NQSUNDIFByb2ZpbGUAAHgBnZZ3VFNZE8Dvey+90BJCkRJ6DU1KAJESepFeRSUkAUIJGBKwV0QFVxQVaYoiiyIuuLoUWSuiWFgUFLAvyCKgrIuriIplX/QcZf/Y/b6z88ec35s7c+/cmbnnPAAovoFCUSasAECGSCIO8/FgxsTGMfHdAAZEgAPWAHB52VlB4d4RABU/Lw4zG3WSsUygz/p1/xe4xfINYTI/m/5/pcjLEkvQnULQkLl8QTYP5TyU03MlWTL7JMr0xDQZwxgZi9EEUVaVcfIXNv/s84XdZMzPEPFRH1nOWfwMvow7UN6SIxWgjASinJ8jFOSifBtl/XRphhDlNyjTMwTcbAAwFJldIuCloGyFMkUcEcZBeR4ABEryLE6cxRLBMjRPADiZWcvFwuQUCdOYZ8K0dnRkM30FuekCiYQVwuWlccV8JiczI4srWg7AlzvLooCSrLZMtMj21o729iwbC7T8X+VfF796/TvIevvF42Xo555BjK5vtm+x32yZ1QCwp9Da7PhmSywDoGUTAKr3vtn0DwAgnwdA841Z92HI5iVFIslysrTMzc21EAp4FrKCfpX/6fDV859h1nkWsvO+1o7pKUjiStMlTFlReZnpmVIxMzuLyxMwWX8bYnTr/xw4K61ZeZiHCZIEYoEIPSoKnTKhKBltt4gvlAgzRUyh6J86/B/DZuUgwy9zjQKt5iOgL7EACjfoAPm9C2BoZIDE70dXoK99CyRGAdnLi9Ye/TL3KKPrn/XfFFyEfsLZwmSmzMwJi2DypOIcGaNvQqawgATkAR2oAS2gB4wBC9gAB+AM3IAX8AfBIALEgsWAB1JABhCDXLAKrAf5oBDsAHtAOagCNaAONIAToAWcBhfAZXAd3AR94D4YBCPgGZgEr8EMBEF4iArRIDVIGzKAzCAbiA3Nh7ygQCgMioUSoGRIBEmhVdBGqBAqhsqhg1Ad9CN0CroAXYV6oLvQEDQO/Qm9gxGYAtNhTdgQtoTZsDscAEfAi+BkeCm8As6Dt8OlcDV8DG6GL8DX4T54EH4GTyEAISMMRAdhIWyEgwQjcUgSIkbWIAVICVKNNCBtSCdyCxlEJpC3GByGhmFiWBhnjC8mEsPDLMWswWzDlGOOYJoxHZhbmCHMJOYjlorVwJphnbB+2BhsMjYXm48twdZim7CXsH3YEexrHA7HwBnhHHC+uFhcKm4lbhtuH64Rdx7XgxvGTeHxeDW8Gd4FH4zn4iX4fHwZ/hj+HL4XP4J/QyATtAk2BG9CHEFE2EAoIRwlnCX0EkYJM0QFogHRiRhM5BOXE4uINcQ24g3iCHGGpEgyIrmQIkippPWkUlID6RLpAeklmUzWJTuSQ8lC8jpyKfk4+Qp5iPyWokQxpXAo8RQpZTvlMOU85S7lJZVKNaS6UeOoEup2ah31IvUR9Y0cTc5Czk+OL7dWrkKuWa5X7rk8Ud5A3l1+sfwK+RL5k/I35CcUiAqGChwFrsIahQqFUwoDClOKNEVrxWDFDMVtikcVryqOKeGVDJW8lPhKeUqHlC4qDdMQmh6NQ+PRNtJqaJdoI3Qc3YjuR0+lF9J/oHfTJ5WVlG2Vo5SXKVcon1EeZCAMQ4YfI51RxDjB6Ge8U9FUcVcRqGxVaVDpVZlWnaPqpipQLVBtVO1TfafGVPNSS1Pbqdai9lAdo26qHqqeq75f/ZL6xBz6HOc5vDkFc07MuacBa5hqhGms1Dik0aUxpaml6aOZpVmmeVFzQouh5aaVqrVb66zWuDZNe762UHu39jntp0xlpjsznVnK7GBO6mjo+OpIdQ7qdOvM6BrpRupu0G3UfahH0mPrJent1mvXm9TX1g/SX6Vfr3/PgGjANkgx2GvQaTBtaGQYbbjZsMVwzEjVyM9ohVG90QNjqrGr8VLjauPbJjgTtkmayT6Tm6awqZ1pimmF6Q0z2MzeTGi2z6zHHGvuaC4yrzYfYFFY7qwcVj1ryIJhEWixwaLF4rmlvmWc5U7LTsuPVnZW6VY1Vvetlaz9rTdYt1n/aWNqw7OpsLk9lzrXe+7aua1zX9ia2Qps99vesaPZBdlttmu3+2DvYC+2b7Afd9B3SHCodBhg09kh7G3sK45YRw/HtY6nHd862TtJnE44/eHMck5zPuo8Ns9onmBezbxhF10XrstBl8H5zPkJ8w/MH3TVceW6Vrs+dtNz47vVuo26m7inuh9zf+5h5SH2aPKY5jhxVnPOeyKePp4Fnt1eSl6RXuVej7x1vZO9670nfex8Vvqc98X6Bvju9B3w0/Tj+dX5Tfo7+K/27wigBIQHlAc8DjQNFAe2BcFB/kG7gh4sMFggWtASDIL9gncFPwwxClka8nMoLjQktCL0SZh12KqwznBa+JLwo+GvIzwiiiLuRxpHSiPbo+Sj4qPqoqajPaOLowdjLGNWx1yPVY8VxrbG4eOi4mrjphZ6LdyzcCTeLj4/vn+R0aJli64uVl+cvvjMEvkl3CUnE7AJ0QlHE95zg7nV3KlEv8TKxEkeh7eX94zvxt/NHxe4CIoFo0kuScVJY8kuybuSx1NcU0pSJoQcYbnwRapvalXqdFpw2uG0T+nR6Y0ZhIyEjFMiJVGaqCNTK3NZZk+WWVZ+1uBSp6V7lk6KA8S12VD2ouxWCR39meqSGks3SYdy5udU5LzJjco9uUxxmWhZ13LT5VuXj67wXvH9SsxK3sr2VTqr1q8aWu2++uAaaE3imva1emvz1o6s81l3ZD1pfdr6XzZYbSje8Gpj9Ma2PM28dXnDm3w21efL5YvzBzY7b67agtki3NK9de7Wsq0fC/gF1wqtCksK32/jbbv2nfV3pd992p60vbvIvmj/DtwO0Y7+na47jxQrFq8oHt4VtKt5N3N3we5Xe5bsuVpiW1K1l7RXunewNLC0tUy/bEfZ+/KU8r4Kj4rGSo3KrZXT+/j7eve77W+o0qwqrHp3QHjgzkGfg83VhtUlh3CHcg49qYmq6fye/X1drXptYe2Hw6LDg0fCjnTUOdTVHdU4WlQP10vrx4/FH7v5g+cPrQ2shoONjMbC4+C49PjTHxN+7D8RcKL9JPtkw08GP1U20ZoKmqHm5c2TLSktg62xrT2n/E+1tzm3Nf1s8fPh0zqnK84onyk6Szqbd/bTuRXnps5nnZ+4kHxhuH1J+/2LMRdvd4R2dF8KuHTlsvfli53uneeuuFw5fdXp6qlr7Gst1+2vN3fZdTX9YvdLU7d9d/MNhxutNx1vtvXM6znb69p74Zbnrcu3/W5f71vQ19Mf2X9nIH5g8A7/ztjd9Lsv7uXcm7m/7gH2QcFDhYcljzQeVf9q8mvjoP3gmSHPoa7H4Y/vD/OGn/2W/dv7kbwn1Cclo9qjdWM2Y6fHvcdvPl34dORZ1rOZifzfFX+vfG78/Kc/3P7omoyZHHkhfvHpz20v1V4efmX7qn0qZOrR64zXM9MFb9TeHHnLftv5Lvrd6Ezue/z70g8mH9o+Bnx88Cnj06e/AAOb8/zszueKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAIeUlEQVRYCe1Zb2xb1RU/9/k9O26TJqVpSByn+UNC3JZuQMukaWirBR9BGtJAIAqlEkgg+ABCsLVFWhAU0DRp8IlNYkIskSYhPvKBDxRvKIwVSin9Q9MmTRziJG7aQtrYcWw/v7tzrn1v3nOe/eIC+cKOZN97zz3n3J/vO+/cc48B/k9rswPs+y5z8B+xXZxZd6GdfuDsZmDQhf06m91L2E9wYMMA1iQ3tfde2xeN2+Zr7l4T6IG3Y01Z3XqUAduLK0bwo9e48jD+wL/7O2BoIBo1a9TFfamBBt6N1edz8HvO+dOoVu9QZYw3bWiAYF2A+f0B0A0f5HJ5sKwCLKQWIZ1ehEKh4FQBSALnLxod2lu1gF816BcGY7stxt8GLh6/WFzXdau1pVlrb2uFhoZ68Pl8DlD2Af5QmJ+/ComZGZi9cBGxcjWNID7IM/bYn/ZEE4pZpbMq0PuHDv+BcfYS2hFuQGB7ezq1jvYQaJpWxbz7VDabg6npGRiPf6PAI5Aks9hDL++Nfuiutcz1BH1gKPYmWn5cqoTbQ1akr0ertqtS1qtdSKXg5Omz6D4pJcoZu/fVPdH3FMOlUxW0HTDTNL5jW4S1Xb/Zxcy1s8hNRs9PwMTklDRiIvB7EPj7klHeVgR9YPDwAAD7IymQO+z8+U1aU1Njuf4PNp6cSsDIufPSXgqjyy9feTh6SjLsrSvoYuzln6Kg7tN81q5bdvyogCWgsfE4nJ+YLA45jPjr2G0D90WXfackuOItorDGgQ8SYJLZvq1/TQDTWr09XaDcj0Ekm4VXiV9OK0Bnc9ZTGL3pwICOcGjZSLnmjzTe2t8HgYBfWGfAn6KnXr6U4ySjXc5l+ZMk5DN03t/b4+o+5UbEuGCBPpkEfWoOtMtXgeHBAj4NrOs2gBneDGZPCLjhWM7VjGEYELmxD746ebo0b9F7dbdd2AHq4NDhpzlnfyGBvt5u6OncYpet2DfOTELgszNFoBWkuN+A7G0RyG/rqiDhZB/54jgeRleIidvBIq89FB2TEg73QMAP0gQGYd4ZbpcylVuLQ/DwF1A3fMIBWNN9YAT9QK0k2vm6T06i/FEBQ/IrtX3dXXLKpzF4Vg6oVTv9/FAsrHM+gTw9HGqF7Vv77XKufQKsj8+IOcYYNIY2QRO6grG+DmhMlF/Mwvz0JZhHt5FHt9nTBpnoTtwdtbyQLf/65MhRSKXSxL7sD7AuGUnUThvc+i1OCqcLtbaW668Yk0vYAYdv6YWWyBbw1wcVYFIy1gVgc187hHfeCKyUm+jjs2CMTK6wWc5obVEH2SY8+XfLeQXa4toNxKTjubGxQc67t+hl5MNEtKPhW/sguLG6TrBxPdAP00q7G/h8xOFSbguFWq9XbI3Db+RAgcbM8nZirgsGPZMgfWJGLdjY3gzBJmeWKo2XtwS8Mdwi2OTj+sRsuYhjHAzW0WkseBZwFfoUaJzpotmG+nXUVCUdfVRSE4KuhezyeuKip2pDw3ohg94flsJ20GL1QCAg5yq2FIeJRJTAl64WIh+XUUX7tminmv463O0SdciOHbTgaXggeJE4OFDIh7cTGSW8dOzzpCcI3w0v8hvF0xHl1G6uQGitwhAdFESFfEGFMcFY5RfpCVrFBrltoh30EhnKYpbiRdamDULEMguQTws1LxU1T3Gb9IjoiPcit01cBs0hTgbSGW8Qpu3lo4OjFrLLU07iRTm8SZdoXnYUaAy3cWIuLKTwBl3d18xuTH5KLnIFQWfmU9Je1TZzJQ1XEnNChvTN7raq8jRJN/kSxWVHgcY3CpMCfGQIOL2oBKWcs0VfzP5iq+DR0Zw4NuoJnAAnvhxD+1zoUfIkf7jT+PKIbFPpgahY7CnOKdCsAP8usgAuzHk/8vzWTpFuCoMl4HNnpyCXdr4T+UwOLo5Ow/Sxc8BLdQ/KPfKRTrlcxfbq1QVbrcRS575KcHULhvMaJHEfWmeTc+IWUdFaaSITvRWCuAeUS9CuzONhQR+KwxTWKErIl07aIsBLv77ZM1ki+SmskUjCi7UqLaidHtgXXeKMf0BCi5kMXLr8nZSv3GIekbljFyz9aofjUYuogjtsB0yuQHKU3a3mMmCaJj7xy3Lt4688GD0uB2qnBYNpb+CWPUL9sYk4NG/aKNheX5TY5/u3YC4xA8bURWDfLRRzE3lzCTWDecPyy+tlj+anZ5NAwIkwL3pHdEpfeKQ7af/gRzFk7ibuz27atuZ3RFqXwH78n88gn8crG8C832Td6AkrQx7NEmmcPYeN+Ilnzo7iYaPipJhfi6/R83EJGLAc91c7YFpf+bQEc+jh6FEs4b5OY/qlI+dG5dSatHOXvhV1vtJiY0YdHCpfeAVoEjDCsB+bU9RPYvijIspaENX0Tpz6WuUzuMv75BXLvr4raFEr5uwBFBQBm6o+tlqbXf8H69PN+/NjJ1RcxuzxZXzqw24LuIImQaqjaZYALs7oc2PjQB95OXUzdq08qlcfPX5S+TGef0NGO7xYyd6K6FEuuH8o9jvG+T+RL8JjQ3097Njejzec+nLRmsf0z8DpM2dFkX1Zmb/lD2tPVPtnwBM0GXvhndidlob/ApSuPJT4d20JAxXV6R5XK9HTmp69gO/KhCM6YTx+5tCeO0QQqGZzVaDJANVFDMt6E2vHdymDuEpbSzMLtbXBdRsbPS/EVMNIzCTx5Z5zghX/vbB7K/mwWq/UWTVoqXhgMPYoBs+D9v9eaI6qUuuDQUYXY7pn0o2DEnjKh9OLS0DJj0vKa2KE+DOFNbcoIdcsb2sGTQYGYjE9Nw33Y0l4L+NwZ7lRrzEumsTDeQjvL3+z1+i89OT8NYGWytQKt8HqFBV70FtuR1YXfsTNHluiJXwqcbpk4I88ooH2L92E/1KCVpz+iXz/D36BLy8VVzwEAAAAAElFTkSuQmCC</pre>
</div>
<div _hash="94eabb8c954332020ab12d027656ddc3adb98c63" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/png" server.etag="&quot;tiddlyspace/privateIcon/1521894:7547f2ec9a2589f7f9d28d5568fd981b8832f387&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521894" server.permissions="read" server.recipe="willrogers_private" server.title="privateIcon" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="privateIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAAC0AAAAuCAYAAAC8jpA0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAABwNJREFUeNrtWVtMW3UY/1quha4XxqWjDXTZxhggMmXJTIwJNEZdfNMHHxRmXGJMNOqbydyTJj5o4sziw+JMBF9MXIzGvewBMUbNpmaXOIZcplBKSwus7VhpC7T1+52efzmF0nM6Ck/7knJO6f/y+3/n910P0UPZHdFtd4Hh4WFHMpl8iW8f1el03Xx18qdSMSTEnyn+7Vced0ev11/q6emZ3HXQDLSSAZxiIK/x1w7+lBa4xI1UKvUlH+ArPsD9HQUtg32Hwb7NX21ZC+l0ZDAYyGg0UklJCVVUVNDq6iolEgmKRCK0vLyc4vuN+y0w+M8Y/NlCwOsKANzKG3zNt93ifwwutXfvXl1tbS3xlUpLt1Y4z6VwOEw+n48CgUCKD6/c+xYf+hUGfqNooIeGht7kRT8VNIAmm5qayG63U1lZWcH0whPweDzkdruzwPPB3nW5XGe3DZo1/AEv9r74DqBOp5PKy8u37QVWVlZofHyc5ufnlU/kAtPlDdb62lbz9Coafk8JuK2tjVpaWooCGIJ1Ojo6pHVhE7JtnOLLx/nmleTRMNzYORwMdOjq6iJwdycExmu1Wsnv97OOUkB/vK+vLzw4OHhFM2gG3M2Tf4Ay+FFRZ2entOhOSmVlJZnNZh2MFMBZnj158uTQwMCAWxM9eNI5ESCOHDmy44CFYB/eT2mY37ICjaqgZVocx31dXR3V19fvaojGfoo9EQtO56UHggef7ke+NYEW4DH4rEVSSfbDoz7y/z5Jc7+Mkf+3CVq87qbI9CIlOcBUWKtJV6LXtFZNTY3kz9kd4msH0+Q80yQmfs+KBnJoduAeflirlwjd9pLv51GKLWwOarHAPQqOzJLXWEGOZzvJ0taouh6CVHNzM01OSimKBbj4+klOejDgfmXw0CLeodv038U/swDrS0uozFAuXTMB5X5cGjd7+Zb0VNSksbER4FMyrtdz0oOpUSufRm+z2TRxGYBBA5F7WOy1ZGtrptpDdrI2NVCN00YmWw3pmGrxe8vSuMhskJLxNTIdzL8+6BmPx3VLS0sSY5gizJCBUJam5fSyVBiDFkooATuOHqT6VqaU0ZAJFJCyqgqq40M4Hm9hTqd1FLh6R6KMFm5vwJdNDz7ZAUENi8WianTen26vA37sEBmse/LOMZirpYPp9ekDzV7+m5Ira6ouEBqX5fAm0Ow1npQW5/RSMTCnhP/xUfxuRLo3MyUMFqMm/gO42VGf4XhozJd3PBQIPLJyWnMZIioOqq6uVt08POHP3IPHhYhy/L1xv/pBZdAC30bQtcIA1CTqD697ierKgkCD48KrROeXVMejmFAEmtwRUTFoS0nEVtOPr6wky+i0CuZJxqXCaemQOfL1TaDZzahvWpleKLGakCqSQgXzpM3L1UtLFAyyrOUCHdswaGueNZjTmlpL0GokVljVshyX5knr1O1RP2AiIW7ncoGewh8uQFUXMh9qWPfXswsFgVaON7U0qI5HUSyK4C1BR6NRWlvLzzVz6z6qqEl7mTCDiIa0FdLRcITCnkCaq5yLWA7vyx8PmHpCieib5PLTV8XAxcXF/IUlB4jG3rbMwp5rE6rAAdhzfZIjW9oG7M88osppVO+CHmj05IqIFwXZFxbUHzmytfonDmYBD4zN0Eok25BXoys0PzFLs9fGKSUDqDu2n6ztdtU9kJ4q8F3alDBxMhLo7+8/wbeOWCwmVd1qPtt0oJ7dVoIinrtpS+akKOSZp+BMgMLeBVr810fBaT/FWMvCyQBwo6tNNbeGQxgbGxPe6UZvb+9HW6WmnwuLRV9Ci9ifbqf9Lx6jckvVenIDr8IaFl5CcNj5Qjc5nuvU5Oqwv6AGWmhZ+faGsaAITuRwu91STqulEABVYJzISRDiETERgAAObg1eAkanBazoh8zMzGS8Bnp+eZs1nFef4pN9IVLU9vb2XW/ljoyMoHUmtHzG5XJ9mDci9vT0XOCL1G/ARDF5t8Tv9yv3vIXmpKYWAnP7LeFJRkdHVV1gsQQuDvspcLyaq5uas9RmT+Lt6+sL8qQTsF702lAYoKGyUxIMBunmzZuZXAbNSPYY3xXUFhscHPyD6zJYzlNYaG5ujqqqqqQWVrEFdACP5ZaB1IRkHp8uuJcna3yYgVtE8wYaRy5gMpny9qK1CtIF0GFqaiqjYX66Z9G0572TRe1PI4dGi8HhcDxQBxX+1+v10vT0dFZWWbT+tMIVdshvArqUZT7eAMCfg/P5IiiAhkIhyahBhw0p8F8wfja6K0V7E6Bsm231zkUUoagxAV68c0FRgcwRH8FZheCdyxkefyFfE31boJXg+fIyb4jOz1E128gheLt1nsF+w2BDhe5fjPeITtbg8+ibyG0IpyiSFRURcvUppL887nutL4QeykN5APkflX09TZ+Q7fwAAAAASUVORK5CYII=</pre>
</div>
<div _hash="ec84c2619af08b1c361984baa4e8e871e8ce8946" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/png" server.etag="&quot;tiddlyspace/privateNotPublicIcon/1521893:52d5490772210e68a6a59c7e4bba93308cbc1f5d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521893" server.permissions="read" server.recipe="willrogers_private" server.title="privateNotPublicIcon" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="privateNotPublicIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAACvZJREFUeNrtWWtsW+UZfs6JnfgaO47jOInTXJrSNEkvdOUm2jEXJJC2VaUrEhpopNImfkzA/rAN+NNJY5vGj20a0n4wBIEixsaAafuxSUWG0a6wAqW59ZamaWInTmInduw4ji/n7P2+4+M48SVuWmA/eCXrnGMff+d9vvf9nvd5vwN8Zf8fJlzvAEc9Hs2yD/eJMu6SIXUIELbJQCv9VLXyFGEesjxBx//IsnRZEMXjv3jI/dmXDuLp1zy7IONRcu4BuqzdwIMvy5CPpQTxj79+2O39QkE884pnryzIv6HTPWt/q6iogNlsgkFXBV2VDkKFgEQiCUlKIxKNIRZbQiqVWvu3ZQjy61JS/NmvjrjHPlcQR//sMSWWpT/QXx6kS436vdFgQGNjPerr7NDrdBBFsegYsiwjEonCO+XHzGwAy8uJ3J8XaewfVbrw8lG3O3XDQTxzzHM7OfAXOnWp39lsVmxpa4XVatlQCkiShEn/DK5OeBGNLq4AFXC8Kik8cPSIO3TDQDx9zPMwTeFL6uzr9Tr0dG7lIG6EsehM+CZxceQK0ul0hgdwFZJw+NnvuT8uZ4yKMgBQCkHHrl2NTuze2QOj0XDj6JE8tlRXo6HegdBChFJsmX1tpek9dOeh3rdPvN03t2EQT73qOShAfk0F0NHeips62kvm/PWYVqtBU4MTi4uLiC7G2FcGwnfgjkO9fz35Vt/CNYP46UueVlGU/06nJnbdedNmtLVs4rP2uRYtGt9JEckBYqUp+/rdB3pffe9vfUUXe8FpFTR8DdjZ+SZXE1qaXV9oBd7R0wV7bY16uWdZg+euKRJPv+r5Ps334+ycDbS9u7PsCKRSaWKbGVy64sXZoVFcGJnAyJVJBIJhxBMJWMzGstKRPa+2pga+qWnOYvT0W+862Hvy3+/0ja4LgkmIdIRTqZU9bM/undBqNGUBYM6+f6ofE5OzCIWjvMglkyl+DEcWMTU9h0ujPp77tTXV646n0VDhNJngn55RqXf33Y/3vvBeX59UMp0SPjxIUoLpHjQ3NVLVrVqfIiUZJz8axCdnL/JIqKavImfNOph02lWR+vTsJQ42995ixjLBYbeplz1xL+4pCHiVQ5AfYYnDotDW0lxWBE78d5CKVlCZEVHA/h3NuG1rA5xWA79mNhtewocXpvDuZ+NIpiWa3Tmc+ngYe2/tgSCWTtWO9jbMBOZ4PSG2/Al99c+i6fTjYx5XhYzfMl+cDjuaqCaUk0IXL3uzM//Egd24o7MBZn3lqnVkpGhsbapBh9OMQCCIFouMTbolaBZ8EMJTkOd9kBcobZbCfCqFCoqeqLhWWVlJ6RlGbCnO1kbrHd/pfXEt5WYjoZWlg/R3jZJKTesCSNOC6x8ezUbgh9/chbb6wrkei8Xg8/kwOTmJXXU5KS0TayYzzJmMQ45HIIeneckWrQ0QbMSKWj2llY3IYV5xWOIp9XJBEJIsbhYEmSagQrZYzOvS0ZWrfr5wme3raioIgDHL2NgYJiYm+HmusRk2m8200LVZoNFoVLmPUkeanwRCUxBtzaiz1+P8xcuZVSzdVRQEAdjLQ6/XC+XQ4FxoJaJ7u/Mjx+TD4OAgFhZW7rNYLKR4G0l32TiIvOiSdpqZmeFRi0QiCpjgOKooQiaDHlGS8qSpbi+1sDkrmU3l6aL5UDS7FtgiXqWpqeL29/cjHo8r9+j1aG9vh8PhKK2BqB9paCBScDrh9Xp5FHn/sTiPbosWpxmGjJ/FQNiRYaZyTE0lQ6Umy0LMmONnzpyh35P8uq6uDp2dncT7mrIrNiOF5uZmDnpgYIBHxSwmsY2E8/C8ouVKyg41R8sRbDyXEynKYzm7BlgKqQDq6+vR3d19TQByrYrq1I4dO3gkmTVQwBuNZWinRDJR1gNqrFwbYmk5BX+IizUefp7LrOmurcW2bduuWzSytbN9+3aearxuEH94PB57sXRiCaxLJcvrDG3Was5QvOAN+fDtPc2chdQHd3V1FQUQHQtgbsCLpekwUrEEREpJI9WR2ptbYHTV5N1vNBrR1taGkZERaJVpZ0Xvybxit+/+Rx6mamKXqDSSal13+iwWI9dCLIUmAhE4K2NIxJWIsAgw+lxri955jP7pI0yfvIQlfxjJSBzpeBKpxWV+HTxzFfHZCCwd9VTwVieJiXQUY60MVbf39vb+ri+jo1buFOUPeXosxYXcnrcokxAB7OhqV9YH1ZdISGnAqqlLs9vtefdHRmcx8soJ7mzuAtZSdc8lhtDwJLz/GizIXIyeM8bkxLfy00kS34cg97LT6dkAITeuC6SjrZHUaRC6eBCqHy6XKy+NktFlXHnzNKSUUvCMtdWwtTqho2iq90YDYUwPX0Wa0plFxP61VhgaV/fxjHrHx8fVy3vp886qSKREHGcHLtiCc2UvPCbiXDbdSh9Qm7+PxpxiacMj5axF487N0BMx5II12S1wbF0RnYFPxgquDXWBU9b35LGTsgsnv8nOw+EFqrSR8jidQuCwKJLdYDAUpNMwKdhsMdrcUHTBmxxWiBrFyUXffOF7TCb1tLMgxYqS+KJ6fuHyaPk8uLy49gGrO76YQtsaYiGNrrJkkavQKiCkRGGWVGuGWpzzQPz8EfdxtnnFtdFciOv48nbC0lknCjYtBsXxdDLNc76kOl5W0q5Cpy17DvM1hig8pq6N/uFzclzZB1pnlIqMFEkW/NncVpfdKFuYChYPaCSWrf76unVb2GhREL/8rvu8LAvPKzOXEobOXeAPL60PjFnlWshYEVM7uMCoH/GFWGFROT67AryjrmhvkrHzJbdsqtJ4ig68brBm5OzAUEkgok4pbKwfUJXrqvFsRtTdotQUmeT2xKeXMD8xk02tFOX/7EUvFjJtrs5RjZpuV8H+hD0jE9XSII4ecccpCPdTBR9T6kYQ/YPDeY1N1gwrm8rT09MFb2m6twcWal1VIMzp0Q8GMHpyEFdODHBQ6lpoPbi7YO8dDAZzfThZEgSz5464/SkI+2goLpD8MwGcOv0pq+j5rGKi2iAq1Do1NZXdGF5rbYdvQYN7G90qZtdIKp7IRplpqNZDe6B3Ft5pV7UZL2ui+GZZG8qsId93uPdd6t1ZX2tje0jeST8VHBHV5pxixY4yzVAszJsY1pNYrdaCFGpqqUXtzk1cG0nEVqwuaKv1sPW4sOnAzVwIFrJQKMRVcgb8W/v37+8rCwSzD97q87O9UEnELqY02KyxdeKfnuW+s5cszGlBX63sWEgp/kAGIofTV+ugKi3M7XVcWjhu24y6PW2o7nBAo68s+i6DdYoq+9HzHiXxN76h112Zrf7f86337E6dBg1OBxrrHajWSpC9A7w3Zt+zPqBQRK7VhoaGeO+diebzbrf7sbLfTxSISv+dB3rfEESZSrPQxXdQaJaYRPFN+XF1KgC5ohJWbYqyS+KLnIFhsnwjzREb+9y5c1kAbKuLxnmAopC4rhePqj35ksep0Uq9giw8lNExWdHUShA3W1YGr6mpwZYtW7iAK9cYlZ4/fz7bKZJ5CQAFwT2y4RePJdPsFU+PIEr3SJLYktn6aXXoYe+iTMoQUVbhsr6bHVU1uvbVF3Oa7XSw2c+pTUUB3DAQxYx64U5y5AWm2NeyFIsK+6hpxook26NaW4vo//+ghfwDAuDf8IvHGwTmG+TcE+TwferrszLsY7r/WXL+nXXbgS/yDRDbpSAwh+n0NnKwJyOnXZlNikAmbd6j4xtMG7mv8X32V/Zl2/8AlGCJNTw3pK8AAAAASUVORK5CYII=</pre>
</div>
<div _hash="40fd4fb53e9b5e296ee78e8cc1e2e012ee5d6672" created="20120925201632000" creator="willrogers" modified="20120925201655000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ProgrammingTypes/888031:9b6e16e91dfd85ef888b08541f07dc2708160f44&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="888031" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ProgrammingTypes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ProgrammingTypes" type="text/x-tiddlywiki">
<pre>Here's a very good explanation from http://www.diveintopython.net/getting_to_know_python/declaring_functions.html:

!!!statically typed language
* A language in which types are fixed at compile time. Most statically typed languages enforce this by requiring you to declare all variables with their datatypes before using them. Java and C are statically typed languages. 
!!!dynamically typed language
* A language in which types are discovered at execution time; the opposite of statically typed. VBScript and Python are dynamically typed, because they figure out what type a variable is when you first assign it a value. 
!!!strongly typed language
* A language in which types are always enforced. Java and Python are strongly typed. If you have an integer, you can't treat it like a string without explicitly converting it. 
!!!weakly typed language
*  A language in which types may be ignored; the opposite of strongly typed. VBScript is weakly typed. In VBScript, you can concatenate the string '12' and the integer 3 to get the string '123', then treat that as the integer 123, all without any explicit conversion. 

</pre>
</div>
<div _hash="c1c065217a8889aa1af863d48ab6a4c8cb39dcee" created="20110522110138000" creator="willrogers" modified="20130216171450000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ProjectEuler/1084319:bd88734653f767e72e580dcf2aa52b69e19244b9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1084319" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ProjectEuler" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ProjectEuler" type="text/x-tiddlywiki">
<pre>http://projecteuler.net

I used Python and basically brute force techniques for each of these until I found that they didn't work.  I guess I'll only post ones I had problems with here.

!!Problem 3

The brute force method was very inefficient.  The final method remained slow for prime numbers, but solved composite numbers much quicker.

| Number solved | Answer | 1st version  | 2nd version |h
| 1000000 | 5 | 0.7s | |
| 10000000 | 5 | 6.4s | |
| 100000007 | 100000007 | 1m5s | |
| 600851475143 | 6857 |  | 0.031s |


!!Problem 5

My program must be extremely intensive.

| Number | Answer | 1st version  | 2nd version |h
| 1 | 1 | 0.01s | |
| 5 | 60 | 0.03s | |
| 10 | 2520 | 0.05s | |
| 12 | 27720  | 0.09s | |
| 15 | 360360 | 0.85s | |
| 16 | 720720 | 1.7s | |
| 17 | 12252240 | 29s | 1.8s |
| 18 | 12252240 | | 2.2s |
| 19 | 232792560 | | 31s |
| 20 | 232792560 | | 34s |

!!Problem 10
This took 1m18s using my straight-forward approach, which isn't really fast enough.

!!Problem 12
The weakness I have here is my divisors() function, which needs to be more efficient.

!!Problem 23
Similar to problem 12, this relies on the divisors() funcition which is too slow.

!!Problem 30
I cheated somewhat, by trying all the possibles up to 1m.  I didn't prove that numbers couldn't be higher, but it did get the right answer.
</pre>
</div>
<div _hash="3d59bb6f91acee9fd2c36eaea4d3266e2fdfb86e" created="20130210162856000" creator="willrogers" modified="20130210175744000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PThreads/1072076:0e76757d3e95c01345f409d9ea456e8c52d19316&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1072076" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PThreads" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="c threads" title="PThreads" type="text/x-tiddlywiki">
<pre>C and C++ use the POSIX thread specification, usually known as pthreads, and available in {{{&lt;pthread.h&gt;}}}.

This tutorial is very good and seems to be widely referenced: https://computing.llnl.gov/tutorials/pthreads/

The basic idea is that a process is fairly heavyweight, with its own complete memory allocation.  A thread is like a mini-process, with its own stack, but it shares the heap with the rest of the program.  The obvious problem with this is that you've got to be careful managing those shared resources to make sure the different threads don't do something inconsistent.

!!!Basics
You create any threads you want using the {{{pthread_create()}}} function.  You can pass it a function which it will carry out, and one argument, which may be a struct if you want to pass more information.

At the end, calling {{{pthread_exit()}}} helps avoid problems if the main function would exit before the threads themselves.

To get control back to the main thread, call {{{pthread_join()}}} with the thread's ID.

</pre>
</div>
<div _cache-max-age="43200" _hash="8e44a24b6d966bfdda2a6cfeb9f141ac3a3892a5" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="image/png" server.etag="&quot;tiddlyspace/publicIcon/1521911:92143e30a3124b0d4df2e1d7606934f81c9f0abe&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521911" server.permissions="read" server.recipe="willrogers_private" server.title="publicIcon" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="publicIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAACBpJREFUeNrtWXtMW+cVP9+1r40dwHZ4+RkegULI0hI1qzqVrHFa7a+mSxq1atU8iNRK09ZN3XtJK41oTRtN+yPVpHWTOmUeaH901bKu/+yPdiYNWjo1bR48mgLhEcAYA8EYQ/CD++18n7nXBoyvHQj/bEe63HvN9/h95zvn951zLsD/ZXOErHeA1/7s3UOJ9BQ+1gIlDThiBT7npTSZxGuEAmkHkIZoXHj/7An34KaDbj7vNUe00ksEyHF8rcNLm+MQ7bjAP+pc0NrsdsfvK+jm97z5sSj8nFL6Kr7mLx+JUHNhARjy9ESn04NW1EA0GgNJWoTZ8DzMzc3D4uLiysn9QOlp0SW8mwv4rEG/3uLdJxF6Hijffi5arVaylhYLDpsVCgryQaPRrNkfFwrBYAhGfD4YG5/g7ykg/hkj5OVfH3GPbBjok60f/4JQ8ivZDBjY6qpyweWwgyAIOZtXJBKF4VEf9A/eVsAzrROJHH3juPujdYM+1ep9B0f+jvzudNilupoqIZNWs5XZcBg6ur7id2VHCHn2rSPu9zP102QLmAgCfXDnDlJV4SL3ot10otfpUAk2tHsJgjMhWYvPNB5uutr+N09PzqBPtXzcjLefyObw9YZdQknx1o3nXEKgaKsFRFELk1PT7CcBgT+991DTh5cueAJZg2bci0v2sAE0gkbag4DNZtN9PTDMpkJ+nw7OsJsOr/1PvNDkafurJ7qyrZCO1ijQFtnpdtbX3nfAslRXVYCtrET2trpIBN5K124V6EhUeoV1YM8upz05yCbJjtoa0Ot1S7jpK3zXV4h2pZajEfo9bjeiltZWV2XN44voTKNjk+AP3MEtDkMsFud0aDHlQ1mpBbY5StE31BlHFEWoe6AGrnd0Lf0i/RL/HFjTph/79rHv4vqeS2xVOSmyWLIC3Dfgg08u34Ch4XFkgTAsIA8z0OxEnJmdA59/irdhp2SRpVB1vPwtRpiaDsLCQoR56vbHnmn6S/sFz5205kEpeZH/qNHQcqdDdXAqUbj8WTd8fr2Hg5TFoNdCUUEev8vC/v/F9V7492ddfFfUpKZSOXg1SCc/Tqvpn7V6nbiCswyzw1ZGykrVbfnTK1/C7dEEKwk4cmO9A47ur4dDj1bD/oe2wbd2l8MjD1hBqxFgMBACdviFZud5LOK0lXC6W0sMhjwYn5jku4VSiUzyO5lJFE2LVDoo27jdas3KJFIB/+BAAzz/zVqwb93C32UpMRng0Deq4UcHHwa9mNDR8OgE9A35VOewJhVXhBa3b5V5SFTYzlWPx7PJVKDqdDe6+xXArz69G2rsme2/sqwQvn9gN4iaxJQd3QPLTCqd2K1lSZqj8Pgq0BhZNrK70WBQDYKYpuQJ96JJbLeZs3JYBvzxXU7Fxod9ExnbMxPB0zihVKB70jkit/yCfKPq5IHJaeW5cacjJx5mdi/LeGBatX1BwRY5JnGmA13Mgxi9XnUgxsMyS1jNxpxAMxuXWWV6Jqza3mhQMjfXmieioFGP4GTTMOq0y5wuW2H9+JZnQX06UacEhWuClhbVB2IRGZP5aBwnpjmDZv0STqyuoHRKTP1lIZFVRFQHspgT6eHdSBz8wfmcAE/M3OX9+DimfNX26ZSYBE2Bp/VzdxdUByotTtJbe9dobml4d7I9i0nUJBpTItNgGspLgJ6dDavamstRopjIJQRxayyYFeCB8RBc7BhRTMxlVz912em5JIOrNU3IFdk55uYzb7kGbfHB+qolZ6Jw7h9XVYEzwL/98CrElrZ7V32lsvBMGTwrPSQMgRV7Vmp6ES4m+XNSPWCvtPNwMxX4e5d6YHyFjU/NLsCFy33w9gdfQCS2qOxUdblddY5QaDalViINrYqntRK0xwTwIxdYx/wBnkWoyaMP70ANUH5CMuAXO0f4xXiY0RpjCdnpUk3rkd11mCirU+WwLxmfYDb90aoor+0DT3zv4WNfw383xOJxzNlMYDQaVJNSF2pbrxdh8k5I8YU4msBdBBxP8XxmCg27tsNDO6owvlGnujhi6LrZK4957c0j+0+nzVxwOW+jITUlorhBKC7KLgmoqXRAVbmNa3wcM5dgaG5Z5lJSbIZyZ6mqDafK6JifA1+Kizxrpltvvui+drLlX224cftmZkK8fJVtjsics8JVxq/1CgN7a+C2QnViTPhTxsRWoOSnrB97/vKrXl7C2mzpvTWIOxVLaJmS3zefcAczgj5zzH2FADmXiDFicLOnd1MBBybv8DqfnGuIeXBGtYTAncYJJ/HWyZ79SH99/YObApjV9G50dieLkpScaH7OHc6qwtTm8Uh7DzVdwiCWZeZGVvVhGY3lPhZtgjjH59c6U5yPvHHmqNuTVbFGccpj7k5BIi/gI19pT18/v1LryhslzOGvXOtQ7BjPv1bRAafvqWr6yd89/Y2Hm3pZJZMtkFU2AxNTYDYX8orneoWddp3dN5EphlKUQd/VOYWXM30ZyCqCf93jfVIS6HlYSnnYoVKxzQmsqG4w5OUMlgEcHRtHXxlYxk7Ixz88c+SJcxvyJUCui4iS9A4l5KnUWWylxcRus8FWi0k1qA+H52DE50fnDiwHy7+9kGeRudqzKg/nqqVTLd6X0K1fS/32IlelthgMhCXGLM9kGQcL4Fk8PDe/wIOfNCFvHBniN4zW0rHEhoHmhUqvVxsdhecxWDpOKDyZcyGdaRZIK8Zvfzh71N13D/3XJ9xsqHSQFXuWaicVcmavpHGYFbEkAxf5HwGENm0cPsVTbgH+l+S/c0hKbtisAOEAAAAASUVORK5CYII=</pre>
</div>
<div _hash="1ed905926f4ba00e7d35feb9d703fc62ba55baae" created="20140425173049000" creator="willrogers" modified="20140425173049000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PyGtk/1731781:32c7904c349f6b5c4456678ef2ee99a6d6890563&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1731781" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PyGtk" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PyGtk" type="text/x-tiddlywiki">
<pre>PyGtk are the python bindings for GTK+.  There are some differences between versions 2 and 3.

!!!GTK
There are a range of classes available for you to write Gnome widgets.  Some ones which may be useful:
* [[StatusIcon|https://developer.gnome.org/gtkmm/stable/classGtk_1_1StatusIcon.html]]
* [[Menu|https://developer.gnome.org/gtkmm/unstable/classGtk_1_1Menu.html]]
* [[MenuItem|https://developer.gnome.org/gtkmm/stable/classGtk_1_1MenuItem.html]]
* [[VBox|https://developer.gnome.org/gtkmm/unstable/classGtk_1_1VBox.html]] - a vertical box layout

Some notes:
* You can add any widget to a ~MenuItem in order to put it in the menu: http://stackoverflow.com/questions/5685103/putting-other-widgets-in-gtk-menu.  
* However, I'm struggling to prevent the menu from disappearing when you click on a menu item.  
* Another program I found adds a window instead of a top-level menu:  http://gtk-apps.org/content/show.php/OSS+volume+control+in+system+tray?content=135928.  
* The second item here also uses a window: http://stackoverflow.com/questions/5265167/pygtk-system-tray-icon-doesnt-work

Another example: http://stackoverflow.com/questions/6485264/gtk-statusicon-popupmenu-in-python

This question discusses whether to put widgets in a menu; answer no: http://stackoverflow.com/questions/11132929/showing-a-gtk-calendar-in-a-menu

It may be necessary to write my own widget: http://www.pygtk.org/articles/writing-a-custom-widget-using-pygtk/writing-a-custom-widget-using-pygtk.htm

Here's the source of the gnome clock widget: https://git.gnome.org/browse/gnome-panel/tree/applets/clock

</pre>
</div>
<div _hash="cd64c9e8234a03b5f0c631bfbbd41dcd701f66b7" created="20130103133817000" creator="willrogers" modified="20130103133839000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PylintProfile/1012651:79d7ea2f698b720e06dae8fbd55f9f1ab9c18844&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1012651" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PylintProfile" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="pylint python" title="PylintProfile" type="text/x-tiddlywiki">
<pre>These are the customisations I'm using:

{{{
--report n  # wrong order?
--max-line-length=100
--attr-rgx=[a-z_][a-z0-9_]{0,30}$
--variable-rgx=[a-z_][a-z0-9_]{0,30}$
--good-names=i,j,k,e,_,log
--dummy-variables-rgx=unused
--disable=E1103 # Lots of false positives where it thinks things are lists.
}}}</pre>
</div>
<div _hash="856c604c15a75e4776496374e502fea09da027ca" created="20130605132815000" creator="willrogers" modified="20130626124336000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PyQt/1282911:ace0ee0ae50a59491f5942542aac23176424d9c9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1282911" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PyQt" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PyQt" type="text/x-tiddlywiki">
<pre>The introduction to PyQt Model/View programming is here: http://qt-project.org/doc/qt-4.8/model-view-programming.html

Here's a discussion of the difference between Qt Events and Qt Signals: http://stackoverflow.com/questions/3794649/qt-events-and-signal-slots</pre>
</div>
<div created="20140803132824118" modified="20140803133000422" title="Python3">
<pre>* `print` is now a function: `print(string)`

!!! Division
* `x / y` now returns a float
* `x // y` is 'floor division', returning an int</pre>
</div>
<div _hash="0d53ec28f8b9ed2420db07d423786fdfd1d21c5d" created="20120925203326000" creator="willrogers" modified="20120926203703000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonBoolean/891612:0ec13e0bc8ce68e8b5e81e40706a437299e47bed&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="891612" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonBoolean" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonBoolean" type="text/x-tiddlywiki">
<pre>The raw boolean types True and False are relatively recent.  Before that, and still now:

| ''False'' | ''True'' |
| 0 | any other number |
| "" | any other string |
| [] | any other list |
| () | any other tuple |
| {} | any other dict |

!!{{{and}}} and {{{or}}}
{{{
&gt;&gt;&gt; 'a' and 'b'         
'b'
&gt;&gt;&gt; '' and 'b' 
''
&gt;&gt;&gt; 'a' and 'b' and 'c'
'c'
&gt;&gt;&gt; 'a' or sidefx()
'a'
}}}
* {{{and}}} returns the first false object
* if none are false, {{{and}}} returns the last object
* {{{or}}} returns the first true object
* if none are true, {{{or}}} returns the last object
* the function sidefx() isn't called, because {{{or}}} returns 'a' immediately
</pre>
</div>
<div _hash="24908719bfbc17baaebaab1496f1377d40afd015" created="20111220135232000" creator="willrogers" modified="20111220141143000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonBuiltins/364541:c2c98226926a452832e4008262f6a906c646eaf2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364541" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonBuiltins" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="python" title="PythonBuiltins" type="text/x-tiddlywiki">
<pre>If you run dir() at any time, one item in the list returned is {{{_builtins__}}}.  This is the module including the built-in methods available.

{{{dir(__builtins__)}}} produces the following:
{{{
['ArithmeticError', 'AssertionError', 'AttributeError', 'BaseException', 'BufferError', 'BytesWarning', 'DeprecationWarning', 'EOFError', 'Ellipsis', 'EnvironmentError', 'Exception', 'False', 'FloatingPointError', 'FutureWarning', 'GeneratorExit', 'IOError', 'ImportError', 'ImportWarning', 'IndentationError', 'IndexError', 'KeyError', 'KeyboardInterrupt', 'LookupError', 'MemoryError', 'NameError', 'None', 'NotImplemented', 'NotImplementedError', 'OSError', 'OverflowError', 'PendingDeprecationWarning', 'ReferenceError', 'RuntimeError', 'RuntimeWarning', 'StandardError', 'StopIteration', 'SyntaxError', 'SyntaxWarning', 'SystemError', 'SystemExit', 'TabError', 'True', 'TypeError', 'UnboundLocalError', 'UnicodeDecodeError', 'UnicodeEncodeError', 'UnicodeError', 'UnicodeTranslateError', 'UnicodeWarning', 'UserWarning', 'ValueError', 'Warning', 'ZeroDivisionError', '__debug__', '__doc__', '__import__', '__name__', '__package__', 'abs', 'all', 'any', 'apply', 'basestring', 'bin', 'bool', 'buffer', 'bytearray', 'bytes', 'callable', 'chr', 'classmethod', 'cmp', 'coerce', 'compile', 'complex', 'copyright', 'credits', 'delattr', 'dict', 'dir', 'divmod', 'enumerate', 'eval', 'execfile', 'exit', 'file', 'filter', 'float', 'format', 'frozenset', 'getattr', 'globals', 'hasattr', 'hash', 'help', 'hex', 'id', 'input', 'int', 'intern', 'isinstance', 'issubclass', 'iter', 'len', 'license', 'list', 'locals', 'long', 'map', 'max', 'min', 'next', 'object', 'oct', 'open', 'ord', 'pow', 'print', 'property', 'quit', 'range', 'raw_input', 'reduce', 'reload', 'repr', 'reversed', 'round', 'set', 'setattr', 'slice', 'sorted', 'staticmethod', 'str', 'sum', 'super', 'tuple', 'type', 'unichr', 'unicode', 'vars', 'xrange', 'zip']
}}}

This comprises:
* Built-in exceptions
* Built-in constants: Ellipsis, False, None, ~NotImplemented, True, {{{__debug__}}}.  These are described here: http://docs.python.org/library/constants.html.  Ellipsis has obscure uses only within numpy. 
* Meta-stuff, described in PythonSyntax under 'Bits and Pieces'
* {{{__import__()}}}, one of the built-in functions but not for everyday use
* Standard built-in functions, described here: http://docs.python.org/library/functions.html</pre>
</div>
<div _hash="1d0a858fb004c9c7ccb157a1e8a6198d7375942b" created="20110727162838000" creator="willrogers" modified="20140722171120000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonClasses/1840522:29e45d1c9e93f3d542a22e242b350b1356f12311&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1840522" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonClasses" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="oop python" title="PythonClasses" type="text/x-tiddlywiki">
<pre>The Python Tutorial page is here: http://docs.python.org/tutorial/classes.html

See PythonStructs and PythonGarbage as well.

First, read PythonSelf.

!!Basics

To define a class:
{{{
class RecordGenerator(object):
    '''Demonstration class'''
    def __init__(self):    
        '''Constructor'''
        self._recs_per_msg = 0
        self._no_msgs = 0
        self._msg_path = ''
}}}
To inherit from the class:
{{{
class JobRecordGenerator(RecordGenerator):
    '''Inherits from RecordGenerator'''
    # Call the parent constructor
    super(JobRecordGenerator, self).__init()
    ... do something else ...
}}}

There is another way to call the parent constructor:
{{{
RecordGenerator.__init__(self)
}}}
I'm not yet sure which is better.  However, you do have to call the parent constructor explicitly.

Python supports multiple inheritance - you can put more than one parent in the parentheses.

To create an instance, just do it:
{{{
jrg = JobRecordGenerator()
}}}
To call a method from the parent class:
{{{
    record = RecordGenerator._get_record(self, keys, job_id)
}}}

It uses 'new style' classes which inherit from object, but I don't think there's any reason to use old style classes.

If a method is called on a subclass and there's no such method in there, it will look for the parent's version and call that.

!!{{{__init__(self, ...)}}}
The {{{__init__}}} method is like a constructor, but not exactly the same.  The instance of the class is created before {{{__init__}}} is called, but that is the next thing that happens.  Init methods can have default arguments like any function.

Init never returns a value.

!!Overloading
There is ''no'' overloading of methods or functions.  The name is the only way to refer to the method.  In Java, a method of the same name with different argument types can be a different method, but this is not the case in python.

!!Overriding
When you redefine a method in a derived class, you '''override''' the method in the base class.  Note that in python, this means that when that method is called, the overridden method will be used, even if (for example) the base class is calling the method and expects the original method to be called.

!!Special methods
When you create a class, there are some special methods you can define:
* {{{__len__}}} returns the length of an object, which then is returned from {{{len(obj)}}}
* {{{__cmp__}}} checks whether an item is equal
* {{{__repr__}}} returns a string representation

{{{__setitem__}}}, {{{__getitem__}}}, {{{__delitem__}}} mean that any class can act as a dictionary.

!!Class attributes
Logically enough, these are variables which are assigned to the class rather than any instance of the class.  They are equivalent to static variables in Java.  You put them in the logical place, inside the class definition but not in the init method.  They can be used as constants, but they can change.

You can get at them either using the class name or using an instance name.

!!Privacy
You can make a method or function private by starting it with two underscores.  It is then not allowed to call it directly, but there is a way using 'name-mangling'.  A variable or function beginning with one underscore is private by convention.</pre>
</div>
<div _hash="693f2ed287ea0d0798c4b15bab4f0aefb1da326f" created="20111201092155000" creator="willrogers" modified="20111201095412000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonDaemon/364557:6a8bae53ccfcd84d70f0fabcf6d3f734afcdd6f8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364557" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonDaemon" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonDaemon" type="text/x-tiddlywiki">
<pre>There's more to making a daemon in Linux than I realised.  There is however a fairly standard process for doing it, and there's a [[python library|http://pypi.python.org/pypi/python-daemon/]] implementing the [[recommended procedures|http://www.python.org/dev/peps/pep-3143/]].  Use the latter page for documentation on the former library.

The library is mainly designed for python 2.5+, but it does appear to work with 2.4 if you call the {{{__enter__()}}} and {{{__exit__()}}} methods appropriately instead of using the with statement.

!!Behaviour
* The library uses the standard double-fork procedure to detach the process from any terminal and prevent it reattaching to anything
** This means that the process goes into the background immediately, and you can only see it via its pid
* You need to specify any files that you still want to use when it goes into a daemon process - all open file descriptors are closed by default
** This includes log files, which are important - otherwise you really can't see what it's doing after it's disappeared
* You  can specify what it does on different kill signals, but I haven't gone into this yet
* I haven't got the pid file working as I would expect yet.</pre>
</div>
<div _hash="0fdbbe74b0696f5a87b5e3b191c511ab7c02407b" created="20130502090126000" creator="willrogers" modified="20130517130632000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonDecorators/1219048:3f733ac39ec1b9e7b9b0b4e2efd6c200d30b69f9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1219048" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonDecorators" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="decorator python" title="PythonDecorators" type="text/x-tiddlywiki">
<pre>Decorators in Python allow you to modify other code.  They are somewhat equivalent to macros in other languages.  They resemble annotations in Java, but are more flexible.

A decorator may be a function or a class; the only constraint is that it must return an object which is callable.  So if it is a class, it must define the {{{__call__}}} method.  Calling the constructor of that class would then return an object which is callable.  You can return a function which is completely different to the function with the decorator, but this is generally not useful.

The '@' syntax is just a replacement for:
{{{
foo = decorator(foo)
}}}

!!Examples
* {{{@staticmethod}}} means the same as in Java, but many people think they're not often needed since you can just declare top-level function instead
* {{{@classmethod}}} is similar to a regular method, but instead of the object ({{{self}}}) being passed as the first method, the class is instead
* {{{@property}}}  - ...

Here is a list of decorators: http://wiki.python.org/moin/PythonDecoratorLibrary.  

!!Syntax

!!!Decorators without arguments
To apply a decorator to a function, simply put the decorator on the line before the function definition:
{{{
@entryExit
def func1():
    print "inside func1()"
}}}

To define a class as a decorator, include a function in the constructor:
{{{
class entryExit(object):

    def __init__(self, f):
        self.f = f

    def __call__(self):
        print "Entering", self.f.__name__
        self.f()
        print "Exited", self.f.__name__
}}}

To define a function as a decorator, ensure that it itself returns a function:
{{{
def entryExit(f):
    def new_f():
        print "Entering", f.__name__
        f()
        print "Exited", f.__name__
    return new_f
}}}
Often this means that the decorated function has different properties, so you may want to change e.g. the name or docstring of new_f so that the decorated function behaves more like itself than the one defined in the decorator.  The first example in the decorator library (above) defines behaviour that does this for you, so that you don't have to do this for each decorator you define.

!!!Decorators with arguments
Decorators with arguments are different.</pre>
</div>
<div _hash="b88687a8adf4171020157d0d876e6f759b3afa15" created="20120109105117000" creator="willrogers" modified="20130828124613000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonDistutils/1375068:d0db43f2ed38e8cf05906e0f66805157f5012e30&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1375068" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonDistutils" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonDistutils" type="text/x-tiddlywiki">
<pre>In the PythonDocumentation, not everything comes under the 40 core chapters.  There are also 11 chapters on {{{distutils}}}, which I'm looking at so that I can build an RPM for the SSM.

The documentation is here: http://docs.python.org/distutils/index.html.

It is considered to be a bit basic, but attempts to rationalise Python packaging have had a hard time of it.  The current recommendation is to use {{{distutils}}} if your requirements are very simple, and {{{setuptools}}} for anything more complicated.</pre>
</div>
<div _hash="82c843b198580dd08b8ac4df9943b743a8907e0f" created="20110704091037000" creator="willrogers" modified="20111220134227000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonDocstrings/364561:abf79bd071e646c1cc04326f7a5618e14f3b112a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364561" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonDocstrings" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonDocstrings" type="text/x-tiddlywiki">
<pre>This is the way you should really document Python code:

http://www.python.org/dev/peps/pep-0257/

If you've put a docstring in any class, function or method, you can retrieve it with {{{&lt;thing&gt;.__doc__}}}.</pre>
</div>
<div _hash="fb614648a53c829a8e4c428cc8070e4019d8e532" created="20110926124403000" creator="willrogers" modified="20140418142959000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonDocumentation/1724899:03cfe741cecaa8cc7adb21da13a1546910e26f05&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1724899" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonDocumentation" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="python" title="PythonDocumentation" type="text/x-tiddlywiki">
<pre>The main index is here: http://docs.python.org/library/index.html.  It's the Python 2.7 documentation, but things which are new or have been removed are quite clearly labelled.

The point of this page is to give some context to what's in there, so I know how much I know and how much I don't.

In addition to these numbered chapters, there are a number of other sections.  The PythonDistutils part became relevant to me.

!!Chapters 1-8 - The core language
1. Introduction
2. Built-in functions - PythonBuiltins
3. Non-essential built-in functions
4. Built-in constants
5. Built-in types
6. Built-in exceptions
7. String services
* 7.2 Regular expresssions
* 7.4 difflib
* 7.5 ~StringIO and cStringIO - in-memory files
8. Data types
* 8.1 datetime
* 8.2 calendar
* 8.3 collections

!!Chapters 9-16 - Pretty basic libraries
9. Numerical and Mathematical Modules
* 9.2 {{{math}}} - mathematical functions
* 9.3 {{{cmath}}} - complex arithmetic
* 9.4 {{{decimal}}} - exact decimal numbers
* 9.5 {{{fractions}}}
* 9.6 Random numbers
* 9.7 {{{itertools}}} - tools for iteration
* 9.8 {{{functools}}} - tools for functional programming
* 9.9 {{{operator}}} - inbuilt operators as functions
10. File and Directory Access
* 10.6 temporary files
* 10.10 shutil - higher-level file operations, eg deleting a whole tree
11. Data Persistence
12. Data Compression and Archiving
* 12.1 zlib
* 12.2 gzip
* 12.3 bz2
* 12.4 zipfile 
* 12.5 tarfile
13. File Formats - a random selection including ~ConfigParser
14. Cryptographic Services
* Only hashlib and hmac
15. Generic Operating System Services
* 15.1 os
* 15.3 time
* 15.7 - 15.9 logging
* 15.10 getpass, for entering passwords
* 15.17 ctypes, for using C function calls and raw types
16. Optional Operating System Services - including threading

!!Chapters 17-21 - Networking + Internet
17. Interprocess Communication and Networking
18. Internet Data Handling
* 18.1 email/MIME
* 18.2 JSON
* 18.12 base64
* 18.15 quopri
19. StructuredMarkup Processing Tools (HTML and XML)
20. Internet Protocols and Support
21. Multimedia Services

!!Chapters 22-33 - Language utilities
22. Internationalization
23. Program Frameworks
24. GUIs with Tk
25. Development Tools
26. Debugging and Profiling
27. Python Runtime Services
* 27.12 Garbage collector interface
* 27.17 PythonDistutils
28. Custom Python Interpreters
29. Restricted Execution
30. Importing Modules
31. Python Language Services
32. Python Compiler Package
33. Miscellaneous Services

!!Chapters 34-39 - ~OS-specific libraries
34. Windows
35. Unix - eg users, groups
36. Mac OS X
37. ~MacPython OSA
38. SGI IRIX
39. ~SunOS

!!Chapter 40 - Undocumented modules
40. Undocumented Modules</pre>
</div>
<div _hash="214ab8dc0fb8529d0a5fcddd499f846c034d9bef" created="20110513152858000" creator="willrogers" modified="20111027144352000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonExceptions/364588:f4bc757fd5736b132eb6be79d57455140988db1c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364588" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonExceptions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="exceptions python" title="PythonExceptions" type="text/x-tiddlywiki">
<pre>I haven't yet quite nailed down how to use exceptions in python.  Here it is.

{{{
try:
    ... do something ...
except:
    ... handle the exception ...
}}}

{{{
try:
    ... do something ...
except Exception:
    ... handle the exception ...
}}}

{{{
try:
    ... do something ...
except Exception as e: 
    ... do something using e ...
else:
    ... do something if the exception is not thrown ...
finally:
    ... do something whether or not the exception is thrown ...
}}}

You can catch more than one type of exception at a time:
{{{
...
except (OneException, TwoException), e:
...
}}}

I don't know what the difference between {{{ except Exception, e: }}} and {{{ except Exception as e: }}} is - it seems you can do either.  To get the message, you can {{{ print e }}} or {{{ str(e) }}},

!!!Raising exceptions

{{{
raise Exception
}}}
{{{
raise Exception('Something went wrong.')
}}}</pre>
</div>
<div _hash="1b6fcb18fb3f58bc1348ae58b0225135565d1d18" created="20120925201455000" creator="willrogers" modified="20140722171213000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonFunctions/1840523:898d5cc500f915412ddbbd698e29d4d0f4b7dbd9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1840523" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="function lambda python syntax" title="PythonFunctions" type="text/x-tiddlywiki">
<pre>Python functions return None if there is no explicit return statement.

!!Builtin functions
Python's builtins are in a special module called {{{__builtin__}}}.
* {{{type()}}} works on anything.  You can compare results with constants in the {{{types}}} module
** {{{type()}}} has a second function - it's used to create class objects: http://stackoverflow.com/questions/100003/what-is-a-metaclass-in-python
* every datatype can be coerced into a string with {{{str()}}}
* {{{callable()}}} returns True if the object is callable - that is, it defines a {{{__call__}}} method
* {{{help()}}} often returns useful information about a module, object or function.  Intended for interactive use.
* {{{locals()}}} shows all local variables; at the top level this appears to equal the global variables.  Parameters to functions are in local variables within the function.
* {{{globals()}}} shows all global variables

!!!{{{getattr()}}}
{{{getattr(object, "function")}}} allows you to reference an attribute of an object using its name.  You can then call the function using the reference.  You can use it on modules, too.

You can use it to create a 'dispatcher' - some module defines different methods, and the dispatcher uses some text to define a function name to call.  You define new a new function in the module for every new possible piece of text.

!!Lambda functions
You can create anonymous functions.  Here we assign the function to 'g', but Konrad used lambda functions as values in a dict, for example.
{{{
&gt;&gt;&gt; def f(x):
...     return x*2
...     
&gt;&gt;&gt; f(3)
6
&gt;&gt;&gt; g = lambda x: x*2 
&gt;&gt;&gt; g(3)
6
}}}
This changes all whitespace in a string to spaces:
{{{
lambda s: " ".join(s.split())
}}}

!!Nested functions
You can define a function inside another function.  Logically, this can only be called from within that function.</pre>
</div>
<div _hash="e23a9712824838cb210015e990db0d9fa3543347" created="20121007104948000" creator="willrogers" modified="20140722192630000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonGarbage/1840665:4714ccaf64cae5a290336b6ed01ceb3c108eff18&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1840665" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonGarbage" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="collection garbage python" title="PythonGarbage" type="text/x-tiddlywiki">
<pre>Python garbage collection works by 'reference counting'.  When no further references to an object exist, that object can be removed.

It's possible to have a number of objects with circular references, but no references to the main program.  Python is smart enough to clean these up as well.</pre>
</div>
<div _hash="54acc94caa6d89f4737f2f976edb9e1ee307c47a" created="20120925211841000" creator="willrogers" modified="20120926203224000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonLists/891607:902dc35b6cf5289c9bf0708167f761d2be382255&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="891607" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonLists" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="list python syntax" title="PythonLists" type="text/x-tiddlywiki">
<pre>Some notes I might not have to hand:

!!lists
* li[:] returns a copy of a list, not the list itself.  Whenever you slice a list, you get a new list
* li.extend(li2) concatenates the two lists
* li.index(item) returns the index of the first item that matches
* li.remove(item) removes the first item that matches
* li.pop() removes the last item and returns it
* you can use + and * n on lists

!!list comprehension
List comprehensions allow you to make a second list from every item in a list by applying a function:
{{{
li = [ x*2 for x in li]
}}}
You can change the original list in place, but otherwise it returns a new list.  You can also filter at the same time by appending an if:
{{{
li = [ x*2 for x in li if is_prime(x) ]
}}}
</pre>
</div>
<div _hash="6ce0fd9952e8fd2b0ed64c60f405a69bc023eb33" created="20131216092334000" creator="willrogers" modified="20131216093406000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonMachine/1597255:be738bea18cc666b22edf387d09034b283dadbc0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1597255" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonMachine" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonMachine" type="text/x-tiddlywiki">
<pre>This is one of the Python modules - it seems to be a simulator of sorts.

!!Modules
* {{{accelerator.py}}}:  1406 - essentially a list of the 1386 devices in the ring
* {{{addlengths.py}}}:  79 - if you run it, it prints out details of 1000 devices in the ring
* {{{canvas.py}}}:  47 - Qt canvas for some purpose
* {{{device.py}}}:  49 - class {{{Device}}}, functions {{{start}}}, {{{end}}}, {{{device}}}
* {{{devices.py}}}:  1386 - similar to accelerator.py ? 
* {{{geo.py}}}:  113 - apparently some geometry
* {{{__init__.py}}}:  1
* {{{make3d.py}}}:  2898
* {{{vrml.py}}}:  44 - this seems to be displaying something using the Python bindings to Coin3d

</pre>
</div>
<div _hash="7cdb3c134db613bf747d52a744bb306c0f8328f2" created="20131031094305000" creator="willrogers" modified="20131031174451000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonMock/1494121:c0bacd19348bc542132f4279dfad6c9bad6ec004&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1494121" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonMock" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonMock" type="text/x-tiddlywiki">
<pre>Unit testing often needs mock objects.  The Mock library has become the de facto standard for mocking.  It has been included from python 3.3.

http://www.voidspace.org.uk/python/mock/index.html

There are several things you can mock, including methods, classes and attributes.  

!!Mock and ~MagicMock
The library provides objects Mock and ~MagicMock.  You create such an object by passing in the object you want to mock.  From the documentation:
{{{
Note: In most of these examples the Mock and MagicMock classes are interchangeable. As the MagicMock 
is the more capable class it makes a sensible one to use by default.
}}}</pre>
</div>
<div _hash="92008419fd49218e1313b8ad129e7d82120b7dd6" created="20120925201918000" creator="willrogers" modified="20121223103355000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonNone/1000364:39075739da346482f7526aa7e7f6f6a64b9c82a4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1000364" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonNone" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="none python" title="PythonNone" type="text/x-tiddlywiki">
<pre>!!None in python

The None object is a single object - all references to None point to the same thing.  Here's a page I found about it: http://boodebr.org/main/python/tourist/none-empty-nothing

The correct test for None is:
{{{
if obj is None
}}}
not
{{{
if obj == None 
}}}
This is explained well here: http://stackoverflow.com/questions/26595/is-there-any-difference-between-foo-is-none-and-foo-none</pre>
</div>
<div _hash="cd3a920c1bf765e5983b877f0c7fcac42f8cbed2" created="20120925201824000" creator="willrogers" modified="20140803132815580" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonNotes/1592701:5e2db043df13545241677dafd80bcb93c311db2b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1592701" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="python" title="PythonNotes" type="text/vnd.tiddlywiki">
<pre>I am up to section 10 in Dive Into Python (I skipped the HTML chapter): http://www.diveintopython.net/regular_expressions/index.html

Python is a strongly and dynamically typed language - see ProgrammingTypes.  Basically this means that the types are determined on execution, but once they're determined they stay that way.

Everything in python is an object, so you can assign it to a variable.  A useful example of this is assigning functions to variables, including anonymous lambda functions.

* PythonSyntax
* [[Python3]]
* PythonFunctions
* PythonDocumentation
* PythonExceptions
* PythonPackages
* PythonSetupTools
* PythonDocstrings
* PythonRegex
* PythonThreading
* PythonClasses
* PythonDecorators
* PythonGarbage
* PythonProfiler
* PythonDaemon
* PythonMock
* SWIG!


* MatPlotLib
* NumPy</pre>
</div>
<div _hash="f3f8e49fbab228a29d0cd23695c81feaa19ad371" created="20110615144900000" creator="willrogers" modified="20131025110729000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonPackages/1481894:ccd6c6f2dfd7bd9fd2dea8fa35628b75565be254&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1481894" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonPackages" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="package python" title="PythonPackages" type="text/x-tiddlywiki">
<pre>There's a page in the python tutorial on this: http://docs.python.org/tutorial/modules.html.

To find out what version of a library you're using, you should be able to use {{{&lt;libname&gt;.__version__}}}.

There's a special variable {{{__name__}}} which usually contains the name of the module.  So for {{{simple_example.py}}} its {{{__name__}}} will be {{{simple_example}}}.  The exception to this is if the script has been run directly, in which case {{{__name__}}} is {{{"__main__"}}}.  This leads to the common idiom:
{{{
if __name__ == "__main__":
    run_main_process()
}}}

!!Packages
You can make a directory a python package by putting an {{{__init__.py}}} file inside it.  You can then import the relevant modules within that package by:
{{{
import &lt;package&gt;.&lt;module&gt;
}}}
To avoid typing the whole package string, you can import a module or object directly:
{{{
from &lt;package&gt; import &lt;module&gt;
}}}

{{{sys.modules}}} is a dict of all the modules imported since python started: name: object.

!!Linux library installations
One notable thing is that python libraries have to be installed per python version.  So there'll be different packages for python 2.4, 2.6 and 3.1, just to change the place where they are installed.

There may be differences in the libraries as well, but not necessarily.

!!Distributing packages
This just seems to be a bit of a mess for python - it's the only thing I've found which seems painful to work with for python.

The original tool for this was {{{distutils}}}.  People quickly found out that it had some flaws, but fixing these hasn't been particularly straightforward.  There's a summary of the current state of affairs on this page: http://guide.python-distribute.org/introduction.html, but in other places you'll find slightly different versions.  The main players:

* {{{distutils}}} - the original, widely accepted to be flawed
* {{{setuptools}}} - this was the installation program that went along with distutils and is also being phased out.  It includes the {{{easy_install}}} command
* {{{distutils2}}} - this intends to fix all the problems with distutils, but seems to be coming along slowly.  It will be default by python 3.3
* {{{Distribute}}} - this includes a better version of setuptools
* {{{pip}}} - this seems to be the long-term replacement for setuptools, and possibly also Distribute, but this is not clear

The above page says that the current recommendation for a developer is to use either {{{distutils}}} (despite its flaws) or {{{Distribute}}} until {{{distutils2}}} is complete.</pre>
</div>
<div _hash="dcd8892f90ef7a52e802ec59bb34483e13de9c29" created="20110926111011000" creator="willrogers" modified="20110927155203000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonProfiler/364608:180cced06ce1b55406a78b689ac0c81106df9bd2&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364608" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonProfiler" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonProfiler" type="text/x-tiddlywiki">
<pre>!!Starting

Profiling in Python is available though the cProfile module (&gt;=2.5).  There's also the profile module, which was available earlier (&gt;=2.4).  As I understand it, the difference between the two is that the profile module is pure Python, making it significantly slower.  In fact, I just ran a little test, and cProfile was about 3 times quicker than profile.

However, on Ubuntu you need an extra package before it will run properly:
{{{
sudo apt-get install python-profiler
}}}

You need to enable the multiverse repository for this to work.

!!Using it
The documentation is here: http://docs.python.org/library/profile.html

From the interpreter, it's easy to call a function, but you can also run it against a whole script like this:
{{{
python -m cProfile -s cumulative gen_records.py jobs
}}}

You probably get more detail from this by writing to a file, then running stats on that file - see the documentation.
</pre>
</div>
<div _hash="68f4d3fb72feb34d909535bb426ffd49180030a7" created="20121223105546000" creator="willrogers" modified="20121223111807000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonRegex/1000405:18309cc12f25633177c0461d137ebab0b0eb5baf&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1000405" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonRegex" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonRegex" type="text/x-tiddlywiki">
<pre>Python has quite a few built in string process libraries, which you should use if they are up to the task.  Otherwise, regexp is the way to go: http://docs.python.org/2/library/re.html.

* See also RegexNotes for standard syntax

!!Intro
Generally, you 'compile' a regular expression into an object which you can reuse.  If you're not reusing a lot, python provides shortcut functions which are less efficient but use less code.

MULTILINE mode means, for example, that $ matches the end of each line, whereas otherwise $ would only match the whole of the string.

* It can be useful to use python's raw strings {{{r'\tword\n'}}} to avoid zillions of backslashes.
* Verbose mode (a flag you need to set) allows you to comment regexes:
** whitespace is ignored (you have to escape it if you want to match)
** comments are allowed (# to the end of a line) 


!!Functions
All of these functions have flags you can pass to modify their behaviour.
* {{{re.search(pattern, string)}}} - omits compiliing; returns a ~MatchObject
* {{{re.match(pattern, string)}}} - omits compiling; returns a ~MatchObject
* {{{re.split(pattern, string)}}} - splits according to regex; returns a list
* {{{re.findall(pattern, string)}}} - finds all matches according to regex; returns a list
* {{{re.sub(pattern, string)}}} - makes substitutions
* {{{re.escape(string)}}} - leave only alphanumerics without backslashes.

!!Regex and Match objects
A ~RegexObject is returned by the re.compile() function.  A ~MatchObject is returned by the ~RegexObject's search() and match() methods:
{{{
ro = re.compile("d.")
mo = ro.search("dog")
}}}
match() only checks if the regex matches at the beginning of the string; search checks the whole string for a match.

* ~RegexObjects support the functions listed above
* ~MatchObjects support groupings in the regex.
</pre>
</div>
<div _hash="31c1c18f220f9b082c92b90575ec223a450616d8" created="20121007113412000" creator="willrogers" modified="20121007113642000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonSelf/901919:e727b4d66db27a5e1be8c90c745f5e318c6333f4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="901919" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonSelf" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="oop python self" title="PythonSelf" type="text/x-tiddlywiki">
<pre>{{{self}}} is equivalent to {{{this}}} in Java.

!!methods
A method is a function belonging to a class.

The first argument in any method (that is, it must be associated with an object) (including {{{__init__}}}) always refers to the object itself.  By convention 'self' is always used for the name of this argument.  When you call the method, you don't have to supply the first argument - python automatically does it.

!!member variables
You assign any member variables (or 'instance variables') to self:
{{{
self.x = 10
}}}
By convention, you give all of these a reasonable value in the {{{__init__}}} method.  You can refer to them using 'self' within the class, and the object name outside of the class: {{{print obj.x}}}.</pre>
</div>
<div _hash="a45c4af7a8e182e39bfa6e8a687ba3767de3558e" created="20131212144932000" creator="willrogers" modified="20131212174826000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonSetupTools/1592990:58d160f08852a111bd7a3df75bb271d412843088&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1592990" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonSetupTools" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonSetupTools" type="text/x-tiddlywiki">
<pre>Setuptools is one of the many ways of distributing python packages.  Its documentation is [[here|http://pythonhosted.org/setuptools/]].

There has been much discussion about Python packaging, but Distribute has been merged back into Setuptools, so at least it is still actively maintained.

The basic usage is as follows; in particular, it mirrors distutils to make it fairly easy to convert:

{{{
from setuptools import setup

setup(
    name = 'dls_packages',
    version = '0.1',
    description = 'Module',
    author = 'Will Rogers',
    author_email = 'will.rogers@diamond.ac.uk',
    packages = ['dls_packages']
    )   
}}}</pre>
</div>
<div _hash="55952f42a1ca1262a6046cd82c346f1aec887c90" created="20130718151905000" creator="willrogers" modified="20131204114340000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonSoftIoc/1575655:8cd8fbb8b85137cdd8c7d29cc78f091a4ca7a25e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1575655" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonSoftIoc" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonSoftIoc" type="text/x-tiddlywiki">
<pre>Exactly what is this?

I think the general idea is that it starts a python interpreter, but also loads a soft IOC at the same time.  You can then use the IOC from inside your python program:
* you can load ~PVs into your database, 
* start it up
* use the variables to test your program
* use python versions of the standard database commands to query the database (type {{{dir()}}} for a list)

Nick is using this to test topup.

The production version is at: {{{/dls_sw/work/R3.14.11/support/pythonSoftIoc}}}. Run it using the following:

{{{
/dls_sw/work/R3.14.11/support/pythonSoftIoc/pythonIoc
}}}

!!Files
* The script {{{pythonIoc}}} acts as a Python interpreter. 
** {{{pythonIoc.in}}} is a template from which {{{pythonIoc}}} is built
* There are python libraries in the {{{python}}} directory.
* It uses binary {{{bin/linux-x86/softIoc}}}.  
* {{{softIocApp}}} contains C code used to edit the behaviour of python

When you run the executable, it starts a python prompt.  I don't really know why {{{HERE}}} is so important, but if you run the executable without defining it, it fails.



 
</pre>
</div>
<div _hash="4b670b619842645fd92d3ad79bf745dac032da9a" created="20121007104151000" creator="willrogers" modified="20121007104151000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonStructs/901876:0fb6c3eddb87534abdd5bcdf543f970124563c61&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="901876" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonStructs" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="python struct" title="PythonStructs" type="text/x-tiddlywiki">
<pre>!!Structs?  
Kevin used these in the SSM, and I was a bit puzzled.  They're mentioned on the tutorial page in the PythonClasses page (I quote):

Sometimes it is useful to have a data type similar to the Pascal “record” or C “struct”, bundling together a few named data items. An empty class definition will do nicely:
{{{
class Employee:
    pass

john = Employee() # Create an empty employee record

# Fill the fields of the record
john.name = 'John Doe'
john.dept = 'computer lab'
john.salary = 1000
}}}
</pre>
</div>
<div _hash="0560156b39e2ab716887acb0831dd6a723349398" created="20110617084821000" creator="willrogers" modified="20121007111611000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonSyntax/901901:cd53b46b5d10f0548129c1db20d3126e14e8987d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="901901" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonSyntax" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonSyntax" type="text/x-tiddlywiki">
<pre>I'm not very sure of:
* Closures 
* Generators

* PythonNone
* PythonBoolean
* PythonLists

!!variables
You can assign more than one variable at a time:
{{{
&gt;&gt;&gt; v = ('a', 'b', 'e')
&gt;&gt;&gt; (x, y, z) = v 
}}}

!!dicts
* di.keys() returns a list of the keys
* di.values() returns a list of the values
* di.items() returns a list of tuples: (key, value)

Dicts work using the methods {{{__getitem__}}} and {{{_setitem__}}}, which you can define if you are trying to subclass a dict.

!!tuples 
* tuples are like lists but immutable
* you can slice them like lists
* they are faster than lists
* they can be safer because they're read-only
* {{{x in tu}}} returns True or False
* tuples can be used as dict keys

!!varargs, args and kwargs
This is something that I think is pretty simple, but I've never quite got the hang of.  There's a pretty good explanation here: http://www.saltycrane.com/blog/2008/01/how-to-use-args-and-kwargs-in-python/

So, you can specify a tuple of arguments as follows:
{{{
def many_args(*args):
    for arg in args:
        print "an argument: ", arg
}}}
This gives:
{{{
&gt;&gt;&gt; many_args(1,2,3)
argument:  1
argument:  2
argument:  3
&gt;&gt;&gt; many_args((1,2,3))
argument:  (1, 2, 3)
}}}

So basically, you pass in regular arguments and it treats them as a tuple at the other side. It also works the other way round, turning the tuple into arguments:
{{{
t = (1,2,3)
&gt;&gt;&gt; many_args(*t)
argument:  1
argument:  2
argument:  3
}}}

!!with
The {{{with}}} statement was introduced in Python 2.5, so because we're using 2.4 I haven't really had reason to use it.  However, I found a [[good page|http://effbot.org/zone/python-with-statement.htm]] describing how it works, and it's quite simple.  What it requires is for a class to have defined {{{__enter__()}}} and {{{__exit__()}}} methods.  You can then say
{{{
with &lt;class&gt; as variable:
    do something
}}}
The {{{__enter__()}}} method will be called before, and the {{{__exit__()}}} method after.  From Python 2.5, the file objects define these methods, so there's a shortcut to opening files and closing them:
{{{
with open('file.txt') as f:
    data = f.read()
    do something with data
}}}

!!print
{{{print}}} is a statement in python 2, though I believe it is a function in python 3.  You can print a succession of items by separating with commas:
{{{
&gt;&gt;&gt; print a, b, c  
1 2 4
}}}
You can omit the newline by adding a comma at the end.

You can also use {{{sys.stdout}}} as a file - i.e. {{{sys.stdout.write("hello")}}}.  That doesn't append a newline.

!!Bits and pieces

Use {{{dir(object)}}} to find all the attributes of that object.
Use {{{type(object)}}} to find its type.

If you run {{{dir()}}} inside a script, you find:
{{{
&gt;&gt;&gt; dir()
['__builtins__', '__doc__', '__file__', '__name__', '__package__']
}}}
See PythonDocstrings and PythonPackages for what I know about the last three of those.  {{{__file__}}} just seems to be the name of the file that the script is in.

See PythonBuiltins for more on the built-in methods.


</pre>
</div>
<div _hash="8c3cf536066a5c61426059b4a370d38be0d1abb1" created="20110715152034000" creator="willrogers" modified="20110718132843000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/PythonThreading/364637:14ef34af6eb18f4627904bd5d8b717fc1bad3ea3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364637" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="PythonThreading" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="PythonThreading" type="text/x-tiddlywiki">
<pre>Python threading is included in the low-level thread package and the higher-level threading package.  So, for the time being we'll import threading.

A warning I've come across several times already: this threading package won't use any multiple cores you have lying around - use multiprocess or something for that.  It will let you get on with two things at the same time, though.

!!Examples
{{{
import threading 
l = threading.Lock()
l.acquire()
l.acquire()
}}}
This blocks indefinitely - the second acquire() waits for the first to release before it can get the lock - but the first will never release.

{{{
import threading
import time

class ThreadTwo(threading.Thread):

    def run(self):
        print "Hello for the first time."
        time.sleep(3)
        print "Hello again."


if __name__ == '__main__':
    t = ThreadTwo()
    t.start()

    time.sleep(1)
    print "Hello in the middle."
}}}

This prints:
{{{
Hello for the first time.
Hello in the middle.
Hello again.
}}}

!!Locks
Locks are fairly simple, and you have to use them manually to look after your affairs.

The way I did it in the SSM was to associate a lock with a resource:
{{{
    # A list of the valid DNs we have available.
    self._valid_DNs = []
    # A Lock object so that the _valid_DNs List is never 
    self._valid_DN_lock = Lock()
}}}
Anything that wants to use {{{ self._valid_DNs }}} should acquire the lock first:
{{{
    self._valid_DN_lock.acquire()
}}}
and always release it afterwards.</pre>
</div>
<div _hash="6efd854dfc51e345c8f3d6b4952f0f70433479a9" created="20131202135418000" creator="willrogers" modified="20131202140446000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/QtBasics/1572219:42fb003cda22bc8011730b6e5d8a99e834ed0136&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1572219" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="QtBasics" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="QtBasics" type="text/x-tiddlywiki">
<pre>Qt is a cross-platform GUI framework which is widely used.  It's used at Diamond particularly with the Python bindings PyQt.

This is a simplistic description of how to make your first Qt app: http://www.wikihow.com/Create-Your-First-Qt-Program-on-Ubuntu-Linux.

I would like to build and use EpicsQt.

!!Tools
{{{qmake}}} is a Qt tool used to generate a Makefile from a simpler description file, with the suffix {{{.pro}}}:
{{{
qmake -project
qmake
make
}}}</pre>
</div>
<div _hash="c5b359abab5a1446d12be89e6ea608d2d73e4822" created="20131111192330000" creator="jon" modified="20131111192330000" modifier="jon" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/RandomColorPalettePlugin/1521872:0dca2244de3f7acefedbd948641ce6cdf627c5ee&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521872" server.permissions="read" server.recipe="willrogers_private" server.title="RandomColorPalettePlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="RandomColorPalettePlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|RandomColorPalettePlugin|
|''Description''|Adds a random color palette to TiddlyWiki|
|''Author''|Jon Robson|
|''Version''|1.4.0|
|''Status''|stable|
|''Source''|https://github.com/jdlrobson/TiddlyWikiPlugins/raw/master/plugins/RandomColorPalettePlugin/RandomColorPalettePlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{
&lt;&lt;RandomColorPalette&gt;&gt;
}}}
Sets and saves a random color palette on execution

{{{
&lt;&lt;RandomColorPaletteButton&gt;&gt;
}}}
Creates a button, which when clicked will change the color palette
More information at http://macros.tiddlyspace.com/#%5B%5BRandomColorPaletteButton%20macro%5D%5D
!Code
***/
//{{{
RGB.prototype.toRGBString = function() {
	return "rgb(%0,%1,%2)".format(parseInt(this.r * 255, 10),
		parseInt(this.g * 255, 10), parseInt(this.b * 255, 10))
}
function HSL_TO_RGB(h, s, l) { // h (hue) between 0 and 360, s (saturation) &amp; l (lightness) between 0 and 1
	var c = l &lt;= 0.5 ? 2 * l * s : ( 2 - (2 * l)) * s;
	var h1 = h / 60;
	var x = c * (1 - Math.abs((h1 % 2) - 1)); 
	var r, g, b;
	if(typeof(h) == 'undefined') {
		r = 0;
		g = 0;
		b = 0;
	} else if(0 &lt;= h1 &amp;&amp; h1 &lt; 1) {
		r = c;
		g = x;
		b = 0;
	} else if(1 &lt;= h1 &amp;&amp; h1 &lt; 2) {
		r = x;
		g = c;
		b = 0;
	} else if(2 &lt;= h1 &amp;&amp; h1 &lt; 3) {
		r = 0;
		g = c;
		b = x;
	} else if(3 &lt;= h1 &amp;&amp; h1 &lt; 4) {
		r = 0;
		g = x;
		b = c;
	} else if(4 &lt;= h1 &amp;&amp; h1 &lt; 5) {
		r = x;
		g = 0;
		b = c;
	} else if(5 &lt;= h1 &amp;&amp; h1 &lt; 6) {
		r = c;
		g = 0;
		b = x;
	}
	m = l - (0.5 * c);
	return new RGB(r + m, g + m, b + m);
}

(function($){
	var macro = config.macros.RandomColorPalette = {
		messagesOn: false, 
		changedPaletteText: "We have assigned you a random theme by adjusting the [[ColorPalette]] tiddler.\nDon't like it? Click &lt;&lt;RandomColorPalette&gt;&gt; for another one.", 
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			paramString = paramString || "";
			var options = macro.getOptions(paramString);
			macro.generatePalette(options, true);
		},
		optionTypes: {
			floats: ["hue", "saturation", "darkest", "lightness", "huevariance", "dark", "pale", "light", "mid",
				"saturation_light", "saturation_pale", "saturation_mid", "saturation_dark"
			]
		},
		getOptions: function(paramString) {
			var args = paramString.parseParams("name", null, true, false, true)[0];
			var options = {};
			var numbers = macro.optionTypes.floats;
			for(var i in args) {
				options[i] = numbers.indexOf(i) &gt; -1 ? parseFloat(args[i][0], 10) : args[i][0];
			}
			return options;
		},
		generateRandomNumber: function(min, max, info) {
			var num = (Math.random() * 1);
			info = !info ? { attempts:0 } : info;
			info.attempts += 1;
			var good = true;
			if(min == max) {
				return max;
			}
			if(min &amp;&amp; num &lt; min) {
				good = false;
			} else if(max &amp;&amp; num &gt; max) {
				good = false;
			}
			if(!good) {
				if(info.attempts &lt; 5) {
					return macro.generateRandomNumber(min, max, info);
				} else {
					if(max) {
						return max;
					} else if(min) {
						return min;
					} else {
						return 1;
					}
				}
			}
			return num;
		},
		getExistingPalette: function(asJSON) {
			var title = "ColorPalette";
			var tiddlerText;
			if(store.tiddlerExists(title)) {
				tiddlerText = store.getTiddlerText(title);
			} else if(store.isShadowTiddler(title)){
				tiddlerText = config.shadowTiddlers[title];
			}
			if(asJSON) {
				var json = {};
				if(tiddlerText) {
					var lines = tiddlerText.split("\n");
					for(var i = 0; i &lt; lines.length; i++) {
						var definition = lines[i].split(":");
						if(definition.length == 2) {
							var name = definition[0].trim();
							var value = definition[1].trim();
							json[name] = value;
						}
					}
				}
				return json;
			} else {
				return tiddlerText;
			}
		},
		generatePalette: function(options, save) {
			var outputRGB = options.rgb;
			var palette = macro.getExistingPalette(true);
			var hue = options.hue || Math.floor(Math.random() * 359);
			var saturation = options.saturation || macro.generateRandomNumber(0.3, 0.7);
			var dark = options.dark || options.darkest || macro.generateRandomNumber(0, 0.10);
			var pale = options.pale || options.lightness || macro.generateRandomNumber(0.90, 1);
			var delta = ( ( pale - dark ) / 3 );
			var mid = options.mid || dark + delta;
			var light = options.light || dark + (delta * 2);
			var lightness_values = {Dark: dark, Mid: mid, Light: light, Pale: pale};
			var saturation_values = {};
			for(i in lightness_values) {
				if(true) {
					saturation_values[i] = options["saturation_" + i.toLowerCase()] || saturation;
				}
			}

			var opposite_hue = (hue + 180) % 360;
			var seed = options.huevariance || Math.floor((85 * Math.random()) + 5); // we want it to be at least 5 degrees
			var huetwo = (opposite_hue + seed) % 360;
			var huethree = (opposite_hue - seed) % 360;
			if(huetwo &lt; 0) {
				huetwo = 360 + huetwo;
			}
			if(huethree &lt; 0) {
				huethree = 360 + huethree;
			}
			for(var j in lightness_values) {
				if(true) {
					var saturation = saturation_values[j];
					palette["Primary" + j] = HSL_TO_RGB(hue, saturation, lightness_values[j]);
					palette["Secondary" + j] = HSL_TO_RGB(huetwo, saturation, lightness_values[j]);
					palette["Tertiary" + j] = HSL_TO_RGB(huethree, saturation, lightness_values[j]);
				}
			}
			palette.Background = HSL_TO_RGB(hue, saturation, 0.92);
			palette.Foreground = HSL_TO_RGB(hue, saturation, 0.08);
			palette.ColorPaletteParameters = ["HSL([", hue, "|", seed, "], [", saturation_values.Pale, "|",
				saturation_values.Light, "|", saturation_values.Mid, "|", saturation_values.Dark, "],",
				"[", dark, "|", mid, "|", light, "|", pale, "])"].join("");
			// construct new ColorPalette
			var text = ["/*{{{*/\n"];
			var colorcode;
			for(var id in palette) {
				if(true) {
					var color = palette[id];
					colorcode = outputRGB ? color.toRGBString() : color.toString();
					text.push("%0: %1\n".format(id, colorcode));
				}
			}
			text.push("/*}}}*/");
			text = text.join("");
			if(save) {
				macro.saveColorPalette(text);
			}
			return text;
		},
		saveColorPalette: function(text) {
			var tid = store.getTiddler("ColorPalette");
			if(!tid) {
				tid = new Tiddler("ColorPalette");
				tid.fields = merge({}, config.defaultCustomFields);
			} // TODO: detect that the ColorPalette in the space comes from outside recipe
			tid.fields["server.page.revision"] = "false"; // edit conflicts dont matter

			// save the color palette in tid
			tid = store.saveTiddler(tid.title, tid.title, text, tid.modifier, tid.modified,
				tid.tags, tid.fields, false, tid.created, tid.creator);
			// an interval is used to cope with users clicking on the palette button quickly.
			if(macro._nextSave) {
				window.clearTimeout(macro._nextSave);
			}
			macro._nextSave = window.setTimeout(function() {
					autoSaveChanges(null, [tid]);
				}, 2000);
			// temporary workaround for IE.
			$.twStylesheet.remove({ id: "StyleSheetColors" });
			$.twStylesheet.remove({ id: "StyleSheet" });
			refreshAll();
			macro.reportChange();
			return tid;
		},
		reportChange: function() {
			if(macro.messagesOn) { // only display message once..
				var msgPlace = getMessageDiv();
				if(!$(".changedPalette", msgPlace)[0]) {
					var tempPlace = document.createElement("div");
					wikify("{{changedPalette{" + macro.changedPaletteText + "}}}", tempPlace);
					msgPlace.appendChild(tempPlace);
				}
			}
		}
	};
	var btnMacro = config.macros.RandomColorPaletteButton = {
			text: "New ColorPalette",
			tooltip: "Generate a random colour scheme for your TiddlyWiki",
			makeButton: function(place, options) {
				var btnHandler = function(ev) {
					var t = $(ev.target);
					var options = t.data("options");
					macro.generatePalette(options, true);
					ev.preventDefault();
					return false;
				};
				var btn = createTiddlyButton(place, this.text, this.tooltip, btnHandler);
				$(btn).data("options", options);
				return btn;
			},
			handler: function(place, macroName, params, wikifier, paramString, tiddler) {
				var options = macro.getOptions(paramString);
				btnMacro.makeButton(place, options);
			}
	};
})(jQuery);
//}}}</pre>
</div>
<div _hash="0ce19a3ebbe7ab07adfdbb163a2806abbc2dd2f0" created="20121006102643000" creator="willrogers" modified="20140803140504159" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RaspberryPi/1664316:a878ea65f462554ba0f8ecb80afd75c1c062773f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1664316" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RaspberryPi" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="pi raspberry" title="RaspberryPi" type="text/vnd.tiddlywiki">
<pre>* SpotiPi
* RaspBian
* RaspBMC
* PiCam
* DynamicDns

There's a tool in the raspi-config program which allows you to resize the partitions.

!!Samba
The instructions here seemed good enough: https://help.ubuntu.com/10.04/serverguide/samba-fileserver.html.
It was easy to set up a connection to the disk in Nautilus, apparently less so in Nemo.  I had a problem moving a big file.

In RaspBMC, a few dependencies couldn't be installed, but it does seem to work fine.

To navigate to a samba share in Ubuntu, go to {{{/run/user/&lt;uid&gt;/gvfs/}}}

!!iPlayer
I installed get-iplayer, and what it does is downloads the streams from the iPlayer website and encodes to mp4.  It appears to work fine.  You can install it using {{{apt-get}}}.

!!Overclocking
There is now a simple setting in the raspi-config program to overclock the processor, with steps from 700MHz to 1000MHz.  It is possible for the pi not to boot, but so far I have had no problems.

I tested the new settings with one of my Project Euler problems, and I did get the expected speedups, with some random variation. 

!!Music player
You can run a headless music player using either {{{mpd}}} or {{{mopidy}}}.  Mopidy is essentially an enhanced version of {{{mpd}}} which allows connection to Spotify, among other things.

!!!Mounting an HDD
You've got to mount a filesystem so that everyone can read it:
{{{
sudo mount /dev/sda1/ /media/hdd -ouser,umask=0000,ro
}}}

!!!Mopidy
There is good documentation here: {{{http://docs.mopidy.com/en/develop/}}}.  You can install using {{{apt}}}, once you've added the correct repo.

!!!Output
You can change the audio output using the following commands:
{{{
sudo amixer cget numid=3 
sudo amixer cset numid=3 1
}}}
* 0 is default (HDMI if available)
* 1 is 3.5mm jack
* 2 is HDMI



</pre>
</div>
<div _hash="e2db13bcbec08ead3f349c252ea5e365b6f7753f" created="20140102165035000" creator="willrogers" modified="20140219205808000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RaspBian/1666526:007ca4b8bab190ae2641beef99569975aafb1147&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1666526" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RaspBian" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="RaspBian" type="text/x-tiddlywiki">
<pre>There's a tool in the raspi-config program which allows you to resize the partitions.

Here are instructions on setting up a static IP address: https://www.modmypi.com/blog/tutorial-how-to-give-your-raspberry-pi-a-static-ip-address

!!Getting the images
* You can get torrents from the Raspberry Pi website: http://www.raspberrypi.org/downloads
* Unzip the file
* Copy the file byte-by-byte to an SD card using dd: http://elinux.org/RPi_Easy_SD_Card_Setup#Copying_an_image_to_the_SD_Card_in_Linux_.28command_line.29

Then pop it in the Pi and off you go.  {{{raspi-config}}} will run on first boot, which allows you to change a lot of settings.

!!Setup
* {{{sudo aptitude install vim}}}
* Edit [[.vimrc]]
* Uncomment {{{alias ll= 'ls -l'}}} in {{{.bashrc}}}
* To change the amount of screen that it takes up, you need to change {{{/boot/config.txt}}}.  I have put the overscan_top and overscan_bottom settings to -20.

If the distro doesn't have wpagui, I find it easier to set up wifi using it.

I installed {{{avahi-daemon}}}.  This means that I can always SSH using {{{ssh pi@raspberrypi.local}}}.  However, the geoip-database download failed, so I went to the same directory in the URL and downloaded a newer version, which worked fine.

In order to do this with putty from Windows, you also need to install Bonjour for Windows from Apple.</pre>
</div>
<div _hash="d6cc16fcecc4310b519891a5f2002519af6cec1b" created="20130301130347000" creator="willrogers" modified="20140217190247000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RaspBMC/1664304:3a69895ef8a624b95a92df29dc3d0524b25af40f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1664304" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RaspBMC" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="pi raspberry raspbmc" title="RaspBMC" type="text/x-tiddlywiki">
<pre>Back to RaspberryPi

See TvHeadEnd

I bought an MPG licence key to watch live TV.  The key is in an email.

!!~RaspBMC
There is a whole distro called raspbmc, with a wiki here: http://www.raspbmc.com/.  You can install using the installer or NOOBS.  You need a network cable connected to start with.

The default screen size was bigger than my TV, but you can change it in Appearance -&gt; Skin Size -&gt; -4%.

!!!Configuration

The log file is at {{{~/.xbmc/temp/xbmc.log}}}.

!!!Static IP

I believe I have finally managed this by using the RaspBMC settings program, setting the IP to 60, but also the gateway to the correct IP.

It appears that our plusnet router assigns IP addresses from 64 to 252.  I tried giving RaspBMC 60, but it failed connecting after a while and I didn't know why.  It still doesn't work.  It says: 'Internet: Busy' or 'Internet: Not Connected.  Please check connection settings.'

!!!SSH
Zeroconf is enabled by default, so I can log in with {{{ssh pi@raspbmc.local}}}.

!!!Performance
While RaspBMC is idle, it uses about 20% CPU and 40% memory.  It takes about 90 seconds to start up.

Often when it's doing something like playing music, it won't respond on SSH or the Yatse remote.  Even the keyboard stops responding (caps lock light)

!!!Addons
Useful addons:
* iPlayer - install from zip
* ~ITVPlayer - install from zip
* 4oD - install from zip, then through menus; this seems not currently to work
* TED Talks - install through menus
* ~TVCatchup - install from zip.  You need an account.  The one with EPG was far too slow.
* Network-Manager - install through menus.  It seems to work quite slowly, so you have to be very patient.
* Radio - install through menus, but for BBC better to use iPlayer.
* Spotimc - I downloaded it from here: http://www.camm.id.au/?p=208.  It has been adapted from standard Spotimc to use the hard float binary.

!!!Problems
* It seems to hang after a little while, especially if you leave it overnight.  I'll try to chase down the circumstances if possible.
* My external HD has problems connecting for long periods - often it says 'unsafe device removal'.  It happened when I was playing music from it.</pre>
</div>
<div _hash="f3283835acc551f154948ae8d35d284a2e428a88" created="20110425105616000" creator="willrogers" modified="20110425154212000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RawFiles/364639:b8756a5e11708fda528444a179d697d306d4109b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364639" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RawFiles" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="camera" title="RawFiles" type="text/x-tiddlywiki">
<pre>Here's a brief description: http://www.northlight-images.co.uk/article_pages/why_use_raw.html</pre>
</div>
<div _hash="763d99b4913d8c518537f13f96ffbd320dab31aa" created="20120514204945000" creator="willrogers" modified="20120517171948000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ReadingFlats/713469:777ba322ebfcd0de12fda51bd7211f550cb66c7d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="713469" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ReadingFlats" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ReadingFlats" type="text/x-tiddlywiki">
<pre>!!Possibles
|[[Paris Dillon|http://www.findaproperty.com/to-rent/property-11621317]]|£775|east of H|1st July|no photo|
|**[[Parkway|http://www.parkway-properties.co.uk/Property-To-Rent-Cardigan-Road-Reading-PI-487.htm]]|£850|Cardigan Rd, east of centre|July 1st|terrace|
|**[[Romans|http://www.romans.co.uk/Property/43954/]]|£875|Cardigan Rd, east of H|8th June|terrace|
|[[Romans|http://romans.co.uk/Property/42741/#maptab]]|£895|Drake Way, south of H|July 2nd|Posh|
|[[Premier|http://premierreading.co.uk/product_details.php?product_id=831]]|£850|south of H| |a bit modern|
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-34243744.html]]|£700|Zinzan St, centre|15th July|fairly small|
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-22926105.html]]|£825|Sherman Road, west of H|13th July|terrace|
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-26556646.html]]|£850|Alpine Rd, west of H|May||
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-22573062.html]]|£950|Elgar Rd, west of H||3 bed|
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-37465937.html]]|£950|Elgar Rd, west of H|now|3 bed|
|[[Martyn Russell|http://www.martynrussell.co.uk/Property-To-Rent-Kendrick-Road-Reading-PI-1114.htm - Martyn Russell]]|£875|right by hospital, west|June 30th|looks nice|
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-22597626.html]]|£950|Caversham|1st June|2 bed apt, communal garden|
|[[Parkers|http://www.parkersproperties.co.uk/property-details/berkshire/reading/tilehurst-road]]|£795|Tilehurst|28th June|Tilehurst Rd, looks nice enough|
|[[Vanderpump|http://www.vebra.com/home/search/vdetails.asp?src=agent&amp;fd=1288&amp;bd=0&amp;db=2&amp;cl=16941&amp;pid=23145410]]|£825|Edge of Tilehurst|May|1st floor maisonette, by country|
|[[Right move|http://www.rightmove.co.uk/property-to-rent/property-18223988.html]]|£895|Tilehurst|14th July|By the country|
|[[Davis Tate|http://www.davistate.com/pangbourne-lettings/pangbourne-lettings/07,0,0,0,1753702,62937,00.htm]]|£850|Pangbourne|1st June|Farm cottage|

!!Letting agents
[[RNR|http://www.rnrproperties.co.uk/]]
[[Romans|http://romans.co.uk/]] - quite a few properties
[[Atlantis|http://www.atlantisproperty.co.uk/]]
[[Martyn Russell|http://www.martynrussell.co.uk]] - crap search on website, so had to look through
[[Parkway Properties|http://www.parkway-properties.co.uk/]]
[[Parkers|http://www.parkersproperties.co.uk]] - about 10, but none appropriate
[[Redstones|http://redstones.co.uk/]]
[[Space|http://www.space.uk.net/]] - about 10, but none relevant to us
[[Flatmans|http://www.flatmans.com/]] - nothing immediately useful
[[Jon Rosi|http://www.jonrosi.co.uk/]]
[[Adams Estates|http://www.adamsestates.net]] - not terribly promising
[[Walmsey|http://www.walmsley.co.uk/]]
[[Westgate|http://www.westgateonline.co.uk]]
[[Premier|http://premierreading.co.uk]]

!!Accumulators
findaproperty.com
rightmove.com

!!Gone

|*[[Atlantis|http://www.vebra.com/home/search/vdetails.asp?src=agent&amp;fd=1081&amp;bd=0&amp;db=2&amp;cl=12747&amp;pid=23155040]]|£995|Pangbourne||view!|
|*[[Atlantis|http://www.vebra.com/home/search/vdetails.asp?src=agent&amp;fd=1081&amp;bd=0&amp;db=2&amp;cl=12747&amp;pid=23135760]]|£895|Kennet Side|June 16th|By the river!|
|*[[Right move|http://www.rightmove.co.uk/property-to-rent/property-37402490.html]]|£995|Caversham, west|1st June|2 bed apt, over-40s only!|
|*[[Right move|http://www.rightmove.co.uk/property-to-rent/property-21944388.html]]|£895|southwest of H |now|2 bed semi, garden|
|*[[Right move|http://www.rightmove.co.uk/property-to-rent/property-22719324.html]]|£800|southwest of H |now|2 bed terrace, nice garden|</pre>
</div>
<div _hash="33b1721e0723a5e97025d2667a3dd5b41db8d3fb" created="20140128184733000" creator="willrogers" modified="20140131170444000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/RecordNotes/1645145:83caa9085aeb1c10277db811b45ad227aeae6ac8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1645145" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RecordNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="RecordNotes" type="text/x-tiddlywiki">
<pre>| Date | Time | Quantity | Leak? |
| 28/1 | 6:20 | 400ml |  |
| 28/1 | 20:15 | 400ml | |
| 29/1 | 7:00 | 450ml | y |
| 29/1 | 10:00 | p | |
| | 10:50 | ns | |
| | 12:00 | ns | |
| | 15:00 | ns | |
| | 17:00 | ns? | |
| | 21:00 | 300ml | |
| | 22:00 | ? | |
| 30/1 | 8:00 | | |
| 30/1 | 12:00 | p | |
| | 19:00 | 300ml | |
| | 22:00 | n | y |
| 31/1 | 8:00 | | |
| | 11:30 | p | |
| | 13:00 | | |
| | 17:00 | | |




!!!Drinks
| Date | Time | Quantity |
| 28/1 | 18:00 | Cup of tea |
| 29/1 | 7:00 | Cup of tea |
| 29/1 | 9:30 | Cup of coffee |
| 29/1 | 10:30 | Cup of water |
| 29/1 | 12:00 | small cup of water |
| | 14:00 | Cup of water |
| | 18:00 | Cup of water |
| | 20:00 | Cup of tea |
| | 21:00 | Glass of wine |
| 30/1 | 8:00 | Tea |
| | 10:30 | Coffee |
| | 12:30 | Small water |
| | 14:00 | Coffee |
| | 16:00 | Water |
| | 18:00 | Tea |
| | 20:00 | Tea |
| 31/1 | 08:00 | Tea |
| | 10:00 | Coffee |
| | 12:30 | Small water |
| | 15:00 | Small water |
| | 17:00 | Small water |
</pre>
</div>
<div _hash="218f7e2b99754236016c29946d3ef41a26ebe689" created="20120402200043000" creator="willrogers" modified="20120407095307000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RecurrenceRelations/671422:ac86eac16c1ee5a635005f46b364c5193d3cfe35&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="671422" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RecurrenceRelations" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="RecurrenceRelations" type="text/x-tiddlywiki">
<pre>These are often useful for figuring out a function's efficiency in BigONotation.

To analyse a function, you've got to look at the declaration.

Use T(n) and T(0) or T(1) to narrow down the relationship.   T(n) is the time taken for input n.

* If T(n + 1) = T(n) + 1 -&gt; linear
* If T(n + 1) = T(n) + n -&gt; quadratic
* If T(n + 1) = T(n/2) + 1 -&gt; logarithmic 

There's still some work to be done here - it's complex.  It's in chapter 3 of the ML notes.</pre>
</div>
<div _hash="02e0b362ad77cbb6e902b176a082430649e798ac" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/RefreshTiddlerCommand/1521867:d4c161f76a458866f4ac7d9dcac5d3c2fc31b7af&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521867" server.permissions="read" server.recipe="willrogers_private" server.title="RefreshTiddlerCommand" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="RefreshTiddlerCommand" type="text/x-tiddlywiki">
<pre>/***
|''Name''|RefreshTiddlerCommand|
|''Version''|0.3.0|
***/
//{{{
(function($) {

var cmd = config.commands.refreshTiddler = {
	text: "refresh",
	locale: {
		refreshing: "Refreshing tiddler..."
	},
	tooltip: "refresh this tiddler to be the one on the server",
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(!tiddler) {
			tiddler = new Tiddler(title);
			merge(tiddler.fields, config.defaultCustomFields);
		}
		$(story.getTiddler(title)).find(".viewer").
			empty().text(cmd.locale.refreshing);
		var dirtyStatus = store.isDirty();
		story.loadMissingTiddler(title, {
			"server.workspace": tiddler.fields["server.recipe"]  ? "recipes/" + tiddler.fields["server.recipe"] :
				tiddler.fields["server.workspace"] || "bags/"+tiddler.fields["server.bag"],
			"server.host": tiddler.fields["server.host"],
			"server.type": tiddler.fields["server.type"]
		}, function() {
			store.setDirty(dirtyStatus);
		});
	}
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="e9888eb657d3c76a515f35280a38cc390e961742" created="20120106165109000" creator="willrogers" modified="20140111170718000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RegexNotes/1622582:707620942ecd59fbf65f0fa00046687562726c54&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1622582" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RegexNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="regex regexp" title="RegexNotes" type="text/x-tiddlywiki">
<pre>Regex is simple enough in small chunks, but it can rapidly get more complicated and unreadable.

There is a POSIX standard regex, which is used by for example {{{locate -r}}}.  Bash I think has its own version, which isn't POSIX - see BashSpecialCharacters.

* See also PythonRegex

!!Basics
* Regex is case sensitive by default
* {{{.}}} matches any single character except a newline, so is equivalent to {{{[^\n]}}}
* {{{^}}} matches the start of a line
* {{{$}}} matches the end of a line
* &lt;pattern&gt;{n} checks for exactly n matches, eg: {{{egrep resources_used.vmem=[0-9]{8} &lt;file&gt;}}}
* &lt;pattern&gt;{n,m} checks for between n and m matches inclusive
* &lt;pattern&gt;? matches zero or one instances - group using parentheses
** the {{{?}}} is greedy - add a second to make it lazy
* &lt;pattern&gt;* matches zero or any number of instances
* &lt;pattern&gt;+ matches one or more instances
* {{{(a|b|c)}}} matches a, b or c
* use a backslash to escape any special character: {{{\+}}}

!!Character classes
* {{{[ae]}}} matches a or e
* {{{[0-9]}}} matches any digit
* {{{[a-f]}}} matches a,b,c,d,e,f
* {{{[^a-f]}}} matches any character which is not a-f
** if the caret is not after the opening bracket, it will be a member of the character class
* include a close bracket by including it first

!!Special characters
* {{{\d}}} is a digit
* {{{\w}}} is the same as {{{[a-zA-Z0-9_]}}}
* {{{\s}}} is any whitespace
** capitalizing these three inverts them
* {{{\b}}} is a word boundary - including the start and end of a string
* {{{\t}}} is a tab
* {{{\r}}} is a carriage return
* {{{\n}}} is a linefeed

!!Groups 
You surround a group by parentheses, and then you can retrieve these groups later.  For example, with the long regular expressions matching a log file in an APEL log file, it matches once.  But then you can pick out the bits you want using the groups.  
* You can group a certain section for convenience then omit it from the numbered groups using :?: {{{(:?.*)}}}.
* You can specify a group you don't want to match with {{{(?!&lt;pattern&gt;)}}}

!!Engine specifics
Some engines...
*  allow you to escape a whole string by surrounding it with {{{\Q...\E}}}
* allow you to subtract character groups: {{{[a-z-[aeiou]]}}} for consonants</pre>
</div>
<div _hash="2d2e1cf032eb951fb9f26d790394bb014af8b929" created="20110508135328000" creator="willrogers" modified="20110508140532000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RepeaterBeater/364647:a3dbc63ba2f7307adef2cfa229b7e7ad2a88618a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364647" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RepeaterBeater" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="mew tab" title="RepeaterBeater" type="text/x-tiddlywiki">
<pre>by Mew

{{{
F#m                             Bm
Sometimes, I've got, nothing to say,
           C#m                        F#m      E
Nothing to sing about, that makes you lie awake.
F#m                             Bm
Sometimes, I've got, nothing to do,
           C#m                      F#m        E
Nothing to signal out, when I can't be with you.

A                      E
Why should I hold this girlfriend
   C#m      A
As tight as I ever could?
    E                 C#m         A
Now why should I?  No reason why.

You wore me down.  Worse did I show.
F#m
Show me something good

Show me something, thing, thing
}}}</pre>
</div>
<div _hash="d36d2c8a7f8dd9a59dd54e772114a415b2c22979" created="20130924180405000" creator="FND" modified="20130924180405000" modifier="FND" server.bag="system" server.content-type="text/javascript" server.etag="&quot;system/RevisionsCommandPlugin/1521856:f28a31e49681066d5bffc8ac75e559b638d22282&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521856" server.permissions="read" server.recipe="willrogers_private" server.title="RevisionsCommandPlugin" server.type="tiddlyweb" server.workspace="bags/system" tags="excludeLists excludeSearch systemConfig" title="RevisionsCommandPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|RevisionsCommandPlugin|
|''Description''|provides access to tiddler revisions|
|''Author''|FND|
|''Contributors''|Martin Budden|
|''Version''|0.3.3|
|''Status''|@@beta@@|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/RevisionsCommandPlugin.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/association/plugins/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Keywords''|serverSide|
!Usage
Extend [[ToolbarCommands]] with {{{revisions}}}.
!Revision History
!!v0.1 (2009-07-23)
* initial release (renamed from experimental ServerCommandsPlugin)
!!v0.2 (2010-03-04)
* suppressed wikification in diff view
!!v0.3 (2010-04-07)
* restored wikification in diff view
* added link to side-by-side diff view
!To Do
* strip server.* fields from revision tiddlers
* resolve naming conflicts
* i18n, l10n
* code sanitizing
* documentation
!Code
***/
//{{{
(function($) {

jQuery.twStylesheet(".diff { white-space: pre, font-family: monospace }",
	{ id: "diff" });

var cmd = config.commands.revisions = {
	type: "popup",
	hideShadow: true,
	text: "revisions",
	tooltip: "display tiddler revisions",
	revTooltip: "", // TODO: populate dynamically?
	loadLabel: "loading...",
	loadTooltip: "loading revision list",
	selectLabel: "select",
	selectTooltip: "select revision for comparison",
	selectedLabel: "selected",
	compareLabel: "compare",
	linkLabel: "side-by-side view",
	revSuffix: " [rev. #%0]",
	diffSuffix: " [diff: #%0 #%1]",
	dateFormat: "YYYY-0MM-0DD 0hh:0mm",
	listError: "revisions could not be retrieved",

	handlePopup: function(popup, title) {
		title = this.stripSuffix("rev", title);
		title = this.stripSuffix("diff", title);
		var tiddler = store.getTiddler(title);
		var type = _getField("server.type", tiddler);
		var adaptor = new config.adaptors[type]();
		var limit = null; // TODO: customizable
		var context = {
			host: _getField("server.host", tiddler),
			workspace: _getField("server.workspace", tiddler)
		};
		var loading = createTiddlyButton(popup, cmd.loadLabel, cmd.loadTooltip);
		var params = { popup: popup, loading: loading, origin: title };
		adaptor.getTiddlerRevisionList(title, limit, context, params, this.displayRevisions);
	},

	displayRevisions: function(context, userParams) {
		removeNode(userParams.loading);
		if(context.status) {
			var callback = function(ev) {
				var e = ev || window.event;
				var revision = resolveTarget(e).getAttribute("revision");
				context.adaptor.getTiddlerRevision(tiddler.title, revision, context,
					userParams, cmd.displayTiddlerRevision);
			};
			var table = createTiddlyElement(userParams.popup, "table");
			for(var i = 0; i &lt; context.revisions.length; i++) {
				var tiddler = context.revisions[i];
				var row = createTiddlyElement(table, "tr");
				var timestamp = tiddler.modified.formatString(cmd.dateFormat);
				var revision = tiddler.fields["server.page.revision"];
				var cell = createTiddlyElement(row, "td");
				createTiddlyButton(cell, timestamp, cmd.revTooltip, callback, null,
					null, null, { revision: revision });
				cell = createTiddlyElement(row, "td", null, null, tiddler.modifier);
				cell = createTiddlyElement(row, "td");
				createTiddlyButton(cell, cmd.selectLabel, cmd.selectTooltip,
					cmd.revisionSelected, null, null, null,
					{ index:i, revision: revision, col: 2 });
				cmd.context = context; // XXX: unsafe (singleton)!?
			}
		} else {
			$("&lt;li /&gt;").text(cmd.listError).appendTo(userParams.popup);
		}
	},

	revisionSelected: function(ev) {
		var e = ev || window.event;
		e.cancelBubble = true;
		if(e.stopPropagation) {
			e.stopPropagation();
		}
		var n = resolveTarget(e);
		var index = n.getAttribute("index");
		var col = n.getAttribute("col");
		while(!index || !col) {
			n = n.parentNode;
			index = n.getAttribute("index");
			col = n.getAttribute("col");
		}
		cmd.revision = n.getAttribute("revision");
		var table = n.parentNode.parentNode.parentNode;
		var rows = table.childNodes;
		for(var i = 0; i &lt; rows.length; i++) {
			var c = rows[i].childNodes[col].firstChild;
			if(i == index) {
				if(c.textContent) {
					c.textContent = cmd.selectedLabel;
				} else {
					c.text = cmd.selectedLabel;
				}
			} else {
				if(c.textContent) {
					c.textContent = cmd.compareLabel;
				} else {
					c.text = cmd.compareLabel;
				}
				c.onclick = cmd.compareSelected;
			}
		}
	},

	compareSelected: function(ev) {
		var e = ev || window.event;
		var n = resolveTarget(e);
		var context = cmd.context;
		context.rev1 = n.getAttribute("revision");
		context.rev2 = cmd.revision;
		context.tiddler = context.revisions[n.getAttribute("index")];
		context.format = "unified";
		context.adaptor.getTiddlerDiff(context.tiddler.title, context,
			context.userParams, cmd.displayTiddlerDiffs);
	},

	displayTiddlerDiffs: function(context, userParams) {
		var tiddler = context.tiddler;
		tiddler.title += cmd.diffSuffix.format([context.rev1, context.rev2]);
		tiddler.text = "{{diff{\n" + context.diff + "\n}}}";
		tiddler.tags = ["diff"];
		tiddler.fields.doNotSave = "true"; // XXX: correct?
		if(!store.getTiddler(tiddler.title)) {
			store.addTiddler(tiddler);
		}
		var src = story.getTiddler(userParams.origin);
		var tiddlerEl = story.displayTiddler(src, tiddler);
		var uri = context.uri.replace("format=unified", "format=horizontal");
		var link = $('&lt;a target="_blank" /&gt;').attr("href", uri).text(cmd.linkLabel);
		$(".viewer", tiddlerEl).prepend(link);
	},

	displayTiddlerRevision: function(context, userParams) {
		var tiddler = context.tiddler;
		tiddler.title += cmd.revSuffix.format([tiddler.fields["server.page.revision"]]);
		tiddler.fields.doNotSave = "true"; // XXX: correct?
		if(!store.getTiddler(tiddler.title)) {
			store.addTiddler(tiddler);
		}
		var src = story.getTiddler(userParams.origin);
		story.displayTiddler(src, tiddler);
	},

	stripSuffix: function(type, title) {
		var str = cmd[type + "Suffix"];
		var i = str.indexOf("%0");
		i = title.indexOf(str.substr(0, i));
		if(i != -1) {
			title = title.substr(0, i);
		}
		return title;
	}
};

var _getField = function(name, tiddler) {
	return tiddler.fields[name] || config.defaultCustomFields[name];
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="b182c10523c4d9fe3f622b1529b70d43f5150701" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/RevisionTemplate/1521915:0779b698d9273fb11ac34631f4da0814b9ebf4cb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521915" server.permissions="read" server.recipe="willrogers_private" server.title="RevisionTemplate" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeMissing excludeSearch" title="RevisionTemplate" type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;div macro='slideRevision'&gt;&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class="titleBar"&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='toolbar'
		macro='toolbar [[ToolbarCommands::RevisionToolbar]] icons:yes height:48 width:48 more:popup'&gt;
	&lt;/div&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div _hash="35333958a4be1e71dffd5f713170f41c5785914a" created="20130530195018000" creator="None" modified="20130530195018000" modifier="None" server.bag="system-info_public" server.content-type="text/plain" server.etag="&quot;system-info_public/robots/1521875:508615008e70fee5b1d4a0a1d4a3846a8aa7167b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521875" server.permissions="read" server.recipe="willrogers_private" server.title="robots" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeSearch" title="robots" type="text/x-tiddlywiki">
<pre>User-agent: *
Disallow: /bags
Disallow: /recipes</pre>
</div>
<div _hash="62eb6dacfbbe8f25ca3389d509b63b04a0a4c7c1" created="20120206161618000" creator="willrogers" modified="20120502083823000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/RpmBuild/698174:4747f054f6d748d0a7c7fe4d04e014ff1c4ceacb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="698174" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="RpmBuild" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="linux rpm" title="RpmBuild" type="text/x-tiddlywiki">
<pre>I've got to mess around with RPM .spec files to try and make the APEL packages build successfully on SL6.  This means that I really need to know what's going on, so I may as well take a little crash course in RPMs.

There's a document created by Wadud which seems pretty good and describes the process, which I've stored in the network drive at work.

!!Basics
The command {{{rpmbuild}}} is in the yum package {{{rpm-build}}}.  It's a gadget which builds RPMs using instructions in a .spec file.  The spec file contains various definitions and instructions, in a certain format and order.

The default location for all the RPM building activity is {{{/usr/src/redhat}}}.  In this directory, there are a standard set of directories which are used:  BUILD, RPMS, SOURCES, SPECS and SRPMS.  To build RPMs, the basic requisites are:
* Sources in the SOURCES directory (probably in a zipped tar file, including scripts and things)
* A spec file in the SPECS directory.

!!The spec file
The spec file basically defines everything rpmbuild does.  It can contain:
* An introduction section, with no header, which contains general information about the package
* A prep section (%prep), which often uses the %setup macro
* A build section (%build), which probably uses scripts to build the package
* An install section (%install)
* A clean section (%clean)
* A files section (%files)
** This is the bit I've been puzzling over.  It lists the files which are to go into the binary RPM.
** I don't yet know how it knows which files correspond to the ones it's supposed to send to different places.

!!The introduction section
A lot of this is fairly standard, but using macros to build up different string sometimes.  One neat thing is the {{{Requires:}}} line:
{{{
Requires:       stomppy, python-daemon
}}}
means that the RPM won't install unless it can find installed rpms by those names.

!!The files section
I just can't find any documentation which seems to explain this section to me, despite all documentation saying that this is a very important part of a spec file.  The problem I have is that I would expect that each file would need to have two locations: the one on the system that's building the RPM, and the one on the system where the RPM is installed.  Alternatively, they'd have to be the same, but {{{rpmbuild}}} is not finding files which are in the location specified in my spec file.

[[This question|http://stackoverflow.com/questions/8084796/what-actually-is-rpm-build-root]] on Stack Overflow answers a lot of this question, and I'll have to do some experimentation to find out exactly what it means.  

So... it appears that what happens is you have to use a temporary directory, known as the buildroot.  You put the files you want to use in there with the same directory structure as they will have on the file system when installed - so {{{%{buildroot}/usr/bin/blah}}} or {{{%{buildroot}/etc/boo}}}.  Then it knows what it wants to copy to where.  If the files are copied to the buildroot but not listed, {{{rpmbuild}}} will complain.  If you get an error about 'unpackaged files', check all the files inside the buildroot to see if they aren't listed.

!!The {{{rpmbuild}}} command
Once you've set everything up correctly, use the {{{rpmbuild}}} command to do the work.  There are several different things you can do with it, such as build only, build source RPMs, build binaries or build everything.  These correspond to different headers in the spec file, so certain options process different parts of the spec file.

</pre>
</div>
<div _hash="d678b77f7b20d3a27e780b85f9a3e0f3e35db4c2" created="20121103100113000" creator="willrogers" modified="20131020115414000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SamsungLaptop/1470211:a46855927158704a1b2553e7eb72f1b7bcc09c35&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1470211" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SamsungLaptop" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SamsungLaptop" type="text/x-tiddlywiki">
<pre>!!Windows 8

My product key is in an email.

!!VMs
VirtualMachines

!!Hardware
I replaced the hard drive with an SSD.  I installed 64-bit Windows and 64-bit Ubuntu.  This piece of advice was vital: http://www.webupd8.org/2013/01/ubuntu-lightdm-black-screen-when-using.html

!!Drivers
Samsung page: http://www.samsung.com/uk/support/model/NP350V5C-A02UK-downloads

I've got a Synaptics Touchpad V7.5

* Synaptics Gesture Suite Version: SGS 12.2
* ~TouchPad Series 2.0 - Profile Sensor
* Driver Version: 16.1.1 05Apr12
* FW Version: 7.5

http://superuser.com/questions/310681/inverting-direction-of-mouse-scroll-wheel

!!Samsung software
Installing Easy Settings: http://forum.notebookreview.com/samsung/681763-easy-settings-windows-8-a-2.html

!!Uninstalled
* Atheros Bluetooth suite
* Samsung Easy Settings
* Easy Software Manager
* Intel(R) USB 3.0 eXtensible Host Controller Driver
* Samsung Recovery Solution 5</pre>
</div>
<div _hash="8b5516d12e2aafb4aecd48f696fcb276e61ac468" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/saveDraft/1521925:074f48fff2925628df5dead7e70fa9f7259f5d9d&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521925" server.permissions="read" server.recipe="willrogers_private" server.title="saveDraft" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="saveDraft" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="364 157 64 51" width="30" height="30"&gt;&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;&lt;g&gt;&lt;path class="glyph" d="M 364.50006 184.50061 L 386.99985 207.00037 L 396 198.00002 L 373.50003 175.50066 Z M 403.02295 181.97704 C 400.38693 179.34099 396.11307 179.34099 393.47702 181.97704 C 390.841 184.61307 390.841 188.88695 393.47702 191.52298 C 396.11307 194.15903 400.38693 194.15903 403.02295 191.52298 C 405.65906 188.88695 405.65906 184.61307 403.02295 181.97704 M 414.27298 170.72704 C 411.63693 168.091 407.36307 168.091 404.72702 170.72704 C 402.091 173.36308 402.091 177.63693 404.72702 180.27296 C 407.36307 182.90901 411.63693 182.90901 414.27298 180.27296 C 416.90903 177.63693 416.90903 173.36308 414.27298 170.72704 M 425.523 159.47705 C 422.88696 156.841 418.6131 156.841 415.97705 159.47705 C 413.341 162.11308 413.341 166.38695 415.97705 169.02295 C 418.6131 171.65903 422.88696 171.65903 425.523 169.02295 C 428.15906 166.38695 428.15906 162.11308 425.523 159.47705" fill="#020202"/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;</pre>
</div>
<div _hash="461592520ce0f489a4d4a95f0dcb4e1e46d2f6e7" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/svg+xml" server.etag="&quot;system-images_public/saveTiddler/1521927:d0d1d6ebe7420f7157105e676eb0db531d4b54b5&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521927" server.permissions="read" server.recipe="willrogers_private" server.title="saveTiddler" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="saveTiddler" type="text/x-tiddlywiki">
<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="2 724 68 55" 
width="30" height="30"&gt;
&lt;g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"&gt;
	&lt;g&gt;
		&lt;path d="M 2.25 756 L 11.25 747 L 24.75 760.4994 L 60.750004 724.4994 L 69.75 733.49902 
		L 24.749977 778.49976 Z" fill="#101010" class="glyph"/&gt;
	&lt;/g&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
</div>
<div _hash="8f3d96840d76870cb988456408edaa156666752c" created="20120229160207000" creator="willrogers" modified="20120229160933000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SaxPython/364667:ecc0640e4ca892f672f145feb3923cf72a35f424&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364667" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SaxPython" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="python sax xml" title="SaxPython" type="text/x-tiddlywiki">
<pre>I'm going to experiment with sax for converting xml usage records into the apel format.

The first step is this:
{{{
import xml.sax
parser = xml.sax.make_parser()
print parser
}}}
This returns {{{&lt;xml.sax.expatreader.ExpatParser instance at 0xb723072c&gt;}}}, which is confirmation that expat is an implementation of sax.</pre>
</div>
<div _hash="0a7335ee19cd00e4275c0b7dc993da22e7bf3d72" created="20121029170010000" creator="willrogers" modified="20121029170208000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ScienceSoft/922459:caaa6433aeec569c964fb4c1eab74179fd9a8b55&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="922459" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ScienceSoft" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="ahm emi sciencesoft" title="ScienceSoft" type="text/x-tiddlywiki">
<pre>Talk by Alberto di Meglio at the EmiAhmBudapest

!!Motivations
It is acknowledged that the heavyweight approach that EMI has taken is not sustainable in the long term.  ~ScienceSoft was designed as a vehicle for continuing some of the useful functions of EMI:
* Introduce a collaborative structure for scientific software
* open contributions
** provide as much or as little as fits your needs
* providing practical collaborative functionality and services for the software

!!Plans
It is in prototype phase.  It is accepted that it may not take off, but full operation is planned from spring 2013.
Similar concepts:
* EGI applications SB, runmycode, sourceforge, pandata, plume, ~ResearchGATE, academia.edu, ohloh, The ~OpenScience Project
* currently looking for ways to make the project sustainable
* need participation from EMI partners

!!First steps
* uses Drupal (no original web development), hosted by CERN.
* simple data model defined
* different login methods being implemented</pre>
</div>
<div _hash="495420bf412009caddf9597976965b0d9e154511" created="20100805092637000" creator="pmario" modified="20110409135539000" modifier="pmario" server.bag="system-goto_public" server.content-type="" server.etag="&quot;system-goto_public/SearchOptionsPlugin/208743:6d5460e0aad807b2aa1554ee8fb128b81f91b35a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="208743" server.permissions="read" server.recipe="willrogers_private" server.title="SearchOptionsPlugin" server.type="tiddlyweb" server.workspace="bags/system-goto_public" tags="excludeLists excludeMissing excludeSearch systemConfig" title="SearchOptionsPlugin" type="text/x-tiddlywiki">
<pre>/***
|Name|SearchOptionsPlugin|
|Source|http://www.TiddlyTools.com/#SearchOptionsPlugin|
|Documentation|http://www.TiddlyTools.com/#SearchOptionsPluginInfo|
|Version|3.0.10|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|extend core search function with additional user-configurable options|
Adds extra options to core search function including selecting which data items to search, enabling/disabling incremental key-by-key searches, and generating a ''list of matching tiddlers'' instead of immediately displaying all matches.  This plugin also adds syntax for rendering 'search links' within tiddler content to embed one-click searches using pre-defined 'hard-coded' search terms.
!!!!Documentation
&gt;see [[SearchOptionsPluginInfo]]
!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;tiddler SearchOptions&gt;&gt;
&lt;&lt;option chkSearchResultsOptions&gt;&gt; Include {{{options...}}} slider in "search again" form
&lt;&lt;&lt;
!!!!Revisions
&lt;&lt;&lt;
2011.04.08 3.0.10 fixed typo in CSS in formatSearchResults_buttons().  Restore missing options in Configuration section.
|please see [[SearchOptionsPluginInfo]] for additional revision details|
2005.10.18 1.0.0 Initial Release
&lt;&lt;&lt;
!!!!Code
***/
//{{{
version.extensions.SearchOptionsPlugin= {major: 3, minor: 0, revision: 10, date: new Date(2011,3,18)};
//}}}
//{{{
var defaults={
	chkSearchTitles:	true,
	chkSearchText:		true,
	chkSearchTags:		true,
	chkSearchFields:	true,
	chkSearchTitlesFirst:	true,
	chkSearchList:		true,
	chkSearchHighlight:	true,
	chkSearchListTiddler:	false,
	chkSearchByDate:	false,
	chkIncrementalSearch:	true,
	chkSearchShadows:	true,
	chkSearchOpenTiddlers:	false,
	chkSearchResultsOptions:true,
	chkSearchExcludeTags:	true,
	txtSearchExcludeTags:	'excludeSearch',
	txtIncrementalSearchDelay:	500,
	txtIncrementalSearchMin:	3
}; for (var id in defaults) if (config.options[id]===undefined)
	config.options[id]=defaults[id];
if (config.macros.search.reportTitle==undefined)
	config.macros.search.reportTitle="SearchResults"; // note: not a cookie!
config.macros.search.label+="\xa0"; // a little bit of space just because it looks better
//}}}
// // searchLink: {{{[search[text to find]] OR [search[text to display|text to find]]}}}
//{{{
config.formatters.push( {
	name: "searchLink",
	match: "\\[search\\[",
	lookaheadRegExp: /\[search\[(.*?)(?:\|(.*?))?\]\]/mg,
	prompt: "search for: '%0'",
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var label=lookaheadMatch[1];
			var text=lookaheadMatch[2]||label;
			var prompt=this.prompt.format([text]);
			var btn=createTiddlyButton(w.output,label,prompt,
				function(){story.search(this.getAttribute("searchText"))},"searchLink");
			btn.setAttribute("searchText",text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
});
//}}}
// // incremental search uses option settings instead of hard-coded delay and minimum input values
//{{{
var fn=config.macros.search.onKeyPress;
fn=fn.toString().replace(/500/g, "config.options.txtIncrementalSearchDelay||500");
fn=fn.toString().replace(/&gt; 2/g, "&gt;=(config.options.txtIncrementalSearchMin||3)");
eval("config.macros.search.onKeyPress="+fn);
//}}}
// // REPLACE story.search() for option to "show search results in a list"
//{{{
Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	var co=config.options; // abbrev
	var re=new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	if (config.options.chkSearchHighlight) highlightHack=re;
	var matches = store.search(re,co.chkSearchByDate?"modified":"title","");
	if (co.chkSearchByDate) matches=matches.reverse(); // most recent first
	var q = useRegExp ? "/" : "'";
	clearMessage();
	if (!matches.length) {
		if (co.chkSearchListTiddler) discardSearchResults();
		displayMessage(config.macros.search.failureMsg.format([q+text+q]));
	} else {
		if (co.chkSearchList||co.chkSearchListTiddler) 
			reportSearchResults(text,matches);
		else {
			var titles = []; for(var t=0; t&lt;matches.length; t++) titles.push(matches[t].title);
			this.closeAllTiddlers(); story.displayTiddlers(null,titles);
			displayMessage(config.macros.search.successMsg.format([matches.length, q+text+q]));
		}
	}
	highlightHack = null;
}
//}}}
// // REPLACE store.search() for enhanced searching/sorting options
//{{{
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag,match)
{
	var co=config.options; // abbrev
	var tids = this.reverseLookup("tags",excludeTag,!!match,sortField);
	var opened=[]; story.forEachTiddler(function(tid,elem){opened.push(tid);});

	// eliminate tiddlers tagged with excluded tags
	if (co.chkSearchExcludeTags&amp;&amp;co.txtSearchExcludeTags.length) {
		var ex=co.txtSearchExcludeTags.readBracketedList();
		var temp=[]; for(var t=tids.length-1; t&gt;=0; t--)
			if (!tids[t].tags.containsAny(ex)) temp.push(tids[t]);
		tids=temp;
	}

	// scan for matching titles first...
	var results = [];
	if (co.chkSearchTitles) {
		for(var t=0; t&lt;tids.length; t++) {
			if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(tids[t].title)) continue; 
			if(tids[t].title.search(searchRegExp)!=-1) results.push(tids[t]);
		}
		if (co.chkSearchShadows)
			for (var t in config.shadowTiddlers) {
				if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(t)) continue; 
				if ((t.search(searchRegExp)!=-1) &amp;&amp; !store.tiddlerExists(t))
					results.push((new Tiddler()).assign(t,config.shadowTiddlers[t]));
			}
	}
	// then scan for matching text, tags, or field data
	for(var t=0; t&lt;tids.length; t++) {
		if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(tids[t].title)) continue; 
		if (co.chkSearchText &amp;&amp; tids[t].text.search(searchRegExp)!=-1)
			results.pushUnique(tids[t]);
		if (co.chkSearchTags &amp;&amp; tids[t].tags.join(" ").search(searchRegExp)!=-1)
			results.pushUnique(tids[t]);
		if (co.chkSearchFields &amp;&amp; store.forEachField!=undefined)
			store.forEachField(tids[t],
				function(tid,field,val) {
					if (val.search(searchRegExp)!=-1) results.pushUnique(tids[t]);
				},
				true); // extended fields only
	}
	// then check for matching text in shadows
	if (co.chkSearchShadows)
		for (var t in config.shadowTiddlers) {
			if (co.chkSearchOpenTiddlers &amp;&amp; !opened.contains(t)) continue; 
			if ((config.shadowTiddlers[t].search(searchRegExp)!=-1) &amp;&amp; !store.tiddlerExists(t))
				results.pushUnique((new Tiddler()).assign(t,config.shadowTiddlers[t]));
		}

	// if not 'titles first', or sorting by modification date,
	// re-sort results to so titles, text, tag and field matches are mixed together
	if(!sortField) sortField = "title";
	var bySortField=function(a,b){
		if(a[sortField]==b[sortField])return(0);else return(a[sortField]&lt;b[sortField])?-1:+1;
	}
	if (!co.chkSearchTitlesFirst || co.chkSearchByDate) results.sort(bySortField);

	return results;
}
//}}}
// // HIJACK core {{{&lt;&lt;search&gt;&gt;}}} macro to add "report" and "simple inline" output
//{{{
config.macros.search.SOP_handler=config.macros.search.handler;
config.macros.search.handler = function(place,macroName,params)
{
	// if "report", use SearchOptionsPlugin report generator for inline output
	if (params[1]&amp;&amp;params[1].substr(0,6)=="report") {
		var keyword=params[0];
		var options=params[1].split("=")[1]; // split "report=option+option+..."
		var heading=params[2]?params[2].unescapeLineBreaks():"";
		var matches=store.search(new RegExp(keyword.escapeRegExp(),"img"),"title","excludeSearch");
		if (matches.length) wikify(heading+window.formatSearchResults(keyword,matches,options),place);
	} else if (params[1]) {
		var keyword=params[0];
		var heading=params[1]?params[1].unescapeLineBreaks():"";
		var seperator=params[2]?params[2].unescapeLineBreaks():", ";
		var matches=store.search(new RegExp(keyword.escapeRegExp(),"img"),"title","excludeSearch");
		if (matches.length) {
			var out=[];
			for (var m=0; m&lt;matches.length; m++) out.push("[["+matches[m].title+"]]");
			wikify(heading+out.join(seperator),place);
		}
	} else
		config.macros.search.SOP_handler.apply(this,arguments);
};
//}}}
// // SearchResults panel handling
//{{{
setStylesheet(".searchResults { padding:1em 1em 0 1em; }","searchResults"); // matches std tiddler padding

config.macros.search.createPanel=function(text,matches,body) {

	function getByClass(e,c) { var d=e.getElementsByTagName("div");
		for (var i=0;i&lt;d.length;i++) if (hasClass(d[i],c)) return d[i]; }
	var panel=createTiddlyElement(null,"div","searchPanel","searchPanel");
	this.renderPanel(panel,text,matches,body);
	var oldpanel=document.getElementById("searchPanel");
	if (!oldpanel) { // insert new panel just above tiddlers
		var da=document.getElementById("displayArea");
		da.insertBefore(panel,da.firstChild);
	} else { // if panel exists
		var oldwrap=getByClass(oldpanel,"searchResults");
		var newwrap=getByClass(panel,"searchResults");
		// if no prior content, just insert new content
		if (!oldwrap) oldpanel.insertBefore(newwrap,null);
		else {	// swap search results content but leave containing panel intact
			oldwrap.style.display='block'; // unfold wrapper if needed
			var i=oldwrap.getElementsByTagName("input")[0]; // get input field
			if (i) { var pos=this.getCursorPos(i); i.onblur=null; } // get cursor pos, ignore blur
			oldpanel.replaceChild(newwrap,oldwrap);
			panel=oldpanel; // use existing panel
		} 
	}
	this.showPanel(true,pos);
	return panel;
}

config.macros.search.renderPanel=function(panel,text,matches,body) {

	var wrap=createTiddlyElement(panel,"div",null,"searchResults");
	wrap.onmouseover = function(e){ addClass(this,"selected"); }
	wrap.onmouseout = function(e){ removeClass(this,"selected"); }
	// create toolbar: "open all", "fold/unfold", "close"
	var tb=createTiddlyElement(wrap,"div",null,"toolbar");
	var b=createTiddlyButton(tb, "open all", "open all matching tiddlers", function() {
		story.displayTiddlers(null,this.getAttribute("list").readBracketedList()); return false; },"button");
	var list=""; for(var t=0;t&lt;matches.length;t++) list+='[['+matches[t].title+']] ';
	b.setAttribute("list",list);
	var b=createTiddlyButton(tb, "fold", "toggle display of search results", function() {
		config.macros.search.foldPanel(this); return false; },"button");
	var b=createTiddlyButton(tb, "close", "dismiss search results",	function() {
		config.macros.search.showPanel(false); return false; },"button");
	createTiddlyText(createTiddlyElement(wrap,"div",null,"title"),"Search for: "+text); // title
	wikify(body,createTiddlyElement(wrap,"div",null,"viewer")); // report
	return panel;
}

config.macros.search.showPanel=function(show,pos) {
	var panel=document.getElementById("searchPanel");
	var i=panel.getElementsByTagName("input")[0];
	i.onfocus=show?function(){config.macros.search.stayFocused(true);}:null;
	i.onblur=show?function(){config.macros.search.stayFocused(false);}:null;
	if (show &amp;&amp; panel.style.display=="block") { // if shown, grab focus, restore cursor
		if (i&amp;&amp;this.stayFocused()) { i.focus(); this.setCursorPos(i,pos); }
		return;
	}
	if(!config.options.chkAnimate) {
		panel.style.display=show?"block":"none";
		if (!show) { removeChildren(panel); config.macros.search.stayFocused(false); }
	} else {
		var s=new Slider(panel,show,false,show?"none":"children");
		s.callback=function(e,p){e.style.overflow="visible";}
		anim.startAnimating(s);
	}
	return panel;
}

config.macros.search.foldPanel=function(button) {
	var d=document.getElementById("searchPanel").getElementsByTagName("div");
	for (var i=0;i&lt;d.length;i++) if (hasClass(d[i],"viewer")) var v=d[i]; if (!v) return;
	var show=v.style.display=="none";
	if(!config.options.chkAnimate)
		v.style.display=show?"block":"none";
	else {
		var s=new Slider(v,show,false,"none");
		s.callback=function(e,p){e.style.overflow="visible";}
		anim.startAnimating(s);
	}
	button.innerHTML=show?"fold":"unfold";
	return false;
}

config.macros.search.stayFocused=function(keep) { // TRUE/FALSE=set value, no args=get value
	if (keep===undefined) return this.keepReportInFocus;
	this.keepReportInFocus=keep;
	return keep
}	

config.macros.search.getCursorPos=function(i) {
	var s=0; var e=0; if (!i) return { start:s, end:e };
	try {
		if (i.setSelectionRange) // FF
			{ s=i.selectionStart; e=i.selectionEnd; }
		if (document.selection &amp;&amp; document.selection.createRange) { // IE
			var r=document.selection.createRange().duplicate();
			var len=r.text.length; s=0-r.moveStart('character',-100000); e=s+len;
		}
	}catch(e){};
	return { start:s, end:e };
}
config.macros.search.setCursorPos=function(i,pos) {
	if (!i||!pos) return; var s=pos.start; var e=pos.end;
	if (i.setSelectionRange) //FF
		i.setSelectionRange(s,e);
	if (i.createTextRange) // IE
		{ var r=i.createTextRange(); r.collapse(true); r.moveStart("character",s); r.select(); }
}
//}}}
// // SearchResults report generation
// note: these functions are defined globally, so they can be more easily redefined to customize report formats//
//{{{
if (!window.reportSearchResults) window.reportSearchResults=function(text,matches)
{
	var cms=config.macros.search; // abbrev
	var body=window.formatSearchResults(text,matches);
	if (!config.options.chkSearchListTiddler) // show #searchResults panel
		window.scrollTo(0,ensureVisible(cms.createPanel(text,matches,body)));
	else { // write [[SearchResults]] tiddler
		var title=cms.reportTitle;
		var who=config.options.txtUserName;
		var when=new Date();
		var tags="excludeLists excludeSearch temporary";
		var tid=store.getTiddler(title); if (!tid) tid=new Tiddler();
		tid.set(title,body,who,when,tags);
		store.addTiddler(tid);
		story.closeTiddler(title);
		story.displayTiddler(null,title);
	}
}

if (!window.formatSearchResults) window.formatSearchResults=function(text,matches,opt)
{
	var body='';
	var title=config.macros.search.reportTitle
	var q = config.options.chkRegExpSearch ? "/" : "'";
	if (!opt) var opt="all";
	var parts=opt.split("+");
	for (var i=0; i&lt;parts.length; i++) { var p=parts[i].toLowerCase();
		if (p=="again"||p=="all")   body+=window.formatSearchResults_again(text,matches);
		if (p=="summary"||p=="all") body+=window.formatSearchResults_summary(text,matches);
		if (p=="list"||p=="all")    body+=window.formatSearchResults_list(text,matches);
		if (p=="buttons"||p=="all") body+=window.formatSearchResults_buttons(text,matches);
	}
	return body;
}

if (!window.formatSearchResults_again) window.formatSearchResults_again=function(text,matches)
{
	var title=config.macros.search.reportTitle
	var body='';
	// search again
	body+='{{span{&lt;&lt;search "'+text.replace(/"/g,'&amp;#x22;')+'"&gt;&gt; /%\n';
	body+='%/&lt;html&gt;&lt;input type="button" value="search again"';
	body+=' onclick="var t=this.parentNode.parentNode.getElementsByTagName(\'input\')[0];';
	body+=' config.macros.search.doSearch(t); return false;"&gt;';
	if (!config.options.chkSearchResultsOptions) // omit "options..."
		body+='&lt;/html&gt;';
	else {
		body+=' &lt;a href="javascript:;" onclick="';
		body+=' var e=this.parentNode.nextSibling;';
		body+=' var show=e.style.display!=\'block\';';
		body+=' if(!config.options.chkAnimate) e.style.display=show?\'block\':\'none\';';
		body+=' else anim.startAnimating(new Slider(e,show,false,\'none\'));';
		body+=' return false;"&gt;options...&lt;/a&gt;';
		body+='&lt;/html&gt;@@display:none;border-left:1px dotted;margin-left:1em;padding:0;padding-left:.5em;font-size:90%;/%\n';
		body+='	%/&lt;&lt;tiddler SearchOptions&gt;&gt;@@';
	};
	body+='}}}\n\n';
	return body;
}

if (!window.formatSearchResults_summary) window.formatSearchResults_summary=function(text,matches)
{
	// summary: nn tiddlers found matching '...', options used
	var body='';
	var co=config.options; // abbrev
	var title=config.macros.search.reportTitle
	var q = co.chkRegExpSearch ? "/" : "'";
	body+="''"+config.macros.search.successMsg.format([matches.length,q+"{{{"+text+"}}}"+q])+"''\n";
	var opts=[];
	if (co.chkSearchTitles) opts.push("titles");
	if (co.chkSearchText) opts.push("text");
	if (co.chkSearchTags) opts.push("tags");
	if (co.chkSearchFields) opts.push("fields");
	if (co.chkSearchShadows) opts.push("shadows");
	if (co.chkSearchOpenTiddlers) body+="^^//search limited to displayed tiddlers only//^^\n";
	body+="~~&amp;nbsp; searched in "+opts.join(" + ")+"~~\n";
	body+=(co.chkCaseSensitiveSearch||co.chkRegExpSearch?"^^&amp;nbsp; using ":"")
		+(co.chkCaseSensitiveSearch?"case-sensitive ":"")
		+(co.chkRegExpSearch?"pattern ":"")
		+(co.chkCaseSensitiveSearch||co.chkRegExpSearch?"matching^^\n":"");
	return body;
}

if (!window.formatSearchResults_list) window.formatSearchResults_list=function(text,matches)
{
	// bullet list of links to matching tiddlers
	var body='';
	var co=config.options; // abbrev
	var pattern=co.chkRegExpSearch?text:text.escapeRegExp();
	var sensitive=co.chkCaseSensitiveSearch?"mg":"img";
	var link='{{tiddlyLinkExisting{&lt;html&gt;&lt;nowiki&gt;&lt;a href="javascript:;" onclick="'
		+'if(config.options.chkSearchHighlight)'
		+'	highlightHack=new RegExp(\x27'+pattern+'\x27.escapeRegExp(),\x27'+sensitive+'\x27);'
		+'story.displayTiddler(null,\x27%0\x27);'
		+'highlightHack = null; return false;'
		+'" title="%2"&gt;%1&lt;/a&gt;&lt;/html&gt;}}}';
	for(var t=0;t&lt;matches.length;t++) {
		body+="* ";
		if (co.chkSearchByDate)
			body+=matches[t].modified.formatString('YYYY.0MM.0DD 0hh:0mm')+" ";
		var title=matches[t].title;
		var fixup=title.replace(/'/g,"\\x27").replace(/"/g,"\\x22");
		var tid=store.getTiddler(title);
		var tip=tid?tid.getSubtitle():''; tip=tip.replace(/"/g,"&amp;quot;");
		body+=link.format([fixup,title,tip])+'\n';
	}
	return body;
}

if (!window.formatSearchResults_buttons) window.formatSearchResults_buttons=function(text,matches)
{
	// embed buttons only if writing SearchResults to tiddler
	if (!config.options.chkSearchListTiddler) return "";
	// "open all" button
	var title=config.macros.search.reportTitle;
	var body="";
	body+="@@display:block;&lt;html&gt;&lt;input type=\"button\" href=\"javascript:;\" "
		+"onclick=\"story.displayTiddlers(null,[";
	for(var t=0;t&lt;matches.length;t++)
		body+="'"+matches[t].title.replace(/\'/mg,"\\'")+"'"+((t&lt;matches.length-1)?", ":"");
	body+="],1);\" accesskey=\"O\" value=\"open all matching tiddlers\"&gt;&lt;/html&gt; ";
	// "discard SearchResults" button
	body+="&lt;html&gt;&lt;input type=\"button\" href=\"javascript:;\" "
		+"onclick=\"discardSearchResults()\" value=\"discard "+title+"\"&gt;&lt;/html&gt;";
	body+="@@\n";
	return body;
}

if (!window.discardSearchResults) window.discardSearchResults=function()
{
	// remove the tiddler
	story.closeTiddler(config.macros.search.reportTitle);
	store.deleteTiddler(config.macros.search.reportTitle);
	store.notify(config.macros.search.reportTitle,true);
}
//}}}
// // DELIVER [[SearchOptions]] shadow payload
//{{{
config.shadowTiddlers.SearchOptions = store.getTiddlerText('SearchOptionsPlugin##panel','');
config.annotations.SearchOptions    = 'created by SearchOptionsPlugin';
//}}}
/***
//{{{
!panel
search in:
  {{nowrap{&lt;&lt;option chkSearchTitles&gt;&gt;titles &lt;&lt;option chkSearchText&gt;&gt;text &lt;&lt;option chkSearchTags&gt;&gt;tags}}} /%
%/{{nowrap{&lt;&lt;option chkSearchFields&gt;&gt;fields &lt;&lt;option chkSearchShadows&gt;&gt;shadows}}}
----
  {{nowrap{&lt;&lt;option chkCaseSensitiveSearch&gt;&gt;case-sensitive}}} /%
%/{{nowrap{&lt;&lt;option chkRegExpSearch&gt;&gt;match text patterns}}}
  {{nowrap{&lt;&lt;option chkIncrementalSearch&gt;&gt;key-by-key search:}}} /%
	%/{{threechar smallform nowrap{&lt;&lt;option txtIncrementalSearchMin&gt;&gt; or more characters}}} /%
	%/{{threechar smallform nowrap{&lt;&lt;option txtIncrementalSearchDelay&gt;&gt; msec delay}}}&lt;hr&gt;
  {{nowrap{&lt;&lt;option chkSearchList&gt;&gt;show results in a list &amp;nbsp; &amp;nbsp;}}} /%
%/{{nowrap{&lt;&lt;option chkSearchListTiddler&gt;&gt;save list in ''[[SearchResults]]''}}}
  {{nowrap{&lt;&lt;option chkSearchTitlesFirst&gt;&gt;show title matches first}}} /%
%/{{nowrap{&lt;&lt;option chkSearchByDate&gt;&gt;sort results by date}}} /%
%/{{nowrap{&lt;&lt;option chkSearchHighlight&gt;&gt;highlight matching text}}}
----
{{nowrap{&lt;&lt;option chkSearchOpenTiddlers&gt;&gt;search open tiddlers only}}}
{{nowrap{&lt;&lt;option chkSearchExcludeTags&gt;&gt;exclude tiddlers tagged with:}}}
{{editor{&lt;&lt;option txtSearchExcludeTags&gt;&gt;}}}
!end
//}}}
***/
 </pre>
</div>
<div _hash="f30611447d24a839a0ac3608d26d23a187572366" created="20111014085038000" creator="willrogers" modified="20131125170213000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SedAndAwk/1561005:9242fd608142462b5813f77904dc8b3cad7f060e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1561005" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SedAndAwk" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="awk bash linux sed" title="SedAndAwk" type="text/x-tiddlywiki">
<pre>These are the subject of a whole book on Cristina's bookshelf.  I use them rarely enough that I forget how every time I do.

!!Awk

Awk treats files line by line and lines field by field, where fields within a line are separated by some delimiter.  Each line in a file is sometimes known as a record.

This prints the first word of each line of a file.  
{{{
awk '{ print $1 }' file
}}}

Awk sees the nth field as $n - they're not arguments.

This prints the second and third field in the employee file where the line begins 'Training'.
{{{
awk '/^Training/ {print $2,$3}' employee
}}}

The default delimiter is whitespace - you can change this:
{{{
awk -F: '{ print $1, $3 }' /etc/passwd
}}}

Pattern matching:
{{{
awk '$2 ~ /[Ss]mith/ { print }' employee
}}}
{{{~}}} means the lines contain the pattern, {{{!~}}} means they don't contain it.

You can compare values with ==, !=, &gt;= etc and combine operations with ||, &amp;&amp;, !.

Here's an example of an awk script:
{{{
VISA=${1:-Visa}

awk 'BEGIN { OFS="\t\t"
    print "Credit Card Details"
}
NR &gt; 1 &amp;&amp; $1 == "'$VISA'" { 
    print $2, $3 
}
END {
    print "Finished"
}' credit
}}}
* NR is the row number, so this skips the first line.
* The BEGIN line is executed before it starts processing the file
* The END line is executed after it starts processing the file
* The file 'credit' is passed in at the end
* All the logic seems to be on one line...

You can use printf as in C to align your output nicely.  It also uses C-type maths and incrementation of variables etc.  You seem to be able to use your variables wherever you like, and you don't have to declare their type etc.

Awk has a number of functions available, such as {{{substr(str, start, end)}}} and {{{length(str)}}}.

!!Sed

[This seems to be a good introduction: http://www.grymoire.com/Unix/Sed.html].

By default sed doesn't change the input file - you've got to redirect the output or use {{{-i}}} to change in place.

This deletes all the lines beginning with Training:
{{{
sed '/^Training/d' people
}}}
This will print lines 3 - 9; -n prevents sed printing everything by default.
{{{
sed -n 3,9p people
}}}
Use {{{-r}}} to use extended regular expressions.

You can put two commands in the same expression by separating them with semicolons:
{{{
sed -n '1p;/^Training/p' people
}}}
This will print the first line PLUS all the lines beginning 'Training'.  If the first line matches both, it will be printed twice.

This will output "nightday". 
{{{
echo dayday | sed 's/day/night/'
}}}
This will output "nightnight" - g for 'global' means substitute all instances on a line.  i for 'case-insensitive' matches both day and Day.
{{{
echo dayDay | sed s/day/night/gi
}}}
This will output "nightday", because the regexp '^' matches the start of a line.
{{{
echo dayday | sed s/^day/night/g
}}}

You can use the 'q' command to quit rather than printing all of the file.
</pre>
</div>
<div _hash="cbac0515e7e128f8649d562f70b1e271ec6774ab" created="20110715104721000" creator="willrogers" modified="20120831083717000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SelfSignedCert/850999:5e5ed6e7efda3abb73e9696e60abd51a8f96eb6b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="850999" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SelfSignedCert" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="certificate crypto openssl self-signed" title="SelfSignedCert" type="text/x-tiddlywiki">
<pre>Here's the process I always find: http://www.akadia.com/services/ssh_test_certificate.html.  It seems to work fine.

It generates a certificate with a signature algorithm of {{{sha1withRSAEncryption}}}.  To use a different algorithm, you have to put {{{-sha256}}} or whatever in the {{{openssl req}}} commands.  SHA2 only seems to be supported by openssl 1.  This gives {{{sha256WithRSAEncryption}}}.

!!Verifying it

Suppose I need to verify the self-signed cert against the certificates in the lcg-CA package.  Even though it signed itself, I can't just add it to the {{{ /etc/grid-security/certificates }}} directory.  However, I think the process is just to create a link to the same certificate whose name is &lt;hash-of-DN&gt;.&lt;digit&gt;.  Why this is, I'm not exactly sure.  The hash is openssl's {{{ openssl x509 -hash }}} thing and is some kind of SHA1 of a form of the certificate DN.

There's a script to do this here: http://www.madboa.com/geek/openssl/#verify-new 
{{{
#!/bin/sh
#
# usage: certlink.sh filename [filename ...]

for CERTFILE in $*; do
  # make sure file exists and is a valid cert
  test -f "$CERTFILE" || continue
  HASH=$(openssl x509 -noout -hash -in "$CERTFILE")
  test -n "$HASH" || continue

  # use lowest available iterator for symlink
  for ITER in 0 1 2 3 4 5 6 7 8 9; do
    test -f "${HASH}.${ITER}" &amp;&amp; continue
    ln -s "$CERTFILE" "${HASH}.${ITER}"
    test -L "${HASH}.${ITER}" &amp;&amp; break
  done
done
}}}</pre>
</div>
<div _hash="d72cde071d926d9c66939444817d7e8621d24d9c" created="20130924180405000" creator="FND" modified="20130924180405000" modifier="FND" server.bag="system" server.content-type="text/javascript" server.etag="&quot;system/ServerSideSavingPlugin/1521853:5c17e231ca105084c424ea586f590e2a65cf2c8a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521853" server.permissions="read" server.recipe="willrogers_private" server.title="ServerSideSavingPlugin" server.type="tiddlyweb" server.workspace="bags/system" tags="excludeLists excludeSearch systemConfig" title="ServerSideSavingPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|ServerSideSavingPlugin|
|''Description''|server-side saving|
|''Author''|FND|
|''Version''|0.6.5|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/ServerSideSavingPlugin.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.3|
|''Keywords''|serverSide|
!Notes
This plugin relies on a dedicated adaptor to be present.
The specific nature of this plugin depends on the respective server.
!Revision History
!!v0.1 (2008-11-24)
* initial release
!!v0.2 (2008-12-01)
* added support for local saving
!!v0.3 (2008-12-03)
* added Save to Web macro for manual synchronization
!!v0.4 (2009-01-15)
* removed ServerConfig dependency by detecting server type from the respective tiddlers
!!v0.5 (2009-08-25)
* raised CoreVersion to 2.5.3 to take advantage of core fixes
!!v0.6 (2010-04-21)
* added notification about cross-domain restrictions to ImportTiddlers
!To Do
* conflict detection/resolution
* rename to ServerLinkPlugin?
* document deletion/renaming convention
!Code
***/
//{{{
(function($) {

readOnly = false; //# enable editing over HTTP

var plugin = config.extensions.ServerSideSavingPlugin = {};

plugin.locale = {
	saved: "%0 saved successfully",
	saveError: "Error saving %0: %1",
	saveConflict: "Error saving %0: edit conflict",
	deleted: "Removed %0",
	deleteError: "Error removing %0: %1",
	deleteLocalError: "Error removing %0 locally",
	removedNotice: "This tiddler has been deleted.",
	connectionError: "connection could not be established",
	hostError: "Unable to import from this location due to cross-domain restrictions."
};

plugin.sync = function(tiddlers) {
	tiddlers = tiddlers &amp;&amp; tiddlers[0] ? tiddlers : store.getTiddlers();
	$.each(tiddlers, function(i, tiddler) {
		var changecount = parseInt(tiddler.fields.changecount, 10);
		if(tiddler.fields.deleted === "true" &amp;&amp; changecount === 1) {
			plugin.removeTiddler(tiddler);
		} else if(tiddler.isTouched() &amp;&amp; !tiddler.doNotSave() &amp;&amp;
				tiddler.getServerType() &amp;&amp; tiddler.fields["server.host"]) { // XXX: server.host could be empty string
			delete tiddler.fields.deleted;
			plugin.saveTiddler(tiddler);
		}
	});
};

plugin.saveTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		tiddler: tiddler,
		changecount: tiddler.fields.changecount,
		workspace: tiddler.fields["server.workspace"]
	};
	var serverTitle = tiddler.fields["server.title"]; // indicates renames
	if(!serverTitle) {
		tiddler.fields["server.title"] = tiddler.title;
	} else if(tiddler.title != serverTitle) {
		return adaptor.moveTiddler({ title: serverTitle },
			{ title: tiddler.title }, context, null, this.saveTiddlerCallback);
	}
	var req = adaptor.putTiddler(tiddler, context, {}, this.saveTiddlerCallback);
	return req ? tiddler : false;
};

plugin.saveTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.changecount == context.changecount) { //# check for changes since save was triggered
			tiddler.clearChangeCount();
		} else if(tiddler.fields.changecount &gt; 0) {
			tiddler.fields.changecount -= context.changecount;
		}
		plugin.reportSuccess("saved", tiddler);
		store.setDirty(false);
	} else {
		if(context.httpStatus == 412) {
			plugin.reportFailure("saveConflict", tiddler);
		} else {
			plugin.reportFailure("saveError", tiddler, context);
		}
	}
};

plugin.removeTiddler = function(tiddler) {
	try {
		var adaptor = this.getTiddlerServerAdaptor(tiddler);
	} catch(ex) {
		return false;
	}
	var context = {
		host: tiddler.fields["server.host"],
		workspace: tiddler.fields["server.workspace"],
		tiddler: tiddler
	};
	var req = adaptor.deleteTiddler(tiddler, context, {}, this.removeTiddlerCallback);
	return req ? tiddler : false;
};

plugin.removeTiddlerCallback = function(context, userParams) {
	var tiddler = context.tiddler;
	if(context.status) {
		if(tiddler.fields.deleted === "true") {
			store.deleteTiddler(tiddler.title);
		} else {
			plugin.reportFailure("deleteLocalError", tiddler);
		}
		plugin.reportSuccess("deleted", tiddler);
		store.setDirty(false);
	} else {
		plugin.reportFailure("deleteError", tiddler, context);
	}
};

plugin.getTiddlerServerAdaptor = function(tiddler) { // XXX: rename?
	var type = tiddler.fields["server.type"] || config.defaultCustomFields["server.type"];
	return new config.adaptors[type]();
};

plugin.reportSuccess = function(msg, tiddler) {
	displayMessage(plugin.locale[msg].format([tiddler.title]));
};

plugin.reportFailure = function(msg, tiddler, context) {
	var desc = (context &amp;&amp; context.httpStatus) ? context.statusText :
		plugin.locale.connectionError;
	displayMessage(plugin.locale[msg].format([tiddler.title, desc]));
};

config.macros.saveToWeb = { // XXX: hijack existing sync macro?
	locale: { // TODO: merge with plugin.locale?
		btnLabel: "save to web",
		btnTooltip: "synchronize changes",
		btnAccessKey: null
	},

	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		createTiddlyButton(place, this.locale.btnLabel, this.locale.btnTooltip,
			plugin.sync, null, null, this.locale.btnAccessKey);
	}
};

// hijack saveChanges to trigger remote saving
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(window.location.protocol == "file:") {
		_saveChanges.apply(this, arguments);
	} else {
		plugin.sync(tiddlers);
	}
};

// override removeTiddler to flag tiddler as deleted -- XXX: use hijack to preserve compatibility?
TiddlyWiki.prototype.removeTiddler = function(title) { // XXX: should override deleteTiddler instance method?
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.tags = ["excludeLists", "excludeSearch", "excludeMissing"];
		tiddler.text = plugin.locale.removedNotice;
		tiddler.fields.deleted = "true"; // XXX: rename to removed/tiddlerRemoved?
		tiddler.fields.changecount = "1";
		this.notify(title, true);
		this.setDirty(true);
	}
};

// hijack ImportTiddlers wizard to handle cross-domain restrictions
var _onOpen = config.macros.importTiddlers.onOpen;
config.macros.importTiddlers.onOpen = function(ev) {
	var btn = $(resolveTarget(ev));
	var url = btn.closest(".wizard").find("input[name=txtPath]").val();
	if(window.location.protocol != "file:" &amp;&amp; url.indexOf("://") != -1) {
		var host = url.split("/")[2];
		var macro = config.macros.importTiddlers;
		if(host != window.location.host) {
			btn.text(macro.cancelLabel).attr("title", macro.cancelPrompt);
			btn[0].onclick = macro.onCancel;
			$('&lt;span class="status" /&gt;').text(plugin.locale.hostError).insertAfter(btn);
			return false;
		}
	}
	return _onOpen.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="c632865df818925daec0d5040975797a27218e81" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/setDefaultTiddlers/1521878:c0f8314f256b1ae4d33273c77d2acf4c9d657467&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521878" server.permissions="read" server.recipe="willrogers_private" server.title="setDefaultTiddlers" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeSearch" title="setDefaultTiddlers" type="text/x-tiddlywiki">
<pre>Once you have some content then you may choose to determine a tiddler, or set of tiddlers to display each time you load ~TiddlySpace. This is determined by the [[DefaultTiddlers]].</pre>
</div>
<div _hash="754f7258625a19c375dcae5254d6a604c7686d8d" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/png" server.etag="&quot;system-images_public/shadowIcon/1521926:a39745d8abdc19ab691f547ffba34e11ef53c8a7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521926" server.permissions="read" server.recipe="willrogers_private" server.title="shadowIcon" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="shadowIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAKGmlDQ1BJQ0MgUHJvZmlsZQAAeAHVlmdUFMkWx6t7ciLNkNOQc84gOSfJUVSGAYY4wpAxIbK4AooiIgLKEpao4KoEWQMiigERUEBF3UEWAWVdDIiKyuuBd9w977z99r6826eqfn3r9q3quvXhDwDpIyMpKQEWACCRncrxdbajB4eE0nGTAAIUgAe6wJDBTEmy9fb2AP9oH8aRaMTua/Fy/WPYf58QjIxKYQIAeSPTEZEpzESEzyNsyEzipCI8h/BwRmoSwnA3wjQOskGEB3nMWmcujyPW+f1ajL+vPQAoPAB4MoPBYQFAoiF+ejqTheQhGSKsy46MZSMcibAVM4aBjKR6hDUTE7fxeBhh1Yi/5WH9jRmMiO85GQzWd17/F+RLZGGH2JSkBEbW2sv/sktMSEPOa814p06OYgf4IaMY0qSAA3AEHshDB/rABKmeCQgCTsA7NSoT+W8A7LclZXFiWTGpdFukUlGadFc2U1uTrq+rp8eb/r8x3h1d3+y7e2t3DxLjlf/fvmRtAMwakPr3/uULfw5A510ARPr/8ineAID/AADdTcw0Tvp6PjRvwAAi4Ac0IA5kgAJQBVrIaRoDC2CDnK4b8AL+IARsAUwQAxIBB2SAHWAPyAeF4BA4CipANagDTeA0OAu6wEVwFdwAd8AwGAOTgAtmwCuwCD6AFQiCcBAFokLikCykBGlA+pApZAU5Qh6QLxQChUMsiA2lQTugvVAhVAJVQDVQM/QLdAG6Ct2CRqBH0BQ0D72FPsMomAzTYGlYGdaBTWFb2B32hzfDLDgZzobz4INwOVwLn4I74avwHXgM5sKv4CUUQJFQIig5lBbKFGWP8kKFoqJRHNQuVAGqDFWLakP1oAZQ91Fc1ALqExqLpqLpaC20BdoFHYBmopPRu9BF6Ap0E7oT3Y++j55CL6K/YSgYKYwGxhzjignGsDAZmHxMGaYB04G5jhnDzGA+YLFYEawK1gTrgg3BxmG3Y4uwJ7Dt2F7sCHYau4TD4cRxGjhLnBeOgUvF5eOO407hruBGcTO4j3gSXhavj3fCh+LZ+Fx8Gb4Ffxk/ip/FrxAECEoEc4IXIZKQRSgm1BN6CPcIM4QVoiBRhWhJ9CfGEfcQy4ltxOvEJ8R3JBJJnmRG8iHFknJI5aQzpJukKdInshBZnWxPDiOnkQ+SG8m95EfkdxQKRZliQwmlpFIOUpop1yjPKB/5qHzafK58kXy7+Sr5OvlG+V7zE/iV+G35t/Bn85fxn+O/x78gQBBQFrAXYAjsEqgUuCAwIbAkSBXUE/QSTBQsEmwRvCU4J4QTUhZyFIoUyhOqE7omNE1FURWo9lQmdS+1nnqdOkPD0lRorrQ4WiHtNG2ItigsJGwoHCicKVwpfEmYK4ISURZxFUkQKRY5KzIu8llUWtRWNEp0v2ib6KjospikmI1YlFiBWLvYmNhncbq4o3i8+GHxLvGnEmgJdQkfiQyJkxLXJRYkaZIWkkzJAsmzko+lYCl1KV+p7VJ1UoNSS9Iy0s7SSdLHpa9JL8iIyNjIxMmUylyWmZelylrJxsqWyl6RfUkXptvSE+jl9H76opyUnItcmlyN3JDciryKfIB8rny7/FMFooKpQrRCqUKfwqKirKKn4g7FVsXHSgQlU6UYpWNKA0rLyirKQcr7lLuU51TEVFxVslVaVZ6oUlStVZNVa1UfqGHVTNXi1U6oDavD6kbqMeqV6vc0YA1jjViNExojmhhNM022Zq3mhBZZy1YrXatVa0pbRNtDO1e7S/u1jqJOqM5hnQGdb7pGugm69bqTekJ6bnq5ej16b/XV9Zn6lfoPDCgGTga7DboN3hhqGEYZnjR8aEQ18jTaZ9Rn9NXYxJhj3GY8b6JoEm5SZTJhSjP1Ni0yvWmGMbMz22120eyTubF5qvlZ8z8ttCziLVos5jaobIjaUL9h2lLekmFZY8m1oluFW/1kxbWWs2ZY11o/t1GwibRpsJm1VbONsz1l+9pO145j12G3bG9uv9O+1wHl4OxQ4DDkKOQY4Fjh+MxJ3onl1Oq06GzkvN251wXj4u5y2GXCVdqV6drsuuhm4rbTrd+d7O7nXuH+3EPdg+PR4wl7unke8XyyUWkje2OXF/By9Tri9dRbxTvZ+1cfrI+3T6XPC1893x2+A35Uv61+LX4f/O38i/0nA1QD0gL6AvkDwwKbA5eDHIJKgrjBOsE7g++ESITEhnSH4kIDQxtClzY5bjq6aSbMKCw/bHyzyubMzbe2SGxJ2HJpK/9WxtZz4ZjwoPCW8C8ML0YtYynCNaIqYpFpzzzGfBVpE1kaOR9lGVUSNRttGV0SPceyZB1hzcdYx5TFLMTax1bEvolziauOW473im+MX00ISmhPxCeGJ15gC7Hj2f3bZLZlbhtJ0kjKT+ImmycfTV7kuHMaUqCUzSndqTREDAymqab9kDaVbpVemf4xIzDjXKZgJjtzMEs9a3/WbLZT9s/b0duZ2/t2yO3Ys2Nqp+3Oml3QrohdfbsVduftnslxzmnaQ9wTv+durm5uSe77vUF7e/Kk83Lypn9w/qE1ny+fkz+xz2Jf9Y/oH2N/HNpvsP/4/m8FkQW3C3ULywq/FDGLbh/QO1B+YPVg9MGhYuPik4ewh9iHxg9bH24qESzJLpk+4nmks5ReWlD6/ujWo7fKDMuqjxGPpR3jlnuUdx9XPH7o+JeKmIqxSrvK9iqpqv1VyyciT4yetDnZVi1dXVj9+afYnx7WONd01irXltVh69LrXtQH1g/8bPpzc4NEQ2HD10Z2I7fJt6m/2aS5uUWqpbgVbk1rnT8Vdmr4tMPp7jattpp2kfbCM+BM2pmXv4T/Mn7W/WzfOdNzbeeVzld1UDsKOqHOrM7FrpgubndI98gFtwt9PRY9Hb9q/9p4Ue5i5SXhS8WXiZfzLq9eyb6y1JvUu3CVdXW6b2vf5LXgaw/6ffqHrrtfv3nD6ca1AduBKzctb168ZX7rwm3T2113jO90DhoNdtw1utsxZDzUec/kXvew2XDPyIaRy6PWo1fvO9y/8cD1wZ2xjWMj4wHjDyfCJrgPIx/OPUp49OZx+uOVyZwnmCcFTwWelj2Telb7m9pv7Vxj7qUph6nB537PJ6eZ069+T/n9y0zeC8qLslnZ2eY5/bmL807zwy83vZx5lfRqZSH/D8E/ql6rvj7/p82fg4vBizNvOG9W3xa9E3/X+N7wfd+S99KzD4kfVpYLPop/bPpk+mngc9Dn2ZWML7gv5V/VvvZ8c//2ZDVxdTWJwWGsaQEU0sPR0QC8bQSAEgIAFdGExN51DbkWAa3rXoR5SozXePYfvK4z12aMAajrBcDfBgAPZKzMAUAZYX6k8eSvP7KegcH3hnh4lhJtoL8GEFkCkSa9q6tvVwHAhQPwdWh1daV8dfVrGaJ13gNwZeO6duVFC5xCZDPVUE/Xry/9cA7P83f7FxpgvJtcDRvaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKMklEQVRoBdVZaXBb1RX+3tNq7ZI32bEdR3FIQjaaFhgS6AAFynSmU8oPOqWdtvRHmSlTlyVOyQBxVUhLwSwJ5UfaHykdIEynna50oCFkoDGQpKHB2ZyEeF9kS7YlW09P0tt67gsWsiQvskVmODMa6d137jnfd++559x7xWmahs+z8J9n8Ay7sdQEOJJnn9pxPc+bHjOZDL/6cfPOQ3P5eObJHVfbrLato7GB37a27k3MpVvoHVeKEJoGbTCavwtV+5bZYuKqKj32gYGwJKSlhh07fhku5DwYvM9R7q465/O5fOPjU0fOd0W+umfPnlQh3dnaFj0D2aB3t+3UQfurvPbKSrfBVmbR/UkkI+HoI/RwfyEAFe7ql1csr/Fdv3WT9a1Dx64hnTebm5uLIlHUDASDHO+y7diaPdK5oLOBplISjh4/JwopaXnuLOxua73X6Sx75s5v3Gg3Gg1QVQ1EQhwaHjtazEzMS2AGaA13mc1GvhBolswmZQuikhUp1QBJ5WHkVcSjUSk+GXs9xge+3fqDG5OMYFvbIxutRvP73/z6l21utyPDeTEkChJYKGjmWVY59IluDCWdkDQDDAYeFrMZJqMRiqIglZYgyTJTTWia+sf0ZOhpZ/jEgRu2bKpZGVjGsRfZUiyJPAIvPB+8hebzTyaziSs00tnORlJ2nI/7oHIm1FRVoNLnhcthB62PbDUICRFjE1EMjIxCSktquTaq3nldtTFHLdOnGBJ5BHY//dizbq/j3k3rA7aMxZwfLFy6El595KvKfQg01NGom3K08h8VRUX/cAi9g8No8AA3rwLMhnw91rJQEnmFLJoYfXRyMiELgh6uBa13Jzw6eAZ8bdOKBYFnhlh4NdbVYsPqJgxOGfDWeQI6y0aA5zncctPVZbU15ddcEahg2elSastBlEeAFRNNxRPdvSEhR1d/HE3Z0Ct6EKhfhvqa6kIq87b5PG6sWxXAQAw42je7+kJI5BFg5qJC6MWJaFzJnQVF4yjmy/VYr6/1z+6ZvaHFizn2WV63Sx+EjmFgfI76y0jcevPVZY0N/i+tbap8JddpQQKzzUK/6IJMuw8WOoWESyRh+eA0bP9sh/0f7bD9/TCs754APz5ZSB11NINWi2XOWWAdWVIwGHmDqql5YZSpxM899dg9GqclphKDf2tt3Zdks8Dx/kfZLNjtVh0AS5X+ynJyas4DZBiKwHLsLIwU544qD0xUjRUqZMLYJPhDH0JatwLSmuUz+jFgDTST57t7kUgDtnyzun5X95B2sWtoIpFO3D3DAD1kZsDMc2d4jn/Nba+f+s3zP/+Lo6zqNlXFk109w/pamEjyVKCMqPBS+sgRTkzB8t9O2Fw21G5aCU9dJezlLrhqy+Ff30jPFTCd7gY/OpHTExl7fdG8V3pDbFLAO4dPJEUp9bXt2389lauVIXDftl8c4Tmu2Wg0Ssvrq+/wuGwvUfjtjMaEsg+OdaodFyf1fOFxOXNt6OCMlPorVtaCpxnIFjbKnvoqlLntsJy4kP1K/20yGeGw2xDKgwa9EL751hFB0dSWlpZdJ/I6U8MMb80PBV9QFeVnfQPhxJVrGlzXXrPGunJFDS9JCl9V6ebMJhN4fkYX3aZhLAYbjThPe5rZxFHtBT9Fq5Ut7hyxUuUOjQl5CfW9I6eSopg8dP+DwRdzumQe89AwEoqsPPzhRxcTKhUeysNYRSMb+bgDvFRgmCjTcHFRj/mM1QI/TNZLAc6Tbq7QrCMuKjj+v3PK9LvpuBdS+XE/rcO+8wiwxmwSyWQafho9RkI+fxBTkSGm8qlQiGi0yGXSm0um36ufJIRsXVmRqSIr3KkzXToJFvfvts8e99l987YS2S/3PNP6E6qeezZf1QQrjWBoZAIXuoaw8fYfwlnxaSq1HD0DKy3QGlrAuWtg2t5oZz+EtAzx9munmzLfH57qhBbrhlc8j1AoqrBJpQr9ZwrnwxmlT35w4CzgID/Q8vhzrGlOAkzh+badmsViwlUbAjNIbLjtHriq6pkKOEFE2YFjcPicKA/UgqPVny2Tw2OY6BlBcst6KDUV2a8gywra/3MQlkgHOPnS9mVFIyUDjsvsZVRiJIopLjQypqXTspXs/+6nDwZ/xAxl6sAMqzkP9csqceJkl06ChROTk2/uw/rbvg939XIKoTKkNl8BHD+HdDwJh98LM9UBWa8DMVBRgbSqbgZ4For9He9ACPfCLEtobKyhMK1Hjb9cL1ySJFt7+4fVs+f6xsOjEw5KHv+iney+zq7wG3v37s1kggURWEb5nAkj8YWNK/U1wZ5P/fslrLv1e/D4G6E0+CF6nFA/+hjp3lGKARUsrah0YJG2boTi9yE+HiLQ7yIR6UEqmUR9XRU2b9mAumVV+kZPpT59/SNga2FkdFykFNyuSPLvZT71120PPF1wb7YgAgzsNImPTnVh7eqGDInTB/6AK7/yHXhrV0Jz2ZG8YRPbC1NYJaHZLBAmI+g/+TbE97oh0rnAX12O9ZtXYzkRZjWAXSoMhyI409mDgcEwjEYeyaQEUZLr6Rg6xnzPJQsmwIxcIqGRsz7dZmWFG4EVfpw5+ArW3nQ3fHVNersQi2DwTDvEcBcSQgI+rwsb1wUQoDCxWi9tZ8KRKE6f7UJf3wgtIsBO+wh/tYsIGNDTG8FCwDNnRRFgHZbVVuifKcrn4UiMRi1CrRpOH3xZXw9cOqqDttusWN1UBzo2UqUtY10xFU/g+PsdBHCYjpkK7bHMqKh0wEwzsVhZdE+nowzsE2j0EzCR4rYHsZHeDI40Vdxjx8/qn+lGtjW22y3weMrAMlspZNEEsp0zImzHarUo8Pns2a8+898FK/FiveZtZhZrqIh+JSUws3wVgWIJqiUlQNnksk9CaQmU4qa4yNkoKYHLPvxEtqQEihy8kqgvhECMndBK4u0zMDIvgZgw1UiXXGO9/aMF/6T4DDAVZXJeAq2tz0XTSmpLb9+o0N0zMu/mqijvJVCelwDzQdcZA2lVvK5vMDxxsXt4vAR+S2ZiQQSYt5aWp0JKXLhucGgsdOHiUP4FzxIh0c0HorGENDAwEaNjdv7Jfxb7CybA+j/U2hYRpfT1w6Hx/s4LA9Glpn0GeiJKoAfHo0PD0SgR2JdMyXfcv+3xBW+o5j0TFyIeDDa7PA7v23QeaFpzRZ2bXV510M2bLMtquc8x56DQURFx+utSiKcSiqqw0vEaddsfT+463NpK9+JFyqIIMB9tbS12E2c74PM5169b0+A8Sdvp2QikCbSQAa0qdAx7TVbU/dse3tVOs7ik+rdoAoxEMHiP1etseMPrdn5RherIJkC3B/TXUkqKCymRBlom0K/SPzT7H3p41/tLBc18T8uSCDAjweBdZq/jytcNBu5Gi9XE07cSjyeTBJrddL2iqOr+B7c/8cG0w1J/L5kAAxQM3mR022+gwy18dNO0W1O0Vx/Y/sTRUoMtZK8kBAoZvlxtc2aMywViKX7+D10+ywDx0s0HAAAAAElFTkSuQmCC</pre>
</div>
<div _hash="6516f71685d10be266a599f46d8dcf1c658225d0" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/SideBarOptions/1521921:c62f8f504409ef8c44f0e9e87a21465265073cc6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521921" server.permissions="read" server.recipe="willrogers_private" server.title="SideBarOptions" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="SideBarOptions" type="text/x-tiddlywiki">
<pre>&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;</pre>
</div>
<div _hash="6b74609cea4ddb529f42d3331e63b7775376af47" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/SideBarTabs/1521918:31c845f58e6ac8d6bb78b1ad508902dab417ae47&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521918" server.permissions="read" server.recipe="willrogers_private" server.title="SideBarTabs" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeMissing excludeSearch" title="SideBarTabs" type="text/x-tiddlywiki">
<pre>&lt;&lt;tiddler Backstage##Tiddlers&gt;&gt;</pre>
</div>
<div _hash="d0602cfd62af3ac3e8dab88781369af296e4d26a" created="20110421100842000" creator="willrogers" modified="20131026135129000" modifier="willrogers" server.bag="willrogers_public" server.content-type="image/jpeg" server.etag="&quot;willrogers_public/SiteIcon/1484060:593b8638f416dec182fd0d7de9555b1bb6b1e5ac&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1484060" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SiteIcon" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SiteIcon" type="text/x-tiddlywiki">
<pre>/9j/4AAQSkZJRgABAQAAAQABAAD/4QBgRXhpZgAASUkqAAgAAAACADEBAgAHAAAAJgAAAGmHBAABAAAALgAAAAAAAABQaWNhc2EAAAMAAJAHAAQAAAAwMjIwAqAEAAEAAADWAAAAA6AEAAEAAADWAAAAAAAAAP/bAIQAAwICCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggICAgJCQkICAsMCggOCAgJCAEDBAQGBQYKBgYKDw0MDQ8NDQwMDQ8NDQ0NDw8NDQ0NDQ0MDA0NDQwNDA0NDQ0NDA0MDAwNDAwMDAwMDAwMDAwM/8AAEQgA1gDWAwERAAIRAQMRAf/EAB0AAAEDBQEAAAAAAAAAAAAAAAIBBwgAAwQFBgn/xABCEAACAgAEBAQEBAMFBwMFAAABAgMRAAQSIQUTMUEGByJRCBQyYSNCcYGRobFSksHR8AkVJDNicsKC4fElNENkw//EABwBAAICAwEBAAAAAAAAAAAAAAABBAUCAwYHCP/EAD0RAAIBAgQDBQYEBQQBBQAAAAABAgMRBBIhMQVBURMiYXGxBoGRocHwFCMy0UJSYnLhM6Ky8RUkJTSCkv/aAAwDAQACEQMRAD8A47Tj2080K04YCaMACaMAmCVxkITRhACY8MATHgAHRgArRhDE0YBFacA7iacMRWnABWnABWnABWnAIrTgGLpwCYoXAK4oTAIXl4AFEeAAgmAAgmAAtGAYoTAIydGMTZcox4BAGPGQCGPCAHRhgIVwADowAVowAIVwgE04YA6cACaMAFaMAFFMAiuXgC5XLwCYvLwCK0YB3F0YAF0YBC6MAChMABaMAC6MABCPAAQiwAEI8AF/RgMxCuABCuAACmAQmnABRjwBcHRgGIY8AAmPAIQpgGDpwCK0YAFCYBFaMAMrRgEVowDL8uQZVRiPS4YqffSxU/wIxrjNOTit1a/vG4tJPqWeXjYYi8vAAojwALy8ABCLAAXLwAEEwCYujDFmCCYB3F5eEDZkaMBmDy8AwSmAQJiwBcTlYBCFMAXBKYAKaPZmo0iPI5/spGpZ2P2VQTiHisVSwtN1aztFc/PZLq3yJFGjOtLJTV30N43gqfRGeW0btIglWUxryI6cuzqJCWcaVUKG1AvuvpbHnVb2zSrWpQTgur70vLlH33Opp8A7n5k7SflZfv8AI5HxV4jy+VdVfmGPWqvNEqyKsVHXPo5gdlUj6UW+uxALBYH2tqzqTdaKy2bglunyTfPTd2v4chYjgsYxj2b10zO+lubS9Ff3lvgvHocxzuSxYQTvA7FSBqViAQdwVkCllomx7Ucd1w7idPGwvHSXOL3X7rxsc7isJPDvXVcnyf7Gy0YuCCitGABeXgEVy8AChMAG+4nw9jlskwViH58aUCdcgkkcotbswRCxAulFmrGKd4yhRrzjVmot2au0v4fHZeJNVCpUpxcIt77K/Mxs74aZJ4csXj5050opYp69rGqRVGwNki6AJNVimoe1WBq9o23FQ/mt3t/02bu9NvFFhV4NiaeVWTzdL6eemn+DTRTKxYKwJRijgdVZTRBHUH9QMdDg8fQxkM9CV1z5NeaZV18NUoSy1FZ/L3Mu6MWBGFEeAAhHgE2FysBhuEIsOwghHh2ALl4BhaMILl3l4RtBKYAE0YAEKYBAlMACaMAFaMAHVeXfCsxNM0OVpJpopY+ewBGWjMTs2YAKSqXV0iROZG0dyeq/Sred+2lS2Gpweznd+Nk7L5nVez8L1Zy6R9X/AIOg8UeQWXK8+VszmZFbNMJ55CNL5qUnXH6ZOVLHCI8qhh0KqLYALyDHk8asoq6Vlp8vW/M7WUYtkZPPPyhy+UhV8nqiijy/ICILjhiHqZA7BWEkjlmeTUXZpZGN6tQt8PVc9XrdkGrFIZTwDx2fK5rLqssiRzZmBHCuypIOYECyoDpkrW1agSpc1VnHScPnkxNOUdO8l8XZr3orMVBTpST6P9yWvLx7CcCVy8AC8vAAvLwCNv4Z4IkzuskgiRIZpWkPReXGSpOx9OrSWNGkDYoOOcQlgMJKtBXlol5t/MtOHYZYmuqcttW/cOvmM1m5kgXJ5UJl8qJlhkzClWcRKsRQIGSSKaeQvFeYW00SM0NaQ3gFevPETlOvNtyabt+/h4acj02nTjSio01ZLRDPeO/DvF4l5hzWTkljy5vRFyFfOSnfTaytDDllJ0MsjPMwAZYQW07aTopZbNJmE1N63Iv8W8yuIZLNGOWV4kJy5zSIwaKVkZZJJCmpkBYhlVwRKY20s1M6nquHyWHlGrTez38Oa+HUpcXDtYuEun/XwZJYJj25O+p52wgmGYBaMAMUJgAMR4YghFgGgljwIQXLwwLnLxibROXgAQpgAHl4ABMeABOXgAQx4AHJ8jc2kWZa9ZeYLlkVUJVRITNJNLJ9EUaLl+WNRt3lUAHHnPtnK9ClC38Td/JWt77/ACOr4Cu/N+CVveOR5gsBEGSV2CMKjLDQdLbnR1cayOyqBd9AT5FNNJTi9uX+DtYtXs1vzIWfEH4leRZbIQGldFBRWFmqUMtuVKBnKmyCAPSMXGFk5NSfTbkQa8UtN/EYfy84UJ+IZSIkhTMJfv8AgKcwBv8A2jGFP2O326/hNJVcVTi+t/hd/QqMZPs6M5eFvjp9SWnLx64cILy8ACaMAFaMAHSeAeHpJmY4pFDRyWGQiw4X8UA7gimjVgV3BA6745D2qpOfD5NfwuMvp9S94LNRxST5pr6/QlHxP8ZFVU+uizgmxQ9Sge24roOlm9VeIJKVlFebPQr21b8kM/5peG0WMdQRzCR6vXsu9kGipHYHUG/Qh1aK0sY06trkEvP3hitmTpVgCpDAkPpuhQ2F0b2K/rd2emwkU42tYqa8rSux+vDnFY8xCksRtGBAJqwUJRgasWGUg79ce3YeoqlNSj89+h51VjKEnFm0EWJJoCEWAAhHgEKI8ABiLAAQixkAYhwxh8vGBtBMeAATFgAExYBCcvAG4hTAMTTgAeP4f4tKZ2UKryDkpEH+jWVn3Yb7dBdEiz1vHl3trVS7GH9z/wCKOx9n4O1SXkvUz/GuZZEdWWJ5JBRYX6QzIdIokK1rsNjTHajv5ero6567EPfiCyHJyg3TW04kkFgtpYehCpFgK2/bYnfc4u8PYrqrd7IjxB4olys0OagVOahOhGUsnqUowYBlY2jv0Kldt9sXmCxEqFRVYbrrr4ehFrUI1IOEtn0Jh+W7T5/hY4i0IiJV9OXDFpJpFZlVYdSpqV9IIc+lb6tRJ7Ct7V4eioRlFuct1Fq0dWtXuuuzKCPA6s27PurZtO79y+F7jmZryuKpGpcCUyxiaUsDFFDq/EMaHlMztSxq7MQpkLco6ccxivbSu677CCVNbZv1S8HbZPw18S2o8ApKH5snme9tl5dfeNT8VPmKMkMlHkJol5bTCWMJEwlGoQ0dMbAsksMqvIWDKW0h3bWBT4HiWKdZ4ic5X03b87W2s/LYnYnCUezVJRVl0Xz8zmfCPnXk85OImX5EMoKPmZlePmaLMZkSNa1NYR2FMNOrQTR7jDe00oJ/iY3ts4LV67ZW97a78jnK3CE2uxdr7qXL3pfQdvyznE0+VzGWkWaAuULorNUnKt4iTp0OFceh1DCxY3xScZ9oZ4inUw8IrI9m081tH13uXHD+EU6eWu5PMuWlr7dLkqZ+NNDRQKfq2eOxRBXUI2Hq6iiwa7O3S/PHUa0jsdBlT3Gl8SRxOspeQQMdSlZCAzWKUi9NICbpVG+2+M6Mov8AU7eBjNNbK5ArzkVjM60UKaiwYBXVrNffYrW4BGwNVQ6LBPNF2ZVYlJNXJFZM6kVv7Sqf4i/8ce7U3eCfgvQ82lvYyRFjYaxRFgBhrDgEEIsAguXhgGI8ABcrCMiuXhXNwhiwwBKYDBsTl4BCaMBkgdGAxE5eAEPl5FuIsnmZfzmYqt7gaIo21V3K6ib303e12PH/AGzqWxVNdIP5yf7HfcBjehN/1eiRqPEfGFGsyRACwC5S+WaZrXTqFqqiQkFSPR0JxwVOVtGjoppvYg35/JpnpZTOGCSiRgxLWrCiWJJGkp11V0oUxxc4aNluQqrvysM5ncuS0RUCzr9IulP8CR7gfcVV4mxstTU9j0n8tPCfEczwnITRz5fIZZ8hGIBDDUkfNYemn1gHLxqZAyOFlnckoqqwbnKjipyctdSzjqlbax1ieXOWjzCuXfMg5jnXmWeQDlZcQQAiQsCI1LTBhRaeR5erbRZVLLT3/f3oboxIw/Hb4Sykf+6xlYFiLDMtKUeRy7RjKRqz62YnSC1aQLLsxLEk4s+H1nUzeFiLio5beJFjJ5QxuGSwEo6T0pW3VewB3BIF9MXJXJm+8PeKp8s1BpYxrRiYpZEUsjghwoagydpLLgM4B3OItSNyRF6HrVxvidKpDgs4LswVaVCQoC3QoANvpc7dPqOKNycdL6vcmpJjceZORWMSSSHW8utuocbEVb2JL0n8pG4Gy7XjGmo6vVmTnfRECPOcBswCqGO7OzBiNXvTtfQb7bWDvsOhwWisVeJVyQfhWTXlcs/9vLwP/eiRv8ce64WWajB/0x9EeZ1lacl4v1NusWJRpCEOAAhDgEGIcABCLAAQiwDDEWABOVgNlweXgHcQx4DFsHl4BCcvAAJjwAIIsILjv+TfHlaGfJqCjxp81JK5Cxacw5gVFYHUZB8sWZaC6WSmJ1DHiXtdLNj/AAUEvV/U9G4IrYW/WTOe8zgV1IicwOrBCopvSPURfcbG6O21gY5WnFlxJ30Ia+eKFGVJVdj6WFkM6hg16qA02xYhQB9WwFnFxQfgQqnKzGXzMlSxgA2E3363RH3B7b+w/eVDW5hPY9Y/LVEhyGUyXzMHPynD8nzcvzozmI9OXSzJCGMq6j0LnuOtiuZr0Ztylyuy0pzirI2mUm1sooDcWRZ3PcsLJFL2sjYDqMVjldWJSjZ3Iq/H3n9EvCQtBljzwIC+k22Tr6izGxvZ73RHTF1wxq0reH1IGMTdrkVPndahgCCL1AAVYJJJ62NyfsBvi7voVqWtjG4i45Tm/wAp/X+Wx/Uf/GlK7JOyPVPhsYbLwuAGqOOw7fVdbaLthVg+k7WTsd+dtqywT0RwfjaeTllyoC7drYg7HqxN3Zo0B2CjY5RTQMhN56TVMBtqF3XYXsTXvtv3FHffF7givxCH78r31cOyJ/8A1IB/djVf/HHuPDZZsLSf9K9DzPFK1afm/U6oRYsiIEIsABiHAAQhwAGIcABiLAAQhwADysY3MweVh3AExYAEMOGIEw4BXA5GAdxeTjFsBwPL3gsiCWUaTHIsYDer/wDGAxQCjqId5izKCinSuouHjj8D9pZdpxCoujS+SPUeExyYSHim/mb3xbwRMvHLK+4C2H5ZOhdJU9yehs19XTFTTjlJc3c87/PHOH5gtqYgFl1k2JAQQCoskDRQpiSKYdqFrRaaIclqNtIi/MA7FQiX9vStn+IO37Y3033Wwqcj2F8IcRTLcEyvCctFcksMZzeaKuomnciTMZktINc8+YkDMGbWbIvYLiqxOMhKmoQTV978vtkmjRnGTzPRbWEfhjI+7EKzEMtizZJJUOQUsAGyB7fbHONalsmiHPx+xK2b4YIwwAhzuzkEkmTKWQQdrAFaQRQxecNWkvd9Stxcr2Iq8LQnmLvbxOpI6qRTKf0DIt0d01dbxb7WZCLuX4cog6jmt1AJIA9Wonat/Rt1sdBgq1I5k4+8dOErNP3Hpj5ZeX8vDeE8NyUzhZo4EDnV6VdizPufXoR2ZFGw5YFrsqpztWcXNyXNlnTi1FI0fi7Lm3tRYsA11IotuzH9/uO+1a1U1M8uhDzz4yOpubyhp1gGTpROv0itiTobsPSo6alu+wT6ldiVpoOl8PkmvhGV/wCk5hf7uZmA/lj2ngsr4OHvXzZ5zxFWxEvd6IcgQ4vCsCEOAEwxDgEGIcABCLAZBiHAAYhwAW+XjAzE5WAATFgMQTDh3C4JhwxCcnBcBBDjEaHvizLLkMtClLWXRiRsWeRCx3o2VsgitgOu+3zpx2cqnEK7jym18ND1rh0VHC07/wAq/cZTzI8WzeoPLJQDWrsXjPpKgct/Q25GxB0kXR2xDpty3N00kQl80cwrTjUCCFbe9+uybitjZNKDbWSa0i7paRsQ2rs4qg07gWCbAHbc0PYD9/vjOD7twktbHsJlMqOTGsRdWRFDSbHfRTHUNlAANX0v9ccdVl3bw95dQWveL2XyLMVYMSSepLD1A9bILEj3r+hxoheVrM2yaV0yFX+0FF5zh1sGblZokgij6sqGPbqQNhVew3GOg4ctJ89UVmKt3bEcss4F7bnavzLtQ+x7X07H7Yt3sV2tzYRQlQWGrUvagbO4oDp/XqffEKroibT1PU7i3BwIl1PqqIHUWKi6J0oAG1bb1dHbdQdueeW7uWKvZWGx8RlQvp0swO40mtK6SGJY7knUuncb3vVYzzLSwsrs7kSPiMzJdBTBFJBeNdQVyHpWO+nUoANgdSdlq2v8E7lZiFoOH8N2XX/dMOnvLmCRdgHnMDp9ga1V7sT3rHtHAf8A4i85ep5zxO/4iXkvQdIQ46EqQhDgAMQYADEOAEwhDgGi4IcAXFEOAC1ysa7mbE5WGYiGHCuMEw4YhDBgAHk4AKMOAB9OJzsmTjhUqoWOP1GidQiAokm66UAKFmzsMfNePrZ69XxnN/7mexYeFqcPCK9CM3mXAV1a2vUL9LgFTZJ6ggXt2/bGujFpK+plNq+iIbeNJQ+ZVfy6iCSBZtqJJ9r6E9BQoAAC7pvukFqzNJwR0XOKZL0LKjMyjUQqyBnIvr6Qf8xvjK/5YP8AUj0w8Bed75xl5OScZeUWheaMSSId1kjyxCzSowNhoVliYbiQi2HK9nkTRbZszQ6pziNsquet0qoF62PtR6m/4grcNStob7EJfjxyg+b4fRT/AJeaoBrFaspe+/U0fbHQcO/TK3gVmLeqI2RMY15jrQJKLpXU7soGqlNjSgK6mNC2UDVvpsJS5EWMeZ03BvEUMxA/ESQDZWpbIXqCLobEhSF22F9cRp6qxIgrM9ToJzmIIMyilVMCMiEKVHpRUJsALqOpgTdHrfU0ElZt28iwi76Db+YQV9QCFEU36VDautBidwSoC/Wy6VFA0TjNX2sDSIZfEBw0qr1p0qwAoV+ZftW4rbqBfXqbvBO0iDiNYnefC1Jq4XX9jMzp/JH/APPHtHs/K+F8pP6M814qrV/ch4RDjpblMGIMFwDEGFcAxBguAQhwDDEOAQXIwhlnk4xMhDDhAIYsMATBgAHk4LgVycAFLlSdhuTsB7k7D+eMZSUU2+Q4q7sONxDj8WZhWfLvrgkjSSGQI/4kcixyRsAwAAZHWtWnvsKx8vVdZNvq/U9shpHToR+81cxa0NeotVbsSDVGga9Ki/26GtpNJ2NE0RE8aEfNKoA2dQ1jSSQ297AA7H8x69ewvIfouQv4jG8JcDE2ciiO3NnRD/27sRfcjfY7Gq742xWZKJrm8t2egHw/Lw5eFNmmVUkGd5CSKk8gWKVopYfTK2SiaSObIpol5p0JJmOpzBeSyp0IpWS0195XurpeW+mvzHxXiaymUgGtSuKQAAPFGxumcLbOOjuoLVqbYnzzEtRqSprk3b4s6yim4KXVEHvj4jHzvDSpG0OaBurOpssSdhXQAX79Ol4uuGfokvFFdjF3k/MZTw8o/wCFBYoWSRQKckFp5VZg0bbMF00WilXVGl6dIxe0KSnKV0VtWTUVbxNp4w8PJH+MgAeOZapkIPMY6QQFjK3pcMGQaqXdtLnGmrRWW662a92g6VZ5rPz/AHPS7whldPD8iGJUrl4l/JZAXu73bFbJYBjq9tgeSq2uX8NjivHeeYhlVSEsMNJNNQCLq06iWHqH21H3Np1HtYyUERO+IHJ3Az1QrYlmJJvqLvV6hR3G/wDDF1g5d5FfXXdZnfB7LqyGbX2zzN/ey+XH8yh/e/vj2L2cl+TNf1fRHnXGFatH+36sfwQY6y5QhiDBcSCEGC4wxDguBcWDCAMQYLgL8vgGixycarmQhhw8wAmDDzAJyMNsBOTjIxYnJwgL2QgbWmlSza10qotibFBQNySdgO5xX4+ajhqkukJf8WSsLHNWgv6l6m+8O5VcrwfI5ek1ZbLZeCQNZ0tlkSGRSAV0lZImQ0Rddff5wqWcmeyDEeYJD8xvTpO4ATcnduoP0gb/ALbnsd1JJOxpl1IoeMGvNdFFFqAoUTqIvqLqugGwH64vYruEBfqNl5XcDmOby0nKlEYmDGQxOIwOWdJL0EGpjQJYAnGdOcYyTbFUi3FpEv8AyY4u2V4MkBUxZhs8jqixnmtGjSgMDC6lvq9IC6hZ9JJJxPWMoJLNLkyE8PUeiX3YfXyz8wuHcTEjZfNxylZWWdWDDMRMiiM82GXTKrFkYK7JpcG1L9ccNiKL7Ryezba+LZ0lOaypc7WIu/7Qh45M9w8BgAIMyQaKqCGy/QaVA1UCSd9u/TFvw93UvcQMUmrEes1wObLZfI5qRSMu0vKDsuxaQyzpS6xsUR3VyhUiiNzvd4atTjOUW9SBVpycU7dTaePOLxS5WQwyRuOflm9DKfzT3sDsN9/bG6dsjs+a9GR6aamm+j+h6deCMwvyGSdyFuFKOgEsQAK1Mmk0RYFjTZs3eOKdlds6RXa0OY8fUTQAGoaULHTpB3BYn0AFmYkihe9kDGlTTdjY4NK5En4gT/w0hJ0godKoANCoWpDdbkJZYF2YG2YszYuMK7yRBqrus5v4J5N+Jx3sBk3A9iTm1P8AEBR+2PW/Z2X+ov7fqcBxpawfn9CUa5fHZ3OaDEGGAawYQrhiDAAYgwroYQgwswBCDCchljkY1mQhgwXAQwYdwBMGGYicjBewhORguBsPD3DleeFWFq0ihgboqT6ga3orYI7jFTxaajgqzf8AJL00+ZZcOTeJppfzL1Oj8ZhRqjKqI9lRQwRUQUqrpSlCqumgNlAAx85xk07M9fcbq6I3+ZKlA/0+mlHrKkM1jqvS9j/6eo3DT4bkd7EQ/GkOrMShSwtBdlSdlFFWpTdgbij13Nm7+D7qK5qzZL/wz5pO2TyoXLwoz5ZWkdhbMy5bPOzi9YJZ8ix9VgiVQbBBgg/hc09Xp4eaJPaWjsP55Zy5WWHXPOqZn5nNRpl4lenVZM5Hly5QfQ0kRAd/qOWVnJcu7YVcPShBtPW3XnZf5CFWUmiC/ktl81B4piEUjQyT5uQB1IZHgkZ5zG62NaugAIv0SUw9UYrdXyvDu6vZfMxg5KqrdRyfj2ya/OcPI06eRmSCpv8APH/02dxVgVS1dgkQ8ArRk/FG7Ey1Rw3G882Z8K5FHChEz8K6qrUFPHYQDsCdEcECUGOxF1vcyhBdtfqn9DRWk+zGV41wlIqdbZQdwK1fSTQYae+36fffFtKit0QIzZKL4ZsxxODiuTymYz2alyU2Wz0kUEs8s8H/AA5eIBUlLcupF1KqEKRpsGzfPYxRlTcorml9S3oXUkmSv8awqqk6CZNxSBVJAUg0XqiWYEi19NfQaOKePUmyZFLz84VUcgQOdmFnq4Za9KqQfqqi2oNatS1i0wbtIiVtUch8EUV5niJsj8DL2tDc8yWjf1ekWK6HUfbHq3s+/wAyp5L1OA41+mHm/REuVy+O4ucsXFy+C4BjL4LiDGXwrjsGIMFwCEGC40FyMILGP8vhXMijl8FwBOXwxXE+XwAIcvgEJyMBkbjwjFWZiNXpYtV19Ksevbp17Y572gnk4fWfgl8ZJFvwiObGU14v0ZZ8zpdR0rHq0qxMosqCSxrYjcKiqCQVGrf7eAaN7HrK052GE8zkCrKrOmgaDplMlNIBpjF6lRigVx6gRubG9YsKSTle5Gm3Yh34mh/4ibQwNgqSp3HQbBQe/Qk0wo7bgXa0iiAldscXwz8Q/GZi2UyycOyhjyzPB8vkIwzNAjsIkEq5slinNAHpG7Esg1Yg1KHdu5N+bJMamtkkbbKcY8XZ05AnNcScZ3UzJl4pISuXBUmdRCmWRomVm0skvKtArSIzqDhKlShe625ijUlLY6r4e/h/4tluNwZufL5lcvls5KObmQsTlNMhEghmOttXMEhKh1csfXINRKq4imqWW+rQ405upmtp1N78d0d5vIkDdoJrPallQHTuRV9yB6tQrazjw9XjLzHinaSuMT428ZyHgmVg+ZlbMLm5eTk4zDHlcploYkIzEiRxiaXNZqTMTDmTSuqpG/ouQnEqlSaqN2t49f8Ao1zqLKtRuYfFU6alch41S3ZkU63KMNKChsdRWybosbxKvPkzVaHNEj/gz8WZniHHMmHYKMrls8QCAoCyglkUJH6i8rK1arVbqthiuxcMtNrq0bqLTmrE2fFc7qkjP6fSqmut6lIsEWQG3sjVYBob4oFJ7yLRpciKHnhJrjYA7b0NxSrpNb70pJrcEg797tsJNNohVotI5D4IMzfEM9H2+UDD29M8Y/8AL+ePVOAS/Ol/b9UcDxldyL8X6EzBl8d0coGMvhgXBl8IAxl8ABDL4BhDL4LmQQgwrgY/IxpzAV8vh5gB+Xw8whDlsPOgEOWw7iE+XwswG08N5X8X9Ec9L/KQTXegSccn7US/9vnHq4r/AHX+h0PAV/6yL6KT+VvqazxbxN9GnVQXZRSAdLs2p367jfcfa/E13XY9Nvm3I1+ZvFdSsxYhELaA9MSSzMwjAT1FR9TaAL61ajE6lC7NE5WRFPPZq8zO9l1JZVZxpsB9iBtputQFXROw7XEtIpESOrY6PwoZvLwcaizmZB+Xy7ZlzGsfNed5MvNDFBHGB6mZ5AfXSBFYsVUEjGtm7PLHd2sYwaU7y2R6Q+GfNr5zUrw5jKMEDxx5kJTxEkal5cjp6Du6A7LvuKxXYjDV6NNSla3hy8yVRrUqsrR38fodDm49BI9VsoDNy7JXSw7qau+xH6Yqu0dn4lg4psgp8dkIGf4fVqDlZt2PX8VPtVbN2712Ixa8PSUJW6kDFXclcjtwbhYdWZiAiUzEkCrcKoBJ02xa6sAKHfcIwNum9IrW5XuPMs8b8NDSzINa7G9NFAQSoNgEGrHQXR6VWNk4yp2zIwptS2Y9HwD8GI4tzBG5RcvmdclNoRmKBNTC6ZtBAVz6gDX0nFZj2nSt4k3DX7Qmv4qVQp+hrAaiAaomup22r+HTbHPJFq2Rj84skrIwGk+lit1sLtaGo7Cz7bg7DfFjh9GiLU2Go+Ct645Om3qyGZ6dyuYyh/lvW5x6fwKVq/8A9X6o4XjK/KX930ZOsZbHe5kcfYNcvhZjIMZfBmEwxl8GYLBCDBmGEMvhZgF5GMcw7Fn5fGu4xDl8FxWEOXwXEJ8th3Ar5bBcBPlsFwNL4m4tJAIOVWqecwGxfp+VzWZOk/la8sKbsT98cZ7VTthFF85J/BM6n2ejfEt/0/UHxU2rULFk7HWRRN7AUNiBXb998eO5j0Zw1Iz+Z7xrGSwY1R0GQPua+kalXeypR0Y6aBLljVvhyHVvzIsnNPI7sSD6lAAogbUAaA2AUDt998WlRWsR6Y7HwtZPmZ4KVsGVCBpO4bMxrsOptSw2Pc/fEylFZlfp9UQa70duv7k0/AmWzD5oM6S6hDMfx8ssZHMgW6laWSYFthQvVygDemhnxVr8O0uqNfD79rd9H9B8uPM3YENZssdvpvege4O3f+nCTjZaHUxd3qQG+O2cfO5IMarKv0u75gsbmiVOwsdDuPe54d+h+ZBxWrQxHCQGyeYFHbMZT0iMTFrXNdEc02225G1mtsXVD/Wj7yuq/oY5PDOE1G4Zll0JmIh+E0RJjic7pQiIOhfUNTNpFn0rU/HL8v78CFhn+Yl98yXvwi8CiynhyIxKDLmczmZJiBrdmWTloOnpVY41HqBH1HbUccRiKje/I6enTSudx4jiU6eczFdBalCoSRZ2KhWJG92RXY9K0qV9zJroRh818pGTKo1mMgqD6RsQPezV7d7FdbxMoWurGipezuMZ8KHFxF4my8Y3XMjPZcEithlpc0GratXyiiu2qq6Y9H4PPLXj4pr5f4OL4rC9GT6NP52+p6IjL4765xYQy2AAxl8ABLl8FxhDL4BhDL4QWFGXwDLXy+I+Y2NFfL4eYWUE5bBmMWivlcPMJor5bBmCwhyuHmA57xX4cklbKPGC3y+YaVkAO4fK5jK3qrlryxmTL63Uty9KB2NDg/aup+XTj1cvodh7Ow785dEvU1PjDL0jFjTEkABNze/fc/rdUfer8xUVY7pvW5FfzayUaQOzNqegdITQFYBtnLKDQJv02rLpFqdhY4eFmrEetO5GrhbahIbFll3quhPQ9T0rcfrWLSqtSLBjzfChw4z5p4tUanSjFpXCqqLmYS7UPWaW9kVm36YlKpCGs3bTx8OhCnCU9IrmejE2Sy8aB4548xIkWgJl8vmSzKyOGVXZKAJK6R22qg2MeK8Qp4iCjTb31uHDsFKhNynb3G/4oh1attr92BO1dGWr6fwH3xyMlfU6NOx5+fHYxbiWSJK22Wl76Qn4302dr27GhQ96xc4B92T8foV+JXeQ2Hlzx2HLqXl0iPnxAglJCwbLZ+NiEIVmjBdVYgekON7ZcXWFqxpV4VJbK9+fIrcRSlUpShHd29bnTcC8YQ6HQvACec1RtOAxk5wNiax0K7KQAS1WFAG3GVqdSk1F8jXhqU41E5Imt8KWeMnAsuBskeZzIIOkHZ7oXqv6x2B3NEduNlF3szpNDrfGkmohQrOx1AKqnVbKRv6WJNE2KoEXQoY1ve2/uDlduxGjzXFhwCq+k0q0NlUCjSqSaPqLdSCTdYkUXrqa5x0I3/D6QvibhbGlAzsqjURqJnyuagQDubZgtDoSPff0Dhkstan98jkOIq9Gf3zR6cDLY9CzHD2CGWwsw2ghlsLMNIL5fBnHYUZfCzhYIZfCzjFEGFmAtDL403M7FHL4dxWK+WwZhWE+Ww7hYr5bBmCxXy2C4rBmYRo7swQCvUWVffpq2J3uvtjz/wBqpX7KK5Zn6HZ+z0bKo/7V6jXeLOO5Vq5uahWtTH8WO6Ha7NHYCzdddgDjhezm9kdc2iL3nZn4X5ggmjkBjIXRIr29FtyLuzQsE7A3eJtCMo7ojz1I7cF4a1MJAUJkoaxV3vZOyk9dh13rpYn1Hd3NcCS3wC8K/wDqrEPV8NzX01Y1S5Zdxtf1Xf237VqxmtLL5GvD/wCoz0E4Zl2RSTd7oHcXYG/2AFkiutjrWKGC7qbvctXq7I0kvF1W01JV+9Wb2v1V222/oTjG7taxk0tyC3xvwtPxPKsqEqmS6xgkAmaS7rexp6knauoqrjAt5HfTX6EHEaNWGCm4Y66qUhbBsoyiulkn6RuRZ2264sZaIip33M3hMa76grC1IBo0PVvZ+36f5RpI3JnoD8FWYj/3I6904hP0s6RyMqao7Vq32Ng71iumrS1JV9zuPFGaFqQafVWpaIH0kEjsVUlm+kWRstG4req6m3kxlPOfwkgL6ZNZJ9RBB/7iKFUGNVZ642xhrmRi56WIr+TuWMPivhuvYHOqi2tA60eMBeoNahvsRjueGy70PM5TiS/Lmengy2O/zHEWF+XwZgsF8vhZgsKMvhZgsEMthZh2F+Wws47C/LYWcLFoZfGjMbsooy+Ms5jlZRy+DOJor5fDzisV8tgzDylfLYMwrHO+MPC2XlUPJl4ppVXZ2ijdkj1Uo1yKdCmQ2aoHv0BHmftDVVTE5Y7qKTa+Pyud9wSm4UMz/id7fL6DO+KfDGVWNtWXij161V+XFpdhpXlsURjS6r6C+9gXjmYUb2bbL2U+SRHTx94AyrBneDKEyEmiI0l1V+dlhZzrehoBJ+n6bOLegpLmQ6lugwcvC4opHREC6Qq6ls01UdJ61akDUSd+u+2+rDM1cVOdkSe/2fPCo3k4gZDO+mLJjlxzTRI7SSZimk5MkZYpy2CqTuJJNjQrRj4qMY+ZnhpayJvS8HyEagPl2lZt/wAWWWTvpJp5D3Ukih3G+K7LGC0JSk5Pc5Di/CMgNSpw/KXvZeCN6UAbUwYmyfqJAuutgYiynLkbEo31IafFR4Nyhz0SploIw2UVvwUji0ss0qWoRfVY3IbVvTDSRi3wjko38fPkQq2W9r2I55rMDKFtM80elVOqOaWEUVVmJ0uNlO3+ZrFj+pbGlJp7mR4X8yJ5SSmfnloEjVNLKPY0uZDBl3F6bAsXWNM4Nbo23J7fB4yZjhmdM02ZYRZ90RYCmT1A5TKyM7DLDL6nJZxqdidKoB9Kg1NX9V/vmS02lY7PiXg7ImMyFZwSp2lzGZIYqLP1Zg3qDiwSfpF+2NCzPZjdkNV488sshKyqIplMxtOXJmEKgkoQKmD0CLodQbFA7SozmtmaWov/ALZGXjfh6LhvEsnMuZzXy8eay07pz8wJESKTmtT69SyFF1WC5UuKPbHTYGbdnL5aFPjI91qPR+J6wrEDuKIO4I6EHoR9jjv81zgsofy+DMGUXkYWYeUrk4Lg4lCHCuCiLycFx5SuVguZZTHC4iqRJcAtIwZjHKVow8wZRRHgziyi8vBnFkFEWE6iSuNQvojivFnGy7PHq0jTy1BVrGxoMApvWQAP+qQHswx5LiKrrVZVHzen0PSaNNUqcYLkkNFxltYWFOWWkf8AGayzqCCAtn8MqOUDp0F1eWgzWy4ygtLCnvcYzx7MICzFAxChkV/omGlhGbr1FbvdjTAUDchxNhbkaZJkbM/IPmHsqGYFiAAABqUAD9jfbtt3xKlsjCJN34AeHKvBsxIABJNnpxYU6njihgVVDdCEYuwUmwxYrvI1wcbdzXlsbaGkdOu49vi7OMKO+n3J+5A07nsp61+gxXTiSk9TT8Q4sv57BtkO+oruTWkgDfazq3U7VuMa4q+pk99SI3xa5fXnIGJIEeRjsCgSJMzmRqs9gUUUfcnajq6DhtTLFx6v6HOcUwCxMoycmrK2nixpfFXlhmMxwqXMcMhmmzmQcycQfSjE5NYQwbLQM7ao4Yws07cozIaOrQVxscFUk8605LbX3FhRi6dOMb3aSTfktxo/LqQyrJPK+pkmjGqlHp5d0AoAG2pbA+l3H5jcnsYxp91WsEpPOkelXwLZgf7rzgof/fn1HYDVlcsD+pvYdd9j12oai7793qybfQdziWVIKssuyXquyz+oMATq0gA9AFFdzsBhKjruLOc14j4mI9QbVIJEIPt9QvqSLBF1W/73iWkmzU2RI+IbJmZVfQQEZwCCKOiQowIodGEgIBNU252OLDDT71iJWj3bonL8MXjL5/gXDpmNyJAMtKe5kypMBY/d1RZD7673vHb0J3gjjK1PLNodLTjfmNOUTTgzBlF0YeYMpWnCzDylacGYLCVhZh5TUrJiHmZMsghNhtvkFhBLh3MbGt4j4sy8Lqks8cbsAQrMAaLpGCbIABd0WyQN/sTjXKrGOjZmoX2NNkvNfJvNNEuYhIiIXUsqEtINWtAmrmEx6dyEKdfVYrGiGLpyk0munv5/Abpvex1E2Y1B1VvUBXUgqWG1kA024I2vp7jEfiVfJh5ZXq9F7yTgqOetG+y1fuOKHh+YNrCBdKgxmZjCdVuVdSplBNg1rBvp6QFx57GjO/2js5VI2OB4l4eDpJEhYuI8w4k9WtpmUBWLxEsqs66dOmQ/idGY2JkKKtZXI8qjGI8y8q0WVjh0xsqMAIk9OttzJIupA9kjQ1eoVuTqW96jZa7I1uV3dEV+OcLmizjvJGY3ZebRFbMy6CrWbU7AMpPS+xxJl+m5jB3dj0I+B7KqnAoNCuUbNZqQu4+o61jYKKq0eMrd70vXfEPE1Eqia2svQ20otx979RwvE3qapCAAdSFkKs62FFHsg9R2LA9F2rTDk09zfFWNZmOH3GAVBDFmWWzYALbHoKIOzFVBGkBj6lLypRsK7vqMF578IaLiWXaPSdXDtJZXI06ZZ5LsEAn0kimdW3HXG6Ee5YTdpXZg+IuDx8K8KPx6LMrHnV4rLyYD9bSSoOHs5KnWvIilbNBOWLZY9TBXxc4aClT++qNEpOM833sQY8tF05ecHoZ1/hy6r9sWFRWpvzREvea956T/AAGcRV8jnkLf8rNo3UA+rL5cVQBJsqSPufscczWjln7vqWMdUSF8YMiK5OzIGoXuSAdu1muxN+3tjTOVlqZxjdjcpxeBTGsmgEOHZGLsr08gZXrUrAAp9F6iqnTJ0OFOadtByi7Mj5575WR42jaFleVgsaqWURa31gyc06pF5ZWMaL9enrqOqxo11m2sRqlN5fA7j/Z/eMhFFxDh0jaSkqZuIHVbcxRl59KkBgFMUHprYlias47HCztozlcVDvZiYjT/AMsWNyDlIuecXxZZjKyvFlliiRGULLJG8rORepVXYMrdB6QwIqxQvk8bxatCr2VKPvfP/BNhSg1c4XhHxrcVOoCGKen3Py76UF0R6XRqFr6vXpFbPYxG/wDL4iC77jqtPtP6mzsIvY2ec+LLiSNBJJpW19UUUatCz0erMCwXYFqNgghdIfGj/wA1Wk7prx8fvzNiw0bGozfxicSeQKjRsDp1LFGLDPdgOfyqKtjdHvdgSp8Trxfea62EqMOg7Xlt8V+VeJ/nJUVkbTevVJIzFiSkSA/gpWgyFvrrrrsXODx3axvLTzI86DzWX34HDeJvjGaBzojidF67Pv262OntsT9+0SfF6XaWgrx69QhQm467mFD8eUQAL5cAEHcMR03shirUFsmlaz023JHjNNzcezfncf4eXU23in4v4ny7fKSR86lYMuqkNqaYMtEEH1KrBiNgRYIkYziVCFN9nPvclr+2tiOqdTNqiLXjzzWzeacvO51I4YPrNRirCo8hJCrpLEbuACN9QB46eInUlecr8197k6NNHNQ+P5YtMkUpj9AZtJXpETYpxq1C6Fq4BXcA7NqowySte2q9309Da11Jp/Cz5xvmOGPmOKSjLL8z/wAO0zVJmC2mn07PocsEUBGLukz/AJgVnYzGJxVO7drvzZZ4Oio3m2lyux1/F/nxwkqyHOZeQqsIJXU40IysB9FArYHYggXdDTUVK8W234a+X3qWOeCVsyGZ8Q+dGTEkzxO8gKUqRoBZ1Atq5qsI7AZQq1pZr1AbNpWJea7B1aSjo7+4ZXxV46jmjfSkiiTXoJUApqUqBa7HSTfpVbJJsFsSY4pX3IjxFNcn8BvfMfKQyl2yqZhxpjCNIjNL6CpbmMupejMqrGFUL1sljiwhiaOXLfyI34hZ7kjvh285cvw7guWys8eaE6tmXdFgdgplzMj7MaTUyMhvURfU+1Jiqmaq7PTT0LKliqShrv5eJ1vHfPPKSMgSHOGMUXASFSqg3Q1SLzGLbjeg24OwONSq6q7M3iqf8KbLqfEtw/KqskWUzksidFeKEkDdRZ5hQUN+5Aog2t4zhLLK8X99TXLGxas02Nh5reamV4xm4ZoYdEj5dVeHSA9pNMCyrGzB1AZGLLq3ZtxWLmhUVnnSFGSn+m68GajwtHJmOE+JeD5mHMtHm48vmsj+HKEGfTJZ+cyIAi2yScJyKFC7KUcKV9VGVRktJJ7NkxNOLhLoviQu8KcOnjy8o5chZpEZdMbmxp07enfF5OrTcGlJcins8ydiVvw2ebMnCuD+IXaKeCdjw85SZoggEk3Ph1jnIUkELLHJIulhpKj82KSooTqwjo9/kTIyajKXQlr5PebUHEuG5eSd3mzMcSLm1kVYpJJtDJFPGY0VRE5DyRPGGikYsrKTGVECvFRnZ7ffob6cs0b3NZ4h4WDKKVWU10S1Gr6iwAJH3sVW2+ElFchvMcH4v4bzlb0yikPqCyK2xJIFAGrPS1Wz0s4kwcYu5qkm1YYPwv4t4jwbPNmoMtmTr5kBCwvIzRyMGYCMjUQrKkhGzELQYaicWkcflXckr9XsU9ekm9U/gyTPgP4rcxoUZnh/EWDnaV8nmVYAbE8rkE0dq33N9Nr20uNOKtNJv+5fsRPwl3zS8mcP4y8OcNzrTTHL5yNpCziP5DNKwZlFEyNyyCm6jQ8R0nZ1rFNVxMJTc0km31b0JCwi6y//ADL9jg5/DksIWNIJBCjal1cxGI3+oyM+kb3o/FXZVGkKpxSTk5Sbk/C/h8DB3hpZ/Bmh8Q+HZp1YKoLaHZeYAsbSBfRGzxsktsxJNKsdmiQqhTIoyjTd3L4a+pj2i2OXyXgfigi0AxR7j0Bwy+kijq5Z677EN6fTVgHEh4mjnzffwF2keh1nCvC87LeZ5ik/lybJDuCSC7GnkPqbewN99Z3Uq4+EtI206oanFHKR+D85IX582XVTqFBJJ+p6+oRhfcqKUkX2GNXaUoru39AzGLB5K5Yaubnc0ys18uNYUUWTsupZCK7EUfuN8bpY2WlorzGpdWd1wjw9wyCJYhHMyqNI5kr10BF6CgsUOnQjYDFfOcpyc3uF6fO7M+EZCMEJw+Belkwpe227OG9Ve5PvvZozy6szz0+UTMbxHGBpWIIoGwTlx1Z7aUUAfxONVm+YZ4S5GsRY+ixAA9xTE0TvqK1db9bH37a5JvmJSjtYyUzW40KAQKPqUdbvbcA/Ydj+gxhk8TcqzT0SBTiDdgL/AO6vvsRGPfboP64XZoO3l4FMZCCfynbrua60AtkD7d9tqw+zRg6k2DGouwB+iuAbrqfVY9v2/g7WNbv0N2OJyhTGopTqtQ7kNqAvbV7AD2oEdKGMLto2qdS1kYa5srsFUE716rse+lgff/RsNKxipzjokjNyviSSPYwQjbSSYFuutFmGojtRJu++MjasRVj/AAr4L9jZ8I8fOg25Ua/9EagWT7aQLN312wSnKxsWNmua+CNqPMl03DdVI2XqrEFl6AEFlUkdCQCRsMYKtPZGz8bU6/I12Y8w3I30C9qKLvY2ABDX3/0aOfaTMHjaj29CzB47ff8A5YO3SOPb+CAftft+zVSfUx/FT6/IuweaUwFcz077aVHagaMRqhW2+w2+2eeXUaxU1zBXx/MxpZUbeh6Ix/8Az6jYHvh9pLqH4qo9n6Cv42zO1Nv/ANqfcf2AT33Is4XaS6g8TV6ll/GWaG+p767EfxOwsj/Lr3x7SS5mHbVupbbxBmT6rmO/ZpCOu2wPt7ihfasYds+ph2tZ82C3iOY/mkPv63r+PT3798ZOo+pi6lTm/Uxpc+56qTe31Md9vsdsa+0TNMnKW5ZbNuO3Xba7/Yfy3GDOjXl8CjmXFDcf+rY/b9R3wZkLKy3NxJl6n+pv9KI6Cv8ARGFmTBqXQ5JrO9MbO5O/Tvs1kj3vf+FTtDFhv0HpA36gNtdCivcX3qx74yugvct84+wroaUt9hfUDoOp336UMAK75FwQH82xr3F+11t1rbcn2G5wmxZb6A0K2JO562P1qxfvsTW/e8a3IxtYFpjQ+/f9K3FWT06gV/jrt0EHEjbE9/dtKn9b9tx2HfvgsFwZYTVEXVnqDQ2HudtztsP5YRmrsyOcABszb2KJA79NgBud6NdNj2djOzWhinPkn8y2ffYVuaA6G/cgf0DtYSZcTiTHcMTt7tXv2q+5rfr0wPQeZo2+WkcKQLYMd6O29E+5Wv1r9KxrauZJvkXZ2dRqMgr2PqIJ26dRW25A6d98ZKxlaS5lZcg+7HoKBWvcmwoIvvZH6bE4s2RSZkRMAGsi9wbv3+nYlavt1/mMYpGWxehzAUaRyzZ3oEn79CTQ6f5asZWZkqjSL0HETW8akD6fQd67Aeqt76gfxwW8RKr4Iv8A+9FYAtEAo91FfY9ADQPf/G8YNGfap6tCZni0VVykU2Nx/ZPbtvt9z/LCXmDnH+UxpeIxEDSpJH3oVd9Nun6n+VYyWoZ4rZMFs6vUMB+oW/4k7i/tt7YTVw7SL1MpeMmq1kgb7dL6/lB6n3H+NaXFGfa6GJmM8WIJN7/26A/l3G3evvjYkkjTmvuKufB2N2K31Gt+/t/rt2yUULMhVz6DYEE/atX6972+9/pvh5UPMugkfEQRpv0/zv7dO/8An1wO25kqulspl5aKMj1V/eH9TRxqb8DYqi5o44wen6je47e4BvsRvtsO3Te7C6K/s0KzDagbodarre221e3fr+rzGWVF/MEUWaz6R/ZHU9/T6r369MYuV9htIxYspqBrb06t+vq+46n9h/PAkYZS+mTINEiumw3BHtd3uCbsH39sYXMshizwge5P3Nj2/qPY9vbDRrcS1mFrYk9Ox7dD17+r/wB9sCZjsVyQdO56b9Bt/PGWnMLmZleFM2wIF3+wXc70ff29998a8yM0mXH4cAaJJs0N6G5I7D3H8KwrmLiXsvkf7J9ls9elj3r9j/U4Q8hkTZLSdOo2Qz7ey2SLNn9Nj/IHCcmhZWgBwjatRoffpsLrYHfr1AxrzhZ7F/5MIuxIFBqBPsB1N+/7dsZCvYExem6A397s/cFa6+1f4YYdoxI0Gkkbb6T7jqdjX69u9EHA2POKuYKg3uffr2voxII33HfYffBmM1MtIT/EDv1/WwTtd9TZwOaQlK7C+VYn1Gzubv2rbp9/0+wxjnXQyvoEI/SxO+2/bYOvb36e3fffDDMxTAQFNKRt7+/+t+38sY5jEuDLgCwB7Ub+xu7s+297d8K92OzSAD12FGhWxG/2I/xxllNikrXM6Th0an6dx1oACyLBA3B226D9cF7EhKPQxUyaGiNQG23p6EattjR6bbj9N7zE1FbF4xUaVV2ANEkjrQ3PSqPQdD9hhXu7GRrTn2ILAld62J++2xHcHe/67MjuTbP/2Q==</pre>
</div>
<div _hash="318a9c41ea68d101a4aebb81d0ef4a362eb32d77" created="20101029150450000" creator="pmario" modified="20101029150450000" modifier="pmario" server.bag="system-goto_public" server.content-type="" server.etag="&quot;system-goto_public/SiteInfo/208745:83b3df867b88833380ab9558e028a1d38db9c996&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="208745" server.permissions="read" server.recipe="willrogers_private" server.title="SiteInfo" server.type="tiddlyweb" server.workspace="bags/system-goto_public" tags="plugin" title="SiteInfo" type="text/x-tiddlywiki">
<pre>This space contains: [[GotoPlugin]] and [[SearchOptionsPlugin]]</pre>
</div>
<div _hash="23f0d76466913d29cb156cd319e2a217c5a67998" created="20110421100842000" creator="willrogers" modified="20131112130826000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SiteSubtitle/1523477:83f30a4439f7ca915dd6ff93040c3858260ff989&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1523477" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SiteSubtitle" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="excludeLists excludeSearch" title="SiteSubtitle" type="text/x-tiddlywiki">
<pre>Online notebook</pre>
</div>
<div _hash="226d042d922d0fe1a2ce84760d3018fe6a37c528" created="20110508140731000" creator="willrogers" modified="20110508140731000" modifier="willrogers" publish.name="SiteSubtitle" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/SiteSubtitle%20%5Bdraft%5D/365029:5c188fd49015ade8a2a5a1ffcca4b9868c5cb5d0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="365029" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SiteSubtitle [draft]" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="excludeLists excludeSearch" title="SiteSubtitle [draft]" type="text/x-tiddlywiki">
<pre>Stuff</pre>
</div>
<div _hash="abc9df78bb22964d3ed953e97bc24c7d9cdcef57" created="20110421100842000" creator="willrogers" modified="20110421100842000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SiteTitle/364710:b0f90021cbad8e0ea7380472328447691ab92adc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364710" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SiteTitle" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="excludeLists excludeSearch" title="SiteTitle" type="text/x-tiddlywiki">
<pre>willrogers</pre>
</div>
<div _hash="e39497b0ef26425469838750537c369fbfa91c37" created="20111206202913000" creator="willrogers" modified="20140317221706000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SkiingCosts/1693835:7b5bc3a48bbf96aa057b52ad3ba02418b5922341&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1693835" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SkiingCosts" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SkiingCosts" type="text/x-tiddlywiki">
<pre>!!2012

|''Stage''|''Description''|''Cost''|''Date''|
|Stage 1|25% accommodation, flights, transfers|£157|6/12/11|
|Stage 2|Rest of accommodation, ski pass|£274|1/2/12|
|Stage 3|Snowboard hire|£88|1/2/12|
|Stage 4|Lessons, parking, insurance|£150|15/2/12|
|Stage 5|Euros spent (€109@1.11)|£98|Skiing|
|Stage 6|Settling up|£55|8/3/12|
|Stage 7|Petrol|£10|8/3/12|
|''Total''| | ''£832'' | |
Total before going: £669

I owe Ben £10 for petrol.

I bought €120 from the post office for £108.11, at a rate of 1.11.
I found €74 at home.
I came back with €85.
I then owed £55 when I got back for the flat kitty where I hadn't been pulling my weight.
I paid Ben £10 for petrol.

!!2014

|''Stage''|''Description''|''Cost''|''Date''|
|Stage 1|25% accommodation, flights, transfers|£206|3/12/13|
|Stage 2|Rest of accommodation, ski pass|£340|27/1/14|
|Stage 3|Insurance, kit deposit|£45|14/2/14|
|Stage 4|Lessons|£42|13/3/14|
|Stage 5|Euros|£112|9/3/14|
|Stage 6|Parking, petrol|£22|17/3/14|
|Stage 7|Rest of kit|£69|17/3/14|


I took €37 with me.  I bought €100 for £91 at the airport, at an extremely poor rate of 1.1.  I returned with €12.

Costs
|€49.04|£41.91|Sherpa|
|€40.49|£34.53|Carrefour|
|€27.55|£23.34|Carrefour|
|''€117.08''|''£99.78''|Total|

</pre>
</div>
<div _hash="2990ad96befa25e5a1224872ecf4d4e3d00cd1d3" created="20130930094912000" creator="willrogers" modified="20131008095958000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SlowFeedback/1447559:ad9f4b57c36e8b7ad00f8b0ef4e2829ba77bbc1f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1447559" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SlowFeedback" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SlowFeedback" type="text/x-tiddlywiki">
<pre>The slow feedback system runs in the FeedbackIoc along with RfFeedback and VeFeedback.  It uses the same response matrix used by FastFeedback, and inverts it in the same way to get the inverse response matrix.  However, it applies the correction only once per second, which means that it is much less effective.

!!Starting
It is run from {{{python/feedback_ioc.py}}} by the following:

{{{
...
import sofb_server
import rffb_server
...
mode = rffb_server.ringmode()
sofb = sofb_server.sofb_server(mode)
sofb.init()
...
}}}

!!Code
There are two python modules: {{{sofb.py}}} and {{{sofb_server.py}}}.

!!!{{{sofb_server.py}}}
This contains only the class {{{sofb_server}}}, which has eight methods:
* {{{__init__.py}}} - creates a {{{sofb}}} object, and calls {{{self.records()}}}
* {{{set_datadir()}}} - given a directory, loads the file {{{GoldenBPMResp}}}
* {{{set_power()}}}
* {{{set_limit()}}}
* {{{init()}}} calls {{{cothread.Spawn(self.tick)}}} to set things going.
* {{{tick()}}} - every second, calls {{{self.sofb.correction()}}}, subject to some checks
* {{{single()}}} - calls {{{self.sofb.correction()}}} once. 
* {{{records()}}} - sets up PVs in the database

!!!{{{sofb.py}}}
This contains only the object {{{sofb}}}, which has seven methods.
* {{{__init__()}}} - sets some variables:
* {{{set_step_limit()}}}
** this is permitted to be between 0.001 and 0.5
* {{{set_threshold()}}}
* {{{get_irm()}}}
* {{{tick()}}} - call {{{correction()}}} every second.  I don't believe that this is used.
* {{{correction()}}}:
** caget PVs which tell you about the status of BPMs and correctors
** caget BPM output PVs
** get inverse response matrix from input (loaded at startup) inverted according to which hardware is available
** apply corrections (scale and afrac)
** caput to hcm and vcm, and heartbeat
* {{{scale()}}} - takes an array {{{xs}}} as an argument:
** If any element is greater than EPS, return 1
** If not, return the smaller of {{{step_limit/max(xs)}}} and 1</pre>
</div>
<div _hash="75eef368185ec03f4bca0154278754d83449b458" created="20120920090658000" creator="willrogers" modified="20120920092636000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SlurmTalk/882826:81ed904b5728fc9028f738866123dd6fc6bb3d4b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="882826" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SlurmTalk" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SlurmTalk" type="text/x-tiddlywiki">
<pre>By Giacinto Donvito of INFN.

!!Why SLURM
Torque/MAUI seems to struggle with a lot of cores.
INFN-Bari:
* 250 WN
* 4000 cores
* Torque 2.5 + MAUI
** MAUI schedules only ~4000 jobs
** They modified for up to 18k jobs
** But this saturates the MAUI CPU and it becomes unresponsive.
* Torque memory leak:
** ~2GB memory, needs restarting
** Network connectivity  problems

So they want a new open-source batch system.

!!Requirements
* Scalability
* Reliability and fault-tolerance
* Complex scheduling, grid and local users sharing
* Grid enabled

!!SLURM
* Used by many of the TOP500
* Supports up to 65k WNs, 120k jobs/hour
* Accounting in DB
* Lightweight
* MAUI, MOAB, LSF

!!Testing
They tested a good number of the functionalities, and they seem to work fine.  High Availability configuration is a bit tricky.  Accounting information stored in MySQL/PostgreSQL.

Good support for multi-thread, MPI jobs.

Handles high number of jobs with low memory usage.  Performance decrease is graceful.

Handled high number of WNs and high number of clients submitting jobs simultaneously fine.

!!Pros/cons
* RPM not available - need to compile
* can't transfer output from WN to submission host
* Configuration of scheduling is complex
** Documentation is small

!!CREAM CE and SLURM
Main part of CREAM CE to change is BLAH.  Works fine, but needs e.g. APEL sensor.</pre>
</div>
<div _hash="ef5f983ca36b19ed82d51224aee1c85d8fecb0a5" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/spaceIcon/1521883:034c9d2ad4086e381982a457af71ae89a9c0a961&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521883" server.permissions="read" server.recipe="willrogers_private" server.title="spaceIcon" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeSearch" title="spaceIcon" type="text/x-tiddlywiki">
<pre>A [[SiteIcon|SiteIcon tiddler]]@glossary helps provide some identity to your space.  Ideally it'd be a square and a minimum of 48*48 pixels size.  You can upload your site icon using the uploader below.

&lt;&lt;binaryUploadPublic title:SiteIcon&gt;&gt;</pre>
</div>
<div _hash="59d90cba2585970233eb03744888f06cec46918d" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/SpaceSettings/1521882:5036704184802a586f2b0ab1a3f535560ed8be37&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521882" server.permissions="read" server.recipe="willrogers_private" server.title="SpaceSettings" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeMissing excludeSearch" title="SpaceSettings" type="text/x-tiddlywiki">
<pre>!Upload an icon
&lt;&lt;tiddler spaceIcon&gt;&gt;
!Describe your space
If you haven't already done so, you should provide a brief decscription of yourself and what you're using this space for. To do this, just edit the [[SiteInfo]] tiddler (keeping the title the same of course).

!Change the title
&lt;&lt;tiddler spaceTitle&gt;&gt;
!Change the theme
&lt;&lt;tiddler colorScheme&gt;&gt;
!Change the menu
If you'd like to change the menu items along the top, you can edit the [[MainMenu]] tiddler.

!Change the default tiddlers
&lt;&lt;tiddler setDefaultTiddlers&gt;&gt;
!More Advanced customisations
If you know HTML and CSS, you can edit some or all of the following tiddlers to customise your space further:
* PageTemplate
* EditTemplate
* ViewTemplate
* StyleSheet</pre>
</div>
<div _hash="fc6cbafbbf1009da659a70f1f400ca4db8ebc84d" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/spaceTitle/1521874:3867194888f49cd6f52a4ef4a5c24be504ea0c87&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521874" server.permissions="read" server.recipe="willrogers_private" server.title="spaceTitle" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeSearch" title="spaceTitle" type="text/x-tiddlywiki">
<pre>The title and subtitle of your space are visible to visitors and are also displayed in your browser's tabs. Click on the SiteTitle and SiteSubtitle tiddler links below to make changes.
* [[SiteTitle]]
* [[SiteSubtitle]]</pre>
</div>
<div _hash="3e602a8707aaf69fafa66c7ad1b90aa0f89418ad" created="20110504122736000" creator="willrogers" modified="20110505110821000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SpotifyProxy/364734:034ba943ed88a16e23a5973b87c452bcd81375fd&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364734" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SpotifyProxy" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="spotify" title="SpotifyProxy" type="text/x-tiddlywiki">
<pre>It can be a bit tricky to make Spotify scrobble using a proxy.  I can't remember the exact settings I used.

Ah, got it.

* Edit -&gt; Preferences ...
* Enable Scrobbling and enter username and password.
* Set the proxy as HTTPS and enter wwwcache.rl.ac.uk and 8080
* ''Restart Spotify''</pre>
</div>
<div _hash="753f34c683cff546415bce0642a36e9820c7142b" created="20121014130424000" creator="willrogers" modified="20140803140718071" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SpotiPi/908605:0ad28080faa650a9ef4d1cea74945a3b133105a4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="908605" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SpotiPi" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="pi raspberry spotify" title="SpotiPi" type="text/vnd.tiddlywiki">
<pre>There are two ways to do this, both of which require a premium account.  One is to use the Spotify libraries (you need a developer key) and the other is to use despotify.

!!despotify
This does not use the official libraries - it was painstakingly reverse engineered by some hackers in Sweden.  Spotify has decided to allow it to be used with a premium account.

Let's try.  First download the code from Hexxeh as a tar ball:
https://github.com/Hexxeh/despotify/downloads
{{{
sudo apt-get install libtool git libssl-dev libmpg123-dev libvorbis-dev libncursesw5-dev
}}}
Not on the list:
{{{
sudo apt-get libao-dev
}}}

Unbelievably, it works fine!  To control volume from the command line, use the {{{alsamixer}}} command.

!!Developing your own client
The problem here is that the ARMv6 library for Spotify uses soft float not hard float calculations, and the faster raspbian OS uses hard float.  I tried on raspbian, and gcc couldn't find the library even though it appeared to be looking in the right place.  This blog confirms: http://m25cl.blogspot.co.uk/2012/09/raspberry-pi-spotify.html

I installed a soft-float version of Debian from the downloads page, and it does indeed work - I used the spshell program, and it worked although it is boring in that it doesn't let you play music.  To play, it would appear you need the ALSA library libasound2, which I currently can't download for armel (404).



</pre>
</div>
<div _hash="215df745c9be691f623c4112f800972aad640057" created="20120530091611000" creator="willrogers" modified="20120530091731000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SqlFunctions/727597:2745617bb3b193dbdee30b3e81a41bfb4f0f8861&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="727597" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SqlFunctions" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SqlFunctions" type="text/x-tiddlywiki">
<pre>Most of these are self-evident:
* AVG()
* COUNT()
* FIRST()
* LAST()
* MAX()
* MIN()
* SUM()
You can't use WHERE on the results of these aggregate functions, so instead you can use HAVING:
{{{
SELECT Customer,SUM(OrderPrice) FROM Orders
GROUP BY Customer
HAVING SUM(OrderPrice)&lt;2000
}}}

* UCASE()
* LCASE()
* MID() - not sure what this does
* LEN()
* ROUND() - round to the number of specified decimals
* NOW() - current date and time
* FORMAT()</pre>
</div>
<div _hash="58bb99d36ddef11cdc94811e7924c7b61ced101b" created="20120530090857000" creator="willrogers" modified="20120531084130000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SqlNull/728869:356acbb3b9384f8e19a2cd3216b775a4136913fa&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="728869" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SqlNull" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="null sql" title="SqlNull" type="text/x-tiddlywiki">
<pre>In SQL, NULL represents missing or unknown data.  You can't compare NULL to anything else using =, &lt;=, !=, etc.

Instead, use {{{IS NULL}}} or {{{IS NOT NULL}}}.

You can prevent a column having NULL in a column by putting NOT NULL after its definition in the table.  You can put 0 or "" in these fields, as these values are not null.

For calculations in ~MySQL, you can use {{{IFNULL(value,0)}}} to substitute a value.

NULL counts as false, as does 0.  Everything else counts as true.</pre>
</div>
<div _hash="4fb6c69f34171c26663b1832787d445984d37dd3" created="20120312164938000" creator="willrogers" modified="20130108163854000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SqlSyntax/1018743:58ff5c7ebf9524b8117b3b99bd670b31699ecbae&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1018743" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SqlSyntax" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="sql" title="SqlSyntax" type="text/x-tiddlywiki">
<pre>!!SQL syntax

* SqlNull
* SqlFunctions

Both of these work fine (different types of quotes):
{{{
insert into RepublishInfo values ('2011-01-01', '00:00:00', NULL);
}}}
{{{
insert into RepublishInfo values ("2011-01-01", "00:00:00", NULL);
}}}

Delete everything from a table, keeping the table structure:
{{{
delete from LcgRecords;
}}}

{{{
select LocalJobID, Site from JobRecords where ScalingFactor = '1200';
}}}
Timestamps:
{{{
select * from JobRecords where UpdateTime &gt; '2011-07-27 14:00:00';
}}}
All the records updated today:
{{{
select * from JobRecords where date(UpdateTime) = date(now());
}}}

{{{
update JobRecords set ServiceLevel = ServiceLevel * 4, ServiceLevelType = "Si2k" where ServiceLevelType = "HEPSPEC";
}}}
You can use {{{where &lt;field&gt; between &lt;value1&gt; and &lt;value2&gt;}}} as well.
Use the IN keyword to match more than one item in a where clause, either in a list or another query:
{{{
select count(*) from UserCPU where ExecutingSite not in ("CERN-PROD", "GRIF", "FI_HIP_T2", "NO-NORGRID-T2");
mysql&gt; select distinct Site from VSummaries where Site not in (select name from OSGSites);
}}}

You can use AS to give tables or columns simpler names.

UNION will give distinct results from the two select queries.
{{{
select name from Employees1 union select name from Employees2;
}}}

!!NULL

!!Joins
{{{
select &lt;columns&gt; from &lt;table1&gt; &lt;JOIN-TYPE&gt; &lt;table2&gt; ON &lt;table1.col1&gt;=&lt;table2.col2&gt;
}}}
!!!Types of join
* INNER JOIN - rows where there is a match in both tables
** So you only get examples where there is complete data
* LEFT JOIN - return all rows from the left table whether or not there is a match in the right table
** So there might be empty fields where we couldn't get some information from the right 
* RIGHT JOIN - like left but the other way round
** I read a note that RIGHT JOINs are rarely used, because LEFT JOINs are more efficient and you could just reword a LEFT JOIN instead
* FULL JOIN or FULL OUTER JOIN - all rows from both.
** These are rarely used and are not implemented in ~MySQL, though you can emulate them.

I wanted to get all the records in one table which had sites which were in another table.
{{{
select * from VSumCPU where ExecutingSite in (select name from OSGSites);
}}}

!!Boolean stuff

* {{{select name from DNs where id = 11;}}} - gets one result
* {{{select name from DNs where id = 11 or 0;}}} - gets one result because '0' evaluates to false
* {{{select name from DNs where id = 11 and 0;}}} - gets nothing because '0' evaluates to false
* {{{select name from DNs where id = 11 or 1;}}} - gets everything in the table because '1' evaluates to true
* {{{select name from DNs where id = 11 or id = 0;}}} - gets two results

!!Wild cards
You can use the following wildcards with LIKE:
* % - matches any string
* _ - matches any single character
* [abc] matches a, b, or c - not in mysql
* [^abc] matches anything but a, b, or c - not in mysql
You can escape these with a backslash.  LIKE is not case-sensitive.

MySQL has extended regexp, which you can use with RLIKE and NOT RLIKE.

!!Creating tables
{{{
create table &lt;name&gt; (
&lt;col1&gt; &lt;datatype&gt;,
&lt;col2&gt; &lt;datatype&gt;,
...
)
}}}
!!!Constraints
* NOT NULL - can't have NULL values
* UNIQUE - can't have two fields with the same value 
** can have more than one per table
* PRIMARY KEY - unique identifier, which cannot be NULL
** only one per table
* FOREIGN KEY - directs to a primary key in another table, and ensures that you can't have invalid data in the column which is supposed to refer to that other table
* CHECK - allows you to place a constraint on a value in the database (e.g. greater than 0)
* DEFAULT - puts a default value in a column if it's not specified

!!Indices 
Creating an index on a table allows you to speed up searches and queries, but it means that it takes longer to update the table.  You can remove an index using {{{DROP INDEX &lt;indexname&gt;}}}.</pre>
</div>
<div _hash="a4c88236467c232b278b03108439eb4940671ff7" created="20110505102457000" creator="willrogers" modified="20111219110623000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SshKeyAuthentication/364744:722825f550d93b382087f3f5263a24f8796104d3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364744" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SshKeyAuthentication" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="bash cygwin linux openssh ssh" title="SshKeyAuthentication" type="text/x-tiddlywiki">
<pre>!! Shortcut
This process confused me enough that it took me a while to figure out the actual important bits.  To enable SSH authentication:
* Copy your SSH key to {{{~/.ssh/id_rsa}}}
* Run {{{ssh-add}}}

I suspect (but I'm not sure) that using {{{ssh-agent}}} means that the key is available for the lifetime of the uptime of the computer, but using {{{ssh-add}}} means it's only there for the session or life of the terminal.

!! .bashrc snippet
This allows you to log on to remote computers without a password.  It uses a program called ssh-agent, which I don't fully understand.  However:

* Copy your private key in openssh format (not ~PuTTY .ppk) to ~/.ssh/id_rsa
* Copy this snippet to the end of ~/.bashc:
{{{
SSH_ENV="$HOME/.ssh/environment"

function start_agent {
     echo "Initialising new SSH agent..."
     /usr/bin/ssh-agent | sed 's/^echo/#echo/' &gt; "${SSH_ENV}"
     echo succeeded
     chmod 600 "${SSH_ENV}"
    . "${SSH_ENV}" &gt; /dev/null
     /usr/bin/ssh-add;
}

# Source SSH settings, if applicable

if [ -f "${SSH_ENV}" ]; then
    . "${SSH_ENV}" &gt; /dev/null
     #ps ${SSH_AGENT_PID} doesn't work under cywgin
     ps -ef | grep ${SSH_AGENT_PID} | grep ssh-agent$ &gt; /dev/null || {
         start_agent;
     }
else
     start_agent;
fi
}}}

!!!Explanation
This script makes things appear a fair amount more complicated than it need be.  What happens is:
* If the {{{~/.ssh/environment}}} file exists, source the variables
* Run the start_agent function
In the start_agent function:
* The substitution seems to comment any lines beginning 'echo' in the environment file, then pass it into ssh-agent.
* It changes the permissions of the environment file, then sources it
* It runs ssh-add.
</pre>
</div>
<div _hash="6fd88b1e5a080c79297da31957c14faf76ff0710" created="20111215144556000" creator="willrogers" modified="20111215144556000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SsmException/364745:089c542079c3aacec2822c65db504a4ccdea845c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364745" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SsmException" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SsmException" type="text/x-tiddlywiki">
<pre>{{{
[apel@raptest ssm]$ bin/run-ssm
Exception in thread Thread-540:
Traceback (most recent call last):
  File "/usr/lib64/python2.4/threading.py", line 442, in __bootstrap
    self.run()
  File "/usr/lib64/python2.4/threading.py", line 607, in run
    self.function(*self.args, **self.kwargs)
  File "/opt/apel/ssm-0.7/src/ssm/SecureStompMessenger.py", line 513, in _send_ping
    self._send_message(self._producer_config.send_to, SSM_PING_MSG, SSM_PING_MSG, '')
  File "/opt/apel/ssm-0.7/src/ssm/SecureStompMessenger.py", line 378, in _send_message
    self._connection.send(msg, headers=hdrs)
  File "/usr/lib/python2.4/site-packages/usr/lib/python2.4/site-packages/stomp/connect.py", line 343, in send
    content_length_headers]), [ 'destination' ])
  File "/usr/lib/python2.4/site-packages/usr/lib/python2.4/site-packages/stomp/connect.py", line 453, in __send_frame_helper
    self.__send_frame(command, headers, payload)
  File "/usr/lib/python2.4/site-packages/usr/lib/python2.4/site-packages/stomp/connect.py", line 489, in __send_frame
    raise exception.NotConnectedException()
NotConnectedException
}}}</pre>
</div>
<div _hash="7d1a54121ab3a090a54dd263b3e45c3f7699f8ed" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-info_public" server.content-type="" server.etag="&quot;system-info_public/Start%20writing/1521876:319a3eb03620da9377a7988dccecb2f23c596dbb&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521876" server.permissions="read" server.recipe="willrogers_private" server.title="Start writing" server.type="tiddlyweb" server.workspace="bags/system-info_public" tags="excludeLists excludeMissing excludeSearch" title="Start writing" type="text/x-tiddlywiki">
<pre>Click the "new tiddler" button towards the top right of the screen to write something in your space. You'll need to give it a title, some content and, optionally, some tags that will help you identify it later.

!Stuck for ideas?
Not sure what to write about? Not sure what to keep in your space? Other people use ~TiddlySpace for almost anything. How about some of the following:

* [[Save interesting sites|http://bookmarks.tiddlyspace.com]], images or articles from around the web so that you can refer back to them.
* [[Record your family tree|http://familytree.tiddlyspace.com]], store notes on long lost relatives or ancestors and map their relationship to you.
* [[Make up a pocketbook|http://pocketbook.tiddlyspace.com]] to store some useful information in, then print it out, [[fold it up|http://www.pocketmod.com/]], and take it with you.
* [[Plan your holiday|http://the-web-is-your-oyster.tiddlyspace.com/]], record where you're planning to go, note down places of interest and refer back to it later.
* [[Create a mindmap|http://mindmaps.tiddlyspace.com/]] to visualise your inner thoughts and see how they relate to each other.
* [[Set up a questionnaire|http://questionnaire.tiddlyspace.com/]] and get all your friends to answer it.

If you don't like any of those ideas, you can still use this space directly to keep notes and link them together, make a todo list and keep track of everything you're doing, or any one of a hundred million other things.

Still stuck? Check out the @featured space for more suggestions.

You can also [[socialise with others|How to socialise]].</pre>
</div>
<div _hash="4b6c3380bc961804e8c09c3fbf2dbb3ca4b55f36" created="20130727102146000" creator="willrogers" modified="20140510134434000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/StfcVpn/1749752:314069ad5e8829b48e1e37e94ec9e33acd4f17f7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1749752" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="StfcVpn" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="StfcVpn" type="text/x-tiddlywiki">
<pre>It took a bit of fiddling to make the STFC VPN work from Ubuntu.

The settings I ended up with are:
* Gateway : {{{pptp.rl.ac.uk}}}
* NT Domain: CLRC
* Advanced...
** MSCHAP
** MSCHAPv2
** Use point to point encryption (MPPE)
*** Allow stateful encryption
** Allow BSD data compression
** Allow Deflate data compression</pre>
</div>
<div _hash="d9a39b62fbb5d498e594ddd359735ef1cfcd762a" created="20130104093506000" creator="willrogers" modified="20130104093506000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/StickyBit/1013878:76c12a3fc555e04d9185216851336860bd9f0965&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1013878" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="StickyBit" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="StickyBit" type="text/x-tiddlywiki">
<pre>The sticky bit is an additional part of permissions on linux.  

!!Directories
You can see it as the last part of a listing:
{{{
d-w----r-T  4 will    will      4096 Jan  4 09:21 mdbmp5h4j/
drwxrwxrwt  2 lightdm lightdm   4096 Jan  2 09:25 at-spi2/
}}}
It means that anyone can write to a directory, but ownership permissions are retained.  The common use is in {{{/tmp}}} - it means that anyone can write there, but users can't remove other users' files.

Because the {{{t}}} covers the final {{{x}}} permission in the listing, a {{{T}}} is used when the file is not executable by everyone.

!!Files
Originally, the sticky bit was set on executable files to tell the OS to keep an executable in memory.  This is basically not useful any more, and is not used in Linux.
</pre>
</div>
<div _hash="77fc143809527c709eba18e21c880b8f4643d422" created="20111003085103000" creator="willrogers" modified="20120214160829000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/StomProtocol/364754:a8eb442e460948a0aca24465f162d83bd44b0878&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364754" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="StomProtocol" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="python stomp" title="StomProtocol" type="text/x-tiddlywiki">
<pre>!STOMP

STOMP (Streaming Text Oriented Message Protocol) is a protocol designed for working with message-oriented middleware.  It is somewhat similar to HTTP, working over TCP.  ~OpenWire is a similar but binary protocol supported only by ActiveMQ.

!!stomppy

stomp.py is a python wrapper around STOMP.  It's home page is here: http://code.google.com/p/stomppy/.  There really isn't much documentation there.  We've had various problems with different versions.  To find out the version you're actually using, try {{{stomp.__version__}}}.

!!!CLI
There is a command-line interface to stomppy, which allows you to interact with the broker directly.  I think this is likely to be useful for learning about STOMP in particular.  Here's an example:
{{{
will@will-VirtualBox:/var/log/apel$ python /home/will/apel/lib/stomp.py-3.0.3/stomp/cli.py -H dev.msg.cern.ch -P 6163
CONNECTED
session: ID:gridmsg005.cern.ch-61430-1316499127659-2:1135245


&gt; help
Usage: help &lt;command&gt;, where command is one of the following:
    
abort ack begin commit disconnect exit help man quit run send sendfile sendreply stats subscribe unsubscribe ver version 
&gt; disconnect
will@will-VirtualBox:/var/log/apel$ 
}}}</pre>
</div>
<div _hash="6d271b3c56bffa918309ff554c9a03a4c3515983" created="20111017080753000" creator="willrogers" modified="20111017082559000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/StorageAccounting/364760:c919d84e3846cf278a165f33132f9425c2b4966b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364760" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="StorageAccounting" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="StorageAccounting" type="text/x-tiddlywiki">
<pre>Talk at EMI AHM - John Kerr Nilsen; kept in charge by Patrick Fuhrmann.

* May - StAR definition agreed
* Storage Elements must have a plan by October
** Doesn't seem like this will happen
*** StoRM on plan
*** dCache - something happening
*** DPM - delayed because someone left
* Released for EMI 3.

!!Questions
How do we get the information to APEL or DGAS?
Should we have a DB like APEL, then have a publisher like APEL's?

Responsibility - Laurence?  Oliver? 
* These people will do what 'infrastructure' asks them for.  They are data people.
* These people are happy to define the record.
** Does that include how the records are presented (i.e. XML?) or just what information is present?
* We need to correlate what we store in our DB with what they've got in their record
** We also need to understand what is relevant to present, and how this might be done.

They're going to try and organise a teleconference every two weeks to speed up discussion.  The next OGF is in March in Oxford and there needs to be some consensus a reasonable time before then.

There should be a 'profile' of the element for EMI, so that we understand within EMI our interpretations and usages of the same fields are the same and useful to the users.
</pre>
</div>
<div _hash="6f3793d06c343261c4ba0befb80e8d687c67e4b2" created="20111120111104000" creator="willrogers" modified="20120229160919000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/StructuredMarkup/364772:d9648fa9ebc2e33f58d00c16ed9eeedb6a8e62c0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364772" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="StructuredMarkup" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="html python xml" title="StructuredMarkup" type="text/x-tiddlywiki">
<pre>Chapter 19 of the python documentation is all about HTML and XML.

!!!19.1 - 19.4: HTML 
~HTMLParser (19.1) is the most likely part of this to be useful.  However, when doing screen-scraping-type stuff, I quickly went on to using [[Beautiful Soup|http://www.crummy.com/software/BeautifulSoup]], which I found easy to use to do what I wanted.
!!!19.5: Expat
Is this an example of a sax parser?  It seems to be.
!!!19.6 - 19.8: XML DOM
This is a node-based xml handler, which means it reads everything into memory and constructs a tree of objects.  This makes it easy to use, but slower and using more memory.
!!!19.9 - 19.12: XML SAX
This is an event-based xml handler, which is fast and requires less memory because it doesn't read everything into memory.
See SaxPython.
!!!19.13: XML Element Tree
This is recommended for working with XML, but was introduced in python 2.5, so I'll use sax for now.
</pre>
</div>
<div _hash="c5c2e73087cfd75aca63dcb28adc965de9a15baa" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/StyleSheet/1521913:576012ebe495d0b90a73e9f4153a57c886ed23ea&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521913" server.permissions="read" server.recipe="willrogers_private" server.title="StyleSheet" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="StyleSheet" type="text/x-tiddlywiki">
<pre>[[StyleSheetTiddlySpace]]</pre>
</div>
<div _hash="1a28a9b1acf2996cdfbb522f52f0e56353d9f883" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/StyleSheetTiddler/1521917:88ba86ad3b34a1733c00fe60f5eddc4debb97c38&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521917" server.permissions="read" server.recipe="willrogers_private" server.title="StyleSheetTiddler" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="StyleSheetTiddler" type="text/x-tiddlywiki">
<pre>/*{{{*/
.tiddler .originButton div {
	display: inline-block;
}

.tiddler .spaceSiteIcon .siteIcon {
	_display: inline; /* IE doesn't like inline-block */
}

.tiddler .originButton {
	display: block;
}

.selected .tagging,
.selected .tagging:hover {
	border: none;
	background: none;
}

.tagging {
	float: none;
	background: none;
	border: none;
}

.tagging li.listTitle {
	margin-left: 0px;
}
.tagging li {
	margin: 0 8px;
}

.tagging .tiddlyLink {
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	-o-border-radius: 3px;
	border-radius: 3px;
	padding: 1px 2px;
	line-height: 1.2em;
}

/* for following */
#popup .siteIcon {
	float: left;
	height: 25px;
}

.content {
	width: 100%; /* IE */
	font-size: 0.9em;
}

.editorHeading {
	height: 48px;
}

.heading {
	left: 0;
	margin-bottom: 40px;
	position: relative;
	top: 32px;
}

.followButton a {
	display: block;
	margin-top: -20px;
}

.tiddler .followPlaceHolder {
	display: block;
	position: absolute;
	top: 16px;
	right: 64px;
	_right: 138px; // add width of modifierIcon
}

.tiddler .followButton {
	position: relative;
	height: 24px;
	text-align: left;
	color: #fff;
	background: [[ColorPalette::PrimaryMid]];
	padding: 10px 0px 0px 10px;
	width: 38px;
	margin: -16px -8px 24px 0;
}

/* creates the larger triangle */
.followButton:before {
	content: "\00a0";
	display: block; /* reduce the damage in FF3.0 */
	position: relative;
	bottom: -20px;
	right: 0;
	width: 0;
	height: 0;
	border-width: 0 0 20px 20px;
	border-style: solid;
	border-color: transparent [[ColorPalette::PrimaryMid]];
}

.toolbar svg {
	height: 16px;
	width: 16px;
}

.toolbar svg .glyph {
	fill: #ccc;
}

.toolbar a:hover .glyph {
	fill: black;
}

.toolbar a:active .glyph {
	fill: [[ColorPalette::Background]];
}

.originButton,
.followPlaceHolder,
.tiddler .subtitle {
	cursor: pointer;
}

.editSpaceSiteIcon .originButton {
	cursor: auto;
}

.tiddler .subtitle:hover {
	font-weight: bold;
	background: none;
}

.originButton img,
.originButton svg {
	margin-left: 0px;
}

.modifierIcon {
	position: absolute;
	width: 74px;
	top: 0px;
	right: 0px;
	_right: 74px; /* in IE6 positioning works incorrectly so use -width instead */
	text-align: right;
}

.modifierIcon img,
.modifierIcon svg {
	margin-right: 8px;
}

.tiddler .viewer {
	padding-bottom: 16px;
	margin: 0 0 0 56px;
	line-height: 1.4em;
}

.viewer pre {
	margin-left: 0;
}

.siteIcon .label {
	color: [[ColorPalette::TertiaryDark]];
}

.tiddler .spaceSiteIcon {
	float: left;
	margin-right: 0;
	margin-top: 0;
	position: relative;
	display: block;
}

.tiddler .titleBar {
	display: block;
	margin-right: 136px;
	margin-left: 56px;
}

.followButton a {
	color: [[ColorPalette::Background]];
}

.tiddler {
	position: relative;
	padding: 0;
	margin-bottom: 3em;
	border-top: 3px solid [[ColorPalette::PrimaryMid]];
	background: #fff;
}

.tiddler .editor {
	padding: 0px 8px;
}

.tiddler .heading .title {
	position: relative;
	display: block;
	word-wrap: break-word;
	font-size: 32px;
	line-height: 32px;
}
.tiddler .heading .editor.title {
	font-size: 1.7em;
	line-height: normal;
}

.tiddler .headingClear {
	clear: both;
}

.tiddler .subtitle {
	font-style: italic;
	font-size: 0.9em;
	color: #a6a59e;
	margin-top: 0;
}

.toolbar {
	position: absolute;
	padding: 0;
	top: 8px;
	right: -8px;
}

.toolbar .moreCommand.highlight {
	background: none;
}

.tiddler .toolbar .button {
	border: none;
	display: inline;
	padding: 0px;
	margin-right: 16px;
}

.tiddler .toolbar a:hover {
	background: none;
}

.tiddler .tagged .listTitle {
	display: none;
}

.revButton {
	float: right;
}

/*! EditTemplate specific*/
.tiddler .privacySettings {
	text-align: center;
}
.tiddler .privacySettings .originButton {
	display: inline;
}

.editSpaceSiteIcon, .privacyEdit {
	float: left;
}

.editSpaceSiteIcon svg,
.editSpaceSiteIcon img,
.editSpaceSiteIcon .roundelLabel {
	float: left;
}

.tagTitle {
	position: absolute;
	text-align: center;
	width: 48px;
	top: 0px;
	left: -56px;
}

.editSpaceSiteIcon .originButton img,
.editSpaceSiteIcon .originButton svg {
	height: 16px;
	margin-left: 24px;
	margin-right: 32px;
	width: 16px;
}

.tagAnnotation {
	margin-top: 8px;
	padding-bottom: 8px;
}
.annotationsBox {
	margin-top: 8px;
}

.editorFooter {
	position: relative;
	padding: 0;
	margin-top: 16px;
	margin-left: 64px;
}

.tiddler .editorFooter .editor {
	padding-left: 0px;
}

.heading .editor input {
	width: 100%;
	font-size: 1.5em;
}

.spaceSiteIcon .externalImage .image a:hover,
.modifierIcon .externalImage .image a:hover {
	background: none;
}

div.toolbar {
	visibility:hidden;
	right:-16px;
}

.selected div.toolbar {
	visibility: visible;
}

.followButton a:hover {
	background: [[ColorPalette::PrimaryMid]];
	text-decoration: underline;
}

a.image:hover {
	background: transparent;
}

@media all and (max-device-width: 480px) {
	div.toolbar {
		visibility:visible;
	}
}
@media only screen and (device-width: 768px) {
	div.toolbar {
		visibility:visible;
	}
}
@media all and (max-width: 960px) {
	.tiddler .titleBar {
		margin-left: 36px;
		margin-right: 80px;
	}

	.tiddler .heading {
		margin-bottom: 48px;
	}

	.tiddler .heading .title {
		font-size: 32px;
		line-height: 32px;
	}

	.tiddler .modifierIcon img,
	.tiddler .modifierIcon svg,
	.tiddler .spaceSiteIcon .originButton img,
	.originButton svg {
		width: 32px;
		height: 32px;
		margin-left: 0px;
		margin-right: 0px;
	}

	.tiddler .followPlaceHolder {
		right: 48px;
	}

	.tiddler .followButton {
		width: 24px;
	}

	.tiddler .viewer {
		margin: 0px 0px 0px 36px;
		padding-top: 0;
	}

	br {
		line-height: 0.5em;
	}
}
/*}}}*/</pre>
</div>
<div _hash="3150bd9a2cb78777f61a7b6f6539c5fa646fd7ac" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/StyleSheetTiddlySpace/1521919:b544b414d794e2052038cdd67f9bda448b4ab7af&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521919" server.permissions="read" server.recipe="willrogers_private" server.title="StyleSheetTiddlySpace" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="StyleSheetTiddlySpace" type="text/x-tiddlywiki">
<pre>/*{{{*/
body {
	font-size: 1em;
	font-family: helvetica, arial, sans-serif;
	background-color: #fff;
	color: [[ColorPalette::Foreground]];
}

body ul { margin: 0; }

#popup {
	background-color: [[ColorPalette::TertiaryPale]];
}

#popup.confirmationPopup, .followList {
	font-size: 0.8em;
	padding: 1em;
	border: solid 1px [[ColorPalette::SecondaryMid]];
	background-color: [[ColorPalette::SecondaryPale]];
}

.followList .listTitle {
	text-decoration: underline;
}

#popup .followTiddlersList a {
	display: inline;
	padding: 0;
}

#popup li a {
	color: [[ColorPalette::PrimaryMid]];
	font-weight: bold;
}

#popup li a:hover {
	color: [[ColorPalette::PrimaryPale]];
	background: [[ColorPalette::PrimaryMid]];
}

#popup li.listTitle {
	border-bottom: 1px solid #000;
	font-weight: bold;
	margin-bottom: 10px;
}

#popup.followList {
	margin-left: 50px;
	margin-top: -30px;
}

.followTiddlersList .label {
	display: block;
	left: 10px;
	top: 0px;
	line-height: 16px;
	position: relative;
}

#popup .followTiddlersList .siteIcon{
	height: auto;
}

#popup .followTiddlersList li{
	clear: both;
	display: block;
	height: 48px;
	margin-bottom: 8px;
	position: relative;
}

#popup .followTiddlersList a{
	display: inline;
}

#displayArea {
	margin: 0;
	top: 0px;
	left: 0px;
	width: 100%;
	position: relative;
}

.revisionCloak {
	position: absolute;
	position: fixed !important;
	height: 100%;
	width: 100%;
	top: 0;
	left: 0;
	border: 0;
	margin: 0;
	padding: 0;
	opacity: 0.5;
	filter: alpha(opacity=50);
	background-color: #000;
}

/* *** Header *** */
.header {
	position: relative;
	background-color: [[ColorPalette::PrimaryMid]];
	_width: 100%; /* ie 6 demands */
}

.headerForeground {
	background-color: [[ColorPalette::PrimaryMid]];
	float: left;
	margin: 24px 16px 0px 72px;
	padding: 0;
	position: relative;
	top: 0;
	_width: 70%; /*ie6: needed for the background to actually be transparent*/
	_background-color: transparent; /*ie6: needed to show the search box*/
}

.clearFloat {
	clear: both;
}

#contentWrapper {
	position: relative;
	padding-top: 1px;
	top: -1px;
}

#tiddlerDisplay {
	_position: relative; /* ie 6*/
}

.siteTitle {
	clear: both;
	display: block;
	font-size: 32px;
	font-weight: bold;
	line-height: 32px;
}

.siteSubtitle {
	display: block;
	font-size: 14px;
	height: 16px;
	margin-bottom: 8px;
}

#sidebarSearch {
	padding: 0;
	position: absolute;
	right: 80px;
	top: 8px;
	width: 176px;
}

#sidebarSearch .txtOptionInput {
	width: 100%;
	margin-top: 5px;
	_color: #bbb; /* ie6 danger */
}

#sidebarSearch .txtOptionInput:focus {
	color: #000;
}

#sidebarSearch .searchButton {
	display: none;
}

/* *** Menu Bar *** */

#mainMenu {
	position: static;
	text-align: left;
	margin-left: 72px;
	float: left;
	width: auto;
	padding: 0;
	font-size: 1em;
	line-height: normal;
}

#mainMenu a {
	color: #fff;
	padding: 8px;
	font-size: 0.9em;
	margin-right: 16px;
}

#mainMenu a:hover {
	background-color: [[ColorPalette::PrimaryMid]];
	color: [[ColorPalette::Background]]
}

#sidebarOptions {
	margin-right: 72px;
	float: right;
	font-size: 1.1em;
	line-height: 1.6em;
	min-height: 1em;
	padding-top: 0;
}

#sidebarOptions a {
	margin-right: 8px;
}

.confirmationPopup .button,
#sidebarOptions .button {
	cursor: pointer;
	line-height: 1.4em;
	text-align: center;
	margin-right: 8px;
	margin-left:-2px;
}

.confirmationPopup .button {
	font-size: 0.9em;
	padding: 2px;
}

#sidebarOptions .button {
	font-size: 0.7em;
	float: left;
	width: 80px;
	padding: 0px;
        color: #fff;
}

.confirmationPopup a.button,
#sidebarOptions a {
	border: none;
	margin: 0 0.2em;
	padding: 0.6em 0.25em;
	display: inline;
	color: #666;
}

.confirmationPopup a.button:hover,
#sidebarOptions a:hover {
	color: #000;
}

.confirmationPopup a.button:active,
#sidebarOptions a:active {
	border: solid 1px [[ColorPalette::PrimaryMid]];
	background-color: #fff;
	background: -webkit-gradient( linear, left bottom, left top, color-stop(0.1,rgb(200,200,200)), color-stop(1, rgb(100,100,100)));
	background: -moz-linear-gradient(center bottom , rgb(200,200,200) 10%,rgb(100,100,100) 100%) repeat scroll 0 0 transparent;
}
/* *** Sidebar *** */

#sidebar .wizard table {
	margin: 0px;
}

.tabContents .listTitle:first-child {
	margin-top: 0px;
}

#menuBar {
	background: [[ColorPalette::PrimaryLight]];
	left: 0;
	right: 0;
	position: relative;
	margin: 0;
	padding: 0.5em 0 0.5em 0;
	min-height: 1em;
	overflow: hidden;
	_width: 100%; /* for ie 6 */
}

#sidebarOptions a.button:hover {
	color: [[ColorPalette::PrimaryPale]];
    background: [[ColorPalette::PrimaryMid]];
}

#tiddlerDisplay, #searchResults {
	margin: 16px 448px 0 72px;
}

#sidebarTabs {
	position: absolute;
	right: 72px;
	width: 352px;
	top: 0;
}

#sidebarTabs .tabsetWrapper .tabset {
	width: 87px;
	border-top: 1px solid [[ColorPalette::PrimaryPale]];
	border-left: 1px solid [[ColorPalette::PrimaryPale]];
	border-bottom: 1px solid [[ColorPalette::PrimaryPale]];
	height: auto;
	float: left;
	word-wrap: break-word;
	top: 0;
	padding: 0;
}

#sidebarTabs .tabsetWrapper .tabContents {
	background-color: [[ColorPalette::PrimaryPale]];
	border: 3px solid [[ColorPalette::PrimaryMid]];
	width: 242px;
	_width: 238px;
	left: -3px;
	_left: -5px;
	position: relative;
	min-height: 34em;
	padding: 8px;
	font-size: 0.8em;
}

/* ---- Side style --- */

#sidebarTabs .tabsetWrapper .tabset .tab {
	font-size: 0.9em;
	padding: 0.7em 8px 0.5em;
	color: #fff;
	background: [[ColorPalette::PrimaryLight]];
	border: none;
	line-height: 16px;
	position: relative;
	display: block;
	margin: 0;
}

#sidebarTabs .tabsetWrapper .tabset .tabSelected {
	color: [[ColorPalette::PrimaryMid]];
	background: [[ColorPalette::PrimaryPale]];
	border-top: 3px solid [[ColorPalette::PrimaryMid]];
	border-bottom: 3px solid [[ColorPalette::PrimaryMid]];
	border-left: 3px solid [[ColorPalette::PrimaryMid]];
	z-index: 10;
	margin-top: -1px;
	font-weight: bold;
}

#sidebarTabs .tabContents li {
	border: none;
	margin-left: 0;
	word-wrap: break-word;
}

.tabContents .timeline {
	background: [[ColorPalette::PrimaryPale]];
	margin-bottom: 8px;
}

#sidebarTabs .timeline li.listTitle {
	color: #132E43;
	margin-left: 8px 0;
	padding: 0.3em 0.11em;
	font-size: 1em;
	border-bottom: none;
}

#sidebarTabs .tabContents li a {
	display: block;
	text-align: left;
	margin: 0 0 1px 0;
	padding: 0.3em 1em;
	background: [[ColorPalette::PrimaryPale]];
}

#sidebarTabs .tabsetWrapper .tabset a:hover,
#sidebarTabs .tabContents li a:hover {
	color: [[ColorPalette::PrimaryPale]];
	background: [[ColorPalette::PrimaryMid]];
}

/* Activity Stream */
#sidebarTabs .tabContents .activityStream .feedItem a {
	display: inline-block;
	padding: 0;
	background: none;
}

/* ---- Tagging box --- */
.tagInfo {
	border: 1px solid #cccccc;
	padding: 10px 15px;
	-moz-box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);
	box-shadow: 0 2px 2px rgba(0,0,0,0.2);
	color: [[ColorPalette::TertiaryMid]];
	background: -moz-linear-gradient(100% 100% 90deg, #f4f4f4, #e5e5e5);
	background: -webkit-gradient(linear, left top, right top, from(#e5e5e5), to(#f4f4f4));
	margin-top: 1em;
	font-size: 13px;
	margin: 0 0 0 56px;
}

.tagInfo ul {
	list-style: none;
	padding-left: 2.2em;
}

.tagInfo ul li {
	display: inline;
}

.tagInfo ul li.listTitle,
.tagInfo .tagging ul li.listTitle {
	color: [[ColorPalette::PrimaryMid]];
	font-size: 13px;
}

.tagInfo ul li a {
	border: none;
}

.tagInfo .tagging ul li {
	float: none;
	display: inline-block;
}

.tagInfo .tagging {
	padding: 0;
}

.viewRevision .toolbar {
	right: 48px;
	top: 8px;
}

.viewRevision .modifierIcon img,
.viewRevision .modifierIcon svg {
	margin-right: 8px;
}

.viewRevision .toolbar svg {
	width: 32px;
	height: 32px;
}

/* --- IE hacks from lattice --- */

/* ie hacks */
* html #menuBar {
	margin-bottom: 8px;
}
.toolbar .svgIconText {
	*display: inline;
}

div.tiddler .toolbar a {
	cursor: pointer;
	float: left\9;
	display: inline\9;
}

* html .toolbar {
	right: 8px;
}
* html .followButton a {
	margin-top: 0px;
	margin-right: 8px;
}
* html #tiddlerDisplay {
	margin-top: 0px;
}

/* for printing purposes */
@media print {
	#mainMenu,
	#sidebar,
	#messageArea,
	.toolbar,
	.followPlaceHolder,
	#backstageButton,
	#backstageArea,
	#sidebarTabs,
	#sidebarSearch .txtOptionInput,
	#sidebarOptions {
		display: none !important;
	}
	#displayArea {
		margin: 1em 1em 0em;
	}
	noscript {
		display:none; /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
	}
	#tiddlerDisplay {
		margin: 16px 16px;
	}
}

@media all and (max-width: 960px){
	#tiddlerDisplay,
	#searchResults {
		margin: 16px 366px 0 16px;
	}

	#mainMenu {
		margin-left: 16px;
	}

	.headerForeground {
		margin-left: 16px;
	}

	#sidebarSearch {
		right: 16px;
	}

	#sidebarOptions {
		margin-right: 16px;
	}

	#sidebarTabs {
		right: 16px;
		width: 326px;
	}

	#sidebarTabs .tabsetWrapper .tabset {
		font-size: 0.9em;
		width: 77px;
	}

	#sidebarTabs .tabsetWrapper .tabContents {
		width: 226px;
		_width: 222px;
	}

	#sidebarTabs .tabContents li a {
		font-size: 0.9em;
	}
}
/*}}}*/
[[StyleSheetTiddler]]</pre>
</div>
<div _hash="d05ea65f3aca8404f07c54aa378a13940dce4eaa" created="20110423101906000" creator="willrogers" modified="20110423142918000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SudokuPython/364775:30afff836b53e84feca3f362dbc84bbc44c46329&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364775" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SudokuPython" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="gchq puzzles python" title="SudokuPython" type="text/x-tiddlywiki">
<pre>How to do this?

We need: 
* a representation of the grid, covering starting point, possibles and saved solutions
** I'm using NumPy arrays to store the grid.
* an algorithm which covers as many iterations as necessary

One problem is how to roll back once you've discovered something doesn't work.</pre>
</div>
<div _hash="798217cdc474818357930c8a572a04ab025ed0b3" created="20111209115653000" creator="willrogers" modified="20130805085118000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SvnNotes/1333433:d7973eedf91f00658ecef51523b2dbbe996ff00b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1333433" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SvnNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="svn vcs" title="SvnNotes" type="text/x-tiddlywiki">
<pre>Having started CvsNotes, and trying to sort out some problems with the APEL repositories, I realised I should probably make some notes on SVN as well.  I've got the basic concepts fine, but a lot of the detail is actually still vague for me.  I won't cover administration for the moment.

Most of this will come from the comprehensive free book available online: http://svnbook.red-bean.com/.

!!Introduction
SVN is designed to be the successor to CVS - so it works in a very similar way, with similar commands, but aims to correct most of the design flaws which made CVS difficult to work with.  It doesn't try to be a radical overhaul in versioning - more tries to do the same thing better.

SVN and CVS don't lock files, on the basis that as well as being awkward when more than one person is trying to work at the same time, source code has lots of dependencies, so changes to one file inevitably affect others.  Locking the file you're editing won't guard against problems between files.

SVN instead uses the 'working repository' paradigm, whereby there can be many versions of code being worked on, with one central repository maintaining state.

!!Useful stuff
* {{{svn info}}} is a very good command for getting a feel for what's going on.  It will tell you:
** the URL of the current directory (or file specified)
** the revision of the last change of the current directory
** the author and date of that change
* {{{svn log}}} shows the log messages associated with changes - very useful
** I think it shows all changes relevant to the specified location
* {{{svn export}}} just removes all the .svn data and gives you a clean copy.  You do this either from a working copy or directly from the repository.
* {{{svn diff}}} diffs the current changes from the base version.  You can compare to the head revision in the repo using {{{svn diff -r HEAD}}}.

!!{{{svn status}}}
{{{svn status}}} shows if files have been modified, added, deleted or are not known to svn.  {{{svn status -v}}} shows the current revision and the revision where the file was last changed for all files.  {{{svn status -u}}} compares with the latest from the repository, so needs to be authenticated to the repo.
* If you see an L in the status, the directory or file might be locked.  This happened when I got a network error trying to commit from my virtual machine.  You can use {{{svn cleanup}}} to remove the locks.
* If you see a plus in the status, it means svn knows about the history of the file (e.g. when you have moved or copied a file) and will retain it.

!!Merging
It's simple to create a branch using {{{svn copy}}}.  Merging the branch back is more complicated.
I had a simple example where I hadn't actually changed the trunk while I'd been working on a new version.  The command
{{{
svn merge --reintegrate &lt;url-of-branch&gt;
}}}
from the {{{trunk}}} directory, seemed to work fine.  It did take aaages on the SVN server at work though - no idea why.  The {{{--reintegrate}}} flag refers to the fact that the branch is coming back into the trunk, rather than the more 'standard' merge of trunk changes to the branch.  I hadn't done any of those standard merges, because there were no changes in the trunk to merge.  Once you have reintegrated a branch, you should delete it.

Alternatively, you may want to merge new changes from the trunk into a working branch, so that it doesn't get too out of date.  You can do this as follows:
{{{
svn merge -r 1914:1956 https://svn.esc.rl.ac.uk/repos/sct/software/apel/dbloader/trunk
}}}
The revision numbers are the rev when you split the branch and current rev of the trunk.  It will prompt you to resolve any conflicts.

!!Undoing
If you delete a directory and then decide you didn't want to before committing, undo like this:
{{{
svn revert &lt;directory&gt; --recursive
}}}

If you add a directory (using eg {{{svn cp}}} and change your mind, you can:
{{{
svn rm --force &lt;directory&gt;
}}}
Not quite sure why you need to force it.

If you want to undo a change which has been committed, you can use merge in reverse.  Here's an example (when I'd checked out the latest version, which I wanted to revert):
{{{
svn merge -r HEAD:97493 .
}}}
You then need to check the changes back in.


!!Commands
As well as {{{svn}}}, the main command, there are other top-level commands:

* {{{svnversion}}} - reports the revisions of the items present in a working copy.  More on this when I've figured more out about it.
* {{{svnlook}}} - I don't know what this does yet.
* {{{svnadmin}}} - for administration of a repo.  This doesn't concern me at the moment.

There are others which look even more towards the administration side of things.  I'll add them as and when they become relevant to me.</pre>
</div>
<div _hash="e0e2db1722d9790b7facb1a50d53f6eee7e014a3" created="20110421131520000" creator="willrogers" modified="20111021100011000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/SvnUbuntu/364789:4e122e76dbf56c8787ecb64e2db5fe816ee8b489&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364789" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SvnUbuntu" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="SvnUbuntu" type="text/x-tiddlywiki">
<pre>Working with e-Science SVN on Ubuntu: see http://svn.esc.rl.ac.uk

* Install Subversion:
** {{{ apt-get install subversion }}}
* Install Kerberos packages:
** {{{ apt-get install krb5-user }}}
** I used the default blank space for the default realm
* Copy the sample file from the site above to {{{ /etc/krb5.conf }}}
* {{{ kinit hgs15624 }}} to create a token
* now try {{{ svn co https://svn.esc.rl.ac.uk/repos/sct/software/apel/ }}}

</pre>
</div>
<div _hash="1720b805c0408fb371f3e66ca349c2c80a668005" created="20110421100842000" creator="willrogers" modified="20110421100842000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/SystemSettings/365030:a29761d85cd8953bcadedf7c8ec88880733659ea&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="365030" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="SystemSettings" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="excludeLists" title="SystemSettings" type="text/x-tiddlywiki">
<pre>chkPrivateMode: false</pre>
</div>
<div _hash="ddf1e7354a27e504c607cf6028af72ef756ed6e5" created="20111120150603000" creator="willrogers" modified="20111205192923000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TabletComputer/364796:c3f6a065defd22109febff2ae37a29b174e6614e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364796" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TabletComputer" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TabletComputer" type="text/x-tiddlywiki">
<pre>Ed and I were given the task of researching an appropriate tablet computer for Mum for Christmas.

!!Requirements:
!!!Required
* &lt;= £300
* Not be obsolete next year
* Easy to use.
* Uses:
** mainly browsing
** music?
** iPlayer?
!!!Not required
* 3G
* GPS?
* Large capacity

!!The market
The market is mainly iPad vs. Android.  The fairly common consensus is that the iPad is the best tablet, but it also costs £400+.  There also seems to be a widely-held opinion that Android tablets which compete with the iPad are a similar price.

!!iPad 2
The basic version, 16GB and Wi-Fi only, costs £400 from Apple, though it's possible we could get a discount through academia.  

It turned out that Liz could borrow one from the library at the university, so I'm writing this on it.  I've got it for a couple of days to play with.

It is as you'd expect very nice to use.  The keyboard is a little cramped to use with two hands, but the thing is very nice and there's a nice feeling when you type.
!!!Pros
It works and it's going to be easy to use.  Web browsing is simple and smooth. 
!!!Cons
You may have to install iTunes on some computer and do some messing around before you can get any music on it.

!!~BlackBerry Playbook
John got one of these, so I've had a go.  
!!!Pros
It's pretty slick - no lag like I think a lot of the Android tablets would have.  The web browser's pretty good.
!!!Cons
7" screen is the main problem, so a bit small.  It's on ~BlackBerry, so you get neither the Android Market nor the App Store.

!!Kindle Fire
This isn't really an option, because there isn't a UK release date yet and it doesn't seem like it's going to be soon.</pre>
</div>
<div _hash="2f5c386f8703bb13c003dd345af086b725a32278" created="20140419114247000" creator="willrogers" modified="20140516101124000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TeachingPython/1758327:57fb4ff0d3e68ad815ac3a737d34dcbc4d1cee57&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1758327" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TeachingPython" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TeachingPython" type="text/x-tiddlywiki">
<pre>!!!Computers
* What is a program?
* How does it talk to the computer?
* Languages
* Why do programmers bang on about Linux?

!!!Starting python
* Creating a file
* Using the terminal
* Finding your way around
* Text editors

!!!Basics
* variables
* printing
* numbers
* loops
* functions
* importing
* objects

!!!Boring details
* indentation
* strings and types (big numbers!)

!!Lesson plan
1. What do computers do?
* processor, memory, files, programs
* starting up python
* ctrl-C

2. Numbers, strings, operators, variables, print
* types
* big numbers

3. Lists, for loops, while loops, if
* indentation

4. Objects and Turtle
* turtle projects over lunch

5. Functions

6. Your own objects, methods

7. Importing other people's code, bigger programs

8. Final project
</pre>
</div>
<div _hash="d4630cb5b2ca361d020535722bcb4c627573c3a1" created="20140126105802000" creator="willrogers" modified="20140217185530000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TechnicolorRouter/1664295:6dd8edd11850d4602f3c5b99622d91e1b5a34965&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1664295" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TechnicolorRouter" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TechnicolorRouter" type="text/x-tiddlywiki">
<pre>The username is 'admin' and the password is the serial number, printed on the bottom.

!!Telnet
You can telnet with the same details.  Ctrl-H is backspace.  {{{help}}} gives you some information about different commands.

There are a few commands you can use.  I was playing with {{{dhcp server}}} and managed to disconnect every device apart from the Raspberry Pi - probably using {{{dhcp server lease flush}}}.

I ended up creating the DHCP pool from scratch.  Some points:
* you have to disable the pool before you can edit it, and enable at the end
* {{{gateway}}} and {{{server}}} ended up as the router's internal IP address
* {{{primdns}}} and {{{secdns}}} were {{{212.159.6.10}}} and {{{212.159.6.9}}} as per http://www.plus.net/support/customer_service/using/settings.shtml.
* run {{{saveall}}} at the end to save changes</pre>
</div>
<div _hash="1b527df524e5f8c1a43dc6ffc755a69ca81a9c23" created="20110819120432000" creator="willrogers" modified="20110829170229000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TenerifeFlights/364810:b3f00fdc2ae3e2d6b6ef48b225e0f28435bcf9d9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364810" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TenerifeFlights" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TenerifeFlights" type="text/x-tiddlywiki">
<pre>To get to the Canary Islands, we basically need to fly via Tenerife South.  Both Ryanair and EasyJet fly there.  We ideally want to fly out on the 3rd and back on the 17th, both Saturdays.  We'd also probably want a flight which gets in earlyish on the 3rd so that we can connect with a ferry to the island we're going to which is not Tenerife (likely La Gomera or La Palma).

Here's the places we might want to fly from:

| '''EasyJet''' | '''Ryanair''' |
| Bristol | Bristol |
| Gatwick | Stansted |
| | Luton |
| | East Midlands |
| | Birmingham |

Possibles (prices as of 19/8, excluding baggage):
* A bag costs £25 on Ryanair and £30 on EasyJet.  We might want to try and share one...
* The Gatwick and Bristol flights seem more expensive
* There aren't flights on the right days for East Midlands, but eg the Friday flights seem cheaper.

!!!Sat 3rd
| Luton | 11:10 | 15:45 | £58 | Ryanair |
| Birmingham | 07:05 | 11:40 | £78 | Ryanair |


!!!Sat 17th
| Luton | 06:25 | 10:45 | £58 | Ryanair |
| Birmingham | 12:15 | 16:55 | £58 | Ryanair |

!!Travel to airports
!!!Luton
More than 2hrs on the train, but you can drive and park relatively easily.  You would of course have to fly back there as well
!!!Birmingham
Only about an hour on the train from Oxford
!!!East Midlands 
Easier via my parents' house?</pre>
</div>
<div _hash="8bdaf81d15846bdb006d504e76b679cc840e59bd" created="20121118105201000" creator="willrogers" modified="20121224200853000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ThingsIdLike/1001634:48aac6750f65fd43d98acac4b2ff266b9fd7fa18&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1001634" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ThingsIdLike" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ThingsIdLike" type="text/x-tiddlywiki">
<pre>!Things I'd Like

* Integrated delicious on Android
* OS maps on Android
* Free Android tracker app
** Tracker app with OS maps
* Decent free photo resizer
* A list of music not on Spotify
* A proper phone call charge calculator
* A delicious add-on for opera
* Data counter for PC
* Album length on Spotify</pre>
</div>
<div _hash="948bb64604a46205267e446af0f638c4e8fc3c8e" created="20131111192332000" creator="None" modified="20131111192332000" modifier="None" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlyFileImporter/1521907:4d2171bf610ea945c94e219f7cd60b7decbd120e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521907" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlyFileImporter" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlyFileImporter" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlyFileImporter|
|''Version''|0.3.8|
|''Author''|Ben Gillies|
|''Type''|plugin|
|''Description''|Upload a TiddlyWiki file to TiddlyWeb, and import the tiddlers.|
!Usage
Upload a TiddlyWiki file to TiddlyWeb, and import the tiddlers.
!Requires
tiddlyweb
tiddlywebplugins.reflector
!Code
***/
//{{{
(function($){
if(!version.extensions.TiddlyFileImporter)
{ //# ensure that the plugin is only installed once
	version.extensions.TiddlyFileImporter = { installed: true };
}

config.macros.fileImport = {
	reflectorURI: '/reflector?csrf_token=%0',
	incorrectTypeError: 'Incorrect File Type. You must upload a TiddlyWiki',
	uploadLabel: 'Upload',
	uploadLabelPrompt: 'Import tiddlers from this TiddlyWiki',
	step1FileText: 'File:',
	step1PostText: 'In the next screen you will select the tiddlers to import.',
	step1Title: 'Step 1: Pick a TiddlyWiki to import',
	step1TypeChooser: 'Import From:',
	step3Html: ['&lt;input type="hidden" name="markList" /&gt;',
		'&lt;input type="hidden" checked="true" name="chkSync" /&gt;',
		'&lt;input type="hidden" name="chkSave" /&gt;',
		'&lt;input type="hidden" name="txtSaveTiddler" /&gt;'].join(),

	handler: function(place, macroName, params, wikifier, paramString) {
		var wizard = new Wizard();
		wizard.createWizard(place, 'Import a TiddlyWiki');
		this.restart(wizard);
	},

	restart: function(wizard) {
		var me = config.macros.fileImport;
		wizard.addStep(me.step1Title, ['&lt;input type="hidden" ',
			'name="markList" /&gt;'].join(""));
		var markList = wizard.getElement('markList');
		var uploadWrapper = document.createElement('div');
		markList.parentNode.insertBefore(uploadWrapper, markList);
		uploadWrapper.setAttribute('refresh', 'macro');
		uploadWrapper.getAttribute('macroName', 'fileImport');
		var iframeName = 'reflectorImporter' + Math.random().toString();
		me.createForm(uploadWrapper, wizard, iframeName);
		$(uploadWrapper).append('&lt;p&gt;' + me.step1PostText + '&lt;/p&gt;');
		wizard.setValue('serverType', 'tiddlyweb');
		wizard.setValue('adaptor', new config.adaptors.file());
		wizard.setValue('host', config.defaultCustomFields['server.host']);
		wizard.setValue('context', {});
		var iframe = $(['&lt;iframe name="' + iframeName + '" ',
			'style="display: none" /&gt;'].join("")).appendTo(uploadWrapper);
		var onSubmit = function(ev) {
			var uploadType = $('select[name=uploadtype]', wizard.formElem).val();
			if (uploadType == "file") {
				// set an onload ready to hijack the form
				me.setOnLoad(uploadWrapper, wizard, iframe[0]);
				wizard.importType = 'file';
				wizard.formElem.submit();
			} else {
				var csrf_token = config.extensions.tiddlyspace.getCSRFToken();
				$.ajax({
					url: "%0/reflector?csrf_token=%1".format(
						config.defaultCustomFields["server.host"], csrf_token),
					type: "POST",
					dataType: "text",
					data: {
						uri: $("input", ".importFrom", wizard.formElem).val()
					},
					success: function(data, txtStatus, xhr) {
						wizard.POSTResponse = data;
						me.importTiddlers(uploadWrapper, wizard);
					},
					error: function(xhr, txtStatus, error) {
						displayMessage(["There was an error fetching the ",
							'url: ', txtStatus].join(""));
						me.restart(wizard);
					}
				});
				return false;
			}
		};
		wizard.setButtons([{
			caption: me.uploadLabel,
			tooltip: me.uploadLabelPrompt,
			onClick: onSubmit
		}]);
		$(wizard.formElem).submit(function(ev) {
			onSubmit(ev);
			ev.preventDefault();
		});
	},

	createForm: function(place, wizard, iframeName) {
		var form = wizard.formElem;
		var me = config.macros.fileImport;
		form.action = me.reflectorURI.format(
			config.extensions.tiddlyspace.getCSRFToken());
		form.enctype = 'multipart/form-data';
		form.encoding = 'multipart/form-data';
		form.method = 'POST';
		form.target = iframeName;
		onSelectChange = function(e) {
			var changeTo = $(this).val();
			if (changeTo == "file") {
				$(".importFrom").html('%0 &lt;input type="file" name="file" /&gt;'.
					format(me.step1FileText));
			} else {
				$(".importFrom").html('URL: &lt;input type="text" name="uri" /&gt;'
					+ ' Do you want &lt;a target="_blank" href="http://faq.tiddlyspace.com/How%20do%20I%20include%2Fexclude%20spaces%3F"&gt;inclusion&lt;/a&gt; instead?');
			}
		};
		$(place).append('&lt;span&gt;%0&lt;/span&gt;'.format(me.step1TypeChooser)).
			append($(['&lt;select name="uploadtype"&gt;&lt;option value="file" selected="selected"&gt;file',
				'&lt;option value="uri"&gt;url&lt;/select&gt;'].join("")).change(onSelectChange)).
			append('&lt;div class="importFrom"&gt;%0&lt;input type="file" name="file" /&gt;&lt;/div&gt;'.
					format(me.step1FileText));
	},

	setOnLoad: function(place, wizard, iframe) {
		var me = config.macros.fileImport;
		var loadHandler = function() {
			me.importTiddlers.apply(this, [place, wizard, iframe]);
		};
		iframe.onload = loadHandler;
		completeReadyStateChanges = 0;
		iframe.onreadystatechange = function() {
			if (++(completeReadyStateChanges) == 5) {
				loadHandler();
			}
		};
	},

	importTiddlers: function(place, wizard, iframe) {
		var tmpStore = new TiddlyWiki();
		var POSTedWiki = "";
		if (wizard.importType == "file") {
			try {
				POSTedWiki= iframe.contentWindow
					.document.documentElement.innerHTML;
			} catch(e) {
				displayMessage(config.macros.fileImport.incorrectTypeError);
				config.macros.fileImport.restart(wizard);
				return;
			}
			// now we are done, so remove the iframe
			$(iframe).remove();
		} else {
			POSTedWiki = wizard.POSTResponse;
		}

		tmpStore.importTiddlyWiki(POSTedWiki);
		var newTiddlers = tmpStore.getTiddlers();
		var workspace = config.defaultCustomFields['server.workspace'];
		var context = {
			status: true,
			statusText: 'OK',
			httpStatus: 200,
			adaptor: wizard.getValue('adaptor'),
			tiddlers: newTiddlers
		};
		context.adaptor.store = tmpStore;
		wizard.setValue('context', context);
		wizard.setValue('workspace', workspace);
		wizard.setValue('inFileImport', true);
		config.macros.importTiddlers.onGetTiddlerList(context, wizard);
	}
};

var _onGetTiddler = config.macros.importTiddlers.onGetTiddler;
config.macros.importTiddlers.onGetTiddler = function(context, wizard) {
	if (wizard.getValue('inFileImport')) {
		var me = config.macros.importTiddlers;
		if(!context.status)
			displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
		var tiddler = context.tiddler;
		var fields = tiddler.fields;
		merge(fields, config.defaultCustomFields);
		fields["server.workspace"] = wizard.getValue('workspace');
		delete fields['server.permissions'];
		delete fields['server.bag'];
		fields['server.page.revision'] = 'false';
		delete fields['server.recipe'];
		fields.changecount = 1;
		store.suspendNotifications();
		store.saveTiddler(tiddler.title, tiddler.title, tiddler.text,
			tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields,
			false, tiddler.created);
		store.resumeNotifications();
		var remainingImports = wizard.getValue("remainingImports")-1;
		wizard.setValue("remainingImports",remainingImports);
		if(remainingImports === 0) {
			if(context.isSynchronous) {
				store.notifyAll();
				refreshDisplay();
			}
			wizard.setButtons([
					{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
				],me.statusDoneImport);
			autoSaveChanges();
		}
	} else {
		_onGetTiddler.apply(this, arguments);
	}
};

var _onCancel = config.macros.importTiddlers.onCancel;
config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	if (!wizard.getValue('inFileImport')) {
		return _onCancel.apply(this, arguments);
	}
	var place = wizard.clear();
	config.macros.fileImport.restart(wizard);
	return false;
};

var _step3Html = config.macros.importTiddlers.step3Html;
var _onGetTiddlerList = config.macros.importTiddlers.onGetTiddlerList;
config.macros.importTiddlers.onGetTiddlerList = function(context, wizard) {
	var fileImport = config.macros.fileImport;
	var importTiddlers = config.macros.importTiddlers;
	if (wizard.getValue('inFileImport')) {
		importTiddlers.step3Html = fileImport.step3Html;
	} else {
		importTiddlers.step3Html = _step3Html;
	}
	_onGetTiddlerList.apply(this, arguments);
};
})(jQuery);
//}}}</pre>
</div>
<div _hash="390091c823ffd5ec5008f2a8174c3caccfa6302b" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceBackstage/1521910:9b0bb192fcf18595de81a7209f706a9e7cc56646&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521910" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceBackstage" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceBackstage" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceBackstage|
|''Version''|0.8.0|
|''Description''|Provides a TiddlySpace version of the backstage and a homeLink macro|
|''Status''|@@beta@@|
|''Contributors''|Jon Lister, Jon Robson, Colm Britton|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceBackstage.js|
|''Requires''|TiddlySpaceConfig ImageMacroPlugin TiddlySpaceViewTypes|
!StyleSheet
.tiddler .error.annotation .button{
	display: inline-block;
}

#backstageArea {
	z-index: 49;
	color: white;
	background-color: black;
	background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #222),color-stop(0.5, #333),color-stop(1, #555));
	background: -moz-linear-gradient(center bottom,#222 0%, #333 50%, #555 100%);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff555555, endColorstr=#ff222222);
	-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff555555, endColorstr=#ff222222)";
	height: 25px;
	padding: 0;
}

#backstageButton {
	overflow: hidden;
}

#backstageButton #backstageShow,
#backstageButton #backstageHide {
	margin: 0px;
	padding: 0px;
}

#backstageButton #backstageShow:hover,
#backstageButton #backstageHide:hover {
	background: none;
	color: none;
}

#backstageButton img,
#backstageButton svg {
	width: 24px;
	height: 24px;
}

#messageArea {
	top: 50px;
}

#backstageToolbar {
	position: relative;
}

#backstageArea a {
	padding: 0px;
	margin-left: 0px;
	color: white;
	background: none;
}

#backstageArea a:hover {
	background-color: white;
}

#backstage ol,
#backstage ul {
	padding: auto;
}

#backstageButton a {
	margin: 0;
}

.backstagePanelBody ul {
	padding: 5px;
	margin: 5px;
}

#backstage #backstagePanel {
	margin-left: 5%;
	padding: 0em;
	margin-right: 5%;
}

#backstageToolbar a {
	position: relative;
}

#backstageArea a.backstageSelTab,
#backstageToolbar .backstageTask {
	line-height: 25px;
	color: #767676;
}

.backstageTask .externalImage,
.backstageTask .image {
	display: inline;
}

#backstageToolbar a span {
	z-index: 2;
}

a.backstageTask {
	display: inline;
        margin-left: 1em !important;
}

.backstagePanelBody .button {
	display: inline-block;
	margin-right: 10px;
}

.backstagePanelBody {
	margin: 0 0 0 0.6em;
	padding: 0.4em 0.5em 1px 0.5em;
}

#backstage table {
	margin: auto;
}

#backstage .wizard table {
	border: 0px;
	margin: 0;
}

#backstage div  li.listLink {
	border: 0px;
	width: 78%;
	font-size: 0.7em;
}

#backstage div li.listTitle {
	font-weight: bold;
	text-decoration: underline;
	font-size: 1em;
	background: #ccc;
	width: 100%;
}

#backstage fieldset {
	border: solid 1px [[ColorPalette::Background]];
}

#backstage .viewer table,#backstage table.twtable {
	border: 0px;
}

#backstageToolbar img {
	padding: 0;
}

#backstage .wizard,
#backstage .wizardFooter {
	background: none;
}

.viewer td, .viewer tr, .twtable td, .twtable tr {
	border: 1px solid #eee;
}

#backstage .inlineList ul li {
	background-color: [[ColorPalette::Background]];
	border: solid 1px [[ColorPalette::TertiaryMid]];
	display: block;
	float: left;
	list-style: none;
	margin-right: 1em;
	padding: 0.5em;
}

.backstageClear, .inlineList form {
	clear: both;
	display: block;
	margin-top: 3em;
}

.tiddlyspaceMenu {
	text-align: center;
}

span.chunkyButton {
	display: inline-block;
	padding: 0;
	margin: 0;
	border: solid 2px #000;
	background-color: #04b;
}

span.chunkyButton a.button, span.chunkyButton a:active.button {
	white-space: nowrap;
	font-weight: bold;
	font-size: 1.8em;
	color: #fff;
	text-align: center;
	padding: 0.5em 0.5em;
	margin: 0;
	border-style: none;
	display: block;
}

span.chunkyButton:hover {
	background-color: #014;
}

span.chunkyButton a.button:hover {
	border-style: none;
	background: none;
	color: #fff;
}

#backstage .unpluggedSpaceTab .wizard,
.unpluggedSpaceTab .wizard {
	background: white;
	border: 2px solid #CCC;
	padding: 5px;
}

.syncKey .keyItem {
	border: 1px solid black;
	display: inline-block;
	margin: 0.2em;
	padding: 0.1em 0.1em 0.1em 0.1em;
}

.keyHeading {
	font-size: 2em;
	font-weight: bold;
	margin: 0.4em 0em -0.2em;
}

.unpluggedSpaceTab .putToServer,
.unpluggedSpaceTab .notChanged {
	display: none;
}

.tiddlyspaceMenu ul {
	margin: 0;
	padding: 0;
}

.tiddlyspaceMenu ul li {
	list-style: none;
}

.unsyncedChanges .unsyncedList {
	display: block;
}

.unsyncedList {
	display: none;
}
!Code
***/
//{{{
(function ($) {
    var name = "StyleSheet" + tiddler.title;
    config.shadowTiddlers[name] = "/*{{{*/\n%0\n/*}}}*/".
        format(store.getTiddlerText(tiddler.title + "##StyleSheet")); // this accesses the StyleSheet section of the current tiddler (the plugin that contains it)
    store.addNotification(name, refreshStyles);

    if (!config.extensions.tiddlyweb.status.tiddlyspace_version) { // unplugged
        config.extensions.tiddlyweb.status.tiddlyspace_version = "&lt;unknown&gt;";
        config.extensions.tiddlyweb.status.server_host = {
            url:config.extensions.tiddlyweb.host }; // TiddlySpaceLinkPlugin expects this
    }
    var disabled_tasks_for_nonmembers = ["tiddlers", "plugins", "batch", "sync"];

    var tweb = config.extensions.tiddlyweb;
    var tiddlyspace = config.extensions.tiddlyspace;
    var currentSpace = tiddlyspace.currentSpace.name;
    var imageMacro = config.macros.image;

    if (config.options.chkBackstage === undefined) {
        config.options.chkBackstage = false;
    }

// Set up Backstage
    config.tasks = {};
    config.tasks.status = {
        text:"status",
        tooltip:"TiddlySpace Info",
        content:"&lt;&lt;tiddler Backstage##Menu&gt;&gt;"
    };
    config.tasks.tiddlers = {
        text:"tiddlers",
        tooltip:"tiddlers control panel",
        content:"&lt;&lt;tiddler Backstage##BackstageTiddlers&gt;&gt;"
    };
    config.tasks.plugins = {
        text:"plugins",
        tooltip:"Manage installed plugins",
        content:"&lt;&lt;tiddler Backstage##Plugins&gt;&gt;"
    };
    config.tasks.batch = {
        text:"batch",
        tooltip:"Batch manage public/private tiddlers",
        content:"&lt;&lt;tiddler Backstage##BatchOps&gt;&gt;"
    };
    config.tasks.tweaks = {
        text:"tweaks",
        tooltip:"Tweak TiddlyWiki behaviors",
        content:"&lt;&lt;tiddler Backstage##Tweaks&gt;&gt;"
    };
    config.tasks.exportTiddlers = {
        text:"import/export",
        tooltip:"Import/export tiddlers from/to a TiddlyWiki",
        content:"&lt;&lt;tiddler Backstage##ImportExport&gt;&gt;"
    };
    config.tasks.sync = {
        text:"sync",
        tooltip:"Check Sync status",
        content:"&lt;&lt;tiddler Backstage##SpaceUnplugged&gt;&gt;"
    };

    if (window.location.protocol === "file:") {
        config.unplugged = true;
    }

    config.backstageTasks = ["status", "tiddlers", "plugins",
        "batch", "tweaks", "exportTiddlers", "sync"];

    config.messages.backstage.prompt = "";
// initialize state
    var _show = backstage.show;
    backstage.show = function () {
        // selectively hide backstage tasks and tabs based on user status
        var tasks = $("#backstageToolbar .backstageTask").show();
        var bs = backstage.tiddlyspace;
        if (!config.unplugged) {
            tweb.getUserInfo(function (user) {
                if (user.anon) {
                    jQuery.each(disabled_tasks_for_nonmembers, function (i, task) {
                        var taskIndex = config.backstageTasks.indexOf(task);
                        if (taskIndex !== -1) {
                            config.backstageTasks.splice(taskIndex, 1);
                        }
                    });
                    config.messages.memberStatus = bs.locale.loggedout;
                } else {
                    config.messages.memberStatus = readOnly ?
                        bs.locale.nonmember : bs.locale.member;
                }
            });
        } else {
            config.messages.memberStatus = bs.locale.unplugged;
        }

        // display backstage
        return _show.apply(this, arguments);
    };
    if (readOnly) {
        jQuery.each(disabled_tasks_for_nonmembers, function (i, task) {
            var taskIndex = config.backstageTasks.indexOf(task);
            if (taskIndex !== -1) {
                config.backstageTasks.splice(taskIndex, 1);
            }
        });
    }

    var tasks = config.tasks;
    var commonUrl = "/bags/common/tiddlers/%0";

    backstage.tiddlyspace = {
        locale:{
            member:"You are a member of this space.",
            nonmember:"You are not a member of this space.",
            loggedout:"You are currently logged out of TiddlySpace.",
            unplugged:"You are unplugged."
        },
        showButton:function () {
            var showBtn = $("#backstageShow")[0];
            var altText = $(showBtn).text();
            $(showBtn).empty();
            imageMacro.renderImage(showBtn, "backstage.svg",
                { altImage:commonUrl.format("backstage.png"), alt:altText});
        },
        hideButton:function () {
            var hideBtn = $("#backstageHide")[0];
            var altText = $(hideBtn).text();
            $(hideBtn).empty();
            imageMacro.renderImage(hideBtn, "close.svg",
                { altImage:commonUrl.format("close.png"), alt:altText, width:24, height:24 });
        }
    };

    var _init = backstage.init;
    backstage.init = function () {
        _init.apply(this, arguments);
        var init = function (user) {
            var bs = backstage.tiddlyspace;
            bs.showButton();
            bs.hideButton();
        };
        tweb.getUserInfo(init);
    };

    var home = config.macros.homeLink = {
        locale:{
            linkText:"your home space"
        },
        handler:function (place) {
            var container = $("&lt;span /&gt;").appendTo(place)[0];
            tweb.getUserInfo(function (user) {
                if (!user.anon &amp;&amp; user.name !== currentSpace) {
                    createSpaceLink(container, user.name, null, home.locale.linkText);
                }
            });
        }
    };

    config.macros.exportSpace = {
        handler:function (place, macroName, params) {
            var filename = params[0] ||
                "/tiddlers.wiki?download=%0.html".format(currentSpace);
            $('&lt;a class="button"&gt;download&lt;/a&gt;').// XXX: i18n
                attr("href", filename).appendTo(place);
        }
    };

}(jQuery));
//}}}</pre>
</div>
<div _hash="3ecfd7c955dc674752681565ad0ed68f8fcad5d9" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceCloneCommand/1521898:a6ead19b2275939afb9f7ed42032fda4dbf93b3c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521898" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceCloneCommand" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceCloneCommand" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceCloneCommand|
|''Version''|0.5.8|
|''Description''|provides a toolbar command for cloning external tiddlers|
|''Status''|stable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceCloneCommand.js|
|''Requires''|TiddlySpaceConfig TiddlySpaceFilters|
!Code
***/
//{{{
(function($) {

var cmd = config.commands;
var tiddlyspace = config.extensions.tiddlyspace;

var fieldsCache = {};

cmd.cloneTiddler = {
	text: cmd.editTiddler.text,
	tooltip: "Create a copy of this tiddler in the current space",
	errorMsg: "Error publishing %0: %1",

	isEnabled: function(tiddler) {
		return !config.filterHelpers.is.local(tiddler) &amp;&amp; !readOnly;
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			fieldsCache[title] = $.extend({}, tiddler.fields);
			tiddler.fields["server.workspace"] = tiddlyspace.getCurrentWorkspace(config.options.chkPrivateMode ?
		"private" : "public");
			tiddler.fields["server.permissions"] = "read, write, create"; // no delete
			delete tiddler.fields["server.page.revision"];
			delete tiddler.fields["server.title"];
			delete tiddler.fields["server.etag"];
			// special handling for pseudo-shadow tiddlers
			if(tiddlyspace.coreBags.contains(tiddler.fields["server.bag"])) {
				tiddler.tags.remove("excludeLists");
			}
		} else { // ensure workspace is the current space
			var el = story.findContainingTiddler(src);
			el = $(el);
			var fields = el.attr("tiddlyfields");
			if(fields) { // inherited via TiddlyLink
				fields = fields.decodeHashMap();
				fields["server.workspace"] = config.
					defaultCustomFields["server.workspace"];
			} else {
				fields = config.defaultCustomFields;
			}
			fields = String.encodeHashMap(fields);
			el.attr("tiddlyfields", fields);
		}
		cmd.editTiddler.handler.apply(this, arguments);
		if(tiddler) {
			tiddler.fields["server.permissions"] += ", delete";
		}
		return false;
	}
};

cmd.editTiddler.isEnabled = function(tiddler) {
	return !cmd.cloneTiddler.isEnabled.apply(this, arguments);
};

// hijack cancelTiddler to restore original fields
var _cancelHandler = cmd.cancelTiddler.handler;
cmd.cancelTiddler.handler = function(ev, src, title) {
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.fields = fieldsCache[title] || tiddler.fields;
		delete fieldsCache[title];
	}
	return _cancelHandler.apply(this, arguments);
};

// hijack saveTiddler to clear unused fields stash
var _saveHandler = cmd.saveTiddler.handler;
cmd.saveTiddler.handler =  function(ev, src, title) {
	delete fieldsCache[title];
	return _saveHandler.apply(this, arguments);
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="e74aa09eb3a15ff6e90b7de81e4d23168f8a51db" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceConfig/1521905:dbb427b402453b0884fbd4988fd33dd390936172&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521905" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceConfig" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceConfig" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceConfig|
|''Version''|0.7.7|
|''Description''|TiddlySpace configuration|
|''Status''|stable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceConfig.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlyWebConfig ServerSideSavingPlugin TiddlyFileImporter|
!Code
***/
//{{{
(function($) {

var tweb = config.extensions.tiddlyweb;

var recipe = config.defaultCustomFields["server.workspace"].split("recipes/")[1];
var currentSpace; // assigned later

var disabledTabs = [];

var coreBags = ["system", "tiddlyspace"];
var systemSpaces = ["plugins", "info", "images", "theme"];
systemSpaces = $.map(systemSpaces, function(item, i) {
	return "system-%0_public".format(item);
});

// hijack search macro to add custom attributes for mobile devices
var _search = config.macros.search.handler;
config.macros.search.handler = function(place, macroName, params) {
	_search.apply(this, arguments);
	$(".searchField:input", place).
		attr({ autocapitalize: "off", autocorrect: "off" });
};

// arg is either a container name or a tiddler object
// if fuzzy is truthy, space may be inferred from workspace (for new tiddlers)
// returns space object or false
var determineSpace = function(arg, fuzzy) {
	if(typeof arg == "string") { // container name
		var space = split(arg, "_", "r");
		return ["public", "private"].contains(space.type) ? space : false;
	} else if(arg) { // tiddler
		var container = determineContainer(arg, fuzzy);
		return container ? determineSpace(container.name, fuzzy) : false;
	} else {
		return false;
	}
};

// if fuzzy is truthy, container may be inferred from workspace for new tiddlers
// returns container object or false
var determineContainer = function(tiddler, fuzzy) { // TODO: expose?
	var bag = tiddler.fields["server.bag"];
	var recipe = tiddler.fields["server.recipe"]; // XXX: unused/irrelevant/redundant!?
	if(bag) {
		return { type: "bag", name: bag };
	} else if(recipe) {
		return { type: "recipe", name: recipe };
	} else if(fuzzy) { // new tiddler
		var workspace = tiddler.fields["server.workspace"];
		if(workspace) {
			var container = split(workspace, "/", "l");
			return ["bags", "recipes"].contains(container.type) ? container : false;
		} else {
			return false;
		}
	} else {
		return false;
	}
};

// hijack removeTiddlerCallback to restore tiddler from recipe cascade -- TODO: move into TiddlyWebWiki?
var sssp = config.extensions.ServerSideSavingPlugin;
var _removeTiddlerCallback = sssp.removeTiddlerCallback;
sssp.removeTiddlerCallback = function(context, userParams) {
	var title = context.tiddler.title;
	var recipe = context.tiddler.fields["server.recipe"];
	_removeTiddlerCallback.apply(this, arguments);
	if(recipe) {
		context.workspace = "recipes/" + recipe;
		var callback = function(context, userParams) {
			if(context.status) {
				var dirty = store.isDirty();
				store.saveTiddler(context.tiddler).clearChangeCount();
				store.setDirty(dirty);
			} else {
				store.notify(title, true);
			}
		};
		context.adaptor.getTiddler(title, context, null, callback);
	}
};

// splits a string once using delimiter
// mode "l" splits at the first, "r" at the last occurrence
// returns an object with members type and name
var split = function(str, sep, mode) {
	mode = mode == "r" ? "pop" : "shift"; // TODO: use +/-1 instead of "l"/"r"?
	var arr = str.split(sep);
	var type = arr.length &gt; 1 ? arr[mode]() : null;
	return { type: type, name: arr.join(sep) };
};

var plugin = config.extensions.tiddlyspace = {
	currentSpace: determineSpace(recipe),
	coreBags: coreBags.concat(systemSpaces),

	determineSpace: determineSpace,
	isValidSpaceName: function(name) {
		return name.match(/^[a-z][0-9a-z\-]*[0-9a-z]$/) ? true : false;
	},
	getCurrentBag: function(type) {
		return "%0_%1".format(currentSpace, type);
	},
	getCurrentWorkspace: function(type) {
		return "bags/" + this.getCurrentBag(type);
	},
	// returns the URL for a space's avatar (SiteIcon) based on a server_host
	// object and an optional space name
	// optional nocors argument prevents cross-domain URLs from being generated
	getAvatar: function(host, space, nocors) {
		if(space &amp;&amp; typeof space != "string") { // backwards compatibility -- XXX: deprecated
			space = space.name;
		}
		var subdomain = nocors ? currentSpace : space;
		host = host ? this.getHost(host, subdomain) : "";
		var bag = space ? "%0_public".format(space) : "tiddlyspace";
		return "%0/bags/%1/tiddlers/SiteIcon".format(host, bag);
	},
	// returns the URL based on a server_host object (scheme, host, port) and an
	// optional subdomain
	getHost: function(host, subdomain) {
		if(host === undefined) { // offline
			tweb.status.server_host = {}; // prevents exceptions further down the stack -- XXX: hacky workaround, breaks encapsulation
			return null;
		}
		subdomain = subdomain ? subdomain + "." : "";
		var url = "%0://%1%2".format(host.scheme, subdomain, host.host);
		var port = host.port;
		if(port &amp;&amp; !["80", "443"].contains(port)) {
			url += ":" + port;
		}
		return url;
	},
	disableTab: function(tabTiddler) {
		if(typeof(tabTiddler) == "string") {
			disabledTabs.push(tabTiddler);
		} else {
			for(var i = 0; i &lt; tabTiddler.length; i++) {
				plugin.disableTab(tabTiddler[i]);
			}
		}
	},
    checkSyncStatus: function(tiddler) {
		if(tiddler) {
			var title = typeof(tiddler) === "string" ? tiddler : tiddler.title;
			var el = story.getTiddler(title) || false;
			if(el) {
				refreshElements(el);
			}
		}
	},
	isDisabledTab: function(tabTitle) {
		var match = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])", "mg").exec(tabTitle);
		var tabIdentifier = match ? match[1] : tabTitle;
		return disabledTabs.contains(tabIdentifier);
	},
	getCSRFToken: window.getCSRFToken || null // this may not have been processed yet
};

currentSpace = plugin.currentSpace.name;

tweb.serverPrefix = tweb.host.split("/")[3] || ""; // XXX: assumes root handler
tweb.getStatus(function(status) {
	var url = plugin.getHost(status.server_host);
	tweb.status.server_host.url = url;
	config.messages.tsVersion = status.version;
});

if(window.location.protocol == "file:") {
	// enable AutoSave by default
	config.options.chkAutoSave = config.options.chkAutoSave === undefined ?
		true : config.options.chkAutoSave;
} else {
	// set global read-only mode based on membership heuristics
	var indicator = store.getTiddler("SiteTitle") || tiddler;
	readOnly = !(recipe.split("_").pop() == "private" ||
		tweb.hasPermission("write", indicator));
	// replace TiddlyWiki's ImportTiddlers due to cross-domain restrictions
	if(config.macros.fileImport) {
		$.extend(config.macros.importTiddlers, config.macros.fileImport);
	}
}

// hijack saveChanges to ensure SystemSettings is private by default
var _saveChanges = saveChanges;
saveChanges = function(onlyIfDirty, tiddlers) {
	if(tiddlers &amp;&amp; tiddlers.length == 1 &amp;&amp;
			tiddlers[0] &amp;&amp; tiddlers[0].title == "SystemSettings") {
		var fields = tiddlers[0].fields;
		delete fields["server.recipe"];
		fields["server.bag"] = plugin.getCurrentBag("private");
		fields["server.workspace"] = plugin.getCurrentWorkspace("private");
	}
	return _saveChanges.apply(this, arguments);
};

// ensure backstage is always initialized
// required to circumvent TiddlyWiki's read-only based handling
config.macros.backstageInit = {
	init: function() {
		showBackstage = true;
	}
};

// disable evaluated macro parameters for security reasons
config.evaluateMacroParameters = "none";
var _parseParams = String.prototype.parseParams;
String.prototype.parseParams = function(defaultName, defaultValue, allowEval,
		noNames, cascadeDefaults) {
	if(config.evaluateMacroParameters == "none") {
		arguments[2] = false;
	}
	return _parseParams.apply(this, arguments);
};

var _tabsMacro = config.macros.tabs.handler;
config.macros.tabs.handler = function(place, macroName, params) {
	var newParams = [params[0]]; // keep cookie name
	for(var i = 1; i &lt; params.length; i += 3) {
		var tabTitle = params[i + 2];
		if(!plugin.isDisabledTab(tabTitle)){
			newParams = newParams.concat(params[i], params[i + 1], tabTitle);
		}
	}
	_tabsMacro.apply(this, [place, macroName, newParams]);
};

// disable ControlView for XHRs by default
$.ajaxSetup({
	beforeSend: function(xhr) {
		xhr.setRequestHeader("X-ControlView", "false");
	}
});
// TiddlyWeb adaptor currently still uses httpReq, which needs extra magic -- XXX: obsolete this!
var _httpReq = httpReq;
httpReq = function(type, url, callback, params, headers, data, contentType,
		username, password, allowCache) {
	headers = headers || {};
	headers["X-ControlView"] = "false";
	_httpReq.apply(this, arguments);
};

// register style sheet for backstage separately (important)
store.addNotification("StyleSheetBackstage", refreshStyles);

// option for default privacy setting
config.optionsDesc.chkPrivateMode = "Set your default privacy mode to private";
config.optionsSource.chkPrivateMode = "setting";
config.options.chkPrivateMode = config.options.chkPrivateMode || false;
saveSystemSetting("chkPrivateMode", true);
config.defaultCustomFields["server.workspace"] = plugin.
	getCurrentWorkspace(config.options.chkPrivateMode ? "private" : "public");

config.paramifiers.follow = {
	onstart: function(v) {
		if(!readOnly) {
			var bag = "%0_public".format(currentSpace);
			story.displayTiddler(null, v, DEFAULT_EDIT_TEMPLATE, null, null,
				"server.bag:%0 server.workspace:bags/%0".format(bag));
			story.setTiddlerTag(v, "follow", 1);
			story.focusTiddler(v, "text");
		}
	}
};

var fImport = config.macros.fileImport;
if(fImport) {
	fImport.uploadTo = "Upload to: ";
	var _createForm = config.macros.fileImport.createForm;
	config.macros.fileImport.createForm = function(place, wizard, iframeName) {
		var container = $("&lt;div /&gt;").text(fImport.uploadTo).appendTo(place);
		var select = $('&lt;select name="mode" /&gt;').appendTo(container)[0];
		$('&lt;option value="private" selected&gt;private&lt;/a&gt;').appendTo(select);
		$('&lt;option value="public"&gt;public&lt;/a&gt;').appendTo(select);
		wizard.setValue("importmode", select);
		_createForm.apply(this, [place, wizard, iframeName]);
	};

	var _onGet = config.macros.importTiddlers.onGetTiddler;
	config.macros.importTiddlers.onGetTiddler = function(context, wizard) {
		var type = $(wizard.getValue("importmode")).val();
		var ws =  plugin.getCurrentWorkspace(type);
		wizard.setValue("workspace", ws);
		_onGet.apply(this, [context, wizard]);
	};
}

config.extensions.ServerSideSavingPlugin.reportSuccess = function(msg, tiddler) {
	plugin.checkSyncStatus(tiddler);
	msg = config.extensions.ServerSideSavingPlugin.locale[msg];
	var link = "/" + encodeURIComponent(tiddler.title);
	displayMessage(msg.format([tiddler.title]), link);
};


})(jQuery);
//}}}</pre>
</div>
<div _hash="10b0276ddc805a9489b6449c972bb1dc00fb9cf0" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceCSRF/1521904:38c911967d3acbc1e252fcef36306065d2fce8e1&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521904" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceCSRF" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceCSRF" type="text/x-tiddlywiki">
<pre>(function() {
var getCSRFToken = function(window) {
	// XXX: should not use RegEx - cf.
	// http://www.quirksmode.org/js/cookies.html
	// https://github.com/TiddlySpace/tiddlyspace/commit/5f4adbe009ed4bda3ce39058a3fb07de1420358d
	var regex = /^(?:.*; )?csrf_token=([^(;|$)]*)(?:;|$)/;
	var match = regex.exec(document.cookie);
	var csrf_token = null;
	if (match &amp;&amp; (match.length === 2)) {
		csrf_token = match[1];
	}

	return csrf_token;
};

if (typeof config !== 'undefined' &amp;&amp; config.extensions &amp;&amp;
		config.extensions.tiddlyspace &amp;&amp;
		config.extensions.tiddlyspace.getCSRFToken === null) {
	config.extensions.tiddlyspace.getCSRFToken = getCSRFToken;
} else {
	window.getCSRFToken = getCSRFToken;
}
})(window);</pre>
</div>
<div _hash="3b6e75a776f9a07498220fe23b305bc97b531afc" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceFilters/1521906:71f9c5f4efdb44ca00fabba3f7c49ab33712d251&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521906" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceFilters" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceFilters" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceFilters|
|''Description''|provide TiddlySpace-specific filter extensions|
|''Author''|Jon Robson|
|''Version''|0.6.1|
|''Status''|@@beta@@|
|''CoreVersion''|2.6.2|
|''Requires''|TiddlySpaceConfig|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
{{{
&lt;&lt;tsList Private&gt;&gt;
&lt;&lt;tsList Public&gt;&gt;
&lt;&lt;tsList Draft&gt;&gt;
}}}
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var privateBag = tiddlyspace.getCurrentBag("private");
var publicBag = tiddlyspace.getCurrentBag("public");

config.filterHelpers = {
	is: {
		"private": function(tiddler) {
			var bag = tiddler.fields["server.bag"];
			return bag == privateBag;
		},
		"public": function(tiddler) {
			var bag = tiddler.fields["server.bag"];
			return bag == publicBag;
		},
		draft: function(tiddler) {
			var fields = tiddler.fields;
			var bag = fields["server.bag"];
			return (privateBag == bag &amp;&amp; fields["publish.name"]) ? true : false;
		},
		local: function(tiddler) {
			return config.filterHelpers.is["public"](tiddler) ||
				config.filterHelpers.is["private"](tiddler);
		},
		unsynced: function(tiddler) {
			return tiddler ? tiddler.isTouched() : false;
		}
	}
};

config.filters.is = function(results, match) {
	var candidates = store.getTiddlers("title");
	var type = match[3];
	for (var i = 0; i &lt; candidates.length; i++) {
		var tiddler = candidates[i];
		var helper = config.filterHelpers.is[type];
		if(helper &amp;&amp; helper(tiddler)) {
			results.pushUnique(tiddler);
		}
	}
	return results;
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="65a4f81f24d076e5c3fc66d2ff037c994c514bcd" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceFollowingPlugin/1521864:5b0d1242c986e3ed31eef10bf4fe65249f2269b8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521864" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceFollowingPlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceFollowingPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceFollowingPlugin|
|''Version''|0.7.1|
|''Description''|Provides a following macro|
|''Author''|Jon Robson|
|''Requires''|TiddlySpaceConfig TiddlySpaceTiddlerIconsPlugin ErrorHandler|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
!Usage
Tag a tiddler with "follow" to express a list of followers.
Using the {{{&lt;&lt;followTiddlers X&gt;&gt;}}}
will reveal the number of tiddlers with name X in the set of spaces the *current* user viewing your space follows.
{{{&lt;&lt;following jon&gt;&gt;}}} will list all the users following Jon.
{{{&lt;&lt;followers jon&gt;&gt;}}} will list all the followers of jon.
{{{&lt;linkedTiddlers&gt;&gt;}}} will list all tiddlers across TiddlySpace linked to the current tiddler
{{{&lt;linkedTiddlers follow:yes&gt;&gt;}}} will list all tiddlers across TiddlySpace that come from your list of followers
adds spaceLink view type {{{&lt;&lt;view server.bag spaceLink&gt;&gt;}}} creates a link to the space described in server.bag
{{{&lt;&lt;view server.bag spaceLink title&gt;&gt;}}} makes a link to the tiddler with title expressed in the field title in space server.bag
If no name is given eg. {{{&lt;&lt;following&gt;&gt;}}} or {{{&lt;&lt;follow&gt;&gt;}}} it will default the current user.
!StyleSheet
.followTiddlersList li {
	list-style:none;
}

.followButton {
	width: 2em;
}

.followTiddlersList li .siteIcon {
	height:48px;
	width: 48px;
}

#sidebarTabs .followers li a,
.followers .siteIcon,
.followers .siteIcon div {
	display: inline;
}

.followTiddlersList li .externalImage, .followTiddlersList li .image {
	display: inline;
}

.scanResults li {
	list-style: none;
}
!Code
***/
//{{{
(function($) {
var LIMIT_FOLLOWING = 100;

var tweb = config.extensions.tiddlyweb;
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace.name;

var shadows = config.shadowTiddlers;
config.annotations.ScanTemplate = "This tiddler is the default template used in the display of tiddlers founding using the tsScan macro. To access attributes use the view macro e.g. {{{&lt;&lt;view title text&gt;&gt;}}}";
shadows.ScanTemplate = "&lt;&lt;view modifier SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title link&gt;&gt;";
shadows.FollowersTemplate = "&lt;&lt;view server.bag SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view server.bag spaceLink&gt;&gt;";
shadows.FollowingTemplate = "&lt;&lt;view title SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; &lt;&lt;view title spaceLink&gt;&gt;";
shadows.FollowTiddlersBlackList = "";
shadows.FollowTiddlersHeading = "There are tiddlers in spaces you follow using the follow tag which use the title &lt;&lt;view title text&gt;&gt;";
shadows.FollowTiddlersTemplate = ["* &lt;&lt;view server.space SiteIcon width:24 height:24 spaceLink:yes label:no&gt;&gt; ",
	"&lt;&lt;view server.space spaceLink title external:no&gt;&gt; modified by &lt;&lt;view modifier spaceLink&gt;&gt; ",
	"in the &lt;&lt;view server.space spaceLink&gt;&gt; space (&lt;&lt;view modified date&gt;&gt; @ &lt;&lt;view modified date 0hh:0mm&gt;&gt;).\n"].join("");

var name = "StyleSheetFollowing";
shadows[name] = "/*{{{*/\n%0\n/*}}}*/".
	format(store.getTiddlerText(tiddler.title + "##StyleSheet"));
store.addNotification(name, refreshStyles);

// provide support for sucking in tiddlers from the server
tiddlyspace.displayServerTiddler = function(src, title, workspace, callback) {
	var adaptor = store.getTiddlers()[0].getAdaptor();
	var localTitle = tiddlyspace.getLocalTitle(title, workspace);
	var tiddler = new Tiddler(localTitle);
	tiddler.text = "Please wait while this tiddler is retrieved...";
	tiddler.fields.doNotSave = "true";
	store.addTiddler(tiddler);
	src = story.displayTiddler(src || null, tiddler.title);
	tweb.getStatus(function(status) {
		var context = {
			host: tweb.host, // TODO: inherit from source tiddler?
			workspace: workspace,
			headers: { "X-ControlView": "false" }
		};
		var getCallback = function(context, userParams) {
			var tiddler = context.tiddler;
			tiddler.title = localTitle;
			store.addTiddler(tiddler);
			story.refreshTiddler(localTitle, null, true); // overriding existing allows updating
			if(callback) {
				callback(src, tiddler);
			}
		};
		adaptor.getTiddler(title, context, null, getCallback);
	});
};

tiddlyspace.scroller = {
	runHandler: function(title, top, bottom, height) {
		var i;
		var handlers = tiddlyspace.scroller.handlers;
		var tidEl = story.getTiddler(title);
		if(tidEl) {
			var topEl = $(tidEl).offset().top + 20;
			if(top === false || (topEl &gt; top &amp;&amp; topEl &lt; bottom)) {
				var h = handlers[title];
				for(i = 0; i &lt; h.length; i++) {
					h[i]();
				}
				tiddlyspace.scroller.clearHandlers(title);
			}
		} else {
			tiddlyspace.scroller.clearHandlers(title);
		}
	},
	clearHandlers: function(title) {
		tiddlyspace.scroller.handlers[title] = [];
	},
	registerIsVisibleEvent: function(title, handler) {
		tiddlyspace.scroller.handlers[title] = tiddlyspace.scroller.handlers[title] || [];
		tiddlyspace.scroller.handlers[title].push(handler);
	},
	init: function() {
		this.handlers = {};
		this.interval = window.setInterval(function() {
			var top = $(window).scrollTop();
			var height = $(window).height();
			var bottom = top + height;
			var title;
			for(title in tiddlyspace.scroller.handlers) {
				if(title) {
					tiddlyspace.scroller.runHandler(title, top, bottom, height);
				}
			}
		}, 2000); // every 2 seconds check scroll position
	}
};
tiddlyspace.scroller.init();

var followMacro = config.macros.followTiddlers = {
	locale: {
		followListHeader: "Here are tiddlers from spaces you follow using the follow tag which use this title.",
		noTiddlersFromFollowers: "None of the spaces you follow contain a tiddler with this name.",
		errorMessage: "There was a problem retrieving tiddlers from the server. Please try again later."
	},
	init: function() {
		followMacro.lookup = {};
	},
	followTag: "follow",
	getHosts: function(callback) {
		tweb.getStatus(function(status) {
			callback(tweb.host, tiddlyspace.getHost(status.server_host, "%0"));
		});
	},
	getBlacklist: function() {
		return store.getTiddlerText("FollowTiddlersBlackList").split("\n");
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var args = paramString.parseParams("anon")[0];
		var containingTiddler = story.findContainingTiddler(place).getAttribute('tiddler');
		var title = (args.anon &amp;&amp; args.anon[0]) || tiddler.fields["server.title"] || tiddler.title;
		var tid = store.getTiddler(title);
		var user = params[1] || false;
		if(tid) {
			followMacro.makeButton(place, {
				url: "/search?q=title:%22" + encodeURIComponent(title) + "%22",
				containingTiddler: containingTiddler,
				blacklisted: followMacro.getBlacklist(), title: title, user: user,
				consultFollowRelationship: (args.follow &amp;&amp;
					args.follow[0] === 'false') ? false : true });
		}
	},
	makeButton: function(place, options) { // this is essentially the same code in TiddlySpaceFollowingPlugin
		var title = options.title;
		var blacklisted = options.blacklisted;
		var tiddler = store.getTiddler(title);
		var btn = $('&lt;div class="followButton" /&gt;').addClass("notLoaded").appendTo(place)[0];
		if(blacklisted.contains(title)) {
			$(btn).remove();
			return;
		} else {
			var user = options.user;
			window.setTimeout(function() { // prevent multiple calls due to refresh
				tiddlyspace.scroller.registerIsVisibleEvent(options.containingTiddler, function() {
					var mkButton = function(followers, ignore) {
						if(!followers &amp;&amp; !ignore) {
							$(btn).remove();
						} else {
							$("&lt;a /&gt;").appendTo(btn);
							var scanOptions = { url: options.url,
								spaceField: options.spaceField || "bag", template: null, sort: "-modified",
								callback: function(tiddlers) {
									$(btn).removeClass("notLoaded");
									followMacro.constructInterface(btn, tiddlers);
								}
							};
							if(!ignore) {
								scanOptions.showBags = followMacro._getFollowerBags(followers);
							}
							scanOptions.hideBags = [tiddler.fields["server.bag"]];
							scanMacro.scan(null, scanOptions, user);
						}
					};
					if(options.consultFollowRelationship) {
						followMacro.getFollowers(mkButton);
					} else {
						mkButton([], true);
					}
				});
			}, 1000);
		}
	},
	constructInterface: function(container, tiddlers) {
		var txt = tiddlers.length;
		var className = txt &gt; 0 ? "hasReplies" : "noReplies";
		var el = $(story.findContainingTiddler(container));
		$(container).empty().addClass(className);
		var btn = $("&lt;a /&gt;").addClass("followedTiddlers").text(txt).
			click(function(ev) {
				followMacro.followingOnClick(ev);
			}).appendTo('&lt;div class="followedTiddlers" /&gt;').appendTo(container)[0];
		$.data(btn, "tiddlers", tiddlers);
	},
	followingOnClick: function(ev) {
		var target = ev.target;
		var locale = followMacro.locale;
		var el = $('&lt;div class="followTiddlersList" /&gt;')[0];
		var popup = Popup.create(target,"div");
		$(popup).addClass("taggedTiddlerList followList").click(function(ev) { // make it so only clicking on the document outside the popup removes the popup
			if(ev.target.parentNode != document) {
				ev.stopPropagation();
			}
		}).append(el);
		var tiddlers = $.data(target, "tiddlers") || [];
		scanMacro.template(el, tiddlers.slice(0,1), "FollowTiddlersHeading");
		scanMacro.template(el, tiddlers, "FollowTiddlersTemplate");
		if(tiddlers.length === 0) {
			$("&lt;li /&gt;").text(locale.noTiddlersFromFollowers).appendTo(el);
		}
		Popup.show();
		ev.stopPropagation();
		return popup;
	},
	_getFollowerBags: function(followers) { // XXX: private or not?
		return $.map(followers, function(name, i) {
			return name != currentSpace ? "%0_public".format(name) : null;
		});
	},
	getFollowers: function(callback, username) {
		// returns a list of spaces being followed by the existing space
		var followersCallback = function(user) {
			if(!user.anon) {
				scanMacro.scan(null, { 
					url: "/search?q=bag:%0_public tag:%1 _limit:%2".format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: "title", template: null, cache: true,
					callback: function(tiddlers) {
						var followers = [];
						for(var i = 0; i &lt; tiddlers.length; i++) {
							followers.push(tiddlyspace.resolveSpaceName(tiddlers[i].title));
						}
						callback(followers);
					}
				});
			} else {
				callback(false);
			}
		};
		return !username ? tweb.getUserInfo(followersCallback) : followersCallback({ name: username });
	}
};

var scanMacro = config.macros.tsScan = {
	init: function () {
		this.scanned = {};
	},
	_tiddlerfy: function(jsontiddlers, options) {
		var tiddlers = [];
		var spaceField = options.spaceField || "bag"; // TODO: phase out use view types instead
		$.each(jsontiddlers, function(i, t) {
			var use = false;
			if(!options.showBags || (options.showBags &amp;&amp; options.showBags.contains(t.bag))) {
				use = true;
			}
			if(options.hideBags &amp;&amp; options.hideBags.contains(t.bag)) {
				use = false;
			}
			if(use) {
				var spaceName = t[spaceField];
				var tiddler = config.adaptors.tiddlyweb.toTiddler(t, tweb.host);
				tiddler.fields["server.space"] = tiddlyspace.resolveSpaceName(spaceName);
				tiddlers.push(tiddler);
			}
		});
		return tiddlers;
	},
	_scanCallback: function(place, jsontiddlers, options) {
		var locale = followersMacro.locale;
		var tiddlers = scanMacro._tiddlerfy(jsontiddlers, options);
		
		if(options.sort) {
			tiddlers = store.sortTiddlers(tiddlers, options.sort);
		}
		if(options.filter) {
			var _store = new TiddlyWiki();
			config.lastStore = _store;
			for(var i = 0; i &lt; tiddlers.length; i++) {
				var clone = tiddlers[i];
				clone.title = tiddlyspace.getLocalTitle(clone.title, clone.fields['server.workspace']);
				_store.addTiddler(clone);
			}
			tiddlers = _store.filterTiddlers(options.filter);
		}
		if(place) {
			$(place).empty();
			var list = $("&lt;ul /&gt;").appendTo(place)[0];
			scanMacro.template(list, tiddlers, options.template);
			if(tiddlers.length === 0) {
				$("&lt;li /&gt;").text(options.emptyMessage || locale.noone).appendTo(list);
				$(list).addClass("emptyList");
			}
		}
		if(options.callback) {
			options.callback(tiddlers);
		}
	},
	constructSearchUrl: function(host, options) {
		if(options.url) {
			return options.url;
		}
		var inputs = options.searchValues;
		var tag = options.tag;
		var searchField = options.searchField || "title";
		var searchQuery = [];
		for(var i = 0; i &lt; inputs.length; i++) {
			searchQuery.push('%0:"%1"'.format(searchField, inputs[i]));
		}
		var query = searchQuery.join(" OR ");
		query = tag ? "(%0) AND tag:%1".format(query, tag) : query;
		query = options.query ? "%0;%1;".format(query, options.query) : query;
		query = options.fat ? "%0&amp;fat=1".format(query) : query;
		return '%0/search?q=%1'.format(host, query);
	},
	scan: function(place, options) { // TODO: make use of list macro with url filter
		var locale = followersMacro.locale;
		options.template = options.template ? options.template : "ScanTemplate";
		followMacro.getHosts(function(host, tsHost) {
			$(place).text(followersMacro.locale.pleaseWait);
			options = options ? options: {};
			var url = scanMacro.constructSearchUrl(host, options);
			if(options.cache &amp;&amp; scanMacro.scanned[url]) {
				var tiddlers = scanMacro.scanned[url].tiddlers;
				var run = function(tiddlers) {
					scanMacro._scanCallback(place, tiddlers, options);
				};
				if(tiddlers) {
					run(tiddlers);
				} else {
					scanMacro.scanned[url].callbacks.push(run);
				}
			} else {
				var callback = function(tiddlers) {
					scanMacro._scanCallback(place, tiddlers, options);
				};
				if(scanMacro.scanned[url] &amp;&amp; scanMacro.scanned[url].callbacks) {
					scanMacro.scanned[url].callbacks.push(callback);
				} else {
					scanMacro.scanned[url] = {
						callbacks: [callback]
					};
				}
				ajaxReq({
					url: url,
					dataType: "json",
					success: function(tiddlers) {
						scanMacro.scanned[url].tiddlers = tiddlers;
						var callbacks = scanMacro.scanned[url].callbacks;
						while(callbacks.length &gt; 0) {
							callbacks.pop()(tiddlers);
						}
					},
					error: function(xhr) {
						$(place).empty();
						$("&lt;span /&gt;").addClass("annotation error").text(locale.error.format(xhr.status)).appendTo(place);
					}
				});
			}
		});
	},
	template: function(place, tiddlers, template) { // TODO: make use of list macro.
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var item = $('&lt;li class="spaceName" /&gt;').appendTo(place)[0];
			var spaceName = tiddler.fields["server.space"] || "";
			var templateText = store.getTiddlerText(template).replace(/\$1/mg, spaceName);
			wikify(templateText, item, null, tiddler);
		}
	},
	getOptions: function(paramString, tiddler) {
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var options = { query: false, sort: false, tag: false, template: false, showBags: args.show || false,
			hideBags: args.hide || false, filter: false, spaceField: "bag", searchField: "title", fat: false,
			emptyMessage: false };
		for(var name in args) {
			if(name != "name") {
				if(name == "fat") {
					options[name] = true;
				} else {
					options[name] = args[name][0];
				}
			}
		}
		// if user has set searchField to modifier, then use the modifiers value if available otherwise use searchValues.
		var searchField = options.searchField;
		var searchValues = args[searchField] ? args[searchField] : args.searchValues;
		// if neither of those were used use the first parameter
		var defaultValues = tiddler ? [ tiddler.title ] : [];
		options.searchValues = searchValues ? searchValues : ( args.name ? [args.name[0]] : defaultValues);
		return options;
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var container = $("&lt;div /&gt;").addClass("scanResults resultsArea").appendTo(place)[0];
		var options = scanMacro.getOptions(paramString, tiddler);
		scanMacro.scan(container, options);
	}
};

var followersMacro = config.macros.followers = {
	locale: {
		loggedOut: "Please login to see the list of followers",
		noSupport: "We were unable to retrieve followers as your browser does not support following.",
		pleaseWait: "Please wait while we look this up...",
		error: "Error %0 occurred whilst retrieving data from server",
		noone: "None."
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = followersMacro.locale;
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var username = args.name ? args.name[0] : false;
		var container = $('&lt;div class="followers" /&gt;').text(locale.pleaseWait).
			appendTo(place)[0];
		var followersCallback = function(user) {
			if(user.anon) {
				$("&lt;span /&gt;").text(locale.loggedOut).appendTo(container);
			} else {
				var options = scanMacro.getOptions(paramString);
				$.extend(options, {
					url: "/search?q=title:@%0 OR title:%0 tag:%1 _limit:%2".
						format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: "bag",
					template: options.template ? options.template : "FollowersTemplate"
				});
				scanMacro.scan(container, options);
			}
		};
		return !username ? followersCallback({ name: currentSpace }) : followersCallback({ name: username });
	}
};

var followingMacro = config.macros.following = {
	locale: {
		pleaseWait: followersMacro.locale.pleaseWait,
		loggedOut: "Please login to see who you are following",
		noSupport: followersMacro.locale.noSupport,
		error: followersMacro.locale.error,
		noone: followersMacro.locale.noone
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var locale = followingMacro.locale;
		var args = paramString.parseParams("name", null, true, false, true)[0];
		var fat = args.fat ? true : false;
		var username = args.name ? args.name[0] : false;
		var container = $('&lt;div class="following" /&gt;').text(locale.pleaseWait).
			appendTo(place)[0];
		var followingCallback = function(user) {
			if(user.anon) {
				$("&lt;span /&gt;").text(locale.loggedOut).appendTo(container);
			} else {
				var options = scanMacro.getOptions(paramString);
				$.extend(options, {
					url: "/search?q=bag:%0_public tag:%1 _limit:%2".format(user.name, followMacro.followTag, LIMIT_FOLLOWING),
					spaceField: "title",
					template: options.template ? options.template : "FollowingTemplate"
				});
				scanMacro.scan(container, options);
			}
		};
		return !username ? followingCallback({ name: currentSpace }) : followingCallback({ name: username });
	}
};

var linkedMacro = config.macros.linkedTiddlers = {
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var args = paramString.parseParams("anon")[0];
		var title = params[0] || tiddler.fields["server.title"] || tiddler.title;
		var tid = store.getTiddler(title);
		var containingTiddler = story.findContainingTiddler(place).getAttribute('tiddler');
		if(tid) {
			followMacro.makeButton(place, {
				spaceField: "recipe",
				url: "/bags/%0/tiddlers/%1/backlinks".format(tid.fields['server.bag'],
					encodeURIComponent(tid.title)),
				blacklisted: followMacro.getBlacklist(),
				title: title,
				containingTiddler: containingTiddler,
				user: params[1] || false,
				consultFollowRelationship: args.follow ? true : false });
		}
	}
};

if(config.options.chkFollowTiddlersIsLinkedTiddlers) {
	merge(config.macros.followTiddlers, config.macros.linkedTiddlers);
	config.shadowTiddlers.FollowTiddlersHeading = "These are the other tiddlers that link to this tiddler.";
}

})(jQuery);
//}}}</pre>
</div>
<div _hash="05e5325df4a93506529425c558842d5953dd6a44" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceInit/1521909:0289c8c4afa689e4708384af1f2904ea81a52f26&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521909" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceInit" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceInit" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceInitialization|
|''Version''|0.7.3|
|''Description''|Initializes new TiddlySpaces the first time they are created|
|''Status''|@@beta@@|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/blob/master/src/plugins/TiddlySpaceInit.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig RandomColorPalettePlugin chrjs ImageMacroPlugin|
!TODO
* robust error notification and recovery
!MarkupPreHead
&lt;!--{{{--&gt;
&lt;link href="/bags/%0_public/tiddlers.atom" rel="alternate"
	type="application/atom+xml" title="%0's public feed" /&gt;
&lt;link rel="canonical" href="%1/" /&gt;
&lt;!--}}}--&gt;
!Code
***/
//{{{
(function($) {

var versionField = "tiddlyspaceinit_version";
var markupPreHead = store.getTiddlerText(tiddler.title + "##MarkupPreHead", "");
var tiddlyspace = config.extensions.tiddlyspace;
var currentSpace = tiddlyspace.currentSpace;
var tweb = config.extensions.tiddlyweb;

var plugin = config.extensions.TiddlySpaceInit = {
	version: "0.6",
	SiteTitle: "%0",
	SiteSubtitle: "a TiddlySpace",
	flagTitle: "%0SetupFlag",
	flagWarning: "Please do not modify this tiddler; it was created " +
		"automatically upon space creation.",

	dispatch: function(ev) {
		var title = plugin.flagTitle.format([currentSpace.name]);
		config.annotations[title] = plugin.flagWarning;
		if(currentSpace.type != "private") {
			return;
		}
		var tiddlers = [];
		var tid = store.getTiddler(title);
		if(tid) {
			curVersion = parseFloat(tid.fields[versionField]);
			reqVersion = parseFloat(plugin.version);
			if(curVersion &lt; reqVersion) {
				plugin.update(curVersion, tid);
				tid.fields[versionField] = plugin.version;
				tid.incChangeCount();
				tid = store.saveTiddler(tid);
				tiddlers.push(tid);
			}
		} else { // first run
			tid = new Tiddler(title);
			tid.tags = ["excludeLists", "excludeSearch", "excludePublisher"];
			tid.fields = $.extend({}, config.defaultCustomFields);
			tid.fields[versionField] = plugin.version;
			tid.text = "@@%0@@".format([plugin.flagWarning]);
			tid = store.saveTiddler(tid);
			tiddlers = tiddlers.concat(plugin.firstRun(), tid);
		}
		autoSaveChanges(null, tiddlers);
	},
	update: function(curVersion, flagTiddler) {
		if(curVersion &lt; 0.2) {
			this.createAvatar();
		}
		if(curVersion &lt; 0.3) {
			flagTiddler.tags.pushUnique("excludePublisher"); // XXX: never persisted
		}
		if(curVersion &lt; 0.5) { // v0.4 was faulty
			this.setupMarkupPreHead();
		}
		if(curVersion &lt; 0.6) {
			this.purgeSystemSettings();
		}
	},
	pubTid: {
		tags: ["excludeLists", "excludeSearch"],
		fields: $.extend({}, config.defaultCustomFields, {
			"server.workspace": tiddlyspace.getCurrentWorkspace("public")
		})
	},
	makeTiddlerIfNot: function(tiddler) {
		if (!store.tiddlerExists(tiddler.title)) {
			$.extend(true, tiddler, plugin.pubTid);
			return [store.saveTiddler(tiddler)];
		} else {
			return [];
		}
	},
	firstRun: function() {
		var tiddlers = [];
		// generate Site*itle
		$.each(["SiteTitle", "SiteSubtitle"], function(i, item) {
			var tid = new Tiddler(item);
			tid.text = plugin[item].format([currentSpace.name]);
			tiddlers.push.apply(tiddlers,
				plugin.makeTiddlerIfNot(tid));
		});
		// generate public ColorPalette
		var tid = new Tiddler("ColorPalette");
		tid.text = config.macros.RandomColorPalette.generatePalette({
			saturation_pale: 0.67, saturation_light: 0.53,
			saturation_mid: 0.43, saturation_dark: 0.06,
			pale: 0.99, light: 0.85, mid: 0.5, dark: 0.31
		},
			false);
		tiddlers.push.apply(tiddlers, plugin.makeTiddlerIfNot(tid));
		this.createAvatar();
		this.setupMarkupPreHead();
		return tiddlers;
	},
	// remove _cookie slices (TiddlyWiki 2.6.2 beta 6 remnants)
	purgeSystemSettings: function() {
		var ss = store.getTiddler("SystemSettings");
		if(ss) {
			var lines = ss.text.split("\n");
			var persistentOptions = $.grep(lines, function(line, i) {
				return line.indexOf("_cookie:") == -1;
			});
			ss.text = persistentOptions.join("\n");
			ss = store.saveTiddler(ss);
			autoSaveChanges(null, [ss]);
		}
	},
	createAvatar: function() {
		var avatar = "SiteIcon";
		var host = tweb.host;
		var notify = function(xhr, error, exc) {
			displayMessage("ERROR: could not create avatar - " + // TODO: i18n
				"%0: %1".format([xhr.statusText, xhr.responseText]));
			// TODO: resolve!?
		};

		var pubBag = tiddlyspace.getCurrentBag("public");
		var tid = new tiddlyweb.Tiddler(avatar);
		tid.bag = new tiddlyweb.Bag(pubBag, host);

		var callback = function(data, status, xhr) {}; // avatar already exists; do nothing
		var errback = function(xhr, error, exc) {
			if(xhr.status != 404) {
				return;
			}
			// copy default avatar
			var _notify = function(tid, status, xhr) {
				displayMessage("created avatar"); // TODO: i18n
				var image = config.macros.image;
				if(image &amp;&amp; image.refreshImage) {
					var uri = "/%0/tiddlers/SiteIcon".
						format(tiddlyspace.getCurrentWorkspace("public"));
					image.refreshImage(uri);
					image.refreshImage("SiteIcon");
				}
			};
			var _callback = function(tid, status, xhr) {
				tid.title = avatar;
				tid.bag.name = pubBag;
				delete tid.etag;
				tid.put(_notify, notify); // TODO: add to current session document (via adaptor?)
			};
			tweb.getUserInfo(function(user) {
				var avatarTitle = currentSpace.name == user.name ?
					"defaultUserIcon" : "defaultSiteIcon";
				var tid = new tiddlyweb.Tiddler(avatarTitle);
				tid.bag = new tiddlyweb.Bag("common", host);
				tid.get(_callback, notify);
			});
		};
		tid.get(callback, errback);
	},
	savePublicTiddlerText: function(title, text, pubWorkspace) {
		var tid = new Tiddler(title);
		tid.text = text;
		tid.tags = ["excludeLists"];
		tid.fields = $.extend({}, config.defaultCustomFields);
		tid.fields["server.workspace"] = pubWorkspace;
		tid.fields["server.page.revision"] = "false";
		tid = store.saveTiddler(tid);
		autoSaveChanges(null, [tid]);
	},
	setupMarkupPreHead: function() {
		var pubWorkspace = tiddlyspace.getCurrentWorkspace("public");
		var existing = store.getTiddler("MarkupPreHead");
		if(!existing || existing.fields["server.workspace"] != pubWorkspace) {
			var context = this;
			tweb.getStatus(function(status) {
				var text = markupPreHead.format(currentSpace.name,
					tiddlyspace.getHost(status.server_host, currentSpace.name));
				context.savePublicTiddlerText("MarkupPreHead", text,
					pubWorkspace);
			});
		}
		// also set up DefaultTiddlers
		var title = "DefaultTiddlers";
		existing = store.getTiddler(title) || new Tiddler(title);
		if(existing.fields["server.workspace"] != pubWorkspace) {
			var text = existing.text || store.getShadowTiddlerText(title);
			this.savePublicTiddlerText(title, text, pubWorkspace);
		}
	}
};

$(document).bind("startup", plugin.dispatch);

})(jQuery);
//}}}</pre>
</div>
<div _hash="b88cfa8ccd99b328c34b54aa9371c8f9ce02ffaf" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceLinkPlugin/1521865:6783b6121bff172bc9419e37e4b32ed5c185880f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521865" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceLinkPlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceLinkPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name:''|TiddlySpaceLinkPlugin|
|''Description:''|Formatter to reference other spaces from wikitext |
|''Author:''|PaulDowney (psd (at) osmosoft (dot) com) |
|''Source:''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceLinkPlugin.js|
|''Version:''|1.4.2|
|''License:''|[[BSD License|http://www.opensource.org/licenses/bsd-license.php]] |
|''Comments:''|Please make comments at http://groups.google.co.uk/group/TiddlyWikiDev |
|''~CoreVersion:''|2.4|
!!Documentation
This plugin provides wikitext formatters for referencing another [[space|Space]] on the same TiddlySpace server, as in the following examples:
&lt;&lt;&lt;
  {{{@space}}} -- @space 
  {{{~@space}}} -- ~@space 
  {{{Tiddler@space}}} -- Tiddler@space
  {{{[[Tiddler Title]]@space}}} -- [[Tiddler Title]]@space 
  {{{[[Link text|Tiddler Title]]@space}}} -- [[Link text|Tiddler Title]]@space
&lt;&lt;&lt;
Links to tiddlers with a title begining with an "@" remain as tiddlyLinks:
&lt;&lt;&lt;
  {{{[[@tiddler]]}}} -- [[@tiddler]]
&lt;&lt;&lt;
and these may be changed into a space link using {{{@@}}}:
&lt;&lt;&lt;
  {{{[[@@space]]}}} -- [[@@space]]
  {{{[[Link to an another space|@@space]]}}} -- [[Link to another space|@@space]]
  {{{[[@space|@@space]]}}} -- [[@space|@@space]]
&lt;&lt;&lt;
TiddlySpace includes the [[TiddlySpaceLinkPlugin]] which provides WikiText markup for linking to other spaces on the same server. For example @glossary is a link to the {{{glossary}}} space and [[Small Trusted Group]]@glossary a link to an individual tiddler in the @glossary space. Prefixing the link with a tilde escapes the link, for example {{{~@space}}}.
Email addresses, for example joe.bloggs@example.com and mary@had.a.little.lamb.org should be unaffected.
!!Features
The plugin provides external links decorated so that other plugins may be included to add features such as the ability to dynamically pull externally linked tiddlers into the current TiddlyWiki.
Wikitext linking to a space on another server, for example from a tiddler in a space on tiddlyspace.com to a tiddler or a space on example.com, isn't currently supported. 
!!Code
***/
//{{{
/*jslint onevar: false nomen: false plusplus: false */
/*global jQuery config createTiddlyText createExternalLink createTiddlyLink */

function createSpaceLink(place, spaceName, title, alt, isBag) {
	var link, a, currentSpaceName, label;
	try {
		if (spaceName === config.extensions.tiddlyspace.currentSpace.name) {
			title = title || spaceName;
			a = createTiddlyLink(place, title, false);
			jQuery(a).text(alt || title);
			return a;
		}
	} catch (ex1) {
		currentSpaceName = false;
	}

	a = jQuery("&lt;a /&gt;").addClass('tiddlySpaceLink externalLink').appendTo(place)[0];
	if(title) {
		jQuery(a).attr('tiddler', title);
	}
	if(isBag) {
		jQuery(a).attr('bag', spaceName);
	} else {
		jQuery(a).attr('tiddlyspace', spaceName);
	}

	config.extensions.tiddlyweb.getStatus(function(status) {
		link = status.server_host.url;
		if (title) {
			label = alt || title;
			link = link + "/" + encodeURIComponent(title);
		} else {
			label = alt || spaceName;
		}
		// assumes a http URI without user:pass@ prefix
		if(!isBag) {
			link = link.replace("http://", "http://" + spaceName.toLowerCase() + ".");
		} else {
			link += "/bags/" + spaceName + "/tiddlers.wiki";
		}
		jQuery(a).attr("href", link).text(label);
	});
	return a;
}

(function ($) {

	config.textPrimitives.spaceName = "[a-zA-Z][a-zA-Z0-9-]*[a-zA-Z0-9]";
	config.textPrimitives.spaceNameStrict = "[a-z][a-z0-9-]*";
	config.textPrimitives.bareTiddlerLetter = config.textPrimitives.anyLetterStrict;

	config.formatters.splice(0, 0, {
		name: "spacenameLink",
		match: config.textPrimitives.unWikiLink + "?" + config.textPrimitives.bareTiddlerLetter + "*@" + config.textPrimitives.spaceName + "\\.?.?",
		lookaheadRegExp: new RegExp(config.textPrimitives.unWikiLink + "?(" + config.textPrimitives.bareTiddlerLetter + "*)@(" + config.textPrimitives.spaceName + ")", "mg"),
		handler: function (w) {
			if (w.matchText.substr(w.matchText.length - 2, 1) === '.' &amp;&amp; w.matchText.substr(w.matchText.length - 1, 1).match(/[a-zA-Z]/)) {
				w.outputText(w.output, w.matchStart, w.nextMatch);
				return;
			}
			if (w.matchText.substr(0, 1) === config.textPrimitives.unWikiLink) {
				w.outputText(w.output, w.matchStart + 1, w.nextMatch);
				return;
			}
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				createSpaceLink(w.output, lookaheadMatch[2], lookaheadMatch[1]);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	},
	{
		name: "tiddlySpaceLink",
		match: "\\[\\[[^\\|\\]]*\\|*@@" + config.textPrimitives.spaceName + "\\]",
		lookaheadRegExp: new RegExp("\\[\\[(.*?)(?:\\|@@(.*?))?\\]\\]", "mg"),
		handler: function (w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				var alt = lookaheadMatch[2] ? lookaheadMatch[1] : lookaheadMatch[1].replace(/^@@/, "");
				var space = lookaheadMatch[2] || alt;
				createSpaceLink(w.output, space, "", alt);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	},
	{
		name: "tiddlyLinkSpacenameLink",
		match: "\\[\\[[^\\[]*\\]\\]@",
		lookaheadRegExp: new RegExp("\\[\\[(.*?)(?:\\|(.*?))?\\]\\]@(" + config.textPrimitives.spaceName + ")", "mg"),
		handler: function (w) {
			this.lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			if (lookaheadMatch &amp;&amp; lookaheadMatch.index === w.matchStart) {
				var title = lookaheadMatch[2] || lookaheadMatch[1];
				var alt = lookaheadMatch[1] || lookaheadMatch[2];
				createSpaceLink(w.output, lookaheadMatch[3], title, alt);
				w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
		}
	});

	// ensure space links don't appear as missing links
	config.textPrimitives.brackettedLink = "\\[\\[([^\\]][^@\\]][^\\]]*)\\]\\](?=[^@])";
	config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\](?=[^@])";

	// reevaluate derrived expressions ..
	config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
		config.textPrimitives.brackettedLink + ")|(?:" +
		config.textPrimitives.urlPattern + ")","mg");
	config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
		config.textPrimitives.titledBrackettedLink + ")|(?:" +
		config.textPrimitives.brackettedLink + ")|(?:" +
		config.textPrimitives.urlPattern + ")","mg");

	// treat space links in titledBracketedLink as external links
	var missingTiddlySpaceLink = new RegExp("^@@" + config.textPrimitives.spaceName + "$", "");
	var isExternalLink = config.formatterHelpers.isExternalLink;
	config.formatterHelpers.isExternalLink = function(link) {
		return missingTiddlySpaceLink.test(link) || isExternalLink(link);
	};

}(jQuery));
//}}}</pre>
</div>
<div _hash="d38da0ee80a7dc114a17466600f9430fa2a962bb" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpacePublishingCommands/1521868:3beba30c544f45a763fecb3129e8d7bf72ea1247&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521868" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpacePublishingCommands" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpacePublishingCommands" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpacePublishingCommands|
|''Version''|0.8.5|
|''Status''|@@beta@@|
|''Description''|toolbar commands for drafting and publishing|
|''Author''|Jon Robson|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpacePublishingCommands.js|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig TiddlySpaceFilters|
!Usage
Provides changeToPrivate, changeToPublic and saveDraft commands
Provides TiddlySpacePublisher macro.
{{{&lt;&lt;TiddlySpacePublisher type:private&gt;&gt;}}} make lots of private tiddlers public.
{{{&lt;&lt;TiddlySpacePublisher type:public&gt;&gt;}}} make lots of public tiddlers public.
!TODO
* add public argument?
!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var originMacro = config.macros.tiddlerOrigin;

tiddlyspace.getTiddlerStatusType = function(tiddler) {
	var isShadow = store.isShadowTiddler(tiddler.title);
	var exists = store.tiddlerExists(tiddler.title);
	if(isShadow &amp;&amp; !exists) {
		return "shadow";
	} else if(!exists) {
		return "missing";
	} else {
		var types = ["private", "public"];
		var type = "external";
		for(var i = 0; i &lt; types.length; i++) {
			var t = types[i];
			type = config.filterHelpers.is[t](tiddler) ? t : type;
		}
		if(config.filterHelpers.is.unsynced(tiddler)) {
			type = type == "private" ? "unsyncedPrivate" : "unsyncedPublic";
		}
		return type;
	}
};

var cmd = config.commands.publishTiddler = {
	text: "make public",
	tooltip: "Change this private tiddler into a public tiddler",
	errorMsg: "Error publishing %0: %1",

	isEnabled: function(tiddler) {
		return !readOnly &amp;&amp; config.filterHelpers.is["private"](tiddler);
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title);
		if(tiddler) {
			var newBag = cmd.toggleBag(tiddler.fields["server.bag"]);
			this.moveTiddler(tiddler, {
				title: tiddler.fields["publish.name"] || tiddler.title,
				fields: { "server.bag": newBag }
			});
		}
	},
	toggleBag: function(bag, to) {
		var newBag;
		if(typeof bag != typeof "") {
			var tiddler = bag;
			bag = tiddler.fields["server.bag"];
		}
		if(bag.indexOf("_private") &gt; -1) { // should make use of endsWith
			to = to ? to : "public";
			newBag = bag.replace("_private", "_" + to);
		} else {
			to = to ? to : "private";
			newBag = bag.replace("_public", "_" + to);
		}
		return newBag;
	},
	copyTiddler: function(title, newTitle, newBag, callback) {
		var original = store.getTiddler(title);
		newTitle = newTitle ? newTitle : title;
		var adaptor = original.getAdaptor();
		var publish = function(original, callback) {
			var tiddler = $.extend(new Tiddler(newTitle), original);
			tiddler.fields = $.extend({}, original.fields, {
				"server.bag": newBag,
				"server.workspace": "bags/%0".format(newBag),
				"server.page.revision": "false"
			});
			delete tiddler.fields["server.title"];
			tiddler.title = newTitle;
			adaptor.putTiddler(tiddler, null, null, callback);
		};
		publish(original, callback);
	},
	moveTiddler: function(tiddler, newTiddler, callback) {
			var info = {
			copyContext: {},
			deleteContext: {}
		};
		var _dirty = store.isDirty();
		var adaptor = tiddler.getAdaptor();
		var newTitle = newTiddler.title;
		var oldTitle = tiddler.title;
		delete tiddler.fields["server.workspace"];
		var oldBag = tiddler.fields["server.bag"];
		var newBag = newTiddler.fields["server.bag"];
		var newWorkspace = "bags/%0".format(newBag);
		cmd.copyTiddler(oldTitle, newTitle, newBag, function(ctx) {
				info.copyContext = ctx;
				var context = {
					tiddler: tiddler,
					workspace: newWorkspace
				};
				store.addTiddler(ctx.tiddler);
				tiddler.title = oldTitle; // for cases where a rename occurs
				if(ctx.status) { // only do if a success
					if(oldBag != newBag) {
						adaptor.deleteTiddler(tiddler, context, {}, function(ctx) {
							info.deleteContext = ctx;
							var el;
							if(tiddler) {
								tiddler.fields["server.workspace"] = newWorkspace;
								tiddler.fields["server.bag"] = newBag;
							}
							el = el ? el : story.refreshTiddler(oldTitle, null, true);
							if(oldTitle != newTitle) {
								store.deleteTiddler(oldTitle);
								store.notify(oldTitle, true);
							}
							if(el) {
								story.displayTiddler(el, newTitle);
							}
							if(oldTitle != newTitle) {
								story.closeTiddler(oldTitle);
							}
							if(callback) {
								callback(info);
							}
							store.setDirty(_dirty);
						});
					} else {
						if(callback) {
							callback(info);
						}
					}
					refreshDisplay();
				}
		});
	}
};

var changeToPrivate = config.commands.changeToPrivate = {
	text: "make private",
	tooltip: "turn this public tiddler into a private tiddler",
	isEnabled: function(tiddler) {
		return !readOnly &amp;&amp; config.filterHelpers.is["public"](tiddler);
	},
	handler: function(event, src, title) {
		var tiddler = store.getTiddler(title);
		var newBag = cmd.toggleBag(tiddler, "private");
		var newTiddler = { title: title, fields: { "server.bag": newBag }};
		cmd.moveTiddler(tiddler, newTiddler);
	}
};
config.commands.changeToPublic = cmd;

/* Save as draft command */
var saveDraftCmd = config.commands.saveDraft = {
	text: "save draft",
	tooltip: "Save as a private draft",
	isEnabled: function(tiddler) {
		return changeToPrivate.isEnabled(tiddler);
	},
	getDraftTitle: function(title) {
		var draftTitle;
		var draftNum = "";
		while(!draftTitle) {
			var suggestedTitle = "%0 [draft%1]".format(title, draftNum);
			if(store.getTiddler(suggestedTitle)) {
				draftNum = !draftNum ? 2 : draftNum + 1;
			} else {
				draftTitle = suggestedTitle;
			}
		}
		return draftTitle;
	},
	createDraftTiddler: function(title, gatheredFields) {
		var tiddler = store.getTiddler(title);
		var draftTitle = saveDraftCmd.getDraftTitle(title);
		var draftTiddler = new Tiddler(draftTitle);
		if(tiddler) {
			$.extend(true, draftTiddler, tiddler);
		} else {
			$.extend(draftTiddler.fields, config.defaultCustomFields);
		}
		for(var fieldName in gatheredFields) {
			if(TiddlyWiki.isStandardField(fieldName)) {
				draftTiddler[fieldName] = gatheredFields[fieldName];
			} else {
				draftTiddler.fields[fieldName] = gatheredFields[fieldName];
			}
		}
		var privateBag = tiddlyspace.getCurrentBag("private");
		var privateWorkspace = tiddlyspace.getCurrentWorkspace("private");
		draftTiddler.title = draftTitle;
		draftTiddler.fields["publish.name"] = title;
		draftTiddler.fields["server.workspace"] = privateWorkspace;
		draftTiddler.fields["server.bag"] = privateBag;
		draftTiddler.fields["server.title"] = draftTitle;
		draftTiddler.fields["server.page.revision"] = "false";
		delete draftTiddler.fields["server.etag"];
		return draftTiddler;
	},
	handler: function(ev, src, title) {
		var tiddler = store.getTiddler(title); // original tiddler
		var tidEl = story.getTiddler(title);
		var uiFields = {};
		story.gatherSaveFields(tidEl, uiFields);
		var tid = saveDraftCmd.createDraftTiddler(title, uiFields);
		tid = store.saveTiddler(tid.title, tid.title, tid.text, tid.modifier,
			new Date(), tid.tags, tid.fields);
		autoSaveChanges(null, [tid]);
		story.closeTiddler(title);
		story.displayTiddler(src, title);
		story.displayTiddler(src, tid.title);
	}
};

var macro = config.macros.TiddlySpacePublisher = {
	locale: {
		title: "Batch Publisher",
		changeStatusLabel: "Make %0",
		noTiddlersText: "No tiddlers to publish",
		changeStatusPrompt: "Make all the selected tiddlers %0.",
		description: "Change tiddlers from %0 to %1 in this space"
	},

	listViewTemplate: {
		columns: [
			{ name: "Selected", field: "Selected", rowName: "title", type: "Selector" },
			{ name: "Tiddler", field: "tiddler", title: "Tiddler", type: "Tiddler" },
			{ name: "Status", field: "status", title: "Status", type: "WikiText" }
		],
		rowClasses: []
	},

	changeStatus: function(tiddlers, status, callback) { // this is what is called when you click the publish button
		var publicBag;
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var newTiddler = {
				title: tiddler.title,
				fields: { "server.bag": cmd.toggleBag(tiddler, status) }
			};
			cmd.moveTiddler(tiddler, newTiddler, callback);
		}
	},
	getMode: function(paramString) {
		var params = paramString.parseParams("anon")[0];
		var status = params.type ?
			(["public", "private"].contains(params.type[0]) ? params.type[0] : "private") :
			"private";
		var newStatus = status == "public" ? "private" : "public";
		return [status, newStatus];
	},
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var wizard = new Wizard();
		var locale = macro.locale;
		var status = macro.getMode(paramString);
		wizard.createWizard(place, locale.title);
		wizard.addStep(macro.locale.description.format(status[0], status[1]),
			'&lt;input type="hidden" name="markList" /&gt;');
		var markList = wizard.getElement("markList");
		var listWrapper = $("&lt;div /&gt;").addClass("batchPublisher").
			attr("refresh", "macro").attr("macroName", macroName).
			attr("params", paramString)[0];
		markList.parentNode.insertBefore(listWrapper, markList);
		$.data(listWrapper, "wizard", wizard);
		macro.refresh(listWrapper);
	},
	getCheckedTiddlers: function(listWrapper, titlesOnly) {
		var tiddlers = [];
		$(".chkOptionInput[rowName]:checked", listWrapper).each(function(i, el) {
			var title = $(el).attr("rowName");
			if(titlesOnly) {
				tiddlers.push(title);
			} else {
				tiddlers.push(store.getTiddler(title));
			}
		});
		return tiddlers;
	},
	refresh: function(listWrapper) {
		var checked = macro.getCheckedTiddlers(listWrapper, true);
		var paramString = $(listWrapper).empty().attr("params");
		var wizard = $.data(listWrapper, "wizard");
		var locale = macro.locale;
		var params = paramString.parseParams("anon")[0];
		var publishCandidates = [];
		var status = macro.getMode(paramString);
		var pubType = status[0];
		var newPubType = status[1];
		var tiddlers = params.filter ? store.filterTiddlers(params.filter[0]) :
			store.filterTiddlers("[is[%0]]".format(pubType));
		var enabled = [];
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = tiddlers[i];
			var title = tiddler.title;
			if(!tiddler.tags.contains("excludePublisher") &amp;&amp; title !== "SystemSettings") {
				publishCandidates.push({ title: title, tiddler: tiddler, status: pubType});
			}
			if(checked.contains(title)) {
				enabled.push("[rowname=%0]".format(title));
			}
		}

		if(publishCandidates.length === 0) {
			createTiddlyElement(listWrapper, "em", null, null, locale.noTiddlersText);
		} else {
			var listView = ListView.create(listWrapper, publishCandidates, macro.listViewTemplate);
			wizard.setValue("listView", listView);
			var btnHandler = function(ev) {
				var tiddlers = macro.getCheckedTiddlers(listWrapper);
				var callback = function(status) {
					$(".batchPublisher").each(function(i, el) {
						macro.refresh(el);
					});
				};
				macro.changeStatus(tiddlers, newPubType, callback);
			};
			wizard.setButtons([{
				caption: locale.changeStatusLabel.format(newPubType),
				tooltip: locale.changeStatusPrompt.format(newPubType),
				onClick: btnHandler
			}]);
			$(enabled.join(",")).attr("checked", true); // retain what was checked before
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="db2d6dc5a63b9262d62fb6ffe02dbe10fdd31feb" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceRevertRevision/1521871:7eecaa1341a2c1f93a5601fe600b0305c99f9258&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521871" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceRevertRevision" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeMissing excludeSearch systemConfig" title="TiddlySpaceRevertRevision" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceRevertRevision|
|''Description''|Revert to a previous revision|
|''Author''|BenGillies|
|''Version''|0.1|
|''Status''|unstable|
|''Source''|http://github.com/TiddlySpace/tiddlyspace|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Requires''|TiddlyWebAdaptor TiddlySpaceRevisionView|
!Usage
Add a control button to revert to a particular revision.

The button must be called from within a revision, as generated by TiddlySpaceRevisionView
!Code
***/
//{{{
(function($) {

config.commands.revert = {
	text: "revert",
	tooltip: "make this revision the current one",
	handler: function(ev, src, title) {
		var revElem = story.getTiddler(title);
		var tidToRevert = store.getTiddler($(revElem).attr("revName"));

		var revision = store.getTiddler(title);
		if ((revision) &amp;&amp; (tidToRevert)) {
			tidToRevert.text = revision.text;
			var newFields = merge({}, revision.fields);
			for (var fieldName in newFields) {
				if (fieldName.substr(0, 7) === "server.") {
					delete newFields[fieldName];
				}
			}
			merge(tidToRevert.fields, newFields);
			tidToRevert.tags = merge([], revision.tags);
			tidToRevert.fields.changecount = 1;
			delete tidToRevert.fields.doNotSave;

			store.saveTiddler(tidToRevert.title, tidToRevert.title,
				tidToRevert.text, null, null, tidToRevert.tags,
				tidToRevert.fields, false, tidToRevert.created, tidToRevert.creator);

			autoSaveChanges(true);
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="be83cfafd902bff89908e6f74d71228655be3490" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceRevisionView/1521859:1618e4b09ca5fc3c2de58d4220c9e9e491b25e4a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521859" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceRevisionView" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeMissing excludeSearch systemConfig" title="TiddlySpaceRevisionView" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceRevisionView|
|''Description''|Show tiddler revisions in a stack of cards view|
|''Author''|BenGillies|
|''Version''|0.2.0|
|''Status''|beta|
|''Source''|http://github.com/TiddlySpace/tiddlyspace|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.6.0|
|''Requires''|TiddlyWebAdaptor|
!Usage
The viewRevisions macro can be attached to any element, which should be passed
in as a parameter.

For example:

&amp;lt;&amp;lt;viewRevisions page:10 link:"&lt;&lt;view modified date&gt;&gt;"&amp;gt;&amp;gt;

would show the revisions "stack of cards" view, 10 at a time, when the modified
date is clicked.
!Code
***/
//{{{
(function($) {

var me = config.macros.viewRevisions = {
	revisionTemplate: "RevisionTemplate",
	revSuffix: " [rev. #%0]", // text to append to each tiddler title
	defaultPageSize: 5, // default number of revisions to show
	defaultLinkText: "View Revisions", // when there's nothing else to use
	offsetTop: 30, // in px
	offsetLeft: 10, // in px
	shiftDownDelay: 50, // in ms
	visibleSlideAmount: 20, // amount of revisions to show on left hand edge after sliding
	zIndex: 100, // default z-index
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		params = paramString.parseParams(null, null, true)[0];
		var tiddlerElem = story.findContainingTiddler(place);

		var revButton;
		var pageSize = parseInt(params.page[0], 10) || me.defaultPageSize;
		var linkObj = params.link ? params.link[0] || me.defaultLinkText : false;
		if(linkObj) {
			revButton = $('&lt;span class="button openRevisions" /&gt;')
				.appendTo(place);
			wikify(linkObj, revButton[0], null, tiddler);
		} else {
			revButton = place;
		}

		$(revButton).click(function() {
			if (!$(tiddlerElem).hasClass("revisions")) {
				me.showRevisions(tiddlerElem, tiddler, pageSize);
			} else {
				me.closeRevisions(tiddlerElem);
			}
		});
	},

	// initialisation for revision view
	showRevisions: function(tiddlerElem, tiddler, pageSize) {
		var context = {
			host: tiddler.fields["server.host"],
			workspace: tiddler.fields["server.workspace"]
		};
		$(tiddlerElem).addClass("revisions").attr("revName", tiddler.title);
		// ensure toolbar commands deactivate RevisionsView
		$("a", ".toolbar", tiddlerElem).each(function(index, btn) {
			var _onclick = btn.onclick;
			btn.onclick = function(e) {
				me.closeRevisions(tiddlerElem);
				_onclick.apply(this, arguments);
			};
		});
		// ensure default action deactivates RevisionsView
		var _ondblclick = tiddlerElem.ondblclick;
		tiddlerElem.ondblclick = function(e) {
			me.closeRevisions(tiddlerElem);
			_ondblclick.apply(this, arguments);
		};
		var type = tiddler.fields["server.type"];
		var adaptor = new config.adaptors[type]();
		var userParams = {
			tiddlerElem: tiddlerElem,
			pageSize: pageSize,
			title: tiddler.title
		};
		me.createCloak(tiddlerElem);
		adaptor.getTiddlerRevisionList(tiddler.title, null, context, userParams,
				function(context, userParams) {
					// strip the current revision
					context.revisions.shift();
					me.expandStack(context, userParams);
				});
	},

	// fetch the actual revision and put it in the tiddler div
	showRevision: function(place, revision, callback) {
		var context = {
			host: revision.fields["server.host"],
			workspace: revision.fields["server.workspace"]
		};
		var userParams = {
			revElem: place
		};
		var type = revision.fields["server.type"];
		var adaptor = new config.adaptors[type]();
		var revNo = revision.fields["server.page.revision"];
		adaptor.getTiddlerRevision(revision.title, revNo, context, userParams,
			function(context, userParams) {
				var tiddler = context.tiddler;
				tiddler.title += me.revSuffix
					.format([$(place).attr("revision")]);
				tiddler.fields.doNotSave = true;
				if (store.getTiddler(tiddler.title)) {
					store.deleteTiddler(tiddler.title);
				}
				store.addTiddler(tiddler);

				//now, populate the existing div
				var revElem = userParams.revElem;
				$(revElem).attr("id", story.tiddlerId(tiddler.title));
				$(revElem).attr("refresh", "tiddler");
				var getTemplate = function() {
					var themeName = config.options.txtTheme;
					if (themeName) {
						return store.getTiddlerSlice(themeName,
							me.revisionTemplate) || me.revisionTemplate ||
							"ViewTemplate";
					} else {
						return (store.getTiddler(me.revisionTemplate)) ?
							me.revisionTemplate : "ViewTemplate";
					}
				};
				var template = getTemplate();
				story.refreshTiddler(tiddler.title, template, true);
				callback(tiddler);
			});
	},

	createCloak: function(promoteElem) {
		var el = $(promoteElem);
		// cache styles for resetting later
		el.data({
			top: el.css("top"),
			left: el.css("left"),
			zIndex: el.css("z-index")
		});

		$('&lt;div class="revisionCloak" /&gt;').css("z-index", me.zIndex)
			.click(function() {
				me.closeRevisions(promoteElem);
			})
			.appendTo(document.body);

		el.css("z-index", me.zIndex + 1);
	},

	// clean up, removing all evidence of revision view
	closeRevisions: function(promoteElem) {
		var el = $(promoteElem);
		// revert the original tiddler back to its previous state
		el.removeAttr("revName").removeClass("revisions").css({
			top: el.data("top"),
			left: el.data("left"),
			zIndex: el.data("zIndex")
		});

		// remove any revisions still in the store
		var revisions = $(".revisions");
		revisions.each(function(index, revision) {
			var revAttributes = revision.attributes;
			if ((revAttributes.revname) &amp;&amp;
					(revAttributes.revision)) {
				var revName = revAttributes.revname.value;
				var revNo = revAttributes.revision.value;
				var title = revName + me.revSuffix.format([revNo]);

				if (store.getTiddler(title)) {
					store.deleteTiddler(title);
				}
			}
		});

		// delete the previous revisions
		revisions.remove();

		// remove the cloak
		$(".revisionCloak").remove();
	},

	// calback from getting list of revisions
	expandStack: function(context, userParams) {
		var pageSize = userParams.pageSize;

		var from = userParams.from || 0;
		var tiddlerElem = userParams.tiddlerElem;

		userParams.defaultHeight = $(tiddlerElem).height();
		userParams.defaultWidth = $(tiddlerElem).width();
		if (from &lt; context.revisions.length) {
			me.displayNextRevision(tiddlerElem, userParams, context, from,
				from + pageSize - 1);
		}
	},

	// place the next div above and behind the previous one
	displayNextRevision: function(tiddlerElem, userParams, context, from, to) {
		var revision = context.revisions[from];
		var callback = function() {
			var revText = revBtn.getRevisionText(tiddlerElem, revision);
			tiddlerElem = me.createRevisionObject(tiddlerElem, context,
				userParams, revText);
			$(tiddlerElem)
				.attr("revision", (context.revisions.length - from));
			if ((from &lt; to) &amp;&amp; ((from + 1) &lt; context.revisions.length)){
				me.displayNextRevision(tiddlerElem, userParams, context,
					from + 1, to);
			} else if ((context.revisions.length - 1) &gt; to) {
				me.showMoreButton(tiddlerElem, context, userParams, to + 1);
			}
		};
		me.shiftVisibleDown(userParams.title, callback);
	},

	createRevisionObject: function(tiddlerElem, context, userParams, text) {
		var newPosition = me.calculatePosition(tiddlerElem, context);
		return $('&lt;div class="revisions tiddler" /&gt;')
			.css({
				position: "absolute",
				top: newPosition.top,
				left: newPosition.left,
				"z-index": me.zIndex + 1,
				height: userParams.defaultHeight,
				width: userParams.defaultWidth
			})
			.attr("revName", userParams.title)
			.append(text)
			.insertBefore(tiddlerElem);
	},

	// move the already present revisions down by 1 to fit the next one in
	shiftVisibleDown: function(title, callback) {
		var revisions = $("[revName='%0'].revisions".format([title]));
		var revisionCount = revisions.length;

		$(revisions).animate({top: "+=" + me.offsetTop},
				me.shiftDownDelay, function() {
					revisionCount -= 1;
					if ((callback) &amp;&amp; (!revisionCount)) {
						callback();
					}
				});
	},

	// where we put the new revision
	calculatePosition: function(elem, context) {
		var offset = $(elem).offset();
		var currentPosition = $(elem).position();
		var newPosition = {
			top: currentPosition.top - me.offsetTop
		};
		if ((context.restrictLeft) ||
				((offset.left - me.offsetLeft) &lt;
				$("#contentWrapper").offset().left)) {
			newPosition.left = $(elem).position().left;
			context.restrictLeft = true;
		} else {
			newPosition.left = currentPosition.left - me.offsetLeft;
		}
		return newPosition;
	},

	// equivalent of displayNextRevision, but for the more button
	showMoreButton: function(tiddlerElem, context, userParams, moreIndex) {
		userParams.from = moreIndex + 1;
		me.shiftVisibleDown(userParams.title, function() {
			var btn = me.createRevisionObject(tiddlerElem, context, userParams,
				"");

			var more = createTiddlyButton(btn[0], "more...", "show more revisions",
				function() {
					if ($(".viewRevision").length) {
						return;
					}
					userParams.tiddlerElem = btn[0];
					$(btn).text("")
						.append(revBtn
							.getRevisionText(btn[0], context.revisions[moreIndex]))
						.attr("revision", context.revisions.length - moreIndex);
					me.expandStack(context, userParams);
				});
			$(more).css("float", "right");
		});
	},

	stripRevFromTitle: function(revisionTitle) {
		return revisionTitle.split(/ ?\[rev\. #[0-9]+\]$/)[0];
	},

	onClickRevision: function(revElem, revision, callback) {
		// don't do anything if we are still loading
		if ($(".revisions").hasClass("loading")) {
			return null;
		}

		var origTitle = me.stripRevFromTitle(revision.title);
		if ($(revElem).hasClass("viewRevision")) {
			$(".revisions").addClass("loading");
			me.slideIn(revElem, revision, origTitle, function() {
				store.deleteTiddler(revision.title);
				revision.title = origTitle;
				$(revElem).text("").append(revBtn.getRevisionText(revElem,
						revision))
					.removeAttr("tags").removeAttr("tiddler")
					.removeAttr("refresh").removeAttr("template")
					.removeAttr("id");
				$(".revisions").removeClass("loading");
				if (callback) {
					callback();
				}
			});
			$(revElem).removeAttr("prevPos").removeClass("viewRevision");
		} else {
			var viewRevision = function() {
				var prevPos = $(revElem).position().left;
				$(revElem).addClass("viewRevision").attr("prevPos", prevPos);
				$(".revisions").addClass("loading");
				me.showRevision(revElem, revision, function(rev) {
					me.slideOut(revElem, rev, origTitle, function() {
						$(".revisions").removeClass("loading");
					});
				});
			};
			// make sure another revision isn't already out
			if ($(".viewRevision").length) {
				var newRevElem = $(".viewRevision")[0];
				var newRevision = store.getTiddler($(newRevElem)
					.attr("tiddler"));
				me.onClickRevision(newRevElem, newRevision, viewRevision);
			} else {
				viewRevision();
			}
		}
	},

	slideOut: function(revElem, revision, title, callback) {
		var leftMostPos = $("[revName='%0'].revisions".format([title]))
			.offset().left;
		var width = $(revElem).width();
		var originalLeftPos = $(story.getTiddler(title))
			.position().left;

		var slideAmount = leftMostPos + width - me.visibleSlideAmount;
		$("[revName='%0'].revisions:not(.viewRevision)".format([title]))
			.animate({left: "-=" + slideAmount}, 1000);
		$(revElem)
			.attr("baseHeight", $(revElem).css("height"))
			.css("height", "auto")
			.animate({left: originalLeftPos}, 1000, callback);
	},

	slideIn: function(revElem, revision, title, callback) {
		var slideAmount = $(revElem).offset().left -
			$(story.getTiddler(title)).offset().left;
		var origRevPos = $(revElem).attr("prevPos");

		$("[revName='%0'].revisions:not(.viewRevision)".format([title]))
			.animate({left: "+=" + slideAmount}, 1000);
		$(revElem).animate({left: origRevPos}, 1000, function() {
			$(revElem)
				.css("height", $(revElem).attr("baseHeight"))
				.removeAttr("baseHeight");
			callback();
		});
	}
};

var revBtn;
config.macros.slideRevision = revBtn = {
	btnText: "created by %0 at %1 on %2",
	handler: function(place, macroName, params, wikifier, paramString, tiddler) {
		var btn = revBtn.getRevisionText(place, tiddler);
		$(place).append(btn);
	},

	getRevisionText: function(place, revision) {
		var text = revBtn.btnText.format([revision.modifier,
			revision.modified.formatString("0hh:0mm"),
			revision.modified.formatString("0DD MMM YYYY")]);
		var btn = $('&lt;a href="javascript:;" class="button revButton" /&gt;')
			.text(text)
			.click(function() {
				var revElem = story.findContainingTiddler(this);
				me.onClickRevision(revElem, revision);
			});
		return btn;
	}
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="4e7490026802a699cc23155cd88b09a2cce3fb87" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceSanitizer/1521866:402f24fea9e875c2b298524a46839d9836fb399a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521866" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceSanitizer" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceSanitizer" type="text/x-tiddlywiki">
<pre>/***
|''Description''|Sanitisation for dynamically pulling tiddlers into your space and displaying them|
!Notes
Works both inside and outside TiddlyWiki. Uses the HTML Sanitizer provided by the Google Caja project
(see http://code.google.com/p/google-caja/wiki/JsHtmlSanitizer for more on this), which is licensed under
an Apache License (see http://www.apache.org/licenses/LICENSE-2.0).
!Code
***/
//{{{
(function($) {

var cleanURL = function(url) {
	var regexp = /^(?:http|https|mailto|ftp|irc|news):\/\//;
	return (regexp.test(url)) ? url : null;
};

$.sanitize = function(html) {
	return html_sanitize(html, cleanURL);
};

/*
 * HTML Sanitizer, provided by Google Caja
 */

/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 17 17:39:24 BST 2011
 * @provides html4
 */var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0},html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};var html=function(a){function x(b,c,d){var e=[];w(function(b,e){for(var f=0;f&lt;e.length;f+=2){var g=e[f],h=e[f+1],i=null,j;if((j=b+"::"+g,a.ATTRIBS.hasOwnProperty(j))||(j="*::"+g,a.ATTRIBS.hasOwnProperty(j)))i=a.ATTRIBS[j];if(i!==null)switch(i){case a.atype.NONE:break;case a.atype.SCRIPT:case a.atype.STYLE:h=null;break;case a.atype.ID:case a.atype.IDREF:case a.atype.IDREFS:case a.atype.GLOBAL_NAME:case a.atype.LOCAL_NAME:case a.atype.CLASSES:h=d?d(h):h;break;case a.atype.URI:h=c&amp;&amp;c(h);break;case a.atype.URI_FRAGMENT:h&amp;&amp;"#"===h.charAt(0)?(h=d?d(h):h,h&amp;&amp;(h="#"+h)):h=null;break;default:h=null}else h=null;e[f+1]=h}return e})(b,e);return e.join("")}function w(b){var c,d;return v({startDoc:function(a){c=[],d=!1},startTag:function(e,f,g){if(!d){if(!a.ELEMENTS.hasOwnProperty(e))return;var h=a.ELEMENTS[e];if(h&amp;a.eflags.FOLDABLE)return;if(h&amp;a.eflags.UNSAFE){d=!(h&amp;a.eflags.EMPTY);return}f=b(e,f);if(f){h&amp;a.eflags.EMPTY||c.push(e),g.push("&lt;",e);for(var i=0,j=f.length;i&lt;j;i+=2){var k=f[i],l=f[i+1];l!==null&amp;&amp;l!==void 0&amp;&amp;g.push(" ",k,'="',r(l),'"')}g.push("&gt;")}}},endTag:function(b,e){if(d)d=!1;else{if(!a.ELEMENTS.hasOwnProperty(b))return;var f=a.ELEMENTS[b];if(!(f&amp;(a.eflags.UNSAFE|a.eflags.EMPTY|a.eflags.FOLDABLE))){var g;if(f&amp;a.eflags.OPTIONAL_ENDTAG)for(g=c.length;--g&gt;=0;){var h=c[g];if(h===b)break;if(!(a.ELEMENTS[h]&amp;a.eflags.OPTIONAL_ENDTAG))return}else for(g=c.length;--g&gt;=0;)if(c[g]===b)break;if(g&lt;0)return;for(var i=c.length;--i&gt;g;){var h=c[i];a.ELEMENTS[h]&amp;a.eflags.OPTIONAL_ENDTAG||e.push("&lt;/",h,"&gt;")}c.length=g,e.push("&lt;/",b,"&gt;")}}},pcdata:function(a,b){d||b.push(a)},rcdata:function(a,b){d||b.push(a)},cdata:function(a,b){d||b.push(a)},endDoc:function(a){for(var b=c.length;--b&gt;=0;)a.push("&lt;/",c[b],"&gt;");c.length=0}})}function v(c){return function(d,e){d=String(d);var f=null,g=!1,h=[],j=void 0,l=void 0,m=void 0;c.startDoc&amp;&amp;c.startDoc(e);while(d){var n=d.match(g?t:u);d=d.substring(n[0].length);if(g){if(n[1]){var o=b(n[1]),p;if(n[2]){var q=n[3];switch(q.charCodeAt(0)){case 34:case 39:q=q.substring(1,q.length-1)}p=k(i(q))}else p=o;h.push(o,p)}else if(n[4]){l!==void 0&amp;&amp;(m?c.startTag&amp;&amp;c.startTag(j,h,e):c.endTag&amp;&amp;c.endTag(j,e));if(m&amp;&amp;l&amp;(a.eflags.CDATA|a.eflags.RCDATA)){f===null?f=b(d):f=f.substring(f.length-d.length);var r=f.indexOf("&lt;/"+j);r&lt;0&amp;&amp;(r=d.length),l&amp;a.eflags.CDATA?c.cdata&amp;&amp;c.cdata(d.substring(0,r),e):c.rcdata&amp;&amp;c.rcdata(s(d.substring(0,r)),e),d=d.substring(r)}j=l=m=void 0,h.length=0,g=!1}}else if(n[1])c.pcdata&amp;&amp;c.pcdata(n[0],e);else if(n[3])m=!n[2],g=!0,j=b(n[3]),l=a.ELEMENTS.hasOwnProperty(j)?a.ELEMENTS[j]:void 0;else if(n[4])c.pcdata&amp;&amp;c.pcdata(n[4],e);else if(n[5]&amp;&amp;c.pcdata)switch(n[5]){case"&lt;":c.pcdata("&amp;lt;",e);break;case"&gt;":c.pcdata("&amp;gt;",e);break;default:c.pcdata("&amp;amp;",e)}}c.endDoc&amp;&amp;c.endDoc(e)}}function s(a){return a.replace(m,"&amp;amp;$1").replace(n,"&amp;lt;").replace(o,"&amp;gt;")}function r(a){return a.replace(l,"&amp;amp;").replace(n,"&amp;lt;").replace(o,"&amp;gt;").replace(p,"&amp;#34;").replace(q,"&amp;#61;")}function k(a){return a.replace(j,g)}function i(a){return a.replace(h,"")}function g(a,b){return f(b)}function f(a){a=b(a);if(c.hasOwnProperty(a))return c[a];var f=a.match(d);if(f)return String.fromCharCode(parseInt(f[1],10));if(!!(f=a.match(e)))return String.fromCharCode(parseInt(f[1],16));return""}var b;"script"==="SCRIPT".toLowerCase()?b=function(a){return a.toLowerCase()}:b=function(a){return a.replace(/[A-Z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)|32)})};var c={lt:"&lt;",gt:"&gt;",amp:"&amp;",nbsp:"240",quot:'"',apos:"'"},d=/^#(\d+)$/,e=/^#x([0-9A-Fa-f]+)$/,h=/\0/g,j=/&amp;(#\d+|#x[0-9A-Fa-f]+|\w+);/g,l=/&amp;/g,m=/&amp;([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,n=/&lt;/g,o=/&gt;/g,p=/\"/g,q=/\=/g,t=new RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^&gt;\"'\\s]*))?)|(/?&gt;)|[\\s\\S][^a-z\\s&gt;]*)","i"),u=new RegExp("^(?:&amp;(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|&lt;!--[\\s\\S]*?--&gt;|&lt;!\\w[^&gt;]*&gt;|&lt;\\?[^&gt;*]*&gt;|&lt;(/)?([a-z][a-z0-9]*)|([^&lt;&amp;&gt;]+)|([&lt;&amp;&gt;]))","i");return{escapeAttrib:r,makeHtmlSanitizer:w,makeSaxParser:v,normalizeRCData:s,sanitize:x,unescapeEntities:k}}(html4),html_sanitize=html.sanitize

// stop here if we're not in TiddlyWiki
// XXX: is this the correct way of checking for TiddlyWiki?
if (!window.TiddlyWiki || !window.store || !store instanceof TiddlyWiki) {
	return;
}

var tiddlyspace = config.extensions.tiddlyspace;

var _subWikify = Wikifier.prototype.subWikify;

var cleanedTitle = 'This section has been cleaned of any potentially harmful code';

var replaceFunctions = {
	html: function(w) {
		var sanitizedHTML, spanEl;
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			sanitizedHTML = $.sanitize(lookaheadMatch[1]);
			spanEl = createTiddlyElement(w.output, 'span', null, 'sanitized');
			spanEl.innerHTML = sanitizedHTML;
			spanEl.setAttribute('title', cleanedTitle);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	},
	customFormat: function(w) {
		switch(w.matchText) {
			case '@@':
				var e = createTiddlyElement(w.output, 'span');
				var styles = config.formatterHelpers.inlineCssHelper(w);
				if (styles.length === 0) {
					e.className = 'marked';
				}
				w.subWikifyTerm(e, /(@@)/mg);
				break;
			case '{{':
				var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
				lookaheadRegExp.lastIndex = w.matchStart;
				var lookaheadMatch = lookaheadRegExp.exec(w.source);
				if(lookaheadMatch) {
					w.nextMatch = lookaheadRegExp.lastIndex;
					e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
					w.subWikifyTerm(e,/(\}\}\})/mg);
				}
				break;
		}
	}
};

Wikifier.prototype.subWikify = function(output, terminator) {
	var tid = this.tiddler,
		spaceName = tiddlyspace.currentSpace.name,
		tidSpace, recipeName, stripped;
	try {
		recipeName = tid.fields['server.recipe'] ||
			tid.fields['server.workspace'];
		tidSpace = tiddlyspace.resolveSpaceName(recipeName);
		if (tidSpace !== spaceName) {
			// external tiddler, so replace dangerous formatters
			stripped = stripHTML(tid, this.formatter);
		}
	} catch(e) {
		// do nothing. There's no tiddler, so assume it's safe (?!?!?)
	}

	_subWikify.apply(this, arguments);

	if (stripped) {
		// change back to the original function
		unstripHTML(stripped, this.formatter);
	}
};

// replace potentially unsafe formatters with versions that strip bad HTML/CSS
var stripHTML = function(tid, formatter) {
	var popped = {}, _handler;
	for (var i = 0; i &lt; formatter.formatters.length; i++) {
		var f = formatter.formatters[i];
		if (replaceFunctions[f.name]) {
			_handler = f.handler;
			popped[f.name] = _handler;
			f.handler = replaceFunctions[f.name];
		}
	};

	return popped;
};

// put the original formatters back where they belong
var unstripHTML = function(stripped, formatter) {
	for (var i = 0; i &lt; formatter.formatters.length; i++) {
		var f = formatter.formatters[i];
		if (stripped[f.name]) {
			f.handler = stripped[f.name];
		}
	};
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="e3762c200fa4b897f6e7bbb9e0e7d83f860a89a5" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="text/javascript" server.etag="&quot;tiddlyspace/TiddlySpaceSearcher/1521908:93e8ccce195fbc3f63e5d67b0302c3394b26756a&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521908" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceSearcher" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceSearcher" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceSearcher|
|''Version''|0.2.5|
|''Requires''|TiddlySpaceConfig TiddlySpaceFollowingPlugin|
***/
//{{{
(function($) {
var tiddlyspace = config.extensions.tiddlyspace;
var tsScan = config.macros.tsScan;

config.shadowTiddlers.SearchTemplate = "&lt;&lt;view server.bag SiteIcon label:no width:24 height:24 preserveAspectRatio:yes&gt;&gt; &lt;&lt;view server.bag spaceLink title external:no&gt;&gt; in space &lt;&lt;view server.bag spaceLink&gt;&gt;";
config.shadowTiddlers.StyleSheetSearch = [".resultsArea .siteIcon { display: inline; }",
	".searchForm {text-align: left;}"].join("\n");
store.addNotification("StyleSheetSearch", refreshStyles);

var search = config.macros.tsSearch = {
	locale: {
		advanced: "Advanced Options",
		header: "Search",
		resultsHeader: "Results (%0)",
		find: "find",
		noResults: "No tiddlers matched your search query",
		query: "QUERY: ",
		error: "please provide a search query or a tag, modifier or title!",
		titleAdvanced: "where the title is",
		modifierAdvanced: "where the last modifier is",
		spaceAdvanced: "only in the space: ",
		notspaceAdvanced: "but not in the spaces: ",
		tagsAdvanced: "with the tags: "
	},
	andConstructor: function(container, label, fieldname, negationMode) {
		var tags = $("&lt;div /&gt;").appendTo(container);
		$('&lt;span /&gt;').text(label).appendTo(tags);
		var id = "area" + Math.random();
		container = $("&lt;span /&gt;").attr("id", id).appendTo(tags)[0];
		function add(container) {
			var el = $('&lt;input type="text" /&gt;').attr("field", fieldname).appendTo(container);
			if(negationMode) {
				el.attr("negation", "true");
			}
		}
		add(container);
		var el = $("&lt;button /&gt;").text("AND").click(function(ev) {
			add($(ev.target).data("container"));
			ev.preventDefault();
		}).appendTo(tags);
		$(el).data("container", container);
	},
	fieldConstructor: function(container, label, field) {
		container = $("&lt;div /&gt;").appendTo(container)[0];
		$("&lt;span /&gt;").text(label).appendTo(container);
		$("&lt;input /&gt;").attr("text", "input").attr("field", field).appendTo(container);
	},
	advancedOptions: function(form) {
		var locale = search.locale;
		var container = $("&lt;div /&gt;").addClass("tsAdvancedOptions").appendTo(form)[0];
		$("&lt;h2/ &gt;").text(search.locale.advanced).appendTo(container);
		$("&lt;div /&gt;").addClass("separator").appendTo(container);
		search.fieldConstructor(container, locale.titleAdvanced, "title");
		search.fieldConstructor(container, locale.modifierAdvanced, "modifier");
		search.fieldConstructor(container, locale.spaceAdvanced, "space");
		search.andConstructor(container, locale.notspaceAdvanced, "space", true);
		search.andConstructor(container, locale.tagsAdvanced, "tag");
	},
	constructSearchQuery: function(form) {
		var data = [], select = [];
		var query = $("[name=q]", form).val();
		if(query) {
			data.push("q=%0".format(query));
		}

		// add tags, fields etc..
		$("[field]", form).each(function(i, el) {
			var val = $(el).val();
			var name = $(el).attr("field");
			var negate = $(el).attr("negation") == "true";
			if(val &amp;&amp; name) {
				val = encodeURIComponent(val);
				val = negate ? "!" + val : val;
				if(name == "space") {
					val += "_public";
					name = "bag";
				}
				if(negate) {
					select.push("select=%0:%1".format(name,val));
				} else {
					var prefix = data.length === 0 ? "q=" : "";
					data.push('%0%1:"%2"'.format(prefix, name, val));
				}
			}
		});
		var dataString = data.join(" ");
		if(dataString.length === 0 &amp;&amp; !query) {
			return false;
		}
		var selectStatement = select.join("&amp;");
		if(dataString.length &gt; 0 &amp;&amp; selectStatement.length &gt; 0) {
			dataString += "&amp;";
		}
		dataString += selectStatement;
		return "/search?%0".format(dataString);
	},
	constructForm: function(place) {
		var locale = search.locale;
		$("&lt;h1 /&gt;").text(locale.header).appendTo(place);
		var form = $("&lt;form /&gt;").appendTo(place)[0];
		$('&lt;input type="text" name="q" /&gt;').appendTo(form);
		$('&lt;input type="submit" /&gt;').val(locale.find).appendTo(form);
		search.advancedOptions(form);
		var query = $('&lt;h2 class="query"/&gt;').appendTo(place)[0];
		var results = $("&lt;div /&gt;").appendTo(place).addClass("resultsArea")[0];
		var lookup = function(url) {
			if(!url) {
				results.empty().addClass("error").text(locale.error);
				return;
			}
			config.extensions.tiddlyweb.getStatus(function(status) {
				$(query).text(locale.query);
				var href = status.server_host.url + url;
				$("&lt;a /&gt;").attr("href", href).text(href).appendTo(query);
				tsScan.scan(results, { url: url, emptyMessage: search.locale.noResults, cache: true,
					template: "SearchTemplate", sort: "title", callback: function(tiddlers) {
						$("&lt;h2 /&gt;").text(locale.resultsHeader.format(tiddlers.length)).prependTo(results);
					}
				});
			});
		};
		$(form).submit(function(ev) {
			ev.preventDefault();
			var url = search.constructSearchQuery(form);
			config.macros.tsSearch.lastSearch = url;
			lookup(url);
		});
		if(search.lastSearch) {
			lookup(search.lastSearch);
		}
		return form;
	},
	handler: function(place) {
		var container = $("&lt;div /&gt;").addClass("searchForm").appendTo(place)[0];
		search.constructForm(container);
	}
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="7bc357188d6afd65d6724a670b0052c0488766a4" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/TiddlySpaceTabs/1521916:cd59dcc480da74613f5f07ff97584e59ce8d4bc8&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521916" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceTabs" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="TiddlySpaceTabs" type="text/x-tiddlywiki">
<pre>!Spaces
&lt;&lt;groupBy server.bag&gt;&gt;

!Private
&lt;&lt;list filter [is[private]]&gt;&gt;

!Public
&lt;&lt;list filter [is[public]]&gt;&gt;

!Drafts
&lt;&lt;list filter [is[draft]]&gt;&gt;</pre>
</div>
<div _hash="5c6cfebcd3cc3fd2df109c0d59735aaae48850b4" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceTiddlerIconsPlugin/1521862:457226527d9fcfb65c02f71d0779bceba9adbe8e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521862" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceTiddlerIconsPlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceTiddlerIconsPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceTiddlerIconsPlugin|
|''Version''|0.8.10|
|''Status''|@@beta@@|
|''Author''|Jon Robson|
|''Description''|Provides ability to render SiteIcons and icons that correspond to the home location of given tiddlers|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceTiddlerIconsPlugin.js|
|''Requires''|TiddlySpaceConfig BinaryTiddlersPlugin ImageMacroPlugin TiddlySpacePublishingCommands|
!Notes
{{{&lt;&lt;tiddlerOrigin&gt;&gt;}}} shows the origin of the tiddler it is being run on.
In TiddlySpace terms this means it will determine whether the tiddler is external, public or private.
Where private it will analyse whether a public version exists and distinguish between the different scenarios.
If a tiddler is external, the SiteIcon of that external space will be shown

!Parameters
width / height : define a width or height of the outputted icon
label: if label parameter is set to yes, a label will accompany the icon.
!Code
***/
//{{{
(function($) {

if(!config.macros.image) {
	throw "Missing dependency: ImageMacroPlugin";
}

var imageMacro = config.macros.image;
var tiddlyspace = config.extensions.tiddlyspace;
var tweb = config.extensions.tiddlyweb;
var cmds = config.commands;
var cmd = cmds.publishTiddler;
tiddlyspace.resolveSpaceName = function(value) {
	var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
	if(value) {
		value = value.indexOf("bags/") === 0 ? value.substr(5) : value;
		value = value.indexOf("recipes/") === 0 ? value.substr(8) : value;
		if(value.indexOf("@") === 0) {
			value = value.substr(1);
		}
		if(endsWith(value, "_public")) {
			value = value.substr(0, value.length - 7);
		} else if(endsWith(value, "_private")) {
			value = value.substr(0, value.length - 8);
		}
		value = value.toLowerCase();
	}
	return value;
};

tiddlyspace.renderAvatar = function(place, value, options) {
	options = options ? options : {};
	options.labelOptions = options.labelOptions ? options.labelOptions : { include: false, height: 48, width: 48 };
	options.imageOptions = options.imageOptions ? options.imageOptions : {};
	options.imageOptions.altImage = "/bags/common/tiddlers/defaultUserIcon";
	var container = $('&lt;div class="siteIcon" /&gt;').appendTo(place);
	value = tiddlyspace.resolveSpaceName(value);

	tweb.getStatus(function(status) {
		var link, noLabel;
		if(!value || value == config.views.wikified.defaultModifier ||
			value == config.views.wikified.shadowModifier) {
			var icon = config.views.wikified.shadowModifier == value ? "shadowIcon" : "missingIcon";
			if(store.tiddlerExists(icon)) {
				imageMacro.renderImage(container, icon, options.imageOptions);
			} else {
				noLabel = true;
			}
		} else {
			var spaceURI;
			if(value != tiddlyspace.currentSpace.name) {
				spaceURI = options.notSpace ? tiddlyspace.getHost(status.server_host) :
					tiddlyspace.getHost(status.server_host, value);
			}
			link = spaceURI ? $("&lt;a /&gt;").attr("href", spaceURI) : $("&lt;span /&gt;");
			link.text(value);

			var imageOptions = options.imageOptions;
			if(options.spaceLink &amp;&amp; !imageOptions.link) {
				imageOptions.link = spaceURI;
			}
			var avatar = options.notSpace ? false : value;
			var uri = tiddlyspace.getAvatar(status.server_host, avatar);
			imageMacro.renderImage(container, uri, options.imageOptions);
			if(!value) {
				value = "tiddlyspace";
			}
		}
		if(!noLabel &amp;&amp; options.labelOptions.include) {
			var prefix = $("&lt;span /&gt;").text(options.labelOptions.prefix || "")[0];
			var suffix = $("&lt;span /&gt;").text(options.labelOptions.suffix || "")[0];
			$('&lt;div class="label" /&gt;').append(prefix).append(link).
				append(suffix).appendTo(container);
		}
	});
	if(value) {
		var prefix = options.labelOptions.prefix || "";
		var suffix = options.labelOptions.suffix || "";
		var label = "%0%1%2".format(prefix, value, suffix);
		$(container).attr("title", label);
	}
};

var originMacro = config.macros.tiddlerOrigin = {
	locale: {
		"shadow": "shadow tiddler",
		"missing": "missing tiddler",
		"private": "private",
		"unknown": "unknown state",
		"public": "public",
		"unsyncedPrivate": "unsynced and private",
		"unsyncedPublic": "unsynced and public",
		externalPrefix: "from ",
		externalBagSuffix: " bag",
		externalSuffix: " space",
		publishPrivateDeletePrivate: "Are you sure you want to make this tiddler public?",
		moveToPrivate: "Are you sure you want to make this tiddler private? Only members will be able to see it.",
		pleaseWait: "please wait..",
		keepPublic: "keep public",
		cannotPublishDirtyTiddler: "The current tiddler is unsaved so cannot be published. Please save the tiddler first.",
		keepPrivate: "keep private",
		makePublic: "make public",
		makePrivate: "make private"
	},
	handler: function(place, macroName, params,wikifier, paramString, tiddler){
		var adaptor = tiddler.getAdaptor();
		var btn = $("&lt;div /&gt;").addClass("originButton").attr("params", paramString).
			attr("refresh", "macro").attr("macroName", macroName).appendTo(place)[0];
		$(btn).data("tiddler", tiddler);
		originMacro.refresh(btn);
	},
	refresh: function(btn) {
		$(btn).empty();
		var paramString = $(btn).attr("params");
		var tiddler = $(btn).data("tiddler");
		var options = originMacro.getOptions(paramString);
		var type = tiddlyspace.getTiddlerStatusType(tiddler);
		originMacro.renderIcon(tiddler, type, btn, options);
	},
	getOptions: function(paramString) {
		paramString = "%0 label:no width:48 height:48 spaceLink:yes preserveAspectRatio:yes".format(paramString);
		var parsedParams = paramString.parseParams("name");
		var params = parsedParams[0].name;
		var options = {
			labelOptions: originMacro._getLabelOptions(parsedParams),
			imageOptions: imageMacro.getArguments(paramString, []),
			noclick: parsedParams[0].interactive &amp;&amp;
				parsedParams[0].interactive[0] == "no" ? true : false
		};
		if(!options.noclick) {
			var spaceLink = parsedParams[0].spaceLink;
			options.spaceLink = spaceLink &amp;&amp; spaceLink[0] == "no" ? false : true;
		} else {
			options.spaceLink = false;
		}
		return options;
	},
	_getLabelOptions: function(parsedParams) {
		parsedParams = parsedParams[0];
		var includeLabel = !parsedParams.label || ( parsedParams.label &amp;&amp; parsedParams.label[0] == "yes" );
		var prefix = parsedParams.labelPrefix ? parsedParams.labelPrefix[0] : false;
		var suffix = parsedParams.labelSuffix ? parsedParams.labelSuffix[0] : false;
		return { include: includeLabel, suffix: suffix, prefix: prefix };
	},
	_isSpace: function(value) {
		value = value ? value : "";
		var endsWith = config.extensions.BinaryTiddlersPlugin.endsWith;
		if(endsWith(value, "_private") || endsWith(value, "_public")) {
			return true;
		} else {
			return false;
		}
	},
	renderIcon: function(tiddler, type, button, options) {
		var locale = originMacro.locale;
		originMacro.annotateTiddler(button, type);
		if(type != "external") {
			originMacro.showPrivacyRoundel(tiddler, type, button,
				options);
		} else {
			var prefix = options.labelOptions.prefix, suffix = options.labelOptions.suffix;
			var space = tiddler.fields["server.bag"];
			options.notSpace = !originMacro._isSpace(space);
			options.labelOptions.prefix = prefix ? prefix : locale.externalPrefix;
			options.labelOptions.suffix = suffix ? suffix : (options.notSpace ? locale.externalBagSuffix : locale.externalSuffix);

			tiddlyspace.renderAvatar(button, space, options);
		}
	},
	showPrivacyRoundel: function(thisTiddler, privacyType, button, options) {
		// there is a public tiddler as well as the current tiddler!
		// TODO: not this is not enough.. we also need to check if the public tiddler is the same as..
		// .. the private tiddler to determine whether this is a draft
		// use of hashes would be useful here.
		$(button).empty();
		var icon = "%0Icon".format(privacyType);
		if(privacyType.indexOf("unsynced") === 0 &amp;&amp; !store.tiddlerExists(icon)) {
			icon = "unsyncedIcon";
		}
		if(privacyType == "shadow") {
			if(!store.tiddlerExists(icon)) {
				icon = "bags/tiddlyspace/tiddlers/SiteIcon";
			}
		}
		if(privacyType == "missing" &amp;&amp; !store.tiddlerExists(icon)) {
			return; // the user is not making use of the missingIcon
		} else {
			imageMacro.renderImage(button, icon, options.imageOptions);
			originMacro.showLabel(button, privacyType, options.labelOptions);
			var cmd = originMacro.iconCommands[privacyType];
			if(cmd &amp;&amp; thisTiddler &amp;&amp; !options.noclick) {
				$(button).click(function(ev) {
					cmd(ev, thisTiddler);
				});
			}
		}
	},
	annotateTiddler: function(place, type) {
		var tidEl = $(story.findContainingTiddler(place));
		tidEl.
			removeClass("private public external privateAndPublic privateNotPublic shadow").
			addClass(type);
	},
	showLabel: function(button, type, options) {
		var locale = originMacro.locale;
		var label = options.label ? options.label : locale[type];
		label = label ? label : locale.unknown;
		if(options &amp;&amp; options.include) {
			$('&lt;div class="roundelLabel" /&gt;').html(label).appendTo(button);
		}
		$(button).attr("title", label);
	},
	confirm: function(ev, msg, onYes, options) {
		options = options ? options : {};
		onYes = onYes ? onYes : function(ev) {};
		var btn = $(".originButton", $(ev.target).parents())[0];
		var popup = Popup.create(btn);
		$(popup).addClass("confirmationPopup");
		$("&lt;div /&gt;").addClass("message").text(msg).appendTo(popup);
		$("&lt;button /&gt;").addClass("button").text(options.yesLabel || "yes").appendTo(popup).click(onYes);
		$("&lt;button /&gt;").addClass("button").text(options.noLabel || "no").click(function(ev) {
			Popup.remove();
		}).appendTo(popup);
		Popup.show();
		ev.stopPropagation();
		return false;
	},
	alert: function(ev, msg) {
		var popup = Popup.create(ev.target);
		$(popup).addClass("confirmationPopup alert");
		$("&lt;div /&gt;").addClass("message").text(msg).appendTo(popup);
		Popup.show();
		ev.stopPropagation();
	},
	reportDirty: function(el) {
		originMacro.alert(el, originMacro.locale.cannotPublishDirtyTiddler);
	},
	iconCommands: {
		"public": function(ev, tiddler) {
			if(!readOnly) {
				var locale = originMacro.locale;
				var msg = locale.moveToPrivate;
				if(story.isDirty(tiddler.title)) {
					originMacro.reportDirty(ev);
				} else {
					originMacro.confirm(ev, msg, function(ev) {
						var target = $(ev.target);
						var onComplete = function(info) {};
						var privateBag = cmd.toggleBag(tiddler, "private");
						cmd.moveTiddler(tiddler, {
							title: tiddler.title,
							fields: { "server.bag": privateBag }
						}, onComplete);
					}, { yesLabel: locale.makePrivate, noLabel: locale.keepPublic });
				}
			}
		},
		"private": function(ev, tiddler) {
			if(!readOnly) {
				var locale = originMacro.locale;
				var adaptor = tiddler.getAdaptor();
				var publishTo = tiddler.fields["publish.name"] || tiddler.title;
				var workspace = "bags/%0".format(tiddler.fields["server.bag"]);
				tiddler.fields["server.workspace"] = workspace;
				var publicBag = cmd.toggleBag(tiddler, "public");
				var msg;
				msg = locale.publishPrivateDeletePrivate;
				var title = tiddler.title;
				var newTitle = publishTo || tiddler.title;
				tiddler.fields["server.page.revision"] = "false";
				store.addTiddler(tiddler);
				if(story.isDirty(tiddler.title)) {
					originMacro.reportDirty(ev);
				} else {
					originMacro.confirm(ev, msg, function(ev) {
						var onComplete = function(info) {};
						cmd.moveTiddler(tiddler, {
							title: newTitle,
							fields: { "server.bag": publicBag }
						}, onComplete);
					}, { yesLabel: locale.makePublic, noLabel: locale.keepPrivate });
				}
			}
		}
	}
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="f1d6038be5d1ecd8d107d604b0f0dce76bc901da" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceToolbar/1521861:86bb5cc57cd4874e474d8e06550dbc02a6b9c694&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521861" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceToolbar" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceToolbar" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceToolbar|
|''Description''|augments tiddler toolbar commands with SVG icons|
|''Author''|Osmosoft|
|''Version''|0.6.6|
|''Status''|@@beta@@|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceToolbar.js|
|''CodeRepository''|http://github.com/TiddlySpace/tiddlyspace|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5.0|
|''Requires''|ImageMacroPlugin|
|''Keywords''|toolbar icons SVG|
!Description
replaces tiddler toolbar commands with SVG icons if available
!Notes
requires [[ImageMacroPlugin|http://svn.tiddlywiki.org/Trunk/contributors/JonRobson/plugins/ImageMacroPlugin/plugins/ImageMacroPlugin.tid]]

SVG icons are drawn from tiddlers titled {{{&lt;command&gt;.svg}}}
In readonly mode a tiddler called {{{&lt;command&gt;ReadOnly.svg}}} will be used if it exists.
!TODO
* rename (IconToolbarPlugin?)
* support more than one more popup menu in the toolbar.
!Code
***/
//{{{
(function($) {

if(!config.macros.image) {
	throw "Missing dependency: ImageMacroPlugin";
}

var macro = config.macros.toolbar;

macro.icons = {
	cloneTiddler: "editTiddler"
};

var _handler = macro.handler;
macro.handler = function(place, macroName, params, wikifier,
		paramString, tiddler) {
	var toolbar = $(place);
	toolbar.attr({
		refresh: "macro",
		macroName: macroName
	}).data("args", arguments);
	var status = _handler.apply(this, arguments);
	if(tiddler.isReadOnly()) {
		toolbar.addClass("toolbarReadOnly");
	} else {
		toolbar.removeClass("toolbarReadOnly");
	}
	var parsedParams = paramString.parseParams("name")[0];
	if(parsedParams.icons &amp;&amp; parsedParams.icons == "yes") {
		this.augmentCommandButtons(place);
	}
	if(parsedParams.more &amp;&amp; parsedParams.more == "popup") {
		// note we must override the onclick event like in createTiddlyButton
		// otherwise the click event is the popup AND the slider
		$(".moreCommand", place).each(function(i, el) {
			el.onclick = macro.onClickMorePopUp;
		});
		// buttons that are after a less command should not be in more menu.
		$(".lessCommand ~ .button", place).appendTo(place);
		$(".lessCommand", place).remove();
	}
	return status;
};

macro.refresh = function(place, params) {
	var args = $(place).empty().data("args");
	this.handler.apply(this, args);
};

var imageMacro = config.macros.image;
macro.augmentCommandButtons = function(toolbar) {
	$(".button", toolbar).each(function(i, el) {
		var cmd = $(el).attr("commandname");
		cmd = cmd ? cmd : "moreCommand"; // XXX: special-casing of moreCommand due to ticket #1234
		var icon = store.tiddlerExists(cmd) ? cmd : macro.icons[cmd];
		var text = $(el).text();
		if(readOnly) {
			var readOnlyAlternative = "%0ReadOnly".format([icon]);
			if(store.tiddlerExists(readOnlyAlternative)) {
				icon = readOnlyAlternative;
			}
		}
		if(store.tiddlerExists(icon)) {
			$(el).css({display: "inline-block"}).empty();
			imageMacro.renderImage(el, icon, { alt: text });
		}
	});
};

// provide onClickMore to provide extra commands in a popup
macro.onClickMorePopUp = function(ev) {
	ev = ev || window.event;
	var sibling = this.nextSibling;
	if(sibling) {
		var commands = sibling.childNodes;
		var popup = Popup.create(this);
		$(popup).addClass("taggedTiddlerList");
		for(var i = 0; i &lt; commands.length; i++) {
			var li = createTiddlyElement(popup, "li", null);
			var oldCommand = commands[i];
			var command = oldCommand.cloneNode(true);
			command.onclick = oldCommand.onclick;
			li.appendChild(command);
		}
		Popup.show();
	}
	ev.cancelBubble = true;
	if(ev.stopPropagation) {
		ev.stopPropagation();
	}
	return false;
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="0a5a070cb32ab7b3dc724809555448e9948cf232" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/TiddlySpaceViewTypes/1521869:368b35e17a1a4298f83357b72fa7365b1271344e&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521869" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlySpaceViewTypes" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="TiddlySpaceViewTypes" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlySpaceViewTypes|
|''Version''|0.6.0|
|''Status''|@@beta@@|
|''Description''|Provides TiddlySpace specific view types|
|''Author''|Jon Robson|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/TiddlySpaceViewTypes.js|
|''Requires''|TiddlySpaceConfig TiddlySpaceTiddlerIconsPlugin|
!Usage
Provides replyLink, spaceLink and SiteIcon view types.
!!SiteIcon view parameters
* labelPrefix / labelSuffix : prefix or suffix the label with additional text. eg. labelPrefix:'modified by '
* spaceLink: if set to "yes" will make any avatars link to the corresponding space. {{{&lt;&lt;originMacro spaceLink:yes&gt;&gt;}}}

!Code
***/
//{{{
(function($) {

var tiddlyspace = config.extensions.tiddlyspace;
var originMacro = config.macros.tiddlerOrigin;
var tweb = config.extensions.tiddlyweb;

config.macros.view.replyLink = {
	locale: {
		label: "Reply to this tiddler"
	}
};

var _replyButtons = [];
var _replyInitialised, _replyScriptLoaded;
config.macros.view.views.replyLink = function(value, place, params, wikifier,
		paramString, tiddler) {
	var valueField = params[0];
	var imported;
	if(valueField == "title") { // special casing for imported tiddlers
		var localTitle = tiddler.title;
		var serverTitle = tiddler.fields["server.title"];
		if(serverTitle &amp;&amp; localTitle != serverTitle) {
			value = serverTitle ? serverTitle : localTitle;
			imported = true;
		}
	} else {
		title = tiddler[valueField] ? tiddler[valueField] : tiddler.fields[valueField];
	}
	var args = paramString.parseParams("anon")[0];
	var label = (args.label) ? args.label : config.macros.view.replyLink.locale.label;
	var space;
	if(tiddler) {
		var bag = tiddler.fields["server.bag"];
		space = tiddlyspace.resolveSpaceName(bag);
	}
	var container = $('&lt;span class="replyLink" /&gt;').appendTo(place)[0];

	tweb.getUserInfo(function(user) {
		if ((!user.anon) &amp;&amp; ((space &amp;&amp; user.name != space &amp;&amp;
				user.name != tiddlyspace.currentSpace.name) || imported)) {
			var link = $("&lt;a /&gt;")
				.text(config.macros.view.replyLink.locale.label)
				.appendTo(container)[0];

			if(typeof(createReplyButton) === "undefined") {
				_replyButtons.push(link);
			}
			if(_replyInitialised) {
				createReplyButton(link);
			} else if(!_replyScriptLoaded) {
				_replyScriptLoaded = true;
				$.getScript("/bags/common/tiddlers/_reply-button.js",
					function() {
						_replyInitialised = true;
						for(var i = 0; i &lt; _replyButtons.length; i++) {
							createReplyButton(_replyButtons[i]);
						}
						_replyButtons = [];
					});
			}
		}
	});

};

config.macros.view.views.spaceLink = function(value, place, params, wikifier,
		paramString, tiddler) {
		var spaceName = tiddlyspace.resolveSpaceName(value);
		var isBag = params[0] == "server.bag" &amp;&amp; value === spaceName ? true : false;
		var args = paramString.parseParams("anon")[0];
		var titleField = args.anon[2];
		var labelField = args.labelField ? args.labelField[0] : false;
		var label;
		if(labelField) {
			label = tiddler[labelField] ? tiddler[labelField] : tiddler.fields[labelField];
		} else {
			label = args.label ? args.label[0] : false;
		}
		var title = tiddler[titleField] ? tiddler[titleField] : tiddler.fields[titleField];

		var link = createSpaceLink(place, spaceName, title, label, isBag);
		if(args.external &amp;&amp; args.external[0] == "no") {
			$(link).click(function(ev) {
				var el = $(ev.target);
				var title = el.attr("tiddler");
				var bag = el.attr("bag");
				var space = el.attr("tiddlyspace");
				bag = space ? space + "_public" : bag;
				if(title &amp;&amp; bag) {
					ev.preventDefault();
					tiddlyspace.displayServerTiddler(el[0], title,
						"bags/" + bag);
				}
				return false;
			});
		}
};

config.macros.view.views.SiteIcon = function(value, place, params, wikifier,
		paramString, tiddler) {
	var options = originMacro.getOptions(paramString);
	if(!tiddler || value == "None") { // some core tiddlers lack modifier
		value = false;
	}
	var field = params[0];
	if(field == "server.bag") {
		options.notSpace = !originMacro._isSpace(value);
	}
	tiddlyspace.renderAvatar(place, value, options);
};

})(jQuery);
//}}}</pre>
</div>
<div _hash="487ec1465c11e0798c029b3ed15a2f71ae51ce92" created="20081126000000000" creator="FND" modified="20081126000000000" modifier="FND" server.bag="system" server.content-type="text/javascript" server.etag="&quot;system/TiddlyWebAdaptor/1521858:9ea7c9bc9a1219744731aff04ae79b97e6f25896&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521858" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlyWebAdaptor" server.type="tiddlyweb" server.workspace="bags/system" tags="excludeLists excludeSearch systemConfig" title="TiddlyWebAdaptor" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlyWebAdaptor|
|''Description''|adaptor for interacting with TiddlyWeb|
|''Author:''|FND|
|''Contributors''|Chris Dent, Martin Budden|
|''Version''|1.4.10|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/adaptors/TiddlyWebAdaptor.js|
|''CodeRepository''|http://svn.tiddlywiki.org/Trunk/association/|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''CoreVersion''|2.5|
|''Keywords''|serverSide TiddlyWeb|
!Notes
This plugin includes [[jQuery JSON|http://code.google.com/p/jquery-json/]].
!To Do
* createWorkspace
* document custom/optional context attributes (e.g. filters, query, revision) and tiddler fields (e.g. server.title, origin)
!Code
***/
//{{{
(function($) {

var adaptor = config.adaptors.tiddlyweb = function() {};

adaptor.prototype = new AdaptorBase();
adaptor.serverType = "tiddlyweb";
adaptor.serverLabel = "TiddlyWeb";
adaptor.mimeType = "application/json";

adaptor.parsingErrorMessage = "Error parsing result from server";
adaptor.noBagErrorMessage = "no bag specified for tiddler";
adaptor.locationIDErrorMessage = "no bag or recipe specified for tiddler"; // TODO: rename

// retrieve current status (requires TiddlyWeb status plugin)
adaptor.prototype.getStatus = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/status";
	var uri = uriTemplate.format([context.host]);
	var req = httpReq("GET", uri, adaptor.getStatusCallback, context,
		null, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getStatusCallback = function(status, context, responseText, uri, xhr) {
	context.status = responseText ? status : false;
	try {
		context.statusText = xhr.statusText;
	} catch(exc) { // offline (Firefox)
		context.status = false;
		context.statusText = null;
	}
	context.httpStatus = xhr.status;
	if(context.status) {
		context.serverStatus = $.evalJSON(responseText); // XXX: error handling!?
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve a list of workspaces
adaptor.prototype.getWorkspaceList = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.workspaces = [];
	var uriTemplate = "%0/recipes"; // XXX: bags?
	var uri = uriTemplate.format([context.host]);
	var req = httpReq("GET", uri, adaptor.getWorkspaceListCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getWorkspaceListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		try {
			var workspaces = $.evalJSON(responseText);
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		context.workspaces = workspaces.map(function(itm) { return { title: itm }; });
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve a list of tiddlers
adaptor.prototype.getTiddlerList = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/%1/%2/tiddlers%3";
	var params = context.filters ? "?" + context.filters : "";
	if(context.format) {
		params = context.format + params;
	}
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), params]);
	var req = httpReq("GET", uri, adaptor.getTiddlerListCallback,
		context, merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.tiddlers = [];
		try {
			var tiddlers = $.evalJSON(responseText); //# NB: not actual tiddler instances
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = adaptor.toTiddler(tiddlers[i], context.host);
			context.tiddlers.push(tiddler);
		}
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// perform global search
adaptor.prototype.getSearchResults = function(context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/search?q=%1%2";
	var filterString = context.filters ? ";" + context.filters : "";
	var uri = uriTemplate.format([context.host, context.query, filterString]); // XXX: parameters need escaping?
	var req = httpReq("GET", uri, adaptor.getSearchResultsCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getSearchResultsCallback = function(status, context, responseText, uri, xhr) {
	adaptor.getTiddlerListCallback(status, context, responseText, uri, xhr); // XXX: use apply?
};

// retrieve a particular tiddler's revisions
adaptor.prototype.getTiddlerRevisionList = function(title, limit, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions";
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title)]);
	var req = httpReq("GET", uri, adaptor.getTiddlerRevisionListCallback,
		context, merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerRevisionListCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.revisions = [];
		try {
			var tiddlers = $.evalJSON(responseText); //# NB: not actual tiddler instances
		} catch(ex) {
			context.status = false; // XXX: correct?
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		for(var i = 0; i &lt; tiddlers.length; i++) {
			var tiddler = adaptor.toTiddler(tiddlers[i], context.host);
			context.revisions.push(tiddler);
		}
		var sortField = "server.page.revision";
		context.revisions.sort(function(a, b) {
			return a.fields[sortField] &lt; b.fields[sortField] ? 1 :
				(a.fields[sortField] == b.fields[sortField] ? 0 : -1);
		});
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve an individual tiddler revision -- XXX: breaks with standard arguments list -- XXX: convenience function; simply use getTiddler?
adaptor.prototype.getTiddlerRevision = function(title, revision, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.revision = revision;
	return this.getTiddler(title, context, userParams, callback);
};

// retrieve an individual tiddler
//# context is an object with members host and workspace
//# callback is passed the new context and userParams
adaptor.prototype.getTiddler = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;
	if(context.revision) {
		var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions/%4";
	} else {
		uriTemplate = "%0/%1/%2/tiddlers/%3";
	}
	if(!context.tiddler) {
		context.tiddler = new Tiddler(title);
	}
	context.tiddler.fields["server.type"] = adaptor.serverType;
	context.tiddler.fields["server.host"] = AdaptorBase.minHostName(context.host);
	context.tiddler.fields["server.workspace"] = context.workspace;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title),
		context.revision]);
	var req = httpReq("GET", uri, adaptor.getTiddlerCallback, context,
		merge({ accept: adaptor.mimeType }, context.headers), null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		try {
			var tid = $.evalJSON(responseText);
		} catch(ex) {
			context.status = false;
			context.statusText = exceptionText(ex, adaptor.parsingErrorMessage);
			if(context.callback) {
				context.callback(context, context.userParams);
			}
			return;
		}
		var tiddler = adaptor.toTiddler(tid, context.host);
		tiddler.title = context.tiddler.title;
		tiddler.fields["server.etag"] = xhr.getResponseHeader("Etag");
		// normally we'd assign context.tiddler = tiddler here - but we can't do
		// that because of IE, which triggers getTiddler in putTiddlerCallback,
		// and since ServerSideSavingPlugin foolishly relies on persistent
		// object references, we need to merge the data into the existing object
		$.extend(context.tiddler, tiddler);
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// retrieve tiddler chronicle (all revisions)
adaptor.prototype.getTiddlerChronicle = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;
	var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions?fat=1";
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name), adaptor.normalizeTitle(title)]);
	var req = httpReq("GET", uri, adaptor.getTiddlerChronicleCallback,
		context, { accept: adaptor.mimeType }, null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerChronicleCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(status) {
		context.responseText = responseText;
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store an individual tiddler
adaptor.prototype.putTiddler = function(tiddler, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = tiddler.title;
	context.tiddler = tiddler;
	context.host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var uriTemplate = "%0/%1/%2/tiddlers/%3";
	try {
		context.workspace = context.workspace || tiddler.fields["server.workspace"];
		var workspace = adaptor.resolveWorkspace(context.workspace);
	} catch(ex) {
		return adaptor.locationIDErrorMessage;
	}
	var uri = uriTemplate.format([context.host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(tiddler.title)]);
	var etag = adaptor.generateETag(workspace, tiddler);
	var headers = etag ? { "If-Match": etag } : null;
	var payload = {
		type: tiddler.fields["server.content-type"] || null,
		text: tiddler.text,
		tags: tiddler.tags,
		fields: $.extend({}, tiddler.fields)
	};
	delete payload.fields.changecount;
	$.each(payload.fields, function(key, value) {
		if(key.indexOf("server.") == 0) {
			delete payload.fields[key];
		}
	});
	payload = $.toJSON(payload);
	var req = httpReq("PUT", uri, adaptor.putTiddlerCallback,
		context, headers, payload, adaptor.mimeType, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.putTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.status) {
		var loc = xhr.getResponseHeader("Location");
		var etag = xhr.getResponseHeader("Etag");
		if(loc &amp;&amp; etag) {
			var bag = loc.split("/bags/").pop().split("/")[0];
			context.tiddler.fields["server.bag"] = bag;
			context.tiddler.fields["server.workspace"] = "bags/" + bag;
			var rev = etag.split("/").pop().split(/;|:/)[0];
			context.tiddler.fields["server.page.revision"] = rev;
			context.tiddler.fields["server.etag"] = etag;
			if(context.callback) {
				context.callback(context, context.userParams);
			}
		} else { // IE
			context.adaptor.getTiddler(context.tiddler.title, context,
				context.userParams, context.callback);
		}
	} else if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store a tiddler chronicle
adaptor.prototype.putTiddlerChronicle = function(revisions, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = revisions[0].title;
	var headers = null;
	var uriTemplate = "%0/%1/%2/tiddlers/%3/revisions";
	var host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(context.title)]);
	if(workspace.type == "bag") { // generate ETag
		var etag = [adaptor.normalizeTitle(workspace.name),
			adaptor.normalizeTitle(context.title), 0].join("/"); //# zero-revision prevents overwriting existing contents
		headers = { "If-Match": '"' + etag + '"' };
	}
	var payload = $.toJSON(revisions);
	var req = httpReq("POST", uri, adaptor.putTiddlerChronicleCallback,
		context, headers, payload, adaptor.mimeType, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.putTiddlerChronicleCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// store a collection of tiddlers (import TiddlyWiki HTML store)
adaptor.prototype.putTiddlerStore = function(store, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	var uriTemplate = "%0/%1/%2/tiddlers";
	var host = context.host;
	var workspace = adaptor.resolveWorkspace(context.workspace);
	var uri = uriTemplate.format([host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name)]);
	var req = httpReq("POST", uri, adaptor.putTiddlerStoreCallback,
		context, null, store, "text/x-tiddlywiki", null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.putTiddlerStoreCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// rename an individual tiddler or move it to a different workspace -- TODO: make {from|to}.title optional
//# from and to are objects with members title and workspace (bag; optional),
//# representing source and target tiddler, respectively
adaptor.prototype.moveTiddler = function(from, to, context, userParams, callback) { // XXX: rename parameters (old/new)?
	var self = this;
	var newTiddler = store.getTiddler(from.title) || store.getTiddler(to.title); //# local rename might already have occurred
	var oldTiddler = $.extend(true, {}, newTiddler); //# required for eventual deletion
	oldTiddler.title = from.title; //# required for original tiddler's ETag
	var _getTiddlerChronicle = function(title, context, userParams, callback) {
		return self.getTiddlerChronicle(title, context, userParams, callback);
	};
	var _putTiddlerChronicle = function(context, userParams) {
		if(!context.status) {
			return callback(context, userParams);
		}
		var revisions = $.evalJSON(context.responseText); // XXX: error handling?
		// change current title while retaining previous location
		for(var i = 0; i &lt; revisions.length; i++) {
			delete revisions[i].revision;
			if(!revisions[i].fields.origin) { // NB: origin = "&lt;workspace&gt;/&lt;title&gt;"
				revisions[i].fields.origin = ["bags", revisions[i].bag, revisions[i].title].join("/");
			}
			revisions[i].title = to.title;
		}
		// add new revision
		var rev = $.extend({}, revisions[0]);
		$.each(newTiddler, function(i, item) {
			if(!$.isFunction(item)) {
				rev[i] = item;
			}
		});
		rev.title = to.title;
		rev.created = rev.created.convertToYYYYMMDDHHMM();
		rev.modified = new Date().convertToYYYYMMDDHHMM();
		delete rev.fields.changecount;
		revisions.unshift(rev);
		if(to.workspace) {
			context.workspace = to.workspace;
		} else if(context.workspace.substring(0, 4) != "bags") { // NB: target workspace must be a bag
			context.workspace = "bags/" + rev.bag;
		}
		var subCallback = function(context, userParams) {
			if(!context.status) {
				return callback(context, userParams);
			}
			context.adaptor.getTiddler(newTiddler.title, context, userParams, _deleteTiddler);
		};
		return self.putTiddlerChronicle(revisions, context, context.userParams, subCallback);
	};
	var _deleteTiddler = function(context, userParams) {
		if(!context.status) {
			return callback(context, userParams);
		}
		$.extend(true, newTiddler, context.tiddler);
		context.callback = null;
		return self.deleteTiddler(oldTiddler, context, context.userParams, callback);
	};
	callback = callback || function() {};
	context = this.setContext(context, userParams);
	context.host = context.host || oldTiddler.fields["server.host"];
	context.workspace = from.workspace || oldTiddler.fields["server.workspace"];
	return _getTiddlerChronicle(from.title, context, userParams, _putTiddlerChronicle);
};

// delete an individual tiddler
adaptor.prototype.deleteTiddler = function(tiddler, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = tiddler.title; // XXX: not required!?
	var uriTemplate = "%0/bags/%1/tiddlers/%2";
	var host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var bag = tiddler.fields["server.bag"];
	if(!bag) {
		return adaptor.noBagErrorMessage;
	}
	var uri = uriTemplate.format([host, adaptor.normalizeTitle(bag),
		adaptor.normalizeTitle(tiddler.title)]);
	var etag = adaptor.generateETag({ type: "bag", name: bag }, tiddler);
	var headers = etag ? { "If-Match": etag } : null;
	var req = httpReq("DELETE", uri, adaptor.deleteTiddlerCallback, context, headers,
		null, null, null, null, true);
	return typeof req == "string" ? req : true;
};

adaptor.deleteTiddlerCallback = function(status, context, responseText, uri, xhr) {
	context.status = [204, 1223].contains(xhr.status);
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// compare two revisions of a tiddler (requires TiddlyWeb differ plugin)
//# if context.rev1 is not specified, the latest revision will be used for comparison
//# if context.rev2 is not specified, the local revision will be sent for comparison
//# context.format is a string as determined by the TiddlyWeb differ plugin
adaptor.prototype.getTiddlerDiff = function(title, context, userParams, callback) {
	context = this.setContext(context, userParams, callback);
	context.title = title;

	var tiddler = store.getTiddler(title);
	try {
		var workspace = adaptor.resolveWorkspace(tiddler.fields["server.workspace"]);
	} catch(ex) {
		return adaptor.locationIDErrorMessage;
	}
	var tiddlerRef = [workspace.type + "s", workspace.name, tiddler.title].join("/");

	var rev1 = context.rev1 ? [tiddlerRef, context.rev1].join("/") : tiddlerRef;
	var rev2 = context.rev2 ? [tiddlerRef, context.rev2].join("/") : null;

	var uriTemplate = "%0/diff?rev1=%1";
	if(rev2) {
		uriTemplate += "&amp;rev2=%2";
	}
	if(context.format) {
		uriTemplate += "&amp;format=%3";
	}
	var host = context.host || this.fullHostName(tiddler.fields["server.host"]);
	var uri = uriTemplate.format([host, adaptor.normalizeTitle(rev1),
		adaptor.normalizeTitle(rev2), context.format]);

	if(rev2) {
		var req = httpReq("GET", uri, adaptor.getTiddlerDiffCallback, context, null,
			null, null, null, null, true);
	} else {
		var payload = {
			title: tiddler.title,
			text: tiddler.text,
			modifier: tiddler.modifier,
			tags: tiddler.tags,
			fields: $.extend({}, tiddler.fields)
		}; // XXX: missing attributes!?
		payload = $.toJSON(payload);
		req = httpReq("POST", uri, adaptor.getTiddlerDiffCallback, context,
			null, payload, adaptor.mimeType, null, null, true);
	}
	return typeof req == "string" ? req : true;
};

adaptor.getTiddlerDiffCallback = function(status, context, responseText, uri, xhr) {
	context.status = status;
	context.statusText = xhr.statusText;
	context.httpStatus = xhr.status;
	context.uri = uri;
	if(status) {
		context.diff = responseText;
	}
	if(context.callback) {
		context.callback(context, context.userParams);
	}
};

// generate tiddler information
adaptor.prototype.generateTiddlerInfo = function(tiddler) {
	var info = {};
	var uriTemplate = "%0/%1/%2/tiddlers/%3";
	var host = this.host || tiddler.fields["server.host"]; // XXX: this.host obsolete?
	host = this.fullHostName(host);
	var workspace = adaptor.resolveWorkspace(tiddler.fields["server.workspace"]);
	info.uri = uriTemplate.format([host, workspace.type + "s",
		adaptor.normalizeTitle(workspace.name),
		adaptor.normalizeTitle(tiddler.title)]);
	return info;
};

// create Tiddler instance from TiddlyWeb tiddler JSON
adaptor.toTiddler = function(json, host) {
	var created = Date.convertFromYYYYMMDDHHMM(json.created);
	var modified = Date.convertFromYYYYMMDDHHMM(json.modified);
	var fields = json.fields;
	fields["server.type"] = adaptor.serverType;
	fields["server.host"] = AdaptorBase.minHostName(host);
	fields["server.bag"] = json.bag;
	fields["server.title"] = json.title;
	if(json.recipe) {
		fields["server.recipe"] = json.recipe;
	}
	if(json.type &amp;&amp; json.type != "None") {
		fields["server.content-type"] = json.type;
	}
	fields["server.permissions"] = json.permissions.join(", ");
	fields["server.page.revision"] = json.revision;
	fields["server.workspace"] = "bags/" + json.bag;
	var tiddler = new Tiddler(json.title);
	tiddler.assign(tiddler.title, json.text, json.modifier, modified, json.tags,
		created, json.fields, json.creator);
	return tiddler;
};

adaptor.resolveWorkspace = function(workspace) {
	var components = workspace.split("/");
	return {
		type: components[0] == "bags" ? "bag" : "recipe",
		name: components[1] || components[0]
	};
};

adaptor.generateETag = function(workspace, tiddler) {
	var revision = tiddler.fields["server.page.revision"];
	var etag = revision == "false" ? null : tiddler.fields["server.etag"];
	if(!etag &amp;&amp; workspace.type == "bag") {
		if(typeof revision == "undefined") {
			revision = "0";
		} else if(revision == "false") {
			return null;
		}
		etag = [adaptor.normalizeTitle(workspace.name),
			adaptor.normalizeTitle(tiddler.title), revision].join("/");
		etag = '"' + etag + '"';
	}
	return etag;
};

adaptor.normalizeTitle = function(title) {
	return encodeURIComponent(title);
};

})(jQuery);


/*
 * jQuery JSON Plugin
 * version: 1.3
 * source: http://code.google.com/p/jquery-json/
 * license: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function($){function toIntegersAtLease(n)
{return n&lt;10?'0'+n:n;}
Date.prototype.toJSON=function(date)
{return this.getUTCFullYear()+'-'+
toIntegersAtLease(this.getUTCMonth())+'-'+
toIntegersAtLease(this.getUTCDate());};var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};$.quoteString=function(string)
{if(escapeable.test(string))
{return'"'+string.replace(escapeable,function(a)
{var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}
return'"'+string+'"';};$.toJSON=function(o,compact)
{var type=typeof(o);if(type=="undefined")
return"undefined";else if(type=="number"||type=="boolean")
return o+"";else if(o===null)
return"null";if(type=="string")
{return $.quoteString(o);}
if(type=="object"&amp;&amp;typeof o.toJSON=="function")
return o.toJSON(compact);if(type!="function"&amp;&amp;typeof(o.length)=="number")
{var ret=[];for(var i=0;i&lt;o.length;i++){ret.push($.toJSON(o[i],compact));}
if(compact)
return"["+ret.join(",")+"]";else
return"["+ret.join(", ")+"]";}
if(type=="function"){throw new TypeError("Unable to convert object of type 'function' to json.");}
var ret=[];for(var k in o){var name;type=typeof(k);if(type=="number")
name='"'+k+'"';else if(type=="string")
name=$.quoteString(k);else
continue;var val=$.toJSON(o[k],compact);if(typeof(val)!="string"){continue;}
if(compact)
ret.push(name+":"+val);else
ret.push(name+": "+val);}
return"{"+ret.join(", ")+"}";};$.compactJSON=function(o)
{return $.toJSON(o,true);};$.evalJSON=function(src)
{return eval("("+src+")");};$.secureEvalJSON=function(src)
{var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,'@');filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']');filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered))
return eval("("+src+")");else
throw new SyntaxError("Error parsing JSON, source is not valid.");};})(jQuery);
//}}}</pre>
</div>
<div _hash="29e43eb7496ba0572556029d183cb3f434369f04" created="20130924180405000" creator="FND" modified="20130924180405000" modifier="FND" server.bag="system" server.content-type="text/javascript" server.etag="&quot;system/TiddlyWebConfig/1521857:043a05971872b37178c4e90cc1808f09486e65bc&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521857" server.permissions="read" server.recipe="willrogers_private" server.title="TiddlyWebConfig" server.type="tiddlyweb" server.workspace="bags/system" tags="excludeLists excludeSearch systemConfig" title="TiddlyWebConfig" type="text/x-tiddlywiki">
<pre>/***
|''Name''|TiddlyWebConfig|
|''Description''|configuration settings for TiddlyWebWiki|
|''Author''|FND|
|''Version''|1.3.2|
|''Status''|stable|
|''Source''|http://svn.tiddlywiki.org/Trunk/association/plugins/TiddlyWebConfig.js|
|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|
|''Requires''|TiddlyWebAdaptor ServerSideSavingPlugin|
|''Keywords''|serverSide TiddlyWeb|
!Code
***/
//{{{
(function($) {

if(!config.extensions.ServerSideSavingPlugin) {
	throw "Missing dependency: ServerSideSavingPlugin";
}
if(!config.adaptors.tiddlyweb) {
	throw "Missing dependency: TiddlyWebAdaptor";
}

if(window.location.protocol != "file:") {
	config.options.chkAutoSave = true;
}

var adaptor = tiddler.getAdaptor();
var recipe = tiddler.fields["server.recipe"];
var workspace = recipe ? "recipes/" + recipe : "bags/common";

var plugin = config.extensions.tiddlyweb = {
	host: tiddler.fields["server.host"].replace(/\/$/, ""),
	username: null,
	status: {},

	getStatus: null, // assigned later
	getUserInfo: function(callback) {
		this.getStatus(function(status) {
			callback({
				name: plugin.username,
				anon: plugin.username ? plugin.username == "GUEST" : true
			});
		});
	},
	hasPermission: function(type, tiddler) {
		var perms = tiddler.fields["server.permissions"];
		if(perms) {
			return perms.split(", ").contains(type);
		} else {
			return true;
		}
	}
};

config.defaultCustomFields = {
	"server.type": tiddler.getServerType(),
	"server.host": plugin.host,
	"server.workspace": workspace
};

// modify toolbar commands

config.shadowTiddlers.ToolbarCommands = config.shadowTiddlers.ToolbarCommands.
	replace("syncing ", "revisions syncing ");

config.commands.saveTiddler.isEnabled = function(tiddler) {
	return plugin.hasPermission("write", tiddler) &amp;&amp; !tiddler.isReadOnly();
};

config.commands.deleteTiddler.isEnabled = function(tiddler) {
	return !readOnly &amp;&amp; plugin.hasPermission("delete", tiddler);
};

// hijack option macro to disable username editing
var _optionMacro = config.macros.option.handler;
config.macros.option.handler = function(place, macroName, params, wikifier,
		paramString) {
	if(params[0] == "txtUserName") {
		params[0] = "options." + params[0];
		var self = this;
		var args = arguments;
		args[0] = $("&lt;span /&gt;").appendTo(place)[0];
		plugin.getUserInfo(function(user) {
			config.macros.message.handler.apply(self, args);
		});
	} else {
		_optionMacro.apply(this, arguments);
	}
};

// hijack isReadOnly to take into account permissions and content type
var _isReadOnly = Tiddler.prototype.isReadOnly;
Tiddler.prototype.isReadOnly = function() {
	return _isReadOnly.apply(this, arguments) ||
		!plugin.hasPermission("write", this);
};

var getStatus = function(callback) {
	if(plugin.status.version) {
		callback(plugin.status);
	} else {
		var self = getStatus;
		if(self.pending) {
			if(callback) {
				self.queue.push(callback);
			}
		} else {
			self.pending = true;
			self.queue = callback ? [callback] : [];
			var _callback = function(context, userParams) {
				var status = context.serverStatus || {};
				for(var key in status) {
					if(key == "username") {
						plugin.username = status[key];
						config.macros.option.propagateOption("txtUserName",
							"value", plugin.username, "input");
					} else {
						plugin.status[key] = status[key];
					}
				}
				for(var i = 0; i &lt; self.queue.length; i++) {
					self.queue[i](plugin.status);
				}
				delete self.queue;
				delete self.pending;
			};
			adaptor.getStatus({ host: plugin.host }, null, _callback);
		}
	}
};
(plugin.getStatus = getStatus)(); // XXX: hacky (arcane combo of assignment plus execution)

})(jQuery);
//}}}</pre>
</div>
<div _hash="3acf06056e188b31bcc3c42ec673a050886d64c4" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-plugins_public" server.content-type="text/javascript" server.etag="&quot;system-plugins_public/ToggleTiddlerPrivacyPlugin/1521863:c4612ab52bfdba5163fb372d386a07e5810a951c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521863" server.permissions="read" server.recipe="willrogers_private" server.title="ToggleTiddlerPrivacyPlugin" server.type="tiddlyweb" server.workspace="bags/system-plugins_public" tags="excludeLists excludeSearch systemConfig" title="ToggleTiddlerPrivacyPlugin" type="text/x-tiddlywiki">
<pre>/***
|''Name''|ToggleTiddlerPrivacyPlugin|
|''Version''|0.7.1|
|''Status''|@@beta@@|
|''Description''|Allows you to set the privacy of new tiddlers and external tiddlers within an EditTemplate, and allows you to set a default privacy setting|
|''CoreVersion''|2.6.1|
|''Requires''|TiddlySpaceConfig|
|''Source''|http://github.com/TiddlySpace/tiddlyspace/raw/master/src/plugins/ToggleTiddlerPrivacyPlugin.js|
!Notes
When used in conjunction with TiddlySpaceTiddlerIconsPlugin changing the privacy setting will also interact with any privacy icons.

Currently use of
{{{&lt;&lt;setPrivacy defaultValue:public&gt;&gt;}}} is in conflict with {{{&lt;&lt;newTiddler fields:"server.workspace:x_private"&gt;&gt;}}}

There is an option, found in the tweak tab of the backstage, called txtPrivacyMode. Set this to either ''public'' or ''private'' depending on your security preference. If you choose not to set it then it will default to ''public''.
!Params
defaultValue:[private|public]
Allows you to set the default privacy value (Default is private)

!Code
***/
//{{{
(function($) {

	var tiddlyspace = config.extensions.tiddlyspace,
		macro;
	macro = config.macros.setPrivacy = {
		handler: function(place, macroName, params, wikifier, paramString, tiddler) {
			if(readOnly) {
				return;
			}
			var el = $(story.findContainingTiddler(place)),
				args = paramString.parseParams("name",
					null, true, false, true)[0],
				container = $("&lt;div /&gt;").
					addClass("privacySettings").
					appendTo(place)[0],
				currentSpace = tiddlyspace.currentSpace.name,
				currentBag = tiddler ? tiddler.fields["server.bag"] : false,
				// XXX: is the following reliable?
				isNewTiddler = el.hasClass("missing") || !currentBag,
				tiddlerStatus = tiddlyspace.getTiddlerStatusType(tiddler),
				customFields = el.attr("tiddlyfields"),
				defaultValue = "public",
				options = config.macros.tiddlerOrigin ?
						config.macros.tiddlerOrigin.getOptions(paramString) :
						{};
			customFields = customFields ? customFields.decodeHashMap() : {};
			if(isNewTiddler || !["public", "private", "unsyncedPrivate",
					"unsyncedPublic"].contains(tiddlerStatus)) {
				if(args.defaultValue) {
					defaultValue = args.defaultValue[0].toLowerCase();
				} else {
					defaultValue = config.options.chkPrivateMode ?
							"private" : "public";
				}
				defaultValue = defaultValue ?
						"%0_%1".format(currentSpace, defaultValue) :
						customFields["server.bag"];
				this.createRoundel(container, tiddler, currentSpace,
						defaultValue, options);
			}
		},
		updateEditFields: function(tiddlerEl, bag) {
			var saveBagField = $('[edit="server.bag"]', tiddlerEl),
				saveWorkspaceField = $('[edit="server.workspace"]', tiddlerEl),
				input = $("&lt;input /&gt;").attr("type", "hidden"),
				workspace = "bags/" + bag;
			if(saveBagField.length === 0) {
				input.clone().attr("edit", "server.bag").val(bag).
					appendTo(tiddlerEl);
			} else {
				saveBagField.val(bag);
			}
			// reset to prevent side effects
			$(tiddlerEl).attr("tiddlyFields", "");
			if(saveWorkspaceField.length === 0) {
				input.clone().attr("edit", "server.workspace").
					val(workspace).appendTo(tiddlerEl);
			} else {
				saveWorkspaceField.val(workspace);
			}
		},
		setBag: function(tiddlerEl, newBag, options) {
			var bagStatus,
				title = $(tiddlerEl).attr("tiddler"),
				tiddler = store.getTiddler(title),
				originButton = $(".originButton", tiddlerEl)[0],
				refreshIcon,
				newWorkspace = "bags/" + newBag,
				rPrivate = $("input[type=radio].isPrivate", tiddlerEl),
				rPublic = $("input[type=radio].isPublic", tiddlerEl);
			refreshIcon = function(type) {
				var originMacro = config.macros.tiddlerOrigin;
				if(originButton &amp;&amp; originMacro) {
					options.noclick = true;
					originMacro.showPrivacyRoundel(tiddler, type,
							originButton, options);
				}
			};
			macro.updateEditFields(tiddlerEl, newBag);
			if(tiddler) {
				tiddler.fields["server.bag"] = newBag;
				// for external tiddlers
				tiddler.fields["server.workspace"] = newWorkspace;
			}
			if(newBag.indexOf("_public") &gt; -1) {
				rPrivate.attr("checked", false);
				rPublic.attr("checked", true);
				bagStatus = "public";
			} else {
				rPublic.attr("checked", false); // explicitly do this for ie
				rPrivate.attr("checked", true);
				bagStatus = "private";
			}
			refreshIcon(bagStatus);
		},
		createRoundel: function(container, tiddler, currentSpace,
							   defaultValue, options) {
			var privateBag = "%0_private".format(currentSpace),
				publicBag = "%0_public".format(currentSpace),
				rbtn = $("&lt;input /&gt;").attr("type", "radio").
					attr("name", tiddler.title),
				el = story.findContainingTiddler(container);
			rbtn.clone().val("private").addClass("isPrivate").
				appendTo(container);
			$("&lt;label /&gt;").text("private").appendTo(container); // TODO: i18n
			rbtn.clone().val("public").addClass("isPublic")
				.appendTo(container);
			$("&lt;label /&gt;").text("public").appendTo(container); // TODO: i18n
			$("[type=radio]", container).click(function(ev) {
				var btn = $(ev.target);
				tiddler.fields["server.page.revision"] = "false";
				if(btn.hasClass("isPrivate")) { // private button clicked.
					$(el).addClass("isPrivate").removeClass("isPublic");
					macro.setBag(el, privateBag, options);
				} else {
					$(el).addClass("isPublic").removeClass("isPrivate");
					macro.setBag(el, publicBag, options);
				}
			});
			window.setTimeout(function() {
				macro.setBag(el, defaultValue, options);
			}, 100);
			// annoyingly this is needed as customFields are added to end of EditTemplate so are not present yet
			// and don't seem to respect any existing customFields.
		}
	};

}(jQuery));
//}}}</pre>
</div>
<div _hash="b4c48a116434073fe3dd125db8ac7616ac920c98" created="20131111192334000" creator="osmosoft" modified="20131111192334000" modifier="osmosoft" server.bag="tiddlyspace" server.content-type="" server.etag="&quot;tiddlyspace/ToolbarCommands/1521884:da95fa59f34e9555e6761cf6f16035d710182d95&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521884" server.permissions="read" server.recipe="willrogers_private" server.title="ToolbarCommands" server.type="tiddlyweb" server.workspace="bags/tiddlyspace" tags="excludeLists excludeSearch" title="ToolbarCommands" type="text/x-tiddlywiki">
<pre>|~ViewToolbar|+editTiddler +cloneTiddler &gt; fields refreshTiddler changeToPublic changeToPrivate revisions syncing permalink references jump closeOthers &lt; closeTiddler|
|~EditToolbar|+saveTiddler saveDraft -cancelTiddler deleteTiddler|
|~RevisionToolbar|&gt; fields revert|</pre>
</div>
<div _hash="b2e745995bf717de9c02ca3d0f6eeccde9fec9a2" created="20110927120658000" creator="willrogers" modified="20110927120658000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/ToothIssue/364816:32d6aafa2d33e543f21d00c904ce56e7f7a220b4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364816" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="ToothIssue" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="ToothIssue" type="text/x-tiddlywiki">
<pre>I saw Laura a couple of months ago.  She presented me with a number of options:

* Refilling or whatever it requires to save the tooth - ~50% chance of success
** May or may not be on the NHS; if not maybe £700
* Bridge - £2-300
* Implant - expensive

I just rang up to see how referrals would work.  I got a slightly different message.

* I should probably come and have a review anyway
* A referral to the NHS would cost £47
** The treatment then should be free
* A referral to a private practice would be free, but then the procedure might cost £800
** I should be seen within a week</pre>
</div>
<div _hash="da3bc48686c0be0dc96e676c134c98abb95189e0" created="20140120155117000" creator="willrogers" modified="20140120161938000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/Topup/1630254:9299546733224ea441b57670f09d3063f650e517&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1630254" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="Topup" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="Topup" type="text/x-tiddlywiki">
<pre>* TopupUnitTests
* TopupTesting

!!!Development environment
* You can check the code out using {{{svn}}} or {{{git svn}}}.
* You can run the UIs transparently with {{{dls-python}}}.
* Testing requires PythonSoftIoc
** {{{/dls_sw/work/R3.14.11/support/pythonSoftIoc/pythonIoc}}}
** {{{/dls_sw/work/R3.14.12.3/support/pythonSoftIoc/pythonIoc}}}
* It also requires the {{{python}}} directory on the {{{PYTHONPATH}}}.

!!!Eclipse
It's possible to set up Eclipse and PyDev to work with topup.  
* It's easiest to use the PythonSoftIoc interpreter
** You have to set:
*** {{{HERE}}}
*** {{{EPICS_BASE}}}
*** {{{EPICS_HOST_ARCH}}}
*** {{{EPICS_CA_SERVER_PORT}}}
*** {{{EPICS_CA_REPEATER_PORT}}}
* To use a local version of CoThread, remove it from {{{utils.requires}}} (but add NumPy) and add it to the project's PYTHONPATH.
* You have to have a local version of {{{mock}}} available</pre>
</div>
<div _hash="4d23798149760c2856a06141a995a8594e620df2" created="20130528085618000" creator="willrogers" modified="20131118104333000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TopupTesting/1539916:1734fd524d3598ef874c0245bc9f0ec547074981&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1539916" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TopupTesting" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="epics" title="TopupTesting" type="text/x-tiddlywiki">
<pre>To test topup, there are several required components:
* three ~IOCs: 
** machineSim
** topup 
** topupTimer
* two python processes:
** machineSim
** topupLauncher, which starts Process, Timer, ~RadmonProcess and ~BPMMonitor
* the topup ~UIs

!!Setup

First check out the machineSim and topup modules.  Run {{{make}}} in the top-level directories.

I run the simulator on ports 6016 and 6017.  Nick runs his simulator on 6014 and 6015.  The machine runs on 5064 and 5065.

To avoid trying to interact with the machine itself, the python processes and the ~IOCs must be started in the following environment:
{{{
# swap to using the correct EPICS ports
export EPICS_CA_SERVER_PORT=6016
export EPICS_CA_REPEATER_PORT=6017
}}}
You can alternatively run
{{{
. changeports 6016
}}}

Topup still wants to run with {{{dls-python2.6}}}, so load the old environment:
{{{
module load RHEL6-RHEL5
}}}

!!!Start the ~IOCs

!!!Machine sim
This one provides the PVs that the machine does (or at least the relevant ones).  However, you need topupSim to change them so that this  IOC does act like the machine.  It has now been moved to the machineSim support module.

{{{
./bin/linux-x86/simStart.sh
}}}
This also starts the {{{topupSim}}} python process, which manages the machine IOC so that it looks like a real one

!!!topup
{{{
./bin/linux-x86/sttopupIOC.sh
./bin/linux-x86/sttopupTimerIOC.boot
}}}

!!!Fill the virtual ring
{{{
cd python
dls-python ffpgUI.py
}}}
First, ensure there is a fill pattern.  It complained sometimes that the fill pattern I had chosen was not a valid one.  A constant fill pattern at 0.6nC worked fine.


!!!Start the python process
{{{
dls-python topupLauncher.py
}}}

This starts all the processes as separate cothreads:
* {{{Process}}} - the background process, to which the UI talks
* {{{RadmonProcess}}}
* {{{BPMMonitor}}}
* {{{Timer}}} - sets the ~PVs in the topupTimer IOC

!!!Start the UI itself
{{{
cd python
dls-python topupUI.py
}}}

!!!Errors
* {{{AttributeError: ffpgBTSDipole instance has no attribute 'savedBTSDipoleSetting'}}}
** This happens when you start {{{ffpg.py}}} directly, rather than through the  FFPG UI.
* {{{Can't get actual fill PV - no simulation IOC or wrong EPICS port}}} - this happens when you try to run the simulator but with no IOC running for it to talk to
* If you can't find certain environment variables, you're probably running from the wrong directory.  Some filepaths are relative.
* The below seems to come fom running two or more IOCs on the same machine.  The first IOC runs fine, but any further ones produce this warning.
** This page suggests some network configuration which would allow parallel IOCs, but it seems quite heavyweight: http://www.aps.anl.gov/epics/tech-talk/2007/msg00014.php
** It doesn't appear that this error causes a problem for us.
{{{
cas warning: Configured TCP port was unavailable.
cas warning: Using dynamically assigned TCP port 42889,
cas warning: but now two or more servers share the same UDP port.
cas warning: Depending on your IP kernel this server may not be
cas warning: reachable with UDP unicast (a host's IP in EPICS_CA_ADDR_LIST)
}}}
</pre>
</div>
<div _hash="5d48e2071bdb22774f7f7ec0ad22913ae076bb74" created="20130823082445000" creator="willrogers" modified="20130823082445000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TopupUnitTests/1358621:226b49eb472de9a9079e0b980e31eb147f51e39c&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1358621" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TopupUnitTests" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TopupUnitTests" type="text/x-tiddlywiki">
<pre>I had a hell of a time making the topup unit tests run.  Nick's instructions are here:

http://confluence.diamond.ac.uk/display/CHLP/Testing

I added my own version of cothread, and mock as specified in the instructions.  I seem to have problems changing the interpreter per run in eclipse, but if I made the pythonIoc the default one it does seem to work for the unit testing.</pre>
</div>
<div _hash="5e8a81d1d7d4e86ddce33010454b0e9a8c29e7f7" created="20120328144910000" creator="willrogers" modified="20120328145556000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TStoRM/656880:4b5da8fb4ebd7fc5415ff8e3d068d50cbcc78733&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="656880" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TStoRM" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="emi test" title="TStoRM" type="text/x-tiddlywiki">
<pre>StoRM is an implementation of the SRM interface.  Some other examples are dCache, ARC-SE, 
Highlights:
* posix compatible
* different protocols
* supports tapes

!!Testing
Many testing, validation and verification activities:
* Optimize deployment

!!T-~StoRM
* Uses deployment and test engine
* Simplifies integration
* Uses all SRM clients for testing
* Calls all SRM calls atomically, and can arrange them to make arbitrarily complex test
* Logs everything

It will be released in EMI2.

Many test levels:
* Atomic testing: any SRM operation
** These tests are also used in functional, regression and 
* Functional testing: 
** Reproduces specific use cases
* Sanity testing:
** Verifies installation and configuration
* Regression testing
** StoRM-specific
** Verifies bug fixes: shows the problem if lower version, passes if higher version
** Should be executed in a similar environment to that which 
* Integration testing
** New type - outside of the original scope, but fits well in the architecture
** Verifies transfer functionality between different SRM implementations.
* Performance testing:
** Not StoRM-specific
* Load and stress testing:
** To understand the system under specific load
** Provides useful metrics: response time, resource usage
* Conformance testing:
** determines if SRM implementation agrees with the SRM specification and SRM MoU

It's currently used by the ~StoRM team and the IGI-RTC team (the Italian grid)

Moving towards automated testing and better, quicker, web-based reporting.</pre>
</div>
<div _hash="4ee2488962dd4f614772d28866f12b9feee6f1d5" created="20110704075520000" creator="willrogers" modified="20111109171346000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TtyWtf/364819:d3a2ebb0e0185c867b015683152d99088a09db1f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364819" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TtyWtf" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TtyWtf" type="text/x-tiddlywiki">
<pre>What's a TTY?  It's pretty unclear.

Wikipedia reckons the abbreviation is from TeleTYpewriter, which is a pretty unclear origin.  That's something like the teleprinter from the football scores, and might have actually produced paper once upon a time.  These evolved through terminal displays to terminal emulators, which is what we use today.

In Ubuntu, the 'who' command gives both any running terminals on 'pts/x' and (I guess) the X server on 'tty7'.  You can switch terminals using Alt+Fx, but I'm not really sure why you'd want to.  Perhaps if the X server crashed it might be useful.

Here's a page about it which I haven't yet read: http://www.linusakesson.net/programming/tty/index.php</pre>
</div>
<div _hash="3d69212297ea442d0b076217bf390278d78ee1fd" created="20140107192226000" creator="willrogers" modified="20140107213105000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/TvHeadEnd/1618331:b436ce9705d7caba67f577077934b1d3294d05b7&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1618331" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="TvHeadEnd" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="TvHeadEnd" type="text/x-tiddlywiki">
<pre>I've bought an August DVB-T205 tuner.

!!Configuration

I followed the instructions here to set it up: http://www.packtpub.com/article/using-pvr-with-raspbmc

The default backend supported by RaspBMC is TvHeadEnd, and it seems to work fine. The web configuration is at http://192.168.1.140:9981.  The TV adapter was found automatically.

XBMC acts as the front end, allowing you to play video.

I believe I need the MPEG licence key, otherwise the pi won't stream video.  I've bought it, but it isn't delivered immediately.

!!Notes
* http://forum.stmlabs.com/showthread.php?tid=6780
* http://forum.stmlabs.com/showthread.php?tid=6389

Unfortunately, I seem to have misunderstood, so it looks like I might only be able to record.

</pre>
</div>
<div _hash="71cd2269fb682a9aa9bf360e46e199ed5e7cad8f" created="20110428145319000" creator="willrogers" modified="20111030173641000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuElevenFour/364835:c95cac7cb4177994c214f9684758b03571b466ce&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364835" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuElevenFour" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="machine ubuntu virtual vm" title="UbuntuElevenFour" type="text/x-tiddlywiki">
<pre>I tried to install Ubuntu both in VirtualBox and via Wubi at home, while I had plenty of internet.

I had a problem with my first download: UbuntuHashes

In the VM: 
* You need to install guest additions
* It only loads Ubuntu classic first time round, and I think you've got to give it a bit more video memory.
* I did that and gave it 32 MB of video memory, but it seems very slow, and although it's obvioulsy Unity it's still grey and old-fashioned looking.

!!NVidia graphics card 
There was a lot of trouble running my graphics card with Ubuntu 11.04.  The message it presented was: "This driver is activated but not currently in use."  There's a bug report about it [[here|https://bugs.launchpad.net/ubuntu/+source/nvidia-common/+bug/771788]], which claims that a fix has been released; if you hover over the package nvidia-commons, it says that the latest release is 0.2.35.  The package apparently at fault was nvidia-commons, whose page is [[here|http://packages.ubuntu.com/natty/nvidia-common]].  It has a changelog, but the releases up until 0.2.35 don't appear to mention this problem.

In the end, I installed it and this problem is still there, but doesn't seem to be a problem.  If you see what I mean.

!!Installed packages
* spotify
* gnome-mail
</pre>
</div>
<div _hash="50664845b773b321c9daafb28ee986aa4db37555" created="20111029143624000" creator="willrogers" modified="20120407150315000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuElevenTen/671576:c92ce6e072677369760a4599b0a0486cd0b65881&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="671576" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuElevenTen" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="linux ubuntu" title="UbuntuElevenTen" type="text/x-tiddlywiki">
<pre>Having given up on UbuntuElevenFour, I upgraded 10.10 via 11.04 to 11.10 in quick succession.  When I actually got to 11.04, the graphics thing didn't seem actually to be a problem.  The Unity desktop seems a bit slow sometimes, but it's difficult for me to determine what's actually causing the slowness.

Some programs required reinstallation:
* gnome-gmail
* spotify
* ubuntu-restricted-extras - this seems to contain flash, codecs etc.
* nautilus-dropbox

* gtk2-engines-pixbuf - this prevents warnings when you run ~GUIs from the terminal.

!!Configuration
To stop the screen locking, go to  System Settings -&gt; Screen

!!Slow switcher
I found the Unity switcher was too slow.  It's possible to disable the Unity switcher (just disable all the keys in the switcher tab) and use the CCSM version - static application switcher.  That's plenty fast enough.

!!Flash video 
I find flash video, such as iPlayer, takes a lot of CPU and becomes jerky.  I haven't figured this out yet.</pre>
</div>
<div _hash="dae90eaea2f760d3942d2981a88f0c77f39e7eb1" created="20140503113244000" creator="willrogers" modified="20140504113427000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuFourteenFour/1739700:287aebc63354c3436ab6216fdcf2a42aebcded8b&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1739700" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuFourteenFour" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="UbuntuFourteenFour" type="text/x-tiddlywiki">
<pre>See also UbuntuThirteenTen, HomeComputer

* To stop the screen locking, go to System Settings -&gt; Brightness &amp; Lock
* I installed Unity Tweak Tool via the software centre.
* I installed System Load Indicator via the software centre.

!!!Dual booting
The Ubuntu installer did not detect that another operating system was installed, although it did see the correct partitions.  To install Ubuntu:
* shrink the Windows partition from inside Windows
* create a swap partition of 8GB to match the 8GB of RAM
* create an ext4 partition for Ubuntu, and mount {{{/}}} there
* install Ubuntu
When installing, grub did correctly find Windows 8 and booting worked fine.

[[These|http://askubuntu.com/questions/221835/installing-ubuntu-on-a-pre-installed-windows-8-64-bit-system-uefi-supported]] were the most helpful instructions I found.

!!!Automounting Windows files
I dual booted Windows 8 and Ubuntu 14.04.  In order to have the Windows files reliably available on Ubuntu, I automounted the Windows partition.  It only works when Windows has been fully shut down.  I added the following line in {{{/etc/fstab}}}
{{{
UUID=60CA7BCBCA7B9BCA /mnt/windows ntfs-3g defaults,windows_names,locale=en_GB.utf8 0  0
}}}
You can find the UUID with {{{sudo blkid}}}.</pre>
</div>
<div _hash="de8528fc6725ee156cd979fc770b8ddeab7694dc" created="20111113200526000" creator="willrogers" modified="20120819154211000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuGrub/840251:2e95a7d92c9e6744c19f9397d349937d24df176f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="840251" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuGrub" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="linux mint ubuntu" title="UbuntuGrub" type="text/x-tiddlywiki">
<pre>When I installed UbuntuElevenTen, I ran into problems loading Windows.  About one in two times, in the process of loading, the screen would suddenly flash black and the computer would restart.

This had happened before and the solution was to install grub 1 rather than grub 2.  I couldn't find how I'd done it last time, so I followed the instructions here: https://help.ubuntu.com/community/DualBoot/Grub.  The partition was hd (0,4).

I'm now going to reboot and see what happens... well, this got us somewhere.  I've got the right version of grub installed, but no windows on the grub menu.  What next?

This page seemed to know what was going on: http://askubuntu.com/questions/77439/how-to-add-windows-7-loader-to-grub but I failed at the second part.  I'll restart now and see what happens.

More instructions on the second part are here - http://ubuntuforums.org/archive/index.php/t-1497399.html.

Finally, I edited my {{{/boot/grub/menu.lst}}} file to correspond with one set of instructions rather than another.  This appears to have worked, but I haven't enhanced my understanding particularly...

!!Partitions

To find out about partitions, I installed gparted
* {{{sudo aptitude install gparted}}}

* {{{/dev/sda}}} refers to some disk 
* {{{/dev/sdax}}} I think refers to partitions on that disk
* {{{/dev/sdb}}}

!!Third time

It seems like these instructions would have worked if I'd followed them all first time: http://forums.linuxmint.com/viewtopic.php?f=46&amp;t=50702

* {{{sudo aptitude install grub}}}
** and allow it to remove grub2
** this installed grub-0.97

* {{{sudo grub-install /dev/sda}}} (not sdax)
* {{{sudo update-grub}}}

However, I had buggered Windows up by (I think) running {{{sudo grub-install /dev/sda1}}} or something.

At one point, I got only to a 'grub rescue' prompt, which I rescued using http://askubuntu.com/questions/119597/grub-rescue-error-unknown-filesystem, then once I booted into linux running the above grub commands.

</pre>
</div>
<div _hash="b5346d389eecffb3c93817f36019177668f223ff" created="20110428205443000" creator="willrogers" modified="20110428205519000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuHashes/364846:c840ea04745091e8a87b9c911a9bd68333fe5dee&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364846" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuHashes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="UbuntuHashes" type="text/x-tiddlywiki">
<pre>I couldn't find the checksums anywhere apart from [[here|http://forum.ubuntu-fr.org/viewtopic.php?id=462411]]:

* 8468300a61ea1e3b7607f46f7643b57a *ubuntu-11.04-alternate-amd64.iso
* e6a29ce3dccb0ab12332036dcff7d9e4 *ubuntu-11.04-alternate-i386.iso
* 7de611b50c283c1755b4007a4feb0379 *ubuntu-11.04-desktop-amd64.iso
* 8b1085bed498b82ef1485ef19074c281 *ubuntu-11.04-desktop-i386.iso
* 355ca2417522cb4a77e0295bf45c5cd5 *ubuntu-11.04-server-amd64.iso
* b1a479c6593a90029414d201cb83a9cc *ubuntu-11.04-server-i386.iso

My version of ubuntu-11.04-desktop-i386.iso gives a hash of 
* 6D35A7900809E2735F52253AC7A3CED8 *ubuntu-11.04-desktop-i386.iso
The download was obviously invalid in some way (it was smaller than the Wubi version). When I downloaded the ISO via Wubi, I got:
* 8B1085BED498B82EF1485EF19074C281 *ubuntu-11.04-desktop-i386.iso
This matches.</pre>
</div>
<div _hash="e8ed92e57ddb7bc9df38555c37ceb3a0b91b7d2d" created="20131221110223000" creator="willrogers" modified="20140330122714000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuThirteenTen/1704698:dd2d8c7569c632512667fef4797f866e2ab0beb3&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1704698" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuThirteenTen" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="UbuntuThirteenTen" type="text/x-tiddlywiki">
<pre>* Firefox started making all searches use the search box.  I followed the instructions here: https://support.mozilla.org/en-US/questions/968367
* You now enable and disable dash lenses like this: http://askubuntu.com/questions/366238/how-do-i-remove-only-shopping-searches
* You can install VirtualBox using the package manager
* {{{Ctrl-Super-Right}}} doesn't work correctly, but you can do tiling with {{{Ctrl-Alt-Numpad}}}
* Cinnamon broke unity in 13.10 to start with, but apparently it is now fixed:
{{{
sudo add-apt-repository ppa:gwendal-lebihan-dev/cinnamon-stable
sudo apt-get update
sudo apt-get install cinnamon
}}}
* The volume function keys don't work, but you can remap them to F6, F7, F8: http://ubuntuforums.org/showthread.php?p=12260056#post12260056
* 4oD no longer works, but you can re-enable it by installing {{{hal}}}, which is no longer available by default:
* install {{{vlc}}} to watch DVDs
** for encrypted DVDs, follow these instructions: http://askubuntu.com/questions/500/how-can-i-play-encrypted-dvd-movies
* ripping DVDs - I ended up using ~HandBrake. 

!!!Hibernation
Hibernation is disabled by default.  It seems to work fine, so I used the instructions [[here|http://www.howtogeek.com/113923/how-to-re-enable-hibernate-in-ubuntu-12.04/]], with additions from [[here|http://askubuntu.com/questions/361734/hibernation-is-still-missing-from-menu-in-13-10-after-enabling-via-polkit-how-t]]:
* {{{sudo pm-hibernate}}} to hibernate from the command line
* edit {{{/etc/polkit-1/localauthority/50-local.d/com.ubuntu.enable-hibernate.pkla}}}
* insert:
{{{
[Re-enable hibernate by default in upower]
Identity=unix-user:*
Action=org.freedesktop.upower.hibernate
ResultActive=yes

[Re-enable hibernate by default in logind]
Identity=unix-user:*
Action=org.freedesktop.login1.hibernate
ResultActive=yes
}}}</pre>
</div>
<div _hash="fb846b6b2ecdf5a640e20151050cdf4c62bc9a11" created="20121110170847000" creator="willrogers" modified="20121110211719000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UbuntuTwelveTen/937794:6d3711c3b2129801a4c077d802001bca437f4753&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="937794" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UbuntuTwelveTen" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="UbuntuTwelveTen" type="text/x-tiddlywiki">
<pre>Installing alongside Windows 8 was painless.  However, when I tried to start Windows 8 again, it repaired itself a couple of times.  When it booted, a number of the Metro apps needed repairing, which you can do by going to the store.

!!Setup
* {{{sudo apt-get install aptitude}}}
* {{{sudo aptitude install vim}}}
* {{{sudo aptitude remove unity-lens-shopping}}}

!!Gnome
* {{{sudo aptitude install gnome-shell}}}
** I chose gdm when it gave me an option

I couldn't easily make proper multitouch work using the touchpad.  Instead, I opted to use the sides of the pad for scrolling.</pre>
</div>
<div _hash="f7abf9141c966d81275dee448a0ccf484b6692fc" created="20120724143724000" creator="willrogers" modified="20120726084751000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/UnixDos/806381:3b3cb5ec95b3070b32573561e969e787dd906c91&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="806381" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="UnixDos" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="UnixDos" type="text/x-tiddlywiki">
<pre>Unix text files have different newline characters to Windows and Macintosh:
* Windows: CR LF
* Unix: LF
* Macintosh (OS 9 and below): CR

The CR LF sequence appears as {{{^M}}} on Linux</pre>
</div>
<div _hash="f130b8a5de4a2cd9ab4d23a6fc3e9a8d83d1b7b3" created="20131111192332000" creator="osmosoft" modified="20131111192332000" modifier="osmosoft" server.bag="system-images_public" server.content-type="image/png" server.etag="&quot;system-images_public/unsyncedIcon/1521924:1ab3df4b51fc44b941c4bf3a338be1ecdc122440&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521924" server.permissions="read" server.recipe="willrogers_private" server.title="unsyncedIcon" server.type="tiddlyweb" server.workspace="bags/system-images_public" tags="excludeLists excludeSearch" title="unsyncedIcon" type="text/x-tiddlywiki">
<pre>iVBORw0KGgoAAAANSUhEUgAAACwAAAArCAYAAAADgWq5AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAk5SURBVFiF1ZlrbBzVFYC/O7Mz+16/vc47tmM7sZOQB5QGAkqiqhE0VKAqrSgJjfiRqpX4UyFaqCLLotDSIrVCoghKSyqSliYgSgpNVSC4SWlSIIoJBGPjPByIE9sbr1/7mp2d2x9jz67j9dp50Krn1+zcO+d+99xzzzn3rpBS8v8kyv8a4HLFdbUKHtzZWqWr1g1SUeqRsh5ENWCCHBEwIpEREIdMQz/4+H03j1zteOJKXKJl9/5QSrq/IRD3AOuZ2UqZCPEelvyLnhFPN29bN3jZA3OZwC07Wz2Gy/oRiAcB76XtLpeKz+tDCDDNDKZpYqQN8gwxBDxpKdovf/rttdEvBPjhXW9/XcCvgOrxd7qmURWuIFxZQcDvR9e1Sd+ZpslAdJCB6CCRgSixWPxS8O2Pblm/55oBf3PvXrUuVf5rYPv4u1AwQG3NQirKShFCzHQsAPojF+k63c3wcNadpeDJi7HQA89sX52+KuAf7D3s9aZSfwJ5B4CmuairqWbunNlcJuck6e3r50R7J2nTHCMRhzO6edvPNn9l6IqAW559zWf4A28i5RqAgN/HqhXL8Ho8V0eaI4lkkrYPP3asLaHV7Y5sbN682Zjqmyl3t+H3PTUOW1pSzI3Xr7ymsABej4cbV6+gorwMAAHrUqnynQKmXL+8wD/e/fZ9SLENoLgoxOoVy3G5rjpk5wdQFK5b1khxUQgAAXc/tPvAD6fqP8klHtrVukhBHge8uq6x5kur8bjdXwhsrqTTaY68f4x4PAEQN4VoePyedZ9f2m+ShRXkDsZi7PKmJZcHKyVKdATX2V6UodHLAtY0jaVLGsZ/+lQpf56v3wQL7/j9gVpLFR2AGq6sYMWyxhkN5jrbi378JEpkCJE2s/y6i0xFCcaqejJVpTPSdfyjds739tlwyJt/smXDvyaMlftDquIhQAWorV4wrXKRNnEfPoHWcTZ/u2HiOtePqydCYmkJxopGFE8xBfYU9XU19PVHyFgWFuL7wARgx8J22pVRwDMT64q0ie/Ph1AG7aVXXCrBcAmeoA/N68aIJ0kOxxmMnKO34g2S3nP2dy4//tpteObcPqXuHCvH9Hissnn7Jic9OhY2NHkzEg9AVbiiICyA+912B9ZXEqSqcQEuj+60+0qDGJkROgJPk7QGnPfSjDHa8RTC5cMdXpdX96yqynFgv+H33wn8YbzN2XRCsmH8ubS4uCCs2hNB+/gMAN4iP3NX1k2AHZeuwX0O7OxZfpY1laFp9pCxT3+DzCTy6i8vK82GUSlvy21zgKUQ64Epi5hc0T86DYBQFMKNC/O6ZCx9gc9HDwFQUe7lyzeEqastYnmTnSQsY5BE90t59QshCPh942D1eYGFlNWAE8ALidpvV4T+8hC6L3/Y64i+jJQWAMuashFi/rwgRSF7NRKfvYKVupj3e59vrHoV1OYFllAEoE1jXRFLIuIpADxBX94+A8lO+uMfADBvboDiouykhIClY1aWmRTxU7vy6vD7HN1lLTtbHR9VAL777FGNsWShqWpBYGUkW89qvny1haQjuhcAVRE0LSklOpii7XiEtuMRTp4eIlzhJVxpWzB54Q3M0TOTtOS6ZVLPOEukAJR5Bh0/UF2Fga0iv/OcjiUntZ+PvcdwqhuA2poifF4Xf3/rM1au3cPKtXu4/wHbr5c2ltklqpTET/5ukp6MmXGePUIdngA8OmSMAhZAMjVlZQeA9LqR/jHrjMQmTkaafBp9BQBdV2mos1cyGMxaKxi0/bcopLNgXhAA4+JR0gNtE3Q5dTLQMxJ0amQF4Mn7b0shOAtceoTJK5lwCQCxyDDJ4Wz/7uG3SJj2JlpcX+yEsGAgG/JCwexz4+JSVNUOMbGu35J7+EunncNHIvckkhuHOwFi8emBjesWgSKQUnLh4zPIjEXainFqaD8Afr9GzcJstAkGtLzPHo9KXa29CuboKVK9B5y26KBj1E9zx86JErIdIB5PYOYsRz7JlBfZ0IARS9L97id09L2CadmTXbqkFEXJBudADmQoNDHB1C8qwu22903s1AtIy8Aw0oyMOu72Vl5gRbIPsK3W118QGCC1qp5M2N68sXQfPYl/AlBa4mHObP+EvrlWzXUJAJdLobHBdjEr2U/ys1e5GM05+Qv5Rl5g16lDrUAPwPkLfdMCoyjEN63BWFVPtOzfSDE5STjAOZC58OOycEHI2Zjx7j30X+gebzIMyzyYF7i5udmS8CLAQHSQkZEZFOCKQmyRJOY/CcCcWX7KSifHZp/X5bjIpRaGsWSyZCyZmHG0i/vsBsmuX2z96oRQNOHEoUr1OSAD0N7ZNT0wEOt6boxd0NQ4dZEe8NsWzA1xuTKrykdFuR0uy2nDSzSjWPKxS/tNAH5k663twDNg79ILvYV9OdX/DumhdgCqF4QcqHyyYnk5DXXFVFZMuuFyZNnYhAUW89l/7pHvbDhZEBhAdxs7kAwAfNLZRSI5OZsBIE3iXTsB0DSFJQ2FS9J/7L+Ttne+xfUrK6fsU1zsZt7cAAAB8fn8l3ZtvGla4ObNGwekkA8ApAyDo20fkk5PDnOJc38lk+gBoKGuGF2fOqWPxtIsvfFFwrXP8+rrpwtOrCknJCpCeWJaYIDHtmx4XiCeADvzHTv+EWZObpeWQfy0fQjweV3U1hQVhHjnyHlOtA8wPGLw4suF94bP62JRVt+al/94+x3TAgM8umXdgyBfAtufD7971Ikc5uAJZNq+XlrcUIKqFL5ou/Wm2dxy0yzmzPZz39bFBfuCvWJO4snI9bltU17nSJAtprLVcEkv8LV4IsGR94/RsKiGSjW7Gf2+6W+EvF4XB/9217T9xkXTFHRNIZnKIATzZgQM0LxtXVLAHQ/vbn0YKVssy1LbO7s45xbUoQAWxz6IUL0whK5fu79L+vsTJFO2C4qxomxcZnyhveOFAxssIZ4H5gNUi9cp5cQ1g5xCzohM+vq77n3TOUfN2CyPbN1wQHdH6oSU3wPOdsuN9Mi1pAl8EaASOCIVuSkXFq70T5m9e3UjVXEvyDsF1q06Q0Fh1/+FJK2SOuiRA69VqUda3SIyRYAHN+7Iprv3RfK1XRFwrrS0trpSZzM3IJRbBLISIYJIAgipC5QzlrA6sUSn5cm0TXe7PhO5auD/tvwHQhyDgtGxXlsAAAAASUVORK5CYII=</pre>
</div>
<div _hash="77bbe9ac7998547867eb4ef4aca07906fa2323e8" created="20131111192330000" creator="osmosoft" modified="20131111192330000" modifier="osmosoft" server.bag="system-theme_public" server.content-type="" server.etag="&quot;system-theme_public/ViewTemplate/1521912:569f592cc0caf4e8085a058de9541cd006fefa84&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1521912" server.permissions="read" server.recipe="willrogers_private" server.title="ViewTemplate" server.type="tiddlyweb" server.workspace="bags/system-theme_public" tags="excludeLists excludeSearch" title="ViewTemplate" type="text/x-tiddlywiki">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar'
	macro='toolbar [[ToolbarCommands::ViewToolbar]] icons:yes height:16 width:16 more:popup'&gt;
&lt;/div&gt;
&lt;div class='heading'&gt;
	&lt;span class='spaceSiteIcon'
		macro='tiddlerOrigin label:no spaceLink:yes height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;span class="titleBar"&gt;
		&lt;div class='title' macro='view title text'&gt;&lt;/div&gt;
		&lt;span class="subtitle" macro='viewRevisions page:5'&gt;
			last modified on
			&lt;span macro="view modified date"&gt;&lt;/span&gt;
		&lt;/span&gt;
		&lt;div macro="view title replyLink"&gt;&lt;/div&gt;
	&lt;/span&gt;
	&lt;span class='followPlaceHolder' macro='followTiddlers'&gt;&lt;/span&gt;
	&lt;span class='modifierIcon'
		macro='view modifier SiteIcon label:no spaceLink:yes height:48 width:48 preserveAspectRatio:yes'&gt;
	&lt;/span&gt;
	&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='content'&gt;
	&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class='tagInfo'&gt;
	&lt;div class='tidTags' macro='tags'&gt;&lt;/div&gt;
	&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div _hash="842d5e92fcd8adff8db42788d3f28b41d25892a2" created="20111209141800000" creator="willrogers" modified="20130923105423000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VimNotes/1415150:f7d97825d014799b2efc5307dca513373227aff0&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1415150" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VimNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="vim" title="VimNotes" type="text/x-tiddlywiki">
<pre>Here's my standard vim configuration file: [[.vimrc]].
This page is by Bram Moolenaar, creator of Vim.  It's got useful tips on how to save time editing: http://www.moolenaar.net/habits.html.

!!Tricks
* Ctrl-G shows you the current line number, if it's not shown at the bottom already
* To comment part of a script, you can use {{{:s,e s/^/#/}}} where s and e are start and end line numbers
* &lt;n&gt;f&lt;char&gt; will search for the nth version of that char in the line you are in (from where you are)
* {{{gd}}} will go to the first instance of the word the cursor is on

!!Insert mode
You can use a few commands using Ctrl while you are still in insert mode:
* Ctrl-O puts you into normal mode for one command
* Ctrl-W deletes the previous word
* Ctrl-U deletes the current line up to the cursor
* Ctrl-R &lt;reg&gt; will insert a register
* Ctrl-T and Ctrl-D shifts by a tab right or left
* Ctrl-N / Ctrl-P autocompletes using words already in the file you're in

!!Colon commands
* {{{:ls}}} - show the files open in vim
** {{{:b &lt;number&gt;}}} to go the one you want
* {{{:f}}} - show details about the open file
* {{{:e &lt;filename&gt;}}} - edit another file
* {{{q:}}} goes to the command line menu, which you can navigate and edit.  Ctrl-C or {{{:q}}} will exit this menu.

!!Windows
* to open a second window, use {{{:split &lt;file&gt;}}} or {{{:hsplit &lt;file&gt;}}}
* to move between windows, use {{{Ctrl-W}}} then hjkl
* to rotate the windows around, {{{Ctrl-W}}} then r
See http://stackoverflow.com/questions/2228353/how-to-swap-files-between-windows-in-vim

!!Tools
{{{ctags}}} is useful for navigating source code with vim.  See http://blog.stwrt.ca/2012/10/31/vim-ctags

!!Bugbears
This is a useful point he makes.  When you're editing, try to notice the things you're taking longer than you want to over.  Then figure out if there is a faster way to do it than the one you are using.  This is more efficient than just learning some rules which may or may not apply to your use of vim.

* Deleting some text, then not being able to delete something else before putting that text back somewhere.
* Deleting up until an underscore in a variable name.
</pre>
</div>
<div _hash="a53ff493304cf7ae55739c04419cc84297d0bdac" created="20110421105408000" creator="willrogers" modified="20120106094526000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VirtualBox/364860:8c9a2d8ece1ecb8e6da6a2b1352399f20ff62ab9&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364860" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VirtualBox" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="machine virtual virtualbox vm" title="VirtualBox" type="text/x-tiddlywiki">
<pre>Installing VirtualBox is a lot easier even than when I started working at RAL.  This page is about installing any virtual machine.  Notes on individual installations: VirtualUbuntu, VirtualMint, VirtualDebian, VirtualSL6.

!!!Installation
* Create a new virtual machine, using the defaults (except I tend to give 1GB RAM)
* Start the machine, and specify the appropriate ISO

!!!Configuration
* Devices -&gt; Install Guest Additions...
** autorun (you need to do this every time updates mean a restart is required (or maybe not any more))

!!!Shared Folders
* Create a shared folder in the settings menu while the machine is turned off
** Give it a name
* Create a mount point directory in Linux
* {{{ mount -t vboxsf &lt;folder-name&gt; &lt;mount-point&gt; }}}

</pre>
</div>
<div _hash="9df963a310b4afc9c643317c71257569abca8778" created="20111020131514000" creator="willrogers" modified="20121123094013000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VirtualDebian/961334:7816e0f9cf428cf501683ceae8c0d971cbbd01c4&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="961334" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VirtualDebian" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="VirtualDebian" type="text/x-tiddlywiki">
<pre>See VirtualBox on how to install any virtual machine.

See the notes for VirtualUbuntu - there'll be a lot of relevant stuff.  If anything's the same, I'll put it there so as not to duplicate.

!!Installation 
* I chose the minimal (but not super-minimal) ISO file which installs the updates via the internet
* I chose regular (rather than graphical) install
* The menu options seemed straight-forward enough
* I chose root password *******9 and user password ********8
* I accepted the default options for disk formatting
* I entered the proxy and port

!!Configuration
I installed the Guest Additions, but I couldn't autorun the (virtual) CD.
** I don't really know why, but I can do this with the following command:
{{{
sh /media/cdrom/autorun.sh
}}}
* To start a root session, type {{{su}}} or {{{su -}}}.  I then added will to the sudoers file by following the instructions [[here|http://www.pendrivelinux.com/how-to-add-a-user-to-the-sudoers-list/]].
* In order to wget things, you need to:
{{{
will@debianvm:~$ export http_proxy=wwwcache.rl.ac.uk:8080
}}}
* To add ~Ctrl-Alt-T as a terminal shortcut, go to System -&gt; Preferences -&gt; Keyboard Shortcuts...
** It's an option but disabled.

!!Programming
See EclipseNotes
!!!Kerberos
* {{{sudo aptitude install krb5-user}}}
* Ignore the config set up, and use the standard ~KrbConf file from Trac.


</pre>
</div>
<div _hash="9a0d2053f8d46a08025b1a0f1ed4d1be0201806b" created="20121110110236000" creator="willrogers" modified="20121110122427000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VirtualMachines/937588:5bd33384d9bd39538aa24aac6af50e77a56a2d4f&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="937588" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VirtualMachines" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="VirtualMachines" type="text/x-tiddlywiki">
<pre>Because it seemed to be a bit tricky to dual-boot with Windows 8, I decided to run a VM.  The obvious way seemed to be the built in Hyper-V.

I found that the linux integration worked best with EL, so I installed CentOS

!!~CentOS
* Start a VM
* Download the minimal ~CentOS ISO
* Create an external virtual switch
* '''Important''' (I think): use a legacy network adapter while installing.
* Start the machine and install it
* Set up networking (see below)
* {{{yum groupinstall "X Window System"}}}
* {{{yum groupinstall Desktop}}}
* {{{yum groupinstall Fonts}}}
* Install Linux Integration Services - you can download the ISO and mount it, or use the menu
* Install the EPEL rpm

!!!Networking
I have only made a static IP work so far.
* Attach a legacy network adapter before you install
* Do some configuration!
* {{{/etc/sysconfig/network-scripts/ifcfg-eth0}}}
** IfcfgEth0
* See http://www.pwrusr.com/system-administration/solved-centos-6-networking-and-hyper-v
* See http://www.convirture.com/ee_wiki/index.php?title=RedHat_6_Networking
!!!Using
The connector provided by Hyper-V didn't seem that good, so I used nomachine:
* http://wiki.centos.org/HowTos/FreeNX
Download the Windows nomachine client from the website.
Here's a recipe to fix a key problem which I don't understand:
* http://codingrecipes.com/the-nx-service-is-not-available-or-the-nx-access-was-disabled-centos




!!Ubuntu
* I installed Ubuntu12.04 LTS


!!!Networking
I haven't got networking to work:
* http://ubuntuforums.org/showthread.php?t=2011987
* http://social.technet.microsoft.com/Forums/en-US/winserverhyperv/thread/61eb5bd8-3e2f-4cb7-b5bb-006a68f7f7a2/
* http://blogs.msdn.com/b/virtual_pc_guy/archive/2012/05/02/ubuntu-12-04-under-hyper-v-on-windows-8.aspx
* http://c-nergy.be/blog/?p=2830

!!Connecting
* The default connection seems to be ok but no better.  I use it for a root console
* I installed an NX server and NX client to use the desktop


* Set up networking</pre>
</div>
<div _hash="9efffe48ed23719bf6c3b8c96be8c90f5169f9a8" created="20111020132156000" creator="willrogers" modified="20120331125236000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VirtualMint/661471:0e928cccfedc1f822cf7647fa03d3eebe8690cff&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="661471" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VirtualMint" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="linux mint virtualbox" title="VirtualMint" type="text/x-tiddlywiki">
<pre>An experimental attempt to install Linux Mint using VirtualBox. I followed the instructions in that page.

!!Running Slow
I think this is because I enabled 3D acceleration.  I changed this back, then set the video memory to 12MB, and it's working fine again.

!!Blocky Theme
Often, the desktop goes to a horrible blocky grey theme. You can fix it by running {{{sudo gnome-settings-daemon}}}.  However, to fix it on login, you have to follow the instructions [[here|http://www.webupd8.org/2011/06/fix-ubuntu-linux-mint-theme-changing-to.html]].


!!Configuration
You need the 'http://' on the front when setting http_proxy:
{{{
export http_proxy=http://wwwcache.rl.ac.uk:8080
}}}

!!Home 
I also installed this at home, and although it was very slow while it was installing it doesn't seem to be too bad when I'm using it.  Similarly, starting up takes a very long time, but pausing and restarting the machine is relatively quick.</pre>
</div>
<div _hash="c3a5b7c2a7b74576368dbccbe12fb0e77cbb93a1" created="20120105163908000" creator="willrogers" modified="20120106152245000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VirtualSL6/364890:6abd43652862cb1706d715e6af1a8a17c5e3ae19&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364890" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VirtualSL6" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="VirtualSL6" type="text/x-tiddlywiki">
<pre>See VirtualBox for general stuff.

I wanted to install a version of SL6 so that I could test my installations for EMI.

!!Notes
I had to install the LiveMiniCD to actually install it.  I then selected Install to Hard Drive from the IceWM menu which came up when I booted into the live CD.  The installation wizard failed once but worked next time.  I then had to remove the live CD and restart, at which point I gave a password for my user.

I chose password *******3 for will and ********2 for root.  Or the other way round, I can't remember.

* I had to visudo /etc/sudoers to add sudo rights to my main user (adding the second line here): 
{{{
root ALL=(ALL) ALL
will ALL=(ALL) ALL
}}}

To install guest additions, there were a few things I had to do:
* VBox menu -&gt; Devices -&gt; Install Guest Additions
* {{{mkdir /mnt/cdrom}}}
* {{{mount -t auto /dev/cdrom /mnt/cdrom}}}
* {{{yum install gcc}}}
* {{{yum install make}}}
* {{{yum update}}}
* {{{yum update kernel}}} - this took a good while to install - actually, not sure if it finished or if it was done by a later {{{yum update}}}.
* {{{yum install kernel-devel}}}
* {{{cd /mnt/cdrom}}}
* {{{./VBoxLinuxAdditions.run}}}

Even then it failed trying to do something with OpenGL, but I'm not sure what this is so I'm seeing if the desired effect has happened.

I'd like to get rid of the IceWM and get Gnome or KDE, but I'm not sure immediately how to do this.  I tried:

* {{{yum groupinstall "KDE Desktop"}}}, which was a 250MB download.  This worked fine - it gives you the option to log into KDE when you start.
</pre>
</div>
<div _hash="b680607136a49fc5e8489ff831aee60c010f9f0d" created="20110421124628000" creator="willrogers" modified="20121130171722000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/VirtualUbuntu/975191:f3713da301b0e06bdd7ce5179872313b9c055a24&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="975191" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="VirtualUbuntu" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="machine ubuntu virtual virtualbox vm" title="VirtualUbuntu" type="text/x-tiddlywiki">
<pre>See VirtualBox on how to install any virtual machine.

As well as installing the Guest Additions, I went to Additional Drivers and activated the driver there.

It was a struggle making two desktops work, because VirtualBox kept crashing, but eventually I got it working on Ubuntu 2D.

!!Configuration
* Network proxy - this is a bit tricky
** You can set a system-wide proxy using System -&gt; Preferences -&gt; Network Proxy
** This doesn't seem to work for Ubuntu Software Centre and Update Manager
** I can't make the automatic proxy URL work - I have to use the particular machine and port
* Synaptic package manager has its own proxy settings, which you can configure
** Settings -&gt; Preferences...
** If you set these, Ubuntu Software Centre and Update Manager seem to work.
* {{{ apt-get install vim }}}
* System -&gt; Preferences -&gt; Screensaver
** Deactivate screensaver and screen lock for a VM
* System -&gt; Preferences -&gt; Power Management
** Deactivate sleep for a VM

!!kerberos
* {{{apt-get install krb5-user krb5-clients}}}
* {{{vim /etc/krb5.conf}}} and add the bumf which is in ~KrbConf in Trac.

!!Programming 
* {{{apt-get install eclipse}}}
** See EclipseNotes for more
* SVN - see SvnUbuntu

!!Versions
!!!10.04 LTS
* I installed this on my old laptop, and used it quite a lot
* It seems to run fine on the new laptop with 3D acceleration off
* If I enable 3D acceleration, it doesn't really work

!!!10.10
* I installed this for a little while on the old laptop and it seemed to work fine

!!!11.04
* I can't run this successfully, but it may be because of the 3D acceleration issue</pre>
</div>
<div _hash="378e7c4224d9b9ed97947eefce1fab45a0a71696" created="20110421100842000" creator="willrogers" modified="20110421100842000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/willrogersSetupFlag/364949:cc7866667e128ce18d25d1e10a0cfec04bcd6316&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364949" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="willrogersSetupFlag" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="excludeLists excludePublisher excludeSearch" tiddlyspaceinit_version="0.6" title="willrogersSetupFlag" type="text/x-tiddlywiki">
<pre>@@Please do not modify this tiddler; it was created automatically upon space creation.@@</pre>
</div>
<div _hash="4eaf76f84b6b88473e56e1316edf6ce23c7c25da" created="20130803141644000" creator="willrogers" modified="20140505103155000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/WindowsLicences/1740958:52be2db6cd2fcd2e74d398a10de3e31de9e757c6&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1740958" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="WindowsLicences" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="WindowsLicences" type="text/x-tiddlywiki">
<pre>I've got licences for 6 versions of Windows:

* Windows Vista - with Compaq laptop
* Windows 7 - upgrade from Digital River
* Windows 7 - purchased version
* Windows 7 - with SamsungLaptop
* Windows 8 - upgrade for SamsungLaptop
* Windows 8 - with Dell PC: {{{J6YN7-H92P7-XH3WJ-XGYFH-B7TR3}}}</pre>
</div>
<div _hash="8cdfd6bd954715f744112fd75eeca76cc7c84164" created="20110726095800000" creator="willrogers" modified="20110726100027000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/WindowsNotes/364921:e2c5dddcd597f5fc2ec9eab8c8047bcab89c2f54&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="364921" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="WindowsNotes" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="WindowsNotes" type="text/x-tiddlywiki">
<pre>!!Keyboard Shortcuts

| Ctrl-Shift-Esc | Task manager |
| Win-Break | System properties |
| Win-D | Show desktop |
| Win-R | run box |
| Win-E | My Computer |
| Win-L | Lock screen |

!!Run Box

| taskmgr | Task manager |
| iexplore | IE |
| msconfig | System configuration utility |
| cmd | Command prompt |
| msinfo32 | System information |
| sysdm.cpl | System properties |</pre>
</div>
<div _hash="f3e4078b82b892045bf8d84009fdb579d6f8e1cc" created="20130803141018000" creator="willrogers" modified="20130803141325000" modifier="willrogers" server.bag="willrogers_public" server.content-type="" server.etag="&quot;willrogers_public/WindowsPrograms/1331885:0037c9931014af80ec1fd96c054206d158b01b52&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="1331885" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="WindowsPrograms" server.type="tiddlyweb" server.workspace="bags/willrogers_public" tags="" title="WindowsPrograms" type="text/x-tiddlywiki">
<pre>Some useful programs:

!!Misc
* Opera
* Chrome
* Firefox
* Google desktop 
* BBC iPlayer Desktop
* Garmin Updater
* Skype
* ~Ross-Tech VCDS Lite

!!Computing
* Putty
* ~WinSCP
* Virtuawin
* Windirstat
* Fastsum
* gVim
* notepad++
* Tunnel bear
* VirtualBox
* Dropbox

!!Photography
* Faststone Photo Resizer
* Gimp
* ~UFRaw

!!Music
* Last.fm scrobbler
* Mediamonkey
* Audacity
* Powertab editor
* Spotify
</pre>
</div>
<div _hash="ec302054da770c1a32796540c666bcd94034363f" created="20110802145250000" creator="willrogers" modified="20110802151131000" modifier="willrogers" server.bag="willrogers_private" server.content-type="" server.etag="&quot;willrogers_private/WorkAccounts/365033:959820a80b1ca8d101a18f8493bb05dc3b947fac&quot;" server.host="http://willrogers.tiddlyspace.com" server.page.revision="365033" server.permissions="read, write, create, delete" server.recipe="willrogers_private" server.title="WorkAccounts" server.type="tiddlyweb" server.workspace="bags/willrogers_private" tags="" title="WorkAccounts" type="text/x-tiddlywiki">
<pre>!!General 

| OPB |  STFC email address | old pwd |
| Events and training | " | " |
| RAL computer training | " | " |


!!APEL

| Savannah | STFC email address | new pwd |
| ETICS | Certificate | - |
| CERN account | wrogers | new pwd |</pre>
</div>

</div>


<!--~~ Library modules ~~-->
<div id="libraryModules" style="display:none;">
<script data-tiddler-library="yes" data-tiddler-title="$:/library/sjcl.js" data-tiddler-type="application/javascript" type="text/javascript">"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
if(typeof module!="undefined"&&module.exports)module.exports=sjcl;
sjcl.cipher.aes=function(a){this.h[0][0][0]||this.z();var b,c,d,e,f=this.h[0][4],g=this.h[1];b=a.length;var h=1;if(b!==4&&b!==6&&b!==8)throw new sjcl.exception.invalid("invalid aes key size");this.a=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(a%b===0||b===8&&a%b===4){c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255];if(a%b===0){c=c<<8^c>>>24^h<<24;h=h<<1^(h>>7)*283}}d[a]=d[a-b]^c}for(b=0;a;b++,a--){c=d[b&3?a:a-4];e[b]=a<=4||b<4?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^
g[3][f[c&255]]}};
sjcl.cipher.aes.prototype={encrypt:function(a){return this.I(a,0)},decrypt:function(a){return this.I(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],z:function(){var a=this.h[0],b=this.h[1],c=a[4],d=b[4],e,f,g,h=[],i=[],k,j,l,m;for(e=0;e<0x100;e++)i[(h[e]=e<<1^(e>>7)*283)^e]=e;for(f=g=0;!c[f];f^=k||1,g=i[g]||1){l=g^g<<1^g<<2^g<<3^g<<4;l=l>>8^l&255^99;c[f]=l;d[l]=f;j=h[e=h[k=h[f]]];m=j*0x1010101^e*0x10001^k*0x101^f*0x1010100;j=h[l]*0x101^l*0x1010100;for(e=0;e<4;e++){a[e][f]=j=j<<24^j>>>8;b[e][l]=m=m<<24^m>>>8}}for(e=
0;e<5;e++){a[e]=a[e].slice(0);b[e]=b[e].slice(0)}},I:function(a,b){if(a.length!==4)throw new sjcl.exception.invalid("invalid aes block size");var c=this.a[b],d=a[0]^c[0],e=a[b?3:1]^c[1],f=a[2]^c[2];a=a[b?1:3]^c[3];var g,h,i,k=c.length/4-2,j,l=4,m=[0,0,0,0];g=this.h[b];var n=g[0],o=g[1],p=g[2],q=g[3],r=g[4];for(j=0;j<k;j++){g=n[d>>>24]^o[e>>16&255]^p[f>>8&255]^q[a&255]^c[l];h=n[e>>>24]^o[f>>16&255]^p[a>>8&255]^q[d&255]^c[l+1];i=n[f>>>24]^o[a>>16&255]^p[d>>8&255]^q[e&255]^c[l+2];a=n[a>>>24]^o[d>>16&
255]^p[e>>8&255]^q[f&255]^c[l+3];l+=4;d=g;e=h;f=i}for(j=0;j<4;j++){m[b?3&-j:j]=r[d>>>24]<<24^r[e>>16&255]<<16^r[f>>8&255]<<8^r[a&255]^c[l++];g=d;d=e;e=f;f=a;a=g}return m}};
sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.P(a.slice(b/32),32-(b&31)).slice(1);return c===undefined?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(a.length===0||b.length===0)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return d===32?a.concat(b):sjcl.bitArray.P(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;
if(b===0)return 0;return(b-1)*32+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(a.length*32<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b&=31;if(c>0&&b)a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1);return a},partial:function(a,b,c){if(a===32)return b;return(c?b|0:b<<32-a)+a*0x10000000000},getPartial:function(a){return Math.round(a/0x10000000000)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return false;var c=0,d;for(d=0;d<a.length;d++)c|=
a[d]^b[d];return c===0},P:function(a,b,c,d){var e;e=0;if(d===undefined)d=[];for(;b>=32;b-=32){d.push(c);c=0}if(b===0)return d.concat(a);for(e=0;e<a.length;e++){d.push(c|a[e]>>>b);c=a[e]<<32-b}e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1));return d},k:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}};
sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++){if((d&3)===0)e=a[d/4];b+=String.fromCharCode(e>>>24);e<<=8}return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++){d=d<<8|a.charCodeAt(c);if((c&3)===3){b.push(d);d=0}}c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,"");d=a.length;a+="00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,d*4)}};
sjcl.codec.base64={F:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.F,g=0,h=sjcl.bitArray.bitLength(a);if(c)f=f.substr(0,62)+"-_";for(c=0;d.length*6<h;){d+=f.charAt((g^a[c]>>>e)>>>26);if(e<6){g=a[c]<<6-e;e+=26;c++}else{g<<=6;e-=6}}for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d=0,e=sjcl.codec.base64.F,f=0,g;if(b)e=e.substr(0,62)+"-_";for(b=0;b<a.length;b++){g=e.indexOf(a.charAt(b));
if(g<0)throw new sjcl.exception.invalid("this isn't base64!");if(d>26){d-=26;c.push(f^g>>>d);f=g<<32-d}else{d+=6;f^=g<<32-d}}d&56&&c.push(sjcl.bitArray.partial(d&56,f,1));return c}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.a[0]||this.z();if(a){this.n=a.n.slice(0);this.i=a.i.slice(0);this.e=a.e}else this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.n=this.N.slice(0);this.i=[];this.e=0;return this},update:function(a){if(typeof a==="string")a=sjcl.codec.utf8String.toBits(a);var b,c=this.i=sjcl.bitArray.concat(this.i,a);b=this.e;a=this.e=b+sjcl.bitArray.bitLength(a);for(b=512+b&-512;b<=a;b+=512)this.D(c.splice(0,16));return this},finalize:function(){var a,b=this.i,c=this.n;b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.e/
4294967296));for(b.push(this.e|0);b.length;)this.D(b.splice(0,16));this.reset();return c},N:[],a:[],z:function(){function a(e){return(e-Math.floor(e))*0x100000000|0}var b=0,c=2,d;a:for(;b<64;c++){for(d=2;d*d<=c;d++)if(c%d===0)continue a;if(b<8)this.N[b]=a(Math.pow(c,0.5));this.a[b]=a(Math.pow(c,1/3));b++}},D:function(a){var b,c,d=a.slice(0),e=this.n,f=this.a,g=e[0],h=e[1],i=e[2],k=e[3],j=e[4],l=e[5],m=e[6],n=e[7];for(a=0;a<64;a++){if(a<16)b=d[a];else{b=d[a+1&15];c=d[a+14&15];b=d[a&15]=(b>>>7^b>>>18^
b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0}b=b+n+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(m^j&(l^m))+f[a];n=m;m=l;l=j;j=k+b|0;k=i;i=h;h=g;g=b+(h&i^k&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0}e[0]=e[0]+g|0;e[1]=e[1]+h|0;e[2]=e[2]+i|0;e[3]=e[3]+k|0;e[4]=e[4]+j|0;e[5]=e[5]+l|0;e[6]=e[6]+m|0;e[7]=e[7]+n|0}};
sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,k=h.bitLength(g)/8;e=e||64;d=d||[];if(i<7)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;f<4&&k>>>8*f;f++);if(f<15-i)f=15-i;c=h.clamp(c,8*(15-f));b=sjcl.mode.ccm.H(a,b,c,d,e,f);g=sjcl.mode.ccm.J(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),k=f.bitSlice(b,
h-e);h=(h-e)/8;if(g<7)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;b<4&&h>>>8*b;b++);if(b<15-g)b=15-g;c=f.clamp(c,8*(15-b));i=sjcl.mode.ccm.J(a,i,c,k,e,b);a=sjcl.mode.ccm.H(a,i.data,c,d,e,b);if(!f.equal(i.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return i.data},H:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.k;e/=8;if(e%2||e<4||e>16)throw new sjcl.exception.invalid("ccm: invalid tag length");if(d.length>0xffffffff||b.length>0xffffffff)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");
f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)];f=h.concat(f,c);f[3]|=h.bitLength(b)/8;f=a.encrypt(f);if(d.length){c=h.bitLength(d)/8;if(c<=65279)g=[h.partial(16,c)];else if(c<=0xffffffff)g=h.concat([h.partial(16,65534)],[c]);g=h.concat(g,d);for(d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])))}for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,e*8)},J:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.k;var i=b.length,k=h.bitLength(b);c=h.concat([h.partial(8,
f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i)return{tag:d,data:[]};for(g=0;g<i;g+=4){c[3]++;e=a.encrypt(c);b[g]^=e[0];b[g+1]^=e[1];b[g+2]^=e[2];b[g+3]^=e[3]}return{tag:d,data:h.clamp(b,k)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128)throw new sjcl.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl.mode.ocb2.B,i=sjcl.bitArray,k=i.k,j=[0,0,0,0];c=h(a.encrypt(c));var l,m=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4){l=b.slice(g,g+4);j=k(j,l);m=m.concat(k(c,a.encrypt(k(c,l))));c=h(c)}l=b.slice(g);b=i.bitLength(l);g=a.encrypt(k(c,[0,0,0,b]));l=i.clamp(k(l.concat([0,0,0]),g),b);j=k(j,k(l.concat([0,0,0]),g));j=a.encrypt(k(j,k(c,h(c))));
if(d.length)j=k(j,f?d:sjcl.mode.ocb2.pmac(a,d));return m.concat(i.concat(l,i.clamp(j,e)))},decrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128)throw new sjcl.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl.mode.ocb2.B,h=sjcl.bitArray,i=h.k,k=[0,0,0,0],j=g(a.encrypt(c)),l,m,n=sjcl.bitArray.bitLength(b)-e,o=[];d=d||[];for(c=0;c+4<n/32;c+=4){l=i(j,a.decrypt(i(j,b.slice(c,c+4))));k=i(k,l);o=o.concat(l);j=g(j)}m=n-c*32;l=a.encrypt(i(j,[0,0,0,m]));l=i(l,h.clamp(b.slice(c),
m).concat([0,0,0]));k=i(k,l);k=a.encrypt(i(k,i(j,g(j))));if(d.length)k=i(k,f?d:sjcl.mode.ocb2.pmac(a,d));if(!h.equal(h.clamp(k,e),h.bitSlice(b,n)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return o.concat(h.clamp(l,m))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.B,e=sjcl.bitArray,f=e.k,g=[0,0,0,0],h=a.encrypt([0,0,0,0]);h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4){h=d(h);g=f(g,a.encrypt(f(h,b.slice(c,c+4))))}b=b.slice(c);if(e.bitLength(b)<128){h=f(h,d(h));b=e.concat(b,[2147483648|0,0,
0,0])}g=f(g,b);return a.encrypt(f(d(f(h,d(h))),g))},B:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^(a[0]>>>31)*135]}};sjcl.misc.hmac=function(a,b){this.M=b=b||sjcl.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;this.l=[new b,new b];if(a.length>d)a=b.hash(a);for(b=0;b<d;b++){c[0][b]=a[b]^909522486;c[1][b]=a[b]^1549556828}this.l[0].update(c[0]);this.l[1].update(c[1])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a,b){a=(new this.M(this.l[0])).update(a,b).finalize();return(new this.M(this.l[1])).update(a).finalize()};
sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E3;if(d<0||c<0)throw sjcl.exception.invalid("invalid params to pbkdf2");if(typeof a==="string")a=sjcl.codec.utf8String.toBits(a);e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,i,k=[],j=sjcl.bitArray;for(i=1;32*k.length<(d||1);i++){e=f=a.encrypt(j.concat(b,[i]));for(g=1;g<c;g++){f=a.encrypt(f);for(h=0;h<f.length;h++)e[h]^=f[h]}k=k.concat(e)}if(d)k=j.clamp(k,d);return k};
sjcl.random={randomWords:function(a,b){var c=[];b=this.isReady(b);var d;if(b===0)throw new sjcl.exception.notReady("generator isn't seeded");else b&2&&this.U(!(b&1));for(b=0;b<a;b+=4){(b+1)%0x10000===0&&this.L();d=this.w();c.push(d[0],d[1],d[2],d[3])}this.L();return c.slice(0,a)},setDefaultParanoia:function(a){this.t=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.q[c],h=this.isReady(),i=0;d=this.G[c];if(d===undefined)d=this.G[c]=this.R++;if(g===undefined)g=this.q[c]=
0;this.q[c]=(this.q[c]+1)%this.b.length;switch(typeof a){case "number":if(b===undefined)b=1;this.b[g].update([d,this.u++,1,b,f,1,a|0]);break;case "object":c=Object.prototype.toString.call(a);if(c==="[object Uint32Array]"){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else{if(c!=="[object Array]")i=1;for(c=0;c<a.length&&!i;c++)if(typeof a[c]!="number")i=1}if(!i){if(b===undefined)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;){b++;e>>>=1}this.b[g].update([d,this.u++,2,b,f,a.length].concat(a))}break;case "string":if(b===
undefined)b=a.length;this.b[g].update([d,this.u++,3,b,f,a.length]);this.b[g].update(a);break;default:i=1}if(i)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[g]+=b;this.f+=b;if(h===0){this.isReady()!==0&&this.K("seeded",Math.max(this.g,this.f));this.K("progress",this.getProgress())}},isReady:function(a){a=this.C[a!==undefined?a:this.t];return this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=a?2:0},getProgress:function(a){a=
this.C[a?a:this.t];return this.g>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.m){if(window.addEventListener){window.addEventListener("load",this.o,false);window.addEventListener("mousemove",this.p,false)}else if(document.attachEvent){document.attachEvent("onload",this.o);document.attachEvent("onmousemove",this.p)}else throw new sjcl.exception.bug("can't attach event");this.m=true}},stopCollectors:function(){if(this.m){if(window.removeEventListener){window.removeEventListener("load",
this.o,false);window.removeEventListener("mousemove",this.p,false)}else if(window.detachEvent){window.detachEvent("onload",this.o);window.detachEvent("onmousemove",this.p)}this.m=false}},addEventListener:function(a,b){this.r[a][this.Q++]=b},removeEventListener:function(a,b){var c;a=this.r[a];var d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++){c=d[b];delete a[c]}},b:[new sjcl.hash.sha256],j:[0],A:0,q:{},u:0,G:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:undefined,
t:6,m:false,r:{progress:{},seeded:{}},Q:0,C:[0,48,64,96,128,192,0x100,384,512,768,1024],w:function(){for(var a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}return this.s.encrypt(this.d)},L:function(){this.a=this.w().concat(this.w());this.s=new sjcl.cipher.aes(this.a)},T:function(a){this.a=sjcl.hash.sha256.hash(this.a.concat(a));this.s=new sjcl.cipher.aes(this.a);for(a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}},U:function(a){var b=[],c=0,d;this.O=b[0]=(new Date).valueOf()+3E4;for(d=
0;d<16;d++)b.push(Math.random()*0x100000000|0);for(d=0;d<this.b.length;d++){b=b.concat(this.b[d].finalize());c+=this.j[d];this.j[d]=0;if(!a&&this.A&1<<d)break}if(this.A>=1<<this.b.length){this.b.push(new sjcl.hash.sha256);this.j.push(0)}this.f-=c;if(c>this.g)this.g=c;this.A++;this.T(b)},p:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},o:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},K:function(a,b){var c;a=sjcl.random.r[a];
var d=[];for(c in a)a.hasOwnProperty(c)&&d.push(a[c]);for(c=0;c<d.length;c++)d[c](b)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s);sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.c({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.c(f,c);c=f.adata;if(typeof f.salt==="string")f.salt=sjcl.codec.base64.toBits(f.salt);if(typeof f.iv==="string")f.iv=sjcl.codec.base64.toBits(f.iv);if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||typeof a==="string"&&f.iter<=100||f.ts!==64&&f.ts!==96&&f.ts!==128||f.ks!==128&&f.ks!==192&&f.ks!==0x100||f.iv.length<
2||f.iv.length>4)throw new sjcl.exception.invalid("json encrypt: invalid parameters");if(typeof a==="string"){g=sjcl.misc.cachedPbkdf2(a,f);a=g.key.slice(0,f.ks/32);f.salt=g.salt}if(typeof b==="string")b=sjcl.codec.utf8String.toBits(b);if(typeof c==="string")c=sjcl.codec.utf8String.toBits(c);g=new sjcl.cipher[f.cipher](a);e.c(d,f);d.key=a;f.ct=sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return e.encode(f)},decrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.c(e.c(e.c({},e.defaults),e.decode(b)),
c,true);var f;c=b.adata;if(typeof b.salt==="string")b.salt=sjcl.codec.base64.toBits(b.salt);if(typeof b.iv==="string")b.iv=sjcl.codec.base64.toBits(b.iv);if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||typeof a==="string"&&b.iter<=100||b.ts!==64&&b.ts!==96&&b.ts!==128||b.ks!==128&&b.ks!==192&&b.ks!==0x100||!b.iv||b.iv.length<2||b.iv.length>4)throw new sjcl.exception.invalid("json decrypt: invalid parameters");if(typeof a==="string"){f=sjcl.misc.cachedPbkdf2(a,b);a=f.key.slice(0,b.ks/32);b.salt=f.salt}if(typeof c===
"string")c=sjcl.codec.utf8String.toBits(c);f=new sjcl.cipher[b.cipher](a);c=sjcl.mode[b.mode].decrypt(f,b.ct,b.iv,c,b.ts);e.c(d,b);d.key=a;return sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");c+=d+'"'+b+'":';d=",";switch(typeof a[b]){case "number":case "boolean":c+=a[b];break;case "string":c+='"'+escape(a[b])+'"';break;case "object":c+='"'+
sjcl.codec.base64.fromBits(a[b],1)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");b[d[2]]=
d[3]?parseInt(d[3],10):d[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4])}return b},c:function(a,b,c){if(a===undefined)a={};if(b===undefined)return a;var d;for(d in b)if(b.hasOwnProperty(d)){if(c&&a[d]!==undefined&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},W:function(a,b){var c={},d;for(d in a)if(a.hasOwnProperty(d)&&a[d]!==b[d])c[d]=a[d];return c},V:function(a,b){var c={},d;for(d=0;d<b.length;d++)if(a[b[d]]!==undefined)c[b[d]]=
a[b[d]];return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.S={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.S,d;b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=b.salt===undefined?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};</script>
</div>
<!--~~ Boot kernel prologue ~~-->
<div id="bootKernelPrefix" style="display:none;">
<script data-tiddler-title="$:/boot/bootprefix.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/bootprefix.js
type: application/javascript

This file sets up the globals that need to be available when JavaScript modules are executed in the browser. The overall sequence is:

# BootPrefix.js
# <module definitions>
# Boot.js

See Boot.js for further details of the boot process.

\*/

var _bootprefix = (function($tw) {

"use strict";

$tw = $tw || Object.create(null);
$tw.boot = $tw.boot || Object.create(null);

// Detect platforms
$tw.browser = typeof(window) !== "undefined" ? {} : null;
$tw.node = typeof(process) === "object" ? {} : null;
$tw.nodeWebKit = $tw.node && global.window && global.window.nwDispatcher ? {} : null;

// Set default boot tasks
$tw.boot.tasks = {
	trapErrors: !!($tw.browser && !$tw.node),
	readBrowserTiddlers: !!($tw.browser && !$tw.node)
};

/*
Information about each module is kept in an object with these members:
	moduleType: type of module
	definition: object, function or string defining the module; see below
	exports: exports of the module, filled in after execution

The `definition` can be of several types:

* An object can be used to directly specify the exports of the module
* A function with the arguments `module,require,exports` that returns `exports`
* A string function body with the same arguments

Each moduleInfo object is stored in two hashmaps: $tw.modules.titles and $tw.modules.types. The first is indexed by title and the second is indexed by type and then title
*/
$tw.modules = {
	titles: {}, // hashmap by module name of moduleInfo
	types: {} // hashmap by module type and then name of moduleInfo
};

/*
Define a JavaScript tiddler module for later execution
	moduleName: name of module being defined
	moduleType: type of module
	definition: module definition; see discussion above
*/
$tw.modules.define = function(moduleName,moduleType,definition) {
	// Create the moduleInfo
	var moduleInfo = {
		moduleType: moduleType,
		definition: definition,
		exports: undefined
	};
	// If the definition is already an object we can use it as the exports
	if(typeof moduleInfo.definition === "object") {
		moduleInfo.exports = definition;
	}
	// Store the module in the titles hashmap
	if(Object.prototype.hasOwnProperty.call($tw.modules.titles,moduleName)) {
		console.log("Warning: Redefined module - " + moduleName);
	}
	$tw.modules.titles[moduleName] = moduleInfo;
	// Store the module in the types hashmap
	if(!Object.prototype.hasOwnProperty.call($tw.modules.types,moduleType)) {
		$tw.modules.types[moduleType] = {};
	}
	if(Object.prototype.hasOwnProperty.call($tw.modules.types[moduleType],moduleName)) {
		console.log("Warning: Redefined module - " + moduleName);
	}
	$tw.modules.types[moduleType][moduleName] = moduleInfo;
};

/*
External JavaScript can populate this array before calling boot.js in order to preload tiddlers
*/
$tw.preloadTiddlers = $tw.preloadTiddlers || [];

/*
Convenience function for pushing a tiddler onto the preloading array
*/
$tw.preloadTiddler = function(fields) {
	$tw.preloadTiddlers.push(fields);
};

return $tw

});

if(typeof(exports) === "undefined") {
	// Set up $tw global for the browser
	window.$tw = _bootprefix();
} else {
	// Export functionality as a module
	exports.bootprefix = _bootprefix;
}
</script>
</div>
<!--~~ Boot kernel ~~-->
<div id="bootKernel" style="display:none;">
<script data-tiddler-title="$:/boot/boot.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/boot.js
type: application/javascript

The main boot kernel for TiddlyWiki. This single file creates a barebones TW environment that is just sufficient to bootstrap the modules containing the main logic of the application.

On the server this file is executed directly to boot TiddlyWiki. In the browser, this file is packed into a single HTML file along with other elements:

# bootprefix.js
# <module definitions>
# boot.js

The module definitions on the browser look like this:

	$tw.defineModule("MyModule","moduletype",function(module,exports,require) {
	// Module code inserted here
	return exports;
	});

In practice, each module is wrapped in a separate script block.

\*/

var _boot = (function($tw) {

/*jslint node: true, browser: true */
/*global modules: false, $tw: false */
"use strict";

// Include bootprefix if we're not given module data
if(!$tw) {
	$tw = require("./bootprefix.js").bootprefix();
}

$tw.utils = $tw.utils || Object.create(null);

/////////////////////////// Standard node.js libraries

var fs, path, vm;
if($tw.node) {
	fs = require("fs");
	path = require("path");
	vm = require("vm");
}

/////////////////////////// Utility functions

$tw.boot.log = function(str) {
	$tw.boot.logMessages = $tw.boot.logMessages || [];
	$tw.boot.logMessages.push(str);
}

/*
Check if an object has a property
*/
$tw.utils.hop = function(object,property) {
	return object ? Object.prototype.hasOwnProperty.call(object,property) : false;
};

/*
Determine if a value is an array
*/
$tw.utils.isArray = function(value) {
	return Object.prototype.toString.call(value) == "[object Array]";
};

/*
Determine if a value is a date
*/
$tw.utils.isDate = function(value) {
	return Object.prototype.toString.call(value) === "[object Date]";
};

/*
Iterate through all the own properties of an object or array. Callback is invoked with (element,title,object)
*/
$tw.utils.each = function(object,callback) {
	var f;
	if(object) {
		if(Object.prototype.toString.call(object) == "[object Array]") {
			object.forEach(callback);
		} else {
			for(f in object) {
				if(Object.prototype.hasOwnProperty.call(object,f)) {
					callback(object[f],f,object);
				}
			}
		}
	}
};

/*
Helper for making DOM elements
tag: tag name
options: see below
Options include:
attributes: hashmap of attribute values
text: text to add as a child node
children: array of further child nodes
innerHTML: optional HTML for element
class: class name(s)
document: defaults to current document
eventListeners: array of event listeners (this option won't work until $tw.utils.addEventListeners() has been loaded)
*/
$tw.utils.domMaker = function(tag,options) {
	var doc = options.document || document;
	var element = doc.createElement(tag);
	if(options["class"]) {
		element.className = options["class"];
	}
	if(options.text) {
		element.appendChild(doc.createTextNode(options.text));
	}
	$tw.utils.each(options.children,function(child) {
		element.appendChild(child);
	});
	if(options.innerHTML) {
		element.innerHTML = options.innerHTML;
	}
	$tw.utils.each(options.attributes,function(attribute,name) {
		element.setAttribute(name,attribute);
	});
	if(options.eventListeners) {
		$tw.utils.addEventListeners(element,options.eventListeners);
	}
	return element;
};

/*
Display an error and exit
*/
$tw.utils.error = function(err) {
	// Prepare the error message
	var errHeading = "Internal JavaScript Error",
		promptMsg = "Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser";
	// Log the error to the console
	console.error(err);
	if($tw.browser && !$tw.node) {
		// Display an error message to the user
		var dm = $tw.utils.domMaker,
			heading = dm("h1",{text: errHeading}),
			prompt = dm("div",{text: promptMsg, "class": "tw-error-prompt"}),
			message = dm("div",{text: err}),
			button = dm("button",{text: "close"}),
			form = dm("form",{children: [heading,prompt,message,button], "class": "tw-error-form"});
		document.body.insertBefore(form,document.body.firstChild);
		form.addEventListener("submit",function(event) {
			document.body.removeChild(form);
			event.preventDefault();
			return false;
		},true);
		return null;
	} else if(!$tw.browser) {
		// Exit if we're under node.js
		process.exit(1);
	}
};

/*
Use our custom error handler if we're in the browser
*/
if($tw.boot.tasks.trapErrors) {
	window.onerror = function(errorMsg,url,lineNumber) {
		$tw.utils.error(errorMsg);
		return false;
	};
}

/*
Extend an object with the properties from a list of source objects
*/
$tw.utils.extend = function(object /*, sourceObjectList */) {
	$tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
		if(source) {
			for (var p in source) {
				object[p] = source[p];
			}
		}
	});
	return object;
};

/*
Fill in any null or undefined properties of an object with the properties from a list of source objects. Each property that is an object is called recursively
*/
$tw.utils.deepDefaults = function(object /*, sourceObjectList */) {
	$tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
		if(source) {
			for (var p in source) {
				if(object[p] === null || object[p] === undefined) {
					object[p] = source[p];
				}
				if(typeof object[p] === "object" && typeof source[p] === "object") {
					$tw.utils.deepDefaults(object[p],source[p]);
				}
			}
		}
	});
	return object;
};

/*
Convert "&amp;" to &, "&nbsp;" to nbsp, "&lt;" to <, "&gt;" to > and "&quot;" to "
*/
$tw.utils.htmlDecode = function(s) {
	return s.toString().replace(/&lt;/mg,"<").replace(/&nbsp;/mg,"\xA0").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

/*
Get the browser location.hash. We don't use location.hash because of the way that Firefox auto-urldecodes it (see http://stackoverflow.com/questions/1703552/encoding-of-window-location-hash)
*/
$tw.utils.getLocationHash = function() {
	var parts = window.location.href.split('#');
	return "#" + (parts.length > 1 ? parts[1] : "");
};

/*
Pad a string to a given length with "0"s. Length defaults to 2
*/
$tw.utils.pad = function(value,length) {
	length = length || 2;
	var s = value.toString();
	if(s.length < length) {
		s = "000000000000000000000000000".substr(0,length - s.length) + s;
	}
	return s;
};

// Convert a date into UTC YYYYMMDDHHMMSSmmm format
$tw.utils.stringifyDate = function(value) {
	return value.getUTCFullYear() +
			$tw.utils.pad(value.getUTCMonth() + 1) +
			$tw.utils.pad(value.getUTCDate()) +
			$tw.utils.pad(value.getUTCHours()) +
			$tw.utils.pad(value.getUTCMinutes()) +
			$tw.utils.pad(value.getUTCSeconds()) +
			$tw.utils.pad(value.getUTCMilliseconds(),3);
};

// Parse a date from a UTC YYYYMMDDHHMMSSmmm format string
$tw.utils.parseDate = function(value) {
	if(typeof value === "string") {
		return new Date(Date.UTC(parseInt(value.substr(0,4),10),
				parseInt(value.substr(4,2),10)-1,
				parseInt(value.substr(6,2),10),
				parseInt(value.substr(8,2)||"00",10),
				parseInt(value.substr(10,2)||"00",10),
				parseInt(value.substr(12,2)||"00",10),
				parseInt(value.substr(14,3)||"000",10)));
	} else if($tw.utils.isDate(value)) {
		return value;
	} else {
		return null;
	}
};

// Stringify an array of tiddler titles into a list string
$tw.utils.stringifyList = function(value) {
	var result = [];
	for(var t=0; t<value.length; t++) {
		if(value[t].indexOf(" ") !== -1) {
			result.push("[[" + value[t] + "]]");
		} else {
			result.push(value[t]);
		}
	}
	return result.join(" ");
};

// Parse a string array from a bracketted list. For example "OneTiddler [[Another Tiddler]] LastOne"
$tw.utils.parseStringArray = function(value) {
	if(typeof value === "string") {
		var memberRegExp = /(?:^|[^\S\xA0])(?:\[\[(.*?)\]\])(?=[^\S\xA0]|$)|([\S\xA0]+)/mg,
			results = [],
			match;
		do {
			match = memberRegExp.exec(value);
			if(match) {
				var item = match[1] || match[2];
				if(item !== undefined && results.indexOf(item) === -1) {
					results.push(item);
				}
			}
		} while(match);
		return results;
	} else if($tw.utils.isArray(value)) {
		return value;
	} else {
		return null;
	}
};

// Parse a block of name:value fields. The `fields` object is used as the basis for the return value
$tw.utils.parseFields = function(text,fields) {
	fields = fields || Object.create(null);
	text.split(/\r?\n/mg).forEach(function(line) {
		if(line.charAt(0) !== "#") {
			var p = line.indexOf(":");
			if(p !== -1) {
				var field = line.substr(0, p).trim(),
					value = line.substr(p+1).trim();
				fields[field] = value;
			}
		}
	});
	return fields;
};

/*
Resolves a source filepath delimited with `/` relative to a specified absolute root filepath.
In relative paths, the special folder name `..` refers to immediate parent directory, and the
name `.` refers to the current directory
*/
$tw.utils.resolvePath = function(sourcepath,rootpath) {
	// If the source path starts with ./ or ../ then it is relative to the root
	if(sourcepath.substr(0,2) === "./" || sourcepath.substr(0,3) === "../" ) {
		var src = sourcepath.split("/"),
			root = rootpath.split("/");
		// Remove the filename part of the root
		root.splice(root.length-1,1);
		// Process the source path bit by bit onto the end of the root path
		while(src.length > 0) {
			var c = src.shift();
			if(c === "..") { // Slice off the last root entry for a double dot
				if(root.length > 0) {
					root.splice(root.length-1,1);
				}
			} else if(c !== ".") { // Ignore dots
				root.push(c); // Copy other elements across
			}
		}
		return root.join("/");
	} else {
		// If it isn't relative, just return the path
		if(rootpath) {
			var root = rootpath.split("/");
			// Remove the filename part of the root
			root.splice(root.length - 1, 1);
			return root.join("/") + "/" + sourcepath;
		} else {
			return sourcepath;
		}
	}
};

/*
Parse a semantic version string into its constituent parts
*/
$tw.utils.parseVersion = function(version) {
	var match = /^((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?$/.exec(version);
	if(match) {
		return {
			version: match[1],
			major: parseInt(match[2],10),
			minor: parseInt(match[3],10),
			patch: parseInt(match[4],10),
			prerelease: match[5],
			build: match[6]
		};
	} else {
		return null;
	}
};

/*
Returns true if the version string A is greater than the version string B. Returns true if the versions are the same
*/
$tw.utils.checkVersions = function(versionStringA,versionStringB) {
	var defaultVersion = {
			major: 0,
			minor: 0,
			patch: 0
		},
		versionA = $tw.utils.parseVersion(versionStringA) || defaultVersion,
		versionB = $tw.utils.parseVersion(versionStringB) || defaultVersion,
		diff = [
			versionA.major - versionB.major,
			versionA.minor - versionB.minor,
			versionA.patch - versionB.patch
		];
	return (diff[0] > 0) ||
		(diff[0] === 0 && diff[1] > 0) ||
		(diff[0] === 0 && diff[1] === 0 && diff[2] > 0) ||
		(diff[0] === 0 && diff[1] === 0 && diff[2] === 0);
};

/*
Register file type information
options: {flags: flags,deserializerType: deserializerType}
	flags:"image" for image types
	deserializerType: defaults to type if not specified
*/
$tw.utils.registerFileType = function(type,encoding,extension,options) {
	options = options || {};
	$tw.config.fileExtensionInfo[extension] = {type: type};
	$tw.config.contentTypeInfo[type] = {encoding: encoding, extension: extension, flags: options.flags || [], deserializerType: options.deserializerType || type};
};

/*
Given an extension, get the correct encoding for that file.
defaults to utf8
*/
$tw.utils.getTypeEncoding = function(ext) {
	var extensionInfo = $tw.config.fileExtensionInfo[ext],
		type = extensionInfo ? extensionInfo.type : null,
		typeInfo = type ? $tw.config.contentTypeInfo[type] : null;
	return typeInfo ? typeInfo.encoding : "utf8";
};

/*
Run code globally with specified context variables in scope
*/
$tw.utils.evalGlobal = function(code,context,filename) {
	var contextCopy = $tw.utils.extend(Object.create(null),context);
	// Get the context variables as a pair of arrays of names and values
	var contextNames = [], contextValues = [];
	$tw.utils.each(contextCopy,function(value,name) {
		contextNames.push(name);
		contextValues.push(value);
	});
	// Add the code prologue and epilogue
	code = "(function(" + contextNames.join(",") + ") {(function(){\n" + code + ";})();\nreturn exports;\n})\n";
	// Compile the code into a function
	var fn;
	if($tw.browser) {
		fn = window["eval"](code + "\n\n//# sourceURL=" + filename);
	} else {
		fn = vm.runInThisContext(code,filename);
	}
	// Call the function and return the exports
	return fn.apply(null,contextValues);
};

/*
Run code in a sandbox with only the specified context variables in scope
*/
$tw.utils.evalSandboxed = $tw.browser ? $tw.utils.evalGlobal : function(code,context,filename) {
	var sandbox = $tw.utils.extend(Object.create(null),context);
	vm.runInNewContext(code,sandbox,filename);
	return sandbox.exports;
};

/*
Creates a PasswordPrompt object
*/
$tw.utils.PasswordPrompt = function() {
	// Store of pending password prompts
	this.passwordPrompts = [];
	// Create the wrapper
	this.promptWrapper = $tw.utils.domMaker("div",{"class":"tw-password-wrapper"});
	document.body.appendChild(this.promptWrapper);
	// Hide the empty wrapper
	this.setWrapperDisplay();
};

/*
Hides or shows the wrapper depending on whether there are any outstanding prompts
*/
$tw.utils.PasswordPrompt.prototype.setWrapperDisplay = function() {
	if(this.passwordPrompts.length) {
		this.promptWrapper.style.display = "block";
	} else {
		this.promptWrapper.style.display = "none";
	}
};

/*
Adds a new password prompt. Options are:
submitText: text to use for submit button (defaults to "Login")
serviceName: text of the human readable service name
noUserName: set true to disable username prompt
canCancel: set true to enable a cancel button (callback called with null)
callback: function to be called on submission with parameter of object {username:,password:}. Callback must return `true` to remove the password prompt
*/
$tw.utils.PasswordPrompt.prototype.createPrompt = function(options) {
	// Create and add the prompt to the DOM
	var self = this,
		submitText = options.submitText || "Login",
		dm = $tw.utils.domMaker,
		children = [dm("h1",{text: options.serviceName})];
	if(!options.noUserName) {
		children.push(dm("input",{
			attributes: {type: "text", name: "username", placeholder: "Username"},
			"class": "input-small"
		}));
	}
	children.push(dm("input",{
		attributes: {type: "password", name: "password", placeholder: "Password"},
		"class": "input-small"
	}));
	if(options.canCancel) {
		children.push(dm("button",{
			text: "Cancel",
			"class": "btn",
			eventListeners: [{
					name: "click",
					handlerFunction: function(event) {
						self.removePrompt(promptInfo);
						options.callback(null);
					}
				}]
		}));
	}
	children.push(dm("button",{
		attributes: {type: "submit"},
		text: submitText,
		"class": "btn"
	}));
	var form = dm("form",{
		"class": "form-inline",
		attributes: {autocomplete: "off"},
		children: children
	});
	this.promptWrapper.appendChild(form);
	window.setTimeout(function() {
		form.elements[0].focus();
	},10);
	// Add a submit event handler
	var self = this;
	form.addEventListener("submit",function(event) {
		// Collect the form data
		var data = {},t;
		$tw.utils.each(form.elements,function(element) {
			if(element.name && element.value) {
				data[element.name] = element.value;
			}
		});
		// Call the callback
		if(options.callback(data)) {
			// Remove the prompt if the callback returned true
			self.removePrompt(promptInfo);
		} else {
			// Clear the password if the callback returned false
			$tw.utils.each(form.elements,function(element) {
				if(element.name === "password") {
					element.value = "";
				}
			});
		}
		event.preventDefault();
		return false;
	},true);
	// Add the prompt to the list
	var promptInfo = {
		serviceName: options.serviceName,
		callback: options.callback,
		form: form
	};
	this.passwordPrompts.push(promptInfo);
	// Make sure the wrapper is displayed
	this.setWrapperDisplay();
};

$tw.utils.PasswordPrompt.prototype.removePrompt = function(promptInfo) {
	var i = this.passwordPrompts.indexOf(promptInfo);
	if(i !== -1) {
		this.passwordPrompts.splice(i,1);
		promptInfo.form.parentNode.removeChild(promptInfo.form);
		this.setWrapperDisplay();
	}
}

/*
Crypto helper object for encrypted content. It maintains the password text in a closure, and provides methods to change
the password, and to encrypt/decrypt a block of text
*/
$tw.utils.Crypto = function() {
	var sjcl = $tw.node ? require("./sjcl.js") : window.sjcl,
		currentPassword = null,
		callSjcl = function(method,inputText,password) {
			password = password || currentPassword;
			var outputText;
			try {
				if(password) {
					outputText = sjcl[method](password,inputText);
				}
			} catch(ex) {
				console.log("Crypto error:" + ex);
				outputText = null;
			}
			return outputText;
		};
	this.setPassword = function(newPassword) {
		currentPassword = newPassword;
		this.updateCryptoStateTiddler();
	};
	this.updateCryptoStateTiddler = function() {
		if($tw.wiki) {
			var state = currentPassword ? "yes" : "no",
				tiddler = $tw.wiki.getTiddler("$:/isEncrypted");
			if(!tiddler || tiddler.fields.text !== state) {
				$tw.wiki.addTiddler(new $tw.Tiddler({title: "$:/isEncrypted", text: state}));
			}
		}
	};
	this.hasPassword = function() {
		return !!currentPassword;
	}
	this.encrypt = function(text,password) {
		return callSjcl("encrypt",text,password);
	};
	this.decrypt = function(text,password) {
		return callSjcl("decrypt",text,password);
	};
};

/////////////////////////// Module mechanism

/*
Execute the module named 'moduleName'. The name can optionally be relative to the module named 'moduleRoot'
*/
$tw.modules.execute = function(moduleName,moduleRoot) {
	var name = moduleName[0] === "." ? $tw.utils.resolvePath(moduleName,moduleRoot) : moduleName,
		moduleInfo = $tw.modules.titles[name] || $tw.modules.titles[name + ".js"] || $tw.modules.titles[moduleName] || $tw.modules.titles[moduleName + ".js"] ,
		tiddler = $tw.wiki.getTiddler(name) || $tw.wiki.getTiddler(name + ".js") || $tw.wiki.getTiddler(moduleName) || $tw.wiki.getTiddler(moduleName + ".js") ,
		_exports = {},
		sandbox = {
			module: {},
			//moduleInfo: moduleInfo,
			exports: _exports,
			console: console,
			setInterval: setInterval,
			clearInterval: clearInterval,
			setTimeout: setTimeout,
			clearTimeout: clearTimeout,
			Buffer: $tw.browser ? {} : Buffer,
			$tw: $tw,
			require: function(title) {
				return $tw.modules.execute(title, name);
			}
		};

	Object.defineProperty(sandbox.module, "id", {
		value: name,
		writable: false,
		enumerable: true,
		configurable: false
	});

	if(!$tw.browser) {
		$tw.utils.extend(sandbox,{
			process: process
		});
	} else {
		/*
		CommonJS optional require.main property:
		 In a browser we offer a fake main module which points back to the boot function
		 (Theoretically, this may allow TW to eventually load itself as a module in the browser)
		*/
		Object.defineProperty(sandbox.require, "main", {
			value: (typeof(require) !== "undefined") ? require.main : {TiddlyWiki: _boot},
			writable: false,
			enumerable: true,
			configurable: false
		});
	}
	if(!moduleInfo) {
		// We could not find the module on this path
		// Try to defer to browserify etc, or node
		var deferredModule;
		if($tw.browser) {
			if(window.require) {
				try {
					return window.require(moduleName);
				} catch(e) {}
			}
			throw "Cannot find module named '" + moduleName + "' required by module '" + moduleRoot + "', resolved to " + name;
		} else {
			// If we don't have a module with that name, let node.js try to find it
			return require(moduleName);
		}
	}
	// Execute the module if we haven't already done so
	if(!moduleInfo.exports) {
		try {
			// Check the type of the definition
			if(typeof moduleInfo.definition === "function") { // Function
				moduleInfo.exports = _exports;
				moduleInfo.definition(moduleInfo,moduleInfo.exports,sandbox.require);
			} else if(typeof moduleInfo.definition === "string") { // String
				moduleInfo.exports = _exports;
				$tw.utils.evalSandboxed(moduleInfo.definition,sandbox,tiddler.fields.title);
				if(sandbox.module.exports) {
					moduleInfo.exports = sandbox.module.exports; //more codemirror workaround
				}
			} else { // Object
				moduleInfo.exports = moduleInfo.definition;
			}
		} catch(e) {
			$tw.utils.error("Error executing boot module " + name + ":\n" + e);
		}
	}
	// Return the exports of the module
	return moduleInfo.exports;
};

/*
Apply a callback to each module of a particular type
	moduleType: type of modules to enumerate
	callback: function called as callback(title,moduleExports) for each module
*/
$tw.modules.forEachModuleOfType = function(moduleType,callback) {
	var modules = $tw.modules.types[moduleType];
	$tw.utils.each(modules,function(element,title) {
		callback(title,$tw.modules.execute(title));
	});
};

/*
Get all the modules of a particular type in a hashmap by their `name` field
*/
$tw.modules.getModulesByTypeAsHashmap = function(moduleType,nameField) {
	nameField = nameField || "name";
	var results = Object.create(null);
	$tw.modules.forEachModuleOfType(moduleType,function(title,module) {
		results[module[nameField]] = module;
	});
	return results;
};

/*
Apply the exports of the modules of a particular type to a target object
*/
$tw.modules.applyMethods = function(moduleType,targetObject) {
	if(!targetObject) {
		targetObject = Object.create(null);
	}
	$tw.modules.forEachModuleOfType(moduleType,function(title,module) {
		$tw.utils.each(module,function(element,title,object) {
			targetObject[title] = module[title];
		});
	});
	return targetObject;
};

/*
Return an array of classes created from the modules of a specified type. Each module should export the properties to be added to those of the optional base class
*/
$tw.modules.createClassesFromModules = function(moduleType,subType,baseClass) {
	var classes = Object.create(null);
	$tw.modules.forEachModuleOfType(moduleType,function(title,moduleExports) {
		if(!subType || moduleExports.types[subType]) {
			var newClass = function() {};
			if(baseClass) {
				newClass.prototype = new baseClass();
				newClass.prototype.constructor = baseClass;
			}
			$tw.utils.extend(newClass.prototype,moduleExports);
			classes[moduleExports.name] = newClass;
		}
	});
	return classes;
};

/////////////////////////// Barebones tiddler object

/*
Construct a tiddler object from a hashmap of tiddler fields. If multiple hasmaps are provided they are merged,
taking precedence to the right
*/
$tw.Tiddler = function(/* [fields,] fields */) {
	this.fields = Object.create(null);
	for(var c=0; c<arguments.length; c++) {
		var arg = arguments[c],
			src = (arg instanceof $tw.Tiddler) ? arg.fields : arg;
		for(var t in src) {
			if(src[t] === undefined || src[t] === null) {
				if(t in this.fields) {
					delete this.fields[t]; // If we get a field that's undefined, delete any previous field value
				}
			} else {
				// Parse the field with the associated field module (if any)
				var fieldModule = $tw.Tiddler.fieldModules[t],
					value;
				if(fieldModule && fieldModule.parse) {
					value = fieldModule.parse.call(this,src[t]);
				} else {
					value = src[t];
				}
				// Freeze the field to keep it immutable
				if(typeof value === "object") {
					Object.freeze(value);
				}
				this.fields[t] = value;
			}
		}
	}
	// Freeze the tiddler against modification
	Object.freeze(this.fields);
};

$tw.Tiddler.prototype.hasField = function(field) {
	return $tw.utils.hop(this.fields,field);
};

/*
Register and install the built in tiddler field modules
*/
$tw.modules.define("$:/boot/tiddlerfields/modified","tiddlerfield",{
	name: "modified",
	parse: $tw.utils.parseDate,
	stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/created","tiddlerfield",{
	name: "created",
	parse: $tw.utils.parseDate,
	stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/color","tiddlerfield",{
	name: "color",
	editTag: "input",
	editType: "color"
});
$tw.modules.define("$:/boot/tiddlerfields/tags","tiddlerfield",{
	name: "tags",
	parse: $tw.utils.parseStringArray,
	stringify: $tw.utils.stringifyList
});
$tw.modules.define("$:/boot/tiddlerfields/list","tiddlerfield",{
	name: "list",
	parse: $tw.utils.parseStringArray,
	stringify: $tw.utils.stringifyList
});

/////////////////////////// Barebones wiki store

/*
Wiki constructor. State is stored in private members that only a small number of privileged accessor methods have direct access. Methods added via the prototype have to use these accessors and cannot access the state data directly.
options include:
shadowTiddlers: Array of shadow tiddlers to be added
*/
$tw.Wiki = function(options) {
	options = options || {};
	var self = this,
		tiddlers = Object.create(null), // Hashmap of tiddlers
		pluginTiddlers = [], // Array of tiddlers containing registered plugins, ordered by priority
		pluginInfo = Object.create(null), // Hashmap of parsed plugin content
		shadowTiddlers = options.shadowTiddlers || Object.create(null); // Hashmap by title of {source:, tiddler:}

	// Add a tiddler to the store
	this.addTiddler = function(tiddler) {
		if(!(tiddler instanceof $tw.Tiddler)) {
			tiddler = new $tw.Tiddler(tiddler);
		}
		// Save the tiddler
		if(tiddler) {
			var title = tiddler.fields.title;
			if(title) {
				tiddlers[title] = tiddler;
				this.clearCache(title);
				this.clearGlobalCache();
				this.enqueueTiddlerEvent(title);
			}
		}
	};

	// Delete a tiddler
	this.deleteTiddler = function(title) {
		delete tiddlers[title];
		this.clearCache(title);
		this.clearGlobalCache();
		this.enqueueTiddlerEvent(title,true);
	};

	// Get a tiddler from the store
	this.getTiddler = function(title) {
		var t = tiddlers[title];
		if(t instanceof $tw.Tiddler) {
			return t;
		} else if(title !== undefined && Object.prototype.hasOwnProperty.call(shadowTiddlers,title)) {
			return shadowTiddlers[title].tiddler;
		} else {
			return undefined;
		}
	};

	// Get an array of all tiddler titles
	this.allTitles = function() {
		return Object.keys(tiddlers);
	};

	// Iterate through all tiddler titles
	this.each = function(callback) {
		for(var title in tiddlers) {
			callback(tiddlers[title],title);
		}
	};

	// Get an array of all shadow tiddler titles
	this.allShadowTitles = function() {
		return Object.keys(shadowTiddlers);
	};

	// Iterate through all shadow tiddler titles
	this.eachShadow = function(callback) {
		for(var title in shadowTiddlers) {
			var shadowInfo = shadowTiddlers[title];
			callback(shadowInfo.tiddler,title);
		}
	};

	// Iterate through all tiddlers and then the shadows
	this.eachTiddlerPlusShadows = function(callback) {
		for(var title in tiddlers) {
			callback(tiddlers[title],title);
		}
		for(var title in shadowTiddlers) {
			if(!Object.prototype.hasOwnProperty.call(tiddlers,title)) {
				var shadowInfo = shadowTiddlers[title];
				callback(shadowInfo.tiddler,title);
			}
		}
	};

	// Iterate through all the shadows and then the tiddlers
	this.eachShadowPlusTiddlers = function(callback) {
		for(var title in shadowTiddlers) {
			if(Object.prototype.hasOwnProperty.call(tiddlers,title)) {
				callback(tiddlers[title],title);
			} else {
				var shadowInfo = shadowTiddlers[title];
				callback(shadowInfo.tiddler,title);
			}
		}
		for(var title in tiddlers) {
			if(!Object.prototype.hasOwnProperty.call(shadowTiddlers,title)) {
				callback(tiddlers[title],title);
			}
		}

	};

	// Test for the existence of a tiddler
	this.tiddlerExists = function(title) {
		return !!$tw.utils.hop(tiddlers,title);
	};

	// Determines if a tiddler is a shadow tiddler, regardless of whether it has been overridden by a real tiddler
	this.isShadowTiddler = function(title) {
		return $tw.utils.hop(shadowTiddlers,title);
	};

	this.getShadowSource = function(title) {
		if($tw.utils.hop(shadowTiddlers,title)) {
			return shadowTiddlers[title].source;
		}
		return null;
	};

	// Read plugin info for all plugins
	this.readPluginInfo = function() {
		for(var title in tiddlers) {
			var tiddler = tiddlers[title];
			if(tiddler.fields.type === "application/json" && tiddler.hasField("plugin-type")) {
				pluginInfo[tiddler.fields.title] = JSON.parse(tiddler.fields.text);
			}

		}
	};

	// Get plugin info for a plugin
	this.getPluginInfo = function(title) {
		return pluginInfo[title];
	};

	// Register the plugin tiddlers of a particular type, optionally restricting registration to an array of tiddler titles. Return the array of titles affected
	this.registerPluginTiddlers = function(pluginType,titles) {
		var self = this,
			registeredTitles = [],
			checkTiddler = function(tiddler) {
				if(tiddler && tiddler.fields.type === "application/json" && tiddler.fields["plugin-type"] === pluginType) {
					pluginTiddlers.push(tiddler);
					registeredTitles.push(tiddler.fields.title);
				}
			};
		if(titles) {
			$tw.utils.each(titles,function(title) {
				checkTiddler(self.getTiddler(title));
			});
		} else {
			this.each(function(tiddler,title) {
				checkTiddler(tiddler);
			});
		}
		return registeredTitles;
	};

	// Unregister the plugin tiddlers of a particular type, returning an array of the titles affected
	this.unregisterPluginTiddlers = function(pluginType) {
		var self = this,
			titles = [];
		// Remove any previous registered plugins of this type
		for(var t=pluginTiddlers.length-1; t>=0; t--) {
			var tiddler = pluginTiddlers[t];
			if(tiddler.fields["plugin-type"] === pluginType) {
				titles.push(tiddler.fields.title);
				pluginTiddlers.splice(t,1);
			}
		}
		return titles;
	};

	// Unpack the currently registered plugins, creating shadow tiddlers for their constituent tiddlers
	this.unpackPluginTiddlers = function() {
		var self = this;
		// Sort the plugin titles by the `plugin-priority` field
		pluginTiddlers.sort(function(a,b) {
			if("plugin-priority" in a.fields && "plugin-priority" in b.fields) {
				return a.fields["plugin-priority"] - b.fields["plugin-priority"];
			} else if("plugin-priority" in a.fields) {
				return -1;
			} else if("plugin-priority" in b.fields) {
				return +1;
			} else if(a.fields.title < b.fields.title) {
				return -1;
			} else if(a.fields.title === b.fields.title) {
				return 0;
			} else {
				return +1;
			}
		});
		// Now go through the plugins in ascending order and assign the shadows
		shadowTiddlers = Object.create(null);
		$tw.utils.each(pluginTiddlers,function(tiddler) {
			// Extract the constituent tiddlers
			if($tw.utils.hop(pluginInfo,tiddler.fields.title)) {
				$tw.utils.each(pluginInfo[tiddler.fields.title].tiddlers,function(constituentTiddler,constituentTitle) {
					// Save the tiddler object
					if(constituentTitle) {
						shadowTiddlers[constituentTitle] = {
							source: tiddler.fields.title,
							tiddler: new $tw.Tiddler(constituentTiddler,{title: constituentTitle})
						};
					}
				});
			}
		});
	};

};

// Dummy methods that will be filled in after boot
$tw.Wiki.prototype.clearCache =
$tw.Wiki.prototype.clearGlobalCache =
$tw.Wiki.prototype.enqueueTiddlerEvent = function() {};

// Add an array of tiddlers
$tw.Wiki.prototype.addTiddlers = function(tiddlers) {
	for(var t=0; t<tiddlers.length; t++) {
		this.addTiddler(tiddlers[t]);
	}
};

/*
Define all modules stored in ordinary tiddlers
*/
$tw.Wiki.prototype.defineTiddlerModules = function() {
	this.each(function(tiddler,title) {
		if(tiddler.hasField("module-type")) {
			switch (tiddler.fields.type) {
				case "application/javascript":
					// We only define modules that haven't already been defined, because in the browser modules in system tiddlers are defined in inline script
					if(!$tw.utils.hop($tw.modules.titles,tiddler.fields.title)) {
						$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
					}
					break;
				case "application/json":
					$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],JSON.parse(tiddler.fields.text));
					break;
				case "application/x-tiddler-dictionary":
					$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],$tw.utils.parseFields(tiddler.fields.text));
					break;
			}
		}
	});
};

/*
Register all the module tiddlers that have a module type
*/
$tw.Wiki.prototype.defineShadowModules = function() {
	var self = this;
	this.eachShadow(function(tiddler,title) {
		// Don't define the module if it is overidden by an ordinary tiddler
		if(!self.tiddlerExists(title) && tiddler.hasField("module-type")) {
			// Define the module
			$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
		}
	});
};

/*
Enable safe mode by deleting any tiddlers that override a shadow tiddler
*/
$tw.Wiki.prototype.processSafeMode = function() {
	var self = this,
		overrides = [];
	// Find the overriding tiddlers
	this.each(function(tiddler,title) {
		if(self.isShadowTiddler(title)) {
			console.log(title);
			overrides.push(title);
		}
	});
	// Assemble a report tiddler
	var titleReportTiddler = "TiddlyWiki Safe Mode",
		report = [];
	report.push("TiddlyWiki has been started in [[safe mode|http://tiddlywiki.com/static/SafeMode.html]]. Most customisations have been disabled by renaming the following tiddlers:")
	// Delete the overrides
	overrides.forEach(function(title) {
		var tiddler = self.getTiddler(title),
			newTitle = "SAFE: " + title;
		self.deleteTiddler(title);
		self.addTiddler(new $tw.Tiddler(tiddler, {title: newTitle}));
		report.push("* [[" + title + "|" + newTitle + "]]");
	});
	report.push()
	this.addTiddler(new $tw.Tiddler({title: titleReportTiddler, text: report.join("\n\n")}));
	// Set $:/DefaultTiddlers to point to our report
	this.addTiddler(new $tw.Tiddler({title: "$:/DefaultTiddlers", text: "[[" + titleReportTiddler + "]]"}));
};

/*
Extracts tiddlers from a typed block of text, specifying default field values
*/
$tw.Wiki.prototype.deserializeTiddlers = function(type,text,srcFields) {
	srcFields = srcFields || Object.create(null);
	var deserializer = $tw.Wiki.tiddlerDeserializerModules[type],
		fields = Object.create(null);
	if(!deserializer && $tw.config.fileExtensionInfo[type]) {
		// If we didn't find the serializer, try converting it from an extension to a content type
		type = $tw.config.fileExtensionInfo[type].type;
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer && $tw.config.contentTypeInfo[type]) {
		// see if this type has a different deserializer registered with it
		type = $tw.config.contentTypeInfo[type].deserializerType;
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer) {
		// If we still don't have a deserializer, treat it as plain text
		deserializer = $tw.Wiki.tiddlerDeserializerModules["text/plain"];
	}
	for(var f in srcFields) {
		fields[f] = srcFields[f];
	}
	if(deserializer) {
		return deserializer.call(this,text,fields,type);
	} else {
		// Return a raw tiddler for unknown types
		fields.text = text;
		return [fields];
	}
};

/*
Register the built in tiddler deserializer modules
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/js","tiddlerdeserializer",{
	"application/javascript": function(text,fields) {
		var headerCommentRegExp = new RegExp($tw.config.jsModuleHeaderRegExpString,"mg"),
			match = headerCommentRegExp.exec(text);
		fields.text = text;
		if(match) {
			fields = $tw.utils.parseFields(match[1].split(/\r?\n\r?\n/mg)[0],fields);
		}
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tid","tiddlerdeserializer",{
	"application/x-tiddler": function(text,fields) {
		var split = text.split(/\r?\n\r?\n/mg);
		if(split.length >= 1) {
			fields = $tw.utils.parseFields(split[0],fields);
		}
		if(split.length >= 2) {
			fields.text = split.slice(1).join("\n\n");
		}
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tids","tiddlerdeserializer",{
	"application/x-tiddlers": function(text,fields) {
		var titles = [],
			tiddlers = [],
			match = /\r?\n\r?\n/mg.exec(text);
		if(match) {
			fields = $tw.utils.parseFields(text.substr(0,match.index),fields);
			var lines = text.substr(match.index + match[0].length).split(/\r?\n/mg);
			for(var t=0; t<lines.length; t++) {
				var line = lines[t];
				if(line.charAt(0) !== "#") {
					var colonPos= line.indexOf(": ");
					if(colonPos !== -1) {
						var tiddler = $tw.utils.extend(Object.create(null),fields);
						tiddler.title = (tiddler.title || "") + line.substr(0,colonPos);
						if(titles.indexOf(tiddler.title) !== -1) {
							console.log("Warning: .multids file contains multiple definitions for " + tiddler.title);
						}
						titles.push(tiddler.title);
						tiddler.text = line.substr(colonPos + 2);
						tiddlers.push(tiddler);
					}
				}
			}
		}
		return tiddlers;
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/txt","tiddlerdeserializer",{
	"text/plain": function(text,fields,type) {
		fields.text = text;
		fields.type = type || "text/plain";
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/html","tiddlerdeserializer",{
	"text/html": function(text,fields) {
		fields.text = text;
		fields.type = "text/html";
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/json","tiddlerdeserializer",{
	"application/json": function(text,fields) {
		var tiddlers = JSON.parse(text);
		return tiddlers;
	}
});

/////////////////////////// Browser definitions

if($tw.browser && !$tw.node) {

/*
Decrypt any tiddlers stored within the element with the ID "encryptedArea". The function is asynchronous to allow the user to be prompted for a password
	callback: function to be called the decryption is complete
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
	var encryptedArea = document.getElementById("encryptedStoreArea");
	if(encryptedArea) {
		var encryptedText = encryptedArea.innerHTML;
		// Prompt for the password
		$tw.passwordPrompt.createPrompt({
			serviceName: "Enter a password to decrypt this TiddlyWiki",
			noUserName: true,
			submitText: "Decrypt",
			callback: function(data) {
				// Attempt to decrypt the tiddlers
				$tw.crypto.setPassword(data.password);
				var decryptedText = $tw.crypto.decrypt(encryptedText);
				if(decryptedText) {
					var json = JSON.parse(decryptedText);
					for(var title in json) {
						$tw.preloadTiddler(json[title]);
					}
					// Call the callback
					callback();
					// Exit and remove the password prompt
					return true;
				} else {
					// We didn't decrypt everything, so continue to prompt for password
					return false;
				}
			}
		});
	} else {
		// Just invoke the callback straight away if there weren't any encrypted tiddlers
		callback();
	}
};

/*
Register a deserializer that can extract tiddlers from the DOM
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/dom","tiddlerdeserializer",{
	"(DOM)": function(node) {
		var extractTextTiddlers = function(node) {
				var e = node.firstChild;
				while(e && e.nodeName.toLowerCase() !== "pre") {
					e = e.nextSibling;
				}
				var title = node.getAttribute ? node.getAttribute("title") : null;
				if(e && title) {
					var attrs = node.attributes,
						tiddler = {
							text: $tw.utils.htmlDecode(e.innerHTML)
						};
					for(var i=attrs.length-1; i >= 0; i--) {
						tiddler[attrs[i].name] = attrs[i].value;
					}
					return [tiddler];
				} else {
					return null;
				}
			},
			extractModuleTiddlers = function(node) {
				if(node.hasAttribute && node.hasAttribute("data-tiddler-title")) {
					var text = node.innerHTML,
						s = text.indexOf("{"),
						e = text.lastIndexOf("}");
					if(node.hasAttribute("data-module") && s !== -1 && e !== -1) {
						text = text.substring(s+1,e);
					}
					var fields = {text: text},
						attributes = node.attributes;
					for(var a=0; a<attributes.length; a++) {
						if(attributes[a].nodeName.substr(0,13) === "data-tiddler-") {
							fields[attributes[a].nodeName.substr(13)] = attributes[a].value;
						}
					}
					return [fields];
				} else {
					return null;
				}
			},
			t,result = [];
		if(node) {
			for(t = 0; t < node.childNodes.length; t++) {
					var childNode = node.childNodes[t],
						tiddlers = extractTextTiddlers(childNode);
					tiddlers = tiddlers || extractModuleTiddlers(childNode);
					if(tiddlers) {
						result.push.apply(result,tiddlers);
					}
			}
		}
		return result;
	}
});

$tw.loadTiddlersBrowser = function() {
	// In the browser, we load tiddlers from certain elements
	var containerIds = [
		"libraryModules",
		"modules",
		"bootKernelPrefix",
		"bootKernel",
		"styleArea",
		"storeArea",
		"systemArea"
	];
	for(var t=0; t<containerIds.length; t++) {
		$tw.wiki.addTiddlers($tw.wiki.deserializeTiddlers("(DOM)",document.getElementById(containerIds[t])));
	}
	// Load any preloaded tiddlers
	if($tw.preloadTiddlers) {
		$tw.wiki.addTiddlers($tw.preloadTiddlers);
	}
};

} else {

/////////////////////////// Server definitions

/*
Get any encrypted tiddlers
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
	// Storing encrypted tiddlers on the server isn't supported yet
	callback();
};

} // End of if($tw.browser && !$tw.node)

/////////////////////////// Node definitions

if($tw.node) {

/*
Load the tiddlers contained in a particular file (and optionally extract fields from the accompanying .meta file) returned as {filepath:,type:,tiddlers:[],hasMetaFile:}
*/
$tw.loadTiddlersFromFile = function(filepath,fields) {
	var ext = path.extname(filepath),
		extensionInfo = $tw.config.fileExtensionInfo[ext],
		type = extensionInfo ? extensionInfo.type : null,
		typeInfo = type ? $tw.config.contentTypeInfo[type] : null,
		data = fs.readFileSync(filepath,typeInfo ? typeInfo.encoding : "utf8"),
		tiddlers = $tw.wiki.deserializeTiddlers(ext,data,fields),
		metafile = filepath + ".meta",
		metadata;
	if(ext !== ".json" && tiddlers.length === 1 && fs.existsSync(metafile)) {
		metadata = fs.readFileSync(metafile,"utf8");
		if(metadata) {
			tiddlers = [$tw.utils.parseFields(metadata,tiddlers[0])];
		}
	}
	return {filepath: filepath, type: type, tiddlers: tiddlers, hasMetaFile: !!metadata};
};

/*
A default set of files for TiddlyWiki to ignore during load.
This matches what NPM ignores, and adds "*.meta" to ignore tiddler
metadata files.
*/
$tw.boot.excludeRegExp = /^\.DS_Store$|^.*\.meta$|^\..*\.swp$|^\._.*$|^\.git$|^\.hg$|^\.lock-wscript$|^\.svn$|^\.wafpickle-.*$|^CVS$|^npm-debug\.log$/;

/*
Load all the tiddlers recursively from a directory, including honouring `tiddlywiki.files` files for drawing in external files. Returns an array of {filepath:,type:,tiddlers: [{..fields...}],hasMetaFile:}. Note that no file information is returned for externally loaded tiddlers, just the `tiddlers` property.
*/
$tw.loadTiddlersFromPath = function(filepath,excludeRegExp) {
	excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
	var tiddlers = [];
	if(fs.existsSync(filepath)) {
		var stat = fs.statSync(filepath);
		if(stat.isDirectory()) {
			var files = fs.readdirSync(filepath);
			// Look for a tiddlywiki.files file
			if(files.indexOf("tiddlywiki.files") !== -1) {
				// If so, process the files it describes
				var filesInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "tiddlywiki.files","utf8"));
				$tw.utils.each(filesInfo.tiddlers,function(tidInfo) {
					var typeInfo = $tw.config.contentTypeInfo[tidInfo.fields.type || "text/plain"],
						pathname = path.resolve(filepath,tidInfo.file),
						text = fs.readFileSync(pathname,typeInfo ? typeInfo.encoding : "utf8");
					if(tidInfo.prefix) {
						text = tidInfo.prefix + text;
					}
					if(tidInfo.suffix) {
						text = text + tidInfo.suffix;
					}
					tidInfo.fields.text = text;
					tiddlers.push({tiddlers: [tidInfo.fields]});
				});
			} else {
				// If not, read all the files in the directory
				$tw.utils.each(files,function(file) {
					if(!excludeRegExp.test(file) && file !== "plugin.info") {
						tiddlers.push.apply(tiddlers,$tw.loadTiddlersFromPath(filepath + path.sep + file,excludeRegExp));
					}
				});
			}
		} else if(stat.isFile()) {
			tiddlers.push($tw.loadTiddlersFromFile(filepath));
		}
	}
	return tiddlers;
};

/*
Load the tiddlers from a plugin folder, and package them up into a proper JSON plugin tiddler
*/
$tw.loadPluginFolder = function(filepath,excludeRegExp) {
	excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
	if(fs.existsSync(filepath) && fs.statSync(filepath).isDirectory()) {
		// Read the plugin information
		var pluginInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "plugin.info","utf8"));
		// Read the plugin files
		var pluginFiles = $tw.loadTiddlersFromPath(filepath,excludeRegExp);
		// Save the plugin tiddlers into the plugin info
		pluginInfo.tiddlers = pluginInfo.tiddlers || Object.create(null);
		for(var f=0; f<pluginFiles.length; f++) {
			var tiddlers = pluginFiles[f].tiddlers;
			for(var t=0; t<tiddlers.length; t++) {
				var tiddler= tiddlers[t];
				if(tiddler.title) {
					pluginInfo.tiddlers[tiddler.title] = tiddler;
				}
			}
		}
		// Give the plugin the same version number as the core if it doesn't have one
		if(!("version" in pluginInfo)) {
			pluginInfo.version = $tw.packageInfo.version;
		}
		// Use "plugin" as the plugin-type if we don't have one
		if(!("plugin-type" in pluginInfo)) {
			pluginInfo["plugin-type"] = "plugin";
		}
		pluginInfo.dependents = pluginInfo.dependents || [];
		pluginInfo.type = "application/json";
		// Set plugin text
		pluginInfo.text = JSON.stringify({tiddlers: pluginInfo.tiddlers},null,4);
		delete pluginInfo.tiddlers;
		// Deserialise array fields (currently required for the dependents field)
		for(var field in pluginInfo) {
			if($tw.utils.isArray(pluginInfo[field])) {
				pluginInfo[field] = $tw.utils.stringifyList(pluginInfo[field]);
			}
		}
		return pluginInfo;
	} else {
			return null;
	}
};

/*
name: Name of the plugin to find
paths: array of file paths to search for it
Returns the path of the plugin folder
*/
$tw.findLibraryItem = function(name,paths) {
	var pathIndex = 0;
	do {
		var pluginPath = path.resolve(paths[pathIndex],"./" + name)
		if(fs.existsSync(pluginPath) && fs.statSync(pluginPath).isDirectory()) {
			return pluginPath;
		}
	} while(++pathIndex < paths.length);
	return null;
};

/*
name: Name of the plugin to load
paths: array of file paths to search for it
*/
$tw.loadPlugin = function(name,paths) {
	var pluginPath = $tw.findLibraryItem(name,paths);
	if(pluginPath) {
		var pluginFields = $tw.loadPluginFolder(pluginPath);
		if(pluginFields) {
			$tw.wiki.addTiddler(pluginFields);
		}
	}
};

/*
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
Returns an array of search paths
*/
$tw.getLibraryItemSearchPaths = function(libraryPath,envVar) {
	var pluginPaths = [path.resolve($tw.boot.corePath,libraryPath)],
		env = process.env[envVar];
	if(env) {
		Array.prototype.push.apply(pluginPaths,env.split(":"));
	}
	return pluginPaths;
};

/*
plugins: Array of names of plugins (eg, "tiddlywiki/filesystemadaptor")
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
*/
$tw.loadPlugins = function(plugins,libraryPath,envVar) {
	if(plugins) {
		var pluginPaths = $tw.getLibraryItemSearchPaths(libraryPath,envVar);
		for(var t=0; t<plugins.length; t++) {
			$tw.loadPlugin(plugins[t],pluginPaths);
		}
	}
};

/*
path: path of wiki directory
parentPaths: array of parent paths that we mustn't recurse into
*/
$tw.loadWikiTiddlers = function(wikiPath,parentPaths) {
	parentPaths = parentPaths || [];
	var wikiInfoPath = path.resolve(wikiPath,$tw.config.wikiInfo),
		wikiInfo,
		pluginFields;
	// Bail if we don't have a wiki info file
	if(fs.existsSync(wikiInfoPath)) {
		wikiInfo = JSON.parse(fs.readFileSync(wikiInfoPath,"utf8"));
	} else {
		return null;
	}
	// Load any parent wikis
	if(wikiInfo.includeWikis) {
		parentPaths = parentPaths.slice(0);
		parentPaths.push(wikiPath);
		$tw.utils.each(wikiInfo.includeWikis,function(includedWikiPath) {
			var resolvedIncludedWikiPath = path.resolve(wikiPath,includedWikiPath);
			if(parentPaths.indexOf(resolvedIncludedWikiPath) === -1) {
				$tw.loadWikiTiddlers(resolvedIncludedWikiPath,parentPaths);
			} else {
				$tw.utils.error("Cannot recursively include wiki " + resolvedIncludedWikiPath);
			}
		});
	}
	// Load any plugins, themes and languages listed in the wiki info file
	$tw.loadPlugins(wikiInfo.plugins,$tw.config.pluginsPath,$tw.config.pluginsEnvVar);
	$tw.loadPlugins(wikiInfo.themes,$tw.config.themesPath,$tw.config.themesEnvVar);
	$tw.loadPlugins(wikiInfo.languages,$tw.config.languagesPath,$tw.config.languagesEnvVar);
	// Load the wiki files, registering them as writable
	var resolvedWikiPath = path.resolve(wikiPath,$tw.config.wikiTiddlersSubDir);
	$tw.utils.each($tw.loadTiddlersFromPath(resolvedWikiPath),function(tiddlerFile) {
		if(tiddlerFile.filepath) {
			$tw.utils.each(tiddlerFile.tiddlers,function(tiddler) {
				$tw.boot.files[tiddler.title] = {
					filepath: tiddlerFile.filepath,
					type: tiddlerFile.type,
					hasMetaFile: tiddlerFile.hasMetaFile
				};
			});
		}
		$tw.wiki.addTiddlers(tiddlerFile.tiddlers);
	});
	// Save the original tiddler file locations if requested
	if(wikiInfo.config && wikiInfo.config["retain-original-tiddler-path"]) {
		var output = [];
		for(var title in $tw.boot.files) {
			output.push(title + ": " + path.relative(resolvedWikiPath,$tw.boot.files[title].filepath) + "\n");
		}
		$tw.wiki.addTiddler({title: "$:/config/OriginalTiddlerPaths", type: "application/x-tiddler-dictionary", text: output.join("")});
	}
	// Save the path to the tiddlers folder for the filesystemadaptor
	$tw.boot.wikiTiddlersPath = path.resolve($tw.boot.wikiPath,$tw.config.wikiTiddlersSubDir);
	// Load any plugins within the wiki folder
	var wikiPluginsPath = path.resolve(wikiPath,$tw.config.wikiPluginsSubDir);
	if(fs.existsSync(wikiPluginsPath)) {
		var pluginFolders = fs.readdirSync(wikiPluginsPath);
		for(var t=0; t<pluginFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiPluginsPath,"./" + pluginFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	// Load any themes within the wiki folder
	var wikiThemesPath = path.resolve(wikiPath,$tw.config.wikiThemesSubDir);
	if(fs.existsSync(wikiThemesPath)) {
		var themeFolders = fs.readdirSync(wikiThemesPath);
		for(var t=0; t<themeFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiThemesPath,"./" + themeFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	// Load any languages within the wiki folder
	var wikiLanguagesPath = path.resolve(wikiPath,$tw.config.wikiLanguagesSubDir);
	if(fs.existsSync(wikiLanguagesPath)) {
		var languageFolders = fs.readdirSync(wikiLanguagesPath);
		for(var t=0; t<languageFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiLanguagesPath,"./" + languageFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	return wikiInfo;
};

$tw.loadTiddlersNode = function() {
	// Load the boot tiddlers
	$tw.utils.each($tw.loadTiddlersFromPath($tw.boot.bootPath),function(tiddlerFile) {
		$tw.wiki.addTiddlers(tiddlerFile.tiddlers);
	});
	// Load the core tiddlers
	$tw.wiki.addTiddler($tw.loadPluginFolder($tw.boot.corePath));
	// Load the tiddlers from the wiki directory
	if($tw.boot.wikiPath) {
		$tw.boot.wikiInfo = $tw.loadWikiTiddlers($tw.boot.wikiPath);
	}
};

// End of if($tw.node)
}

/////////////////////////// Main startup function called once tiddlers have been decrypted

/*
Startup TiddlyWiki
*/
$tw.boot.startup = function(options) {
	options = options || {};
	// Get the URL hash and check for safe mode
	$tw.locationHash = "#";
	if($tw.browser && !$tw.node) {
		if(location.hash === "#:safe") {
			$tw.safeMode = true;
		} else {
			$tw.locationHash = $tw.utils.getLocationHash();
		}
	}
	// Initialise some more $tw properties
	$tw.utils.deepDefaults($tw,{
		modules: { // Information about each module
			titles: Object.create(null), // hashmap by module title of {fn:, exports:, moduleType:}
			types: {} // hashmap by module type of hashmap of exports
		},
		config: { // Configuration overridables
			pluginsPath: "../plugins/",
			themesPath: "../themes/",
			languagesPath: "../languages/",
			editionsPath: "../editions/",
			wikiInfo: "./tiddlywiki.info",
			wikiPluginsSubDir: "./plugins",
			wikiThemesSubDir: "./themes",
			wikiLanguagesSubDir: "./languages",
			wikiTiddlersSubDir: "./tiddlers",
			wikiOutputSubDir: "./output",
			jsModuleHeaderRegExpString: "^\\/\\*\\\\(?:\\r?\\n)((?:^[^\\r\\n]*(?:\\r?\\n))+?)(^\\\\\\*\\/$(?:\\r?\\n)?)",
			fileExtensionInfo: Object.create(null), // Map file extension to {type:}
			contentTypeInfo: Object.create(null), // Map type to {encoding:,extension:}
			pluginsEnvVar: "TIDDLYWIKI_PLUGIN_PATH",
			themesEnvVar: "TIDDLYWIKI_THEME_PATH",
			languagesEnvVar: "TIDDLYWIKI_LANGUAGE_PATH",
			editionsEnvVar: "TIDDLYWIKI_EDITION_PATH"
		}
	});
	if(!$tw.boot.tasks.readBrowserTiddlers) {
		// For writable tiddler files, a hashmap of title to {filepath:,type:,hasMetaFile:}
		$tw.boot.files = Object.create(null);
		// System paths and filenames
		$tw.boot.bootPath = path.dirname(module.filename);
		$tw.boot.corePath = path.resolve($tw.boot.bootPath,"../core");
		// If there's no arguments then default to `--help`
		if($tw.boot.argv.length === 0) {
			$tw.boot.argv = ["--help"];
		}
		// If the first command line argument doesn't start with `--` then we
		// interpret it as the path to the wiki folder, which will otherwise default
		// to the current folder
		if($tw.boot.argv[0] && $tw.boot.argv[0].indexOf("--") !== 0) {
			$tw.boot.wikiPath = $tw.boot.argv[0];
			$tw.boot.argv = $tw.boot.argv.slice(1);
		} else {
			$tw.boot.wikiPath = process.cwd();
		}
		// Read package info
		$tw.packageInfo = require("../package.json");
		// Check node version number
		if($tw.utils.checkVersions($tw.packageInfo.engines.node.substr(2),process.version.substr(1))) {
			$tw.utils.error("TiddlyWiki5 requires node.js version " + $tw.packageInfo.engines.node);
		}
	}
	// Add file extension information
	$tw.utils.registerFileType("text/vnd.tiddlywiki","utf8",".tid");
	$tw.utils.registerFileType("application/x-tiddler","utf8",".tid");
	$tw.utils.registerFileType("application/x-tiddlers","utf8",".multids");
	$tw.utils.registerFileType("application/x-tiddler-html-div","utf8",".tiddler");
	$tw.utils.registerFileType("text/vnd.tiddlywiki2-recipe","utf8",".recipe");
	$tw.utils.registerFileType("text/plain","utf8",".txt");
	$tw.utils.registerFileType("text/css","utf8",".css");
	$tw.utils.registerFileType("text/html","utf8",".html");
	$tw.utils.registerFileType("application/hta","utf16le",".hta",{deserializerType:"text/html"});
	$tw.utils.registerFileType("application/javascript","utf8",".js");
	$tw.utils.registerFileType("application/json","utf8",".json");
	$tw.utils.registerFileType("application/pdf","base64",".pdf",{flags:["image"]});
	$tw.utils.registerFileType("image/jpeg","base64",".jpg",{flags:["image"]});
	$tw.utils.registerFileType("image/png","base64",".png",{flags:["image"]});
	$tw.utils.registerFileType("image/gif","base64",".gif",{flags:["image"]});
	$tw.utils.registerFileType("image/svg+xml","utf8",".svg",{flags:["image"]});
	$tw.utils.registerFileType("image/x-icon","base64",".ico",{flags:["image"]});
	$tw.utils.registerFileType("application/font-woff","base64",".woff");
	// Create the wiki store for the app
	$tw.wiki = new $tw.Wiki();
	// Install built in tiddler fields modules
	$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap("tiddlerfield");
	// Install the tiddler deserializer modules
	$tw.Wiki.tiddlerDeserializerModules = Object.create(null);
	$tw.modules.applyMethods("tiddlerdeserializer",$tw.Wiki.tiddlerDeserializerModules);
	// Load tiddlers
	if($tw.boot.tasks.readBrowserTiddlers) {
		$tw.loadTiddlersBrowser();
	} else {
		$tw.loadTiddlersNode();
	}
	// Unpack plugin tiddlers
	$tw.wiki.readPluginInfo();
	$tw.wiki.registerPluginTiddlers("plugin");
	$tw.wiki.unpackPluginTiddlers();
	// Process "safe mode"
	if($tw.safeMode) {
		$tw.wiki.processSafeMode();
	}
	// Register typed modules from the tiddlers we've just loaded
	$tw.wiki.defineTiddlerModules();
	// And any modules within plugins
	$tw.wiki.defineShadowModules();
	// Make sure the crypto state tiddler is up to date
	if($tw.crypto) {
		$tw.crypto.updateCryptoStateTiddler();
	}
	// Gather up any startup modules
	$tw.boot.remainingStartupModules = []; // Array of startup modules
	$tw.modules.forEachModuleOfType("startup",function(title,module) {
		if(module.startup) {
			$tw.boot.remainingStartupModules.push(module);
		}
	});
	// Keep track of the startup tasks that have been executed
	$tw.boot.executedStartupModules = Object.create(null);
	$tw.boot.disabledStartupModules = $tw.boot.disabledStartupModules || [];
	// Repeatedly execute the next eligible task
	$tw.boot.executeNextStartupTask();
};

/*
Execute the remaining eligible startup tasks
*/
$tw.boot.executeNextStartupTask = function() {
	// Find the next eligible task
	var taskIndex = 0, task,
		asyncTaskCallback = function() {
			if(task.name) {
				$tw.boot.executedStartupModules[task.name] = true;
			}
			return $tw.boot.executeNextStartupTask();
		};
	while(taskIndex < $tw.boot.remainingStartupModules.length) {
		task = $tw.boot.remainingStartupModules[taskIndex];
		if($tw.boot.isStartupTaskEligible(task)) {
			// Remove this task from the list
			$tw.boot.remainingStartupModules.splice(taskIndex,1);
			// Assemble log message
			var s = ["Startup task:",task.name];
			if(task.platforms) {
				s.push("platforms:",task.platforms.join(","));
			}
			if(task.after) {
				s.push("after:",task.after.join(","));
			}
			if(task.before) {
				s.push("before:",task.before.join(","));
			}
			$tw.boot.log(s.join(" "));
			// Execute task
			if(!$tw.utils.hop(task,"synchronous") || task.synchronous) {
				task.startup();
				if(task.name) {
					$tw.boot.executedStartupModules[task.name] = true;
				}
				return $tw.boot.executeNextStartupTask();
			} else {
				task.startup(asyncTaskCallback);
				return true;
			}
		}
		taskIndex++;
	}
	return false;
};

/*
Returns true if we are running on one platforms specified in a task modules `platforms` array
*/
$tw.boot.doesTaskMatchPlatform = function(taskModule) {
	var platforms = taskModule.platforms;
	if(platforms) {
		for(var t=0; t<platforms.length; t++) {
			if((platforms[t] === "browser" && !$tw.browser) || (platforms[t] === "node" && !$tw.node)) {
				return false;
			}
		}
	}
	return true;
};

$tw.boot.isStartupTaskEligible = function(taskModule) {
	var t;
	// Check that the platform is correct
	if(!$tw.boot.doesTaskMatchPlatform(taskModule)) {
		return false;
	}
	var name = taskModule.name,
		remaining = $tw.boot.remainingStartupModules;
	if(name) {
		// Fail if this module is disabled
		if($tw.boot.disabledStartupModules.indexOf(name) !== -1) {
			return false;
		}
		// Check that no other outstanding tasks must be executed before this one
		for(t=0; t<remaining.length; t++) {
			var task = remaining[t];
			if(task.before && task.before.indexOf(name) !== -1) {
				if($tw.boot.doesTaskMatchPlatform(task) || (task.name && $tw.boot.disabledStartupModules.indexOf(name) !== -1)) {
					return false;
				}
			}
		}
	}
	// Check that all of the tasks that we must be performed after has been done
	var after = taskModule.after;
	if(after) {
		for(t=0; t<after.length; t++) {
			if(!$tw.boot.executedStartupModules[after[t]]) {
				return false;
			}
		}
	}
	return true;
};

/////////////////////////// Main boot function to decrypt tiddlers and then startup

$tw.boot.boot = function() {
	// Initialise crypto object
	$tw.crypto = new $tw.utils.Crypto();
	// Initialise password prompter
	if($tw.browser && !$tw.node) {
		$tw.passwordPrompt = new $tw.utils.PasswordPrompt();
	}
	// Preload any encrypted tiddlers
	$tw.boot.decryptEncryptedTiddlers(function() {
		// Startup
		$tw.boot.startup();
	});
};

/////////////////////////// Autoboot in the browser

if($tw.browser && !$tw.boot.suppressBoot) {
	$tw.boot.boot();
}

return $tw;

});

if(typeof(exports) !== "undefined") {
	exports.TiddlyWiki = _boot;
} else {
	_boot(window.$tw);
}
</script>
</div><div style="display: none;" class="tw-password-wrapper"></div>


</body></html>